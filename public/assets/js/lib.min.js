function stripHtmlToText(e){var t=document.createElement("DIV");t.innerHTML=e;var n=t.textContent||t.innerText||"";return n.replace("â€‹",""),n=n.trim()}function getDomFromHtml(e){var t=document.createElement("DIV");return t.innerHTML=e,t}function validElementString(e){try{return 0!==angular.element(e).length}catch(e){return!1}}function registerTextAngularTool(e,t){if(!e||""===e||taTools.hasOwnProperty(e))throw"textAngular Error: A unique name is required for a Tool Definition";if(t.display&&(""===t.display||!validElementString(t.display))||!t.display&&!t.buttontext&&!t.iconclass)throw'textAngular Error: Tool Definition for "'+e+'" does not have a valid display/iconclass/buttontext value';taTools[e]=t}!function(e){"use strict";function t(e,t){return t=t||Error,function(){var n,r,i=arguments[0],o=arguments[1],a="["+(e?e+":":"")+i+"] ",s=q(arguments,2).map(function(e){return Se(e,qr.objectMaxDepth)});for(a+=o.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1);return t<s.length?s[t]:e}),a+="\nhttp://errors.angularjs.org/1.6.4/"+(e?e+"/":"")+i,r=0,n="?";r<s.length;r++,n="&")a+=n+"p"+r+"="+encodeURIComponent(s[r]);return new t(a)}}function n(e){if(!x(e))return qr;w(e.objectMaxDepth)&&(qr.objectMaxDepth=r(e.objectMaxDepth)?e.objectMaxDepth:NaN)}function r(e){return C(e)&&e>0}function i(e){if(null==e||T(e))return!1;if(ci(e)||$(e)||Jr&&e instanceof Jr)return!0;var t="length"in Object(e)&&e.length;return C(t)&&(t>=0&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function o(e,t,n){var r,a;if(e)if(k(e))for(r in e)"prototype"!==r&&"length"!==r&&"name"!==r&&e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else if(ci(e)||i(e)){var s="object"!=typeof e;for(r=0,a=e.length;r<a;r++)(s||r in e)&&t.call(n,e[r],r,e)}else if(e.forEach&&e.forEach!==o)e.forEach(t,n,e);else if(S(e))for(r in e)t.call(n,e[r],r,e);else if("function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else for(r in e)Vr.call(e,r)&&t.call(n,e[r],r,e);return e}function a(e,t,n){for(var r=Object.keys(e).sort(),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function s(e){return function(t,n){e(n,t)}}function l(){return++li}function u(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function c(e,t,n){for(var r=e.$$hashKey,i=0,o=t.length;i<o;++i){var a=t[i];if(x(a)||k(a))for(var s=Object.keys(a),l=0,f=s.length;l<f;l++){var h=s[l],d=a[h];n&&x(d)?A(d)?e[h]=new Date(d.valueOf()):_(d)?e[h]=new RegExp(d):d.nodeName?e[h]=d.cloneNode(!0):I(d)?e[h]=d.clone():(x(e[h])||(e[h]=ci(d)?[]:{}),c(e[h],[d],!0)):e[h]=d}}return u(e,r),e}function f(e){return c(e,ti.call(arguments,1),!1)}function h(e){return c(e,ti.call(arguments,1),!0)}function d(e){return parseInt(e,10)}function p(e,t){return f(Object.create(e),t)}function g(){}function m(e){return e}function v(e){return function(){return e}}function y(e){return k(e.toString)&&e.toString!==ii}function b(e){return void 0===e}function w(e){return void 0!==e}function x(e){return null!==e&&"object"==typeof e}function S(e){return null!==e&&"object"==typeof e&&!oi(e)}function $(e){return"string"==typeof e}function C(e){return"number"==typeof e}function A(e){return"[object Date]"===ii.call(e)}function k(e){return"function"==typeof e}function _(e){return"[object RegExp]"===ii.call(e)}function T(e){return e&&e.window===e}function E(e){return e&&e.$evalAsync&&e.$watch}function M(e){return"[object File]"===ii.call(e)}function D(e){return"[object FormData]"===ii.call(e)}function P(e){return"[object Blob]"===ii.call(e)}function R(e){return"boolean"==typeof e}function O(e){return e&&k(e.then)}function N(e){return e&&C(e.length)&&fi.test(ii.call(e))}function L(e){return"[object ArrayBuffer]"===ii.call(e)}function I(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function z(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}function B(e){return Yr(e.nodeName||e[0]&&e[0].nodeName)}function F(e,t){return-1!==Array.prototype.indexOf.call(e,t)}function j(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function H(e,t,n){function i(e,t,n){if(--n<0)return"...";var r,i=t.$$hashKey;if(ci(e))for(var o=0,s=e.length;o<s;o++)t.push(a(e[o],n));else if(S(e))for(r in e)t[r]=a(e[r],n);else if(e&&"function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&(t[r]=a(e[r],n));else for(r in e)Vr.call(e,r)&&(t[r]=a(e[r],n));return u(t,i),t}function a(e,t){if(!x(e))return e;var n=l.indexOf(e);if(-1!==n)return c[n];if(T(e)||E(e))throw ai("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var r=!1,o=s(e);return void 0===o&&(o=ci(e)?[]:Object.create(oi(e)),r=!0),l.push(e),c.push(o),r?i(e,o,t):o}function s(e){switch(ii.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(a(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var n=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]);return n.lastIndex=e.lastIndex,n;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(k(e.cloneNode))return e.cloneNode(!0)}var l=[],c=[];if(n=r(n)?n:NaN,t){if(N(t)||L(t))throw ai("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw ai("cpi","Can't copy! Source and destination are identical.");return ci(t)?t.length=0:o(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),l.push(e),c.push(t),i(e,t,n)}return a(e,n)}function U(e,t){return e===t||e!==e&&t!==t}function W(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,r,i,o=typeof e,a=typeof t;if(o===a&&"object"===o){if(!ci(e)){if(A(e))return!!A(t)&&U(e.getTime(),t.getTime());if(_(e))return!!_(t)&&e.toString()===t.toString();if(E(e)||E(t)||T(e)||T(t)||ci(t)||A(t)||_(t))return!1;i=ve();for(r in e)if("$"!==r.charAt(0)&&!k(e[r])){if(!W(e[r],t[r]))return!1;i[r]=!0}for(r in t)if(!(r in i)&&"$"!==r.charAt(0)&&w(t[r])&&!k(t[r]))return!1;return!0}if(!ci(t))return!1;if((n=e.length)===t.length){for(r=0;r<n;r++)if(!W(e[r],t[r]))return!1;return!0}}return!1}function V(e,t,n){return e.concat(ti.call(t,n))}function q(e,t){return ti.call(e,t||0)}function Y(e,t){var n=arguments.length>2?q(arguments,2):[];return!k(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,V(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function G(t,n){var r=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?r=void 0:T(n)?r="$WINDOW":n&&e.document===n?r="$DOCUMENT":E(n)&&(r="$SCOPE"),r}function X(e,t){if(!b(e))return C(t)||(t=t?2:null),JSON.stringify(e,G,t)}function K(e){return $(e)?JSON.parse(e):e}function Z(e,t){e=e.replace(mi,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return ui(n)?t:n}function J(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function Q(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset();return J(e,n*(Z(t,r)-r))}function ee(e){e=Jr(e).clone();try{e.empty()}catch(e){}var t=Jr("<div>").append(e).html();try{return e[0].nodeType===Si?Yr(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(e,t){return"<"+Yr(t)})}catch(e){return Yr(t)}}function te(e){try{return decodeURIComponent(e)}catch(e){}}function ne(e){var t={};return o((e||"").split("&"),function(e){var n,r,i;e&&(r=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),-1!==n&&(r=e.substring(0,n),i=e.substring(n+1)),r=te(r),w(r)&&(i=!w(i)||te(i),Vr.call(t,r)?ci(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i))}),t}function re(e){var t=[];return o(e,function(e,n){ci(e)?o(e,function(e){t.push(oe(n,!0)+(!0===e?"":"="+oe(e,!0)))}):t.push(oe(n,!0)+(!0===e?"":"="+oe(e,!0)))}),t.length?t.join("&"):""}function ie(e){return oe(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function oe(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function ae(e,t){var n,r,i=vi.length;for(r=0;r<i;++r)if(n=vi[r]+t,$(n=e.getAttribute(n)))return n;return null}function se(t,n){var r,i,a={};if(o(vi,function(e){var n=e+"app";!r&&t.hasAttribute&&t.hasAttribute(n)&&(r=t,i=t.getAttribute(n))}),o(vi,function(e){var n,o=e+"app";!r&&(n=t.querySelector("["+o.replace(":","\\:")+"]"))&&(r=n,i=n.getAttribute(o))}),r){if(!yi)return void e.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");a.strictDi=null!==ae(r,"strict-di"),n(r,i?[i]:[],a)}}function le(t,n,r){x(r)||(r={}),r=f({strictDi:!1},r);var i=function(){if(t=Jr(t),t.injector()){var i=t[0]===e.document?"document":ee(t);throw ai("btstrpd","App already bootstrapped with this element '{0}'",i.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(e){e.value("$rootElement",t)}]),r.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng");var o=lt(n,r.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),o},a=/^NG_ENABLE_DEBUG_INFO!/,s=/^NG_DEFER_BOOTSTRAP!/;if(e&&a.test(e.name)&&(r.debugInfoEnabled=!0,e.name=e.name.replace(a,"")),e&&!s.test(e.name))return i();e.name=e.name.replace(s,""),si.resumeBootstrap=function(e){return o(e,function(e){n.push(e)}),i()},k(si.resumeDeferredBootstrap)&&si.resumeDeferredBootstrap()}function ue(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function ce(e){var t=si.element(e).injector();if(!t)throw ai("test","no injector found for element argument to getTestability");return t.get("$$testability")}function fe(e,t){return t=t||"_",e.replace(bi,function(e,n){return(n?t:"")+e.toLowerCase()})}function he(e,t,n){if(!e)throw ai("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function de(e,t,n){return n&&ci(e)&&(e=e[e.length-1]),he(k(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function pe(e,t){if("hasOwnProperty"===e)throw ai("badname","hasOwnProperty is not a valid {0} name",t)}function ge(e,t,n){if(!t)return e;for(var r,i=t.split("."),o=e,a=i.length,s=0;s<a;s++)r=i[s],e&&(e=(o=e)[r]);return!n&&k(e)?Y(o,e):e}function me(e){for(var t,n=e[0],r=e[e.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(t||e[i]!==n)&&(t||(t=Jr(ti.call(e,0,i))),t.push(n));return t||e}function ve(){return Object.create(null)}function ye(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=!y(e)||ci(e)||A(e)?X(e):e.toString()}return e}function be(e){function n(e,t,n){return e[t]||(e[t]=n())}var r=t("$injector"),i=t("ng"),o=n(e,"angular",Object);return o.$$minErr=o.$$minErr||t,n(o,"module",function(){var e={};return function(t,o,a){var s={};return function(e,t){if("hasOwnProperty"===e)throw i("badname","hasOwnProperty is not a valid {0} name",t)}(t,"module"),o&&e.hasOwnProperty(t)&&(e[t]=null),n(e,t,function(){function e(e,t,n,r){return r||(r=l),function(){return r[n||"push"]([e,t,arguments]),h}}function n(e,n,r){return r||(r=l),function(i,o){return o&&k(o)&&(o.$$moduleName=t),r.push([e,n,arguments]),h}}if(!o)throw r("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",t);var l=[],u=[],c=[],f=e("$injector","invoke","push",u),h={_invokeQueue:l,_configBlocks:u,_runBlocks:c,info:function(e){if(w(e)){if(!x(e))throw i("aobj","Argument '{0}' must be an object","value");return s=e,this}return s},requires:o,name:t,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:n("$provide","decorator",u),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),component:n("$compileProvider","component"),config:f,run:function(e){return c.push(e),this}};return a&&f(a),h})}})}function we(e,t){if(ci(e)){t=t||[];for(var n=0,r=e.length;n<r;n++)t[n]=e[n]}else if(x(e)){t=t||{};for(var i in e)"$"===i.charAt(0)&&"$"===i.charAt(1)||(t[i]=e[i])}return t||e}function xe(e,t){var n=[];return r(t)&&(e=H(e,null,t)),JSON.stringify(e,function(e,t){if(t=G(e,t),x(t)){if(n.indexOf(t)>=0)return"...";n.push(t)}return t})}function Se(e,t){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):b(e)?"undefined":"string"!=typeof e?xe(e,t):e}function $e(){return++Ti}function Ce(e){return ke(e.replace(Mi,"ms-"))}function Ae(e,t){return t.toUpperCase()}function ke(e){return e.replace(Ei,Ae)}function _e(e){return!Oi.test(e)}function Te(e){var t=e.nodeType;return t===xi||!t||t===Ci}function Ee(e){for(var t in _i[e.ng339])return!0;return!1}function Me(e,t){var n,r,i,a,s=t.createDocumentFragment(),l=[];if(_e(e))l.push(t.createTextNode(e));else{for(n=s.appendChild(t.createElement("div")),r=(Ni.exec(e)||["",""])[1].toLowerCase(),i=Ii[r]||Ii._default,n.innerHTML=i[1]+e.replace(Li,"<$1></$2>")+i[2],a=i[0];a--;)n=n.lastChild;l=V(l,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",o(l,function(e){s.appendChild(e)}),s}function De(t,n){n=n||e.document;var r;return(r=Ri.exec(t))?[n.createElement(r[1])]:(r=Me(t,n))?r.childNodes:[]}function Pe(e,t){var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)}function Re(e){if(e instanceof Re)return e;var t;if($(e)&&(e=hi(e),t=!0),!(this instanceof Re)){if(t&&"<"!==e.charAt(0))throw Pi("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Re(e)}t?Ue(this,De(e)):k(e)?Xe(e):Ue(this,e)}function Oe(e){return e.cloneNode(!0)}function Ne(e,t){!t&&Te(e)&&Jr.cleanData([e]),e.querySelectorAll&&Jr.cleanData(e.querySelectorAll("*"))}function Le(e,t,n,r){if(w(r))throw Pi("offargs","jqLite#off() does not support the `selector` argument");var i=ze(e),a=i&&i.events,s=i&&i.handle;if(s)if(t){var l=function(t){var r=a[t];w(n)&&j(r||[],n),w(n)&&r&&r.length>0||(e.removeEventListener(t,s),delete a[t])};o(t.split(" "),function(e){l(e),Di[e]&&l(Di[e])})}else for(t in a)"$destroy"!==t&&e.removeEventListener(t,s),delete a[t]}function Ie(e,t){var n=e.ng339,r=n&&_i[n];if(r){if(t)return void delete r.data[t];r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),Le(e)),delete _i[n],e.ng339=void 0}}function ze(e,t){var n=e.ng339,r=n&&_i[n];return t&&!r&&(e.ng339=n=$e(),r=_i[n]={events:{},data:{},handle:void 0}),r}function Be(e,t,n){if(Te(e)){var r,i=w(n),o=!i&&t&&!x(t),a=!t,s=ze(e,!o),l=s&&s.data;if(i)l[ke(t)]=n;else{if(a)return l;if(o)return l&&l[ke(t)];for(r in t)l[ke(r)]=t[r]}}}function Fe(e,t){return!!e.getAttribute&&(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function je(e,t){t&&e.setAttribute&&o(t.split(" "),function(t){e.setAttribute("class",hi((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+hi(t)+" "," ")))})}function He(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(t.split(" "),function(e){e=hi(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",hi(n))}}function Ue(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;r<n;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function We(e,t){return Ve(e,"$"+(t||"ngController")+"Controller")}function Ve(e,t,n){e.nodeType===Ci&&(e=e.documentElement);for(var r=ci(t)?t:[t];e;){for(var i=0,o=r.length;i<o;i++)if(w(n=Jr.data(e,r[i])))return n;e=e.parentNode||e.nodeType===Ai&&e.host}}function qe(e){for(Ne(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Ye(e,t){t||Ne(e);var n=e.parentNode;n&&n.removeChild(e)}function Ge(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):Jr(n).on("load",t)}function Xe(t){function n(){e.document.removeEventListener("DOMContentLoaded",n),e.removeEventListener("load",n),t()}"complete"===e.document.readyState?e.setTimeout(t):(e.document.addEventListener("DOMContentLoaded",n),e.addEventListener("load",n))}function Ke(e,t){var n=Fi[t.toLowerCase()];return n&&ji[B(e)]&&n}function Ze(e){return Hi[e]}function Je(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[r||n.type],o=i?i.length:0;if(o){if(b(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var s=i.specialHandlerWrapper||Qe;o>1&&(i=we(i));for(var l=0;l<o;l++)n.isImmediatePropagationStopped()||s(e,n,i[l])}};return n.elem=e,n}function Qe(e,t,n){n.call(e,t)}function et(e,t,n){var r=t.relatedTarget;r&&(r===e||zi.call(e,r))||n.call(e,t)}function tt(){this.$get=function(){return f(Re,{hasClass:function(e,t){return e.attr&&(e=e[0]),Fe(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),He(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),je(e,t)}})}}function nt(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var r=typeof e;return n="function"===r||"object"===r&&null!==e?e.$$hashKey=r+":"+(t||l)():r+":"+e}function rt(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}function it(e){return Function.prototype.toString.call(e)}function ot(e){var t=it(e).replace(Ki,"");return t.match(qi)||t.match(Yi)}function at(e){var t=ot(e);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function st(e,t,n){var r,i,a;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw $(n)&&n||(n=e.name||at(e)),Zi("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);i=ot(e),o(i[1].split(Gi),function(e){e.replace(Xi,function(e,t,n){r.push(n)})})}e.$inject=r}}else ci(e)?(a=e.length-1,de(e[a],"fn"),r=e.slice(0,a)):de(e,"fn",!0);return r}function lt(e,t){function n(e){return function(t,n){if(!x(t))return e(t,n);o(t,s(e))}}function r(e,t){if(pe(e,"service"),(k(t)||ci(t))&&(t=S.instantiate(t)),!t.$get)throw Zi("pget","Provider '{0}' must define $get factory method.",e);return w[e+g]=t}function i(e,t){return function(){var n=_.invoke(t,this);if(b(n))throw Zi("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function a(e,t,n){return r(e,{$get:!1!==n?i(e,t):t})}function l(e,t){return a(e,["$injector",function(e){return e.instantiate(t)}])}function u(e,t){return a(e,v(t),!1)}function c(e,t){pe(e,"constant"),w[e]=t,C[e]=t}function f(e,t){var n=S.get(e+g),r=n.$get;n.$get=function(){var e=_.invoke(r,n);return _.invoke(t,null,{$delegate:e})}}function h(e){he(b(e)||ci(e),"modulesToLoad","not an array");var t,n=[];return o(e,function(e){function r(e){var t,n;for(t=0,n=e.length;t<n;t++){var r=e[t],i=S.get(r[0]);i[r[1]].apply(i,r[2])}}if(!y.get(e)){y.set(e,!0);try{$(e)?(t=ei(e),_.modules[e]=t,n=n.concat(h(t.requires)).concat(t._runBlocks),r(t._invokeQueue),r(t._configBlocks)):k(e)?n.push(S.invoke(e)):ci(e)?n.push(S.invoke(e)):de(e,"module")}catch(t){throw ci(e)&&(e=e[e.length-1]),t.message&&t.stack&&-1===t.stack.indexOf(t.message)&&(t=t.message+"\n"+t.stack),Zi("modulerr","Failed to instantiate module {0} due to:\n{1}",e,t.stack||t.message||t)}}}),n}function d(e,n){function r(t,r){if(e.hasOwnProperty(t)){if(e[t]===p)throw Zi("cdep","Circular dependency found: {0}",t+" <- "+m.join(" <- "));return e[t]}try{return m.unshift(t),e[t]=p,e[t]=n(t,r),e[t]}catch(n){throw e[t]===p&&delete e[t],n}finally{m.shift()}}function i(e,n,i){for(var o=[],a=lt.$$annotate(e,t,i),s=0,l=a.length;s<l;s++){var u=a[s];if("string"!=typeof u)throw Zi("itkn","Incorrect injection token! Expected service name as string, got {0}",u);o.push(n&&n.hasOwnProperty(u)?n[u]:r(u,i))}return o}function o(e){if(Zr||"function"!=typeof e)return!1;var t=e.$$ngIsClass;return R(t)||(t=e.$$ngIsClass=/^(?:class\b|constructor\()/.test(it(e))),t}function a(e,t,n,r){"string"==typeof n&&(r=n,n=null);var a=i(e,n,r);return ci(e)&&(e=e[e.length-1]),o(e)?(a.unshift(null),new(Function.prototype.bind.apply(e,a))):e.apply(t,a)}function s(e,t,n){var r=ci(e)?e[e.length-1]:e,o=i(e,t,n);return o.unshift(null),new(Function.prototype.bind.apply(r,o))}return{invoke:a,instantiate:s,get:r,annotate:lt.$$annotate,has:function(t){return w.hasOwnProperty(t+g)||e.hasOwnProperty(t)}}}t=!0===t;var p={},g="Provider",m=[],y=new Wi,w={$provide:{provider:n(r),factory:n(a),service:n(l),value:n(u),constant:n(c),decorator:f}},S=w.$injector=d(w,function(e,t){throw si.isString(t)&&m.push(t),Zi("unpr","Unknown provider: {0}",m.join(" <- "))}),C={},A=d(C,function(e,t){var n=S.get(e+g,t);return _.invoke(n.$get,n,void 0,e)}),_=A;w["$injector"+g]={$get:v(A)},_.modules=S.modules=ve();var T=h(e);return _=A.get("$injector"),_.strictDi=t,o(T,function(e){e&&_.invoke(e)}),_}function ut(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function i(e){var t=null;return Array.prototype.some.call(e,function(e){if("a"===B(e))return t=e,!0}),t}function o(){var e=s.yOffset;if(k(e))e=e();else if(I(e)){var n=e[0],r=t.getComputedStyle(n);e="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else C(e)||(e=0);return e}function a(e){if(e){e.scrollIntoView();var n=o();if(n){var r=e.getBoundingClientRect().top;t.scrollBy(0,r-n)}}else t.scrollTo(0,0)}function s(e){e=$(e)?e:C(e)?e.toString():n.hash();var t;e?(t=l.getElementById(e))?a(t):(t=i(l.getElementsByName(e)))?a(t):"top"===e&&a(null):a(null)}var l=t.document;return e&&r.$watch(function(){return n.hash()},function(e,t){e===t&&""===e||Ge(function(){r.$evalAsync(s)})}),s}]}function ct(e,t){return e||t?e?t?(ci(e)&&(e=e.join(" ")),ci(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function ft(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===Qi)return n}}function ht(e){$(e)&&(e=e.split(" "));var t=ve();return o(e,function(e){e.length&&(t[e]=!0)}),t}function dt(e){return x(e)?e:{}}function pt(e,t,n,r){function i(e){try{e.apply(null,q(arguments,1))}finally{if(0===--v)for(;y.length;)try{y.pop()()}catch(e){n.error(e)}}}function a(e){var t=e.indexOf("#");return-1===t?"":e.substr(t)}function s(){C=null,u()}function l(){w=A(),w=b(w)?null:w,W(w,T)&&(w=T),T=w,x=w}function u(){var e=x;l(),S===c.url()&&e===w||(S=c.url(),x=w,o(k,function(e){e(c.url(),w)}))}var c=this,f=e.location,h=e.history,d=e.setTimeout,p=e.clearTimeout,m={};c.isMock=!1;var v=0,y=[];c.$$completeOutstandingRequest=i,c.$$incOutstandingRequestCount=function(){v++},c.notifyWhenNoOutstandingRequests=function(e){0===v?e():y.push(e)};var w,x,S=f.href,$=t.find("base"),C=null,A=r.history?function(){try{return h.state}catch(e){}}:g;l(),c.url=function(t,n,i){if(b(i)&&(i=null),f!==e.location&&(f=e.location),h!==e.history&&(h=e.history),t){var o=x===i;if(S===t&&(!r.history||o))return c;var s=S&&Xt(S)===Xt(t);return S=t,x=i,!r.history||s&&o?(s||(C=t),n?f.replace(t):s?f.hash=a(t):f.href=t,f.href!==t&&(C=t)):(h[n?"replaceState":"pushState"](i,"",t),l()),C&&(C=t),c}return C||f.href.replace(/%27/g,"'")},c.state=function(){return w};var k=[],_=!1,T=null;c.onUrlChange=function(t){return _||(r.history&&Jr(e).on("popstate",s),Jr(e).on("hashchange",s),_=!0),k.push(t),t},c.$$applicationDestroyed=function(){Jr(e).off("hashchange popstate",s)},c.$$checkUrlChange=u,c.baseHref=function(){var e=$.attr("href");return e?e.replace(/^(https?:)?\/\/[^\/]*/,""):""},c.defer=function(e,t){var n;return v++,n=d(function(){delete m[n],i(e)},t||0),m[n]=!0,n},c.defer.cancel=function(e){return!!m[e]&&(delete m[e],p(e),i(g),!0)}}function gt(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new pt(e,r,t,n)}]}function mt(){this.$get=function(){function e(e,r){function i(e){e!==h&&(d?d===e&&(d=e.n):d=e,o(e.n,e.p),o(e,h),h=e,h.n=null)}function o(e,t){e!==t&&(e&&(e.p=t),t&&(t.n=e))}if(e in n)throw t("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var a=0,s=f({},r,{id:e}),l=ve(),u=r&&r.capacity||Number.MAX_VALUE,c=ve(),h=null,d=null;return n[e]={put:function(e,t){if(!b(t)){if(u<Number.MAX_VALUE){i(c[e]||(c[e]={key:e}))}return e in l||a++,l[e]=t,a>u&&this.remove(d.key),t}},get:function(e){if(u<Number.MAX_VALUE){var t=c[e];if(!t)return;i(t)}return l[e]},remove:function(e){if(u<Number.MAX_VALUE){var t=c[e];if(!t)return;t===h&&(h=t.p),t===d&&(d=t.n),o(t.n,t.p),delete c[e]}e in l&&(delete l[e],a--)},removeAll:function(){l=ve(),a=0,c=ve(),h=d=null},destroy:function(){l=null,s=null,c=null,delete n[e]},info:function(){return f({},s,{size:a})}}}var n={};return e.info=function(){var e={};return o(n,function(t,n){e[n]=t.info()}),e},e.get=function(e){return n[e]},e}}function vt(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function yt(){}function bt(t,n){function r(e,t,n){var r=ve();return o(e,function(e,i){if(e in _)return void(r[i]=_[e]);var o=e.match(/^\s*([@&<]|=(\*?))(\??)\s*([\w$]*)\s*$/);if(!o)throw ao("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,i,e,n?"controller bindings definition":"isolate scope definition");r[i]={mode:o[1][0],collection:"*"===o[2],optional:"?"===o[3],attrName:o[4]||i},o[4]&&(_[e]=r[i])}),r}function i(e,t){var n={isolateScope:null,bindToController:null};if(x(e.scope)&&(!0===e.bindToController?(n.bindToController=r(e.scope,t,!0),n.isolateScope={}):n.isolateScope=r(e.scope,t,!1)),x(e.bindToController)&&(n.bindToController=r(e.bindToController,t,!0)),n.bindToController&&!e.controller)throw ao("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);return n}function a(e){var t=e.charAt(0);if(!t||t!==Yr(t))throw ao("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw ao("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}function l(e){var t=e.require||e.controller&&e.name;return!ci(t)&&x(t)&&o(t,function(e,n){var r=e.match(C);e.substring(r[0].length)||(t[n]=r[0]+n)}),t}function u(e,t){if(e&&(!$(e)||!/[EACM]/.test(e)))throw ao("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",e,t);return e||"EA"}var c={},h="Directive",d=/^\s*directive:\s*([\w-]+)\s+(.*)$/,y=/(([\w-]+)(?::([^;]+))?;?)/,S=z("ngSrc,ngSrcset,src,srcset"),C=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,A=/^(on[a-z]+|formaction)$/,_=ve();this.directive=function e(n,r){return he(n,"name"),pe(n,"directive"),$(n)?(a(n),he(r,"directiveFactory"),c.hasOwnProperty(n)||(c[n]=[],t.factory(n+h,["$injector","$exceptionHandler",function(e,t){var r=[];return o(c[n],function(i,o){try{var a=e.invoke(i);k(a)?a={compile:v(a)}:!a.compile&&a.link&&(a.compile=v(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||n,a.require=l(a),a.restrict=u(a.restrict,n),a.$$moduleName=i.$$moduleName,r.push(a)}catch(e){t(e)}}),r}])),c[n].push(r)):o(n,s(e)),this},this.component=function(e,t){function n(e){function n(t){return k(t)||ci(t)?function(n,r){return e.invoke(t,this,{$element:n,$attrs:r})}:t}var i=t.template||t.templateUrl?t.template:"",a={controller:r,controllerAs:Ct(t.controller)||t.controllerAs||"$ctrl",template:n(i),templateUrl:n(t.templateUrl),transclude:t.transclude,scope:{},bindToController:t.bindings||{},restrict:"E",require:t.require};return o(t,function(e,t){"$"===t.charAt(0)&&(a[t]=e)}),a}var r=t.controller||function(){};return o(t,function(e,t){"$"===t.charAt(0)&&(n[t]=e,k(r)&&(r[t]=e))}),n.$inject=["$injector"],this.directive(e,n)},this.aHrefSanitizationWhitelist=function(e){return w(e)?(n.aHrefSanitizationWhitelist(e),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return w(e)?(n.imgSrcSanitizationWhitelist(e),this):n.imgSrcSanitizationWhitelist()};var T=!0;this.debugInfoEnabled=function(e){return w(e)?(T=e,this):T};var M=!1;this.preAssignBindingsEnabled=function(e){return w(e)?(M=e,this):M};var D=10;this.onChangesTtl=function(e){return arguments.length?(D=e,this):D};var P=!0;this.commentDirectivesEnabled=function(e){return arguments.length?(P=e,this):P};var O=!0;this.cssClassDirectivesEnabled=function(e){return arguments.length?(O=e,this):O},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(t,n,r,a,s,l,u,v,_,N){function L(){try{if(!--Me)throw Ce=void 0,ao("infchng","{0} $onChanges() iterations reached. Aborting!\n",D);u.$apply(function(){for(var e=[],t=0,n=Ce.length;t<n;++t)try{Ce[t]()}catch(t){e.push(t)}if(Ce=void 0,e.length)throw e})}finally{Me++}}function I(e,t){if(t){var n,r,i,o=Object.keys(t);for(n=0,r=o.length;n<r;n++)i=o[n],this[i]=t[i]}else this.$attr={};this.$$element=e}function z(e,t,n){ke.innerHTML="<span "+t+">";var r=ke.firstChild.attributes,i=r[0];r.removeNamedItem(i.name),i.value=n,e.attributes.setNamedItem(i)}function F(e,t){try{e.addClass(t)}catch(e){}}function H(e,t,n,r,i){e instanceof Jr||(e=Jr(e));var o=G(e,t,e,n,r,i);H.$$addScopeClass(e);var a=null;return function(t,n,r){if(!e)throw ao("multilink","This element has already been linked.");he(t,"scope"),i&&i.needsNewScope&&(t=t.$parent.$new()),r=r||{};var s=r.parentBoundTranscludeFn,l=r.transcludeControllers,u=r.futureParentElement;s&&s.$$boundTransclude&&(s=s.$$boundTransclude),a||(a=V(u));var c;if(c="html"!==a?Jr(me(a,Jr("<div>").append(e).html())):n?Bi.clone.call(e):e,l)for(var f in l)c.data("$"+f+"Controller",l[f].instance);return H.$$addScopeInfo(c,t),n&&n(c,t),o&&o(t,c,c,s),n||(e=o=null),c}}function V(e){var t=e&&e[0];return t&&"foreignobject"!==B(t)&&ii.call(t).match(/SVG/)?"svg":"html"}function G(e,t,n,r,i,o){function a(e,n,r,i){var o,a,s,l,u,c,f,h,g;if(d){var m=n.length;for(g=new Array(m),u=0;u<p.length;u+=3)f=p[u],g[f]=n[f]}else g=n;for(u=0,c=p.length;u<c;)s=g[p[u++]],o=p[u++],a=p[u++],o?(o.scope?(l=e.$new(),H.$$addScopeInfo(Jr(s),l)):l=e,h=o.transcludeOnThisElement?K(e,o.transclude,i):!o.templateOnThisElement&&i?i:!i&&t?K(e,t):null,o(a,l,s,r,h)):a&&a(e,s.childNodes,void 0,i)}for(var s,l,u,c,f,h,d,p=[],g=ci(e)||e instanceof Jr,m=0;m<e.length;m++)s=new I,11===Zr&&X(e,m,g),l=Z(e[m],[],s,0===m?r:void 0,i),u=l.length?re(l,e[m],s,t,n,null,[],[],o):null,u&&u.scope&&H.$$addScopeClass(s.$$element),f=u&&u.terminal||!(c=e[m].childNodes)||!c.length?null:G(c,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:t),(u||f)&&(p.push(m,u,f),h=!0,d=d||u),o=null;return h?a:null}function X(e,t,n){var r,i=e[t],o=i.parentNode;if(i.nodeType===Si)for(;;){if(!(r=o?i.nextSibling:e[t+1])||r.nodeType!==Si)break;i.nodeValue=i.nodeValue+r.nodeValue,r.parentNode&&r.parentNode.removeChild(r),n&&r===e[t+1]&&e.splice(t+1,1)}}function K(e,t,n){function r(r,i,o,a,s){return r||(r=e.$new(!1,s),r.$$transcluded=!0),t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var i=r.$$slots=ve();for(var o in t.$$slots)t.$$slots[o]?i[o]=K(e,t.$$slots[o],n):i[o]=null;return r}function Z(e,t,n,r,i){var o,a,s,l=e.nodeType,u=n.$attr;switch(l){case xi:a=B(e),se(t,xt(a),"E",r,i);for(var c,f,h,d,p,g,m=e.attributes,v=0,b=m&&m.length;v<b;v++){var w=!1,S=!1;c=m[v],f=c.name,p=c.value,d=xt(f),g=Ne.test(d),g&&(f=f.replace(lo,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var C=d.match(Le);C&&le(C[1])&&(w=f,S=f.substr(0,f.length-5)+"end",f=f.substr(0,f.length-6)),h=xt(f.toLowerCase()),u[h]=f,!g&&n.hasOwnProperty(h)||(n[h]=p,Ke(e,h)&&(n[h]=!0)),be(e,t,p,h,g),se(t,h,"A",r,i,w,S)}if("input"===a&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),!Ee)break;if(s=e.className,x(s)&&(s=s.animVal),$(s)&&""!==s)for(;o=y.exec(s);)h=xt(o[2]),
se(t,h,"C",r,i)&&(n[h]=hi(o[3])),s=s.substr(o.index+o[0].length);break;case Si:ge(t,e.nodeValue);break;case $i:if(!Te)break;J(e,t,n,r,i)}return t.sort(de),t}function J(e,t,n,r,i){try{var o=d.exec(e.nodeValue);if(o){var a=xt(o[1]);se(t,a,"M",r,i)&&(n[a]=hi(o[2]))}}catch(e){}}function Q(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t))do{if(!e)throw ao("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType===xi&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(i>0);else r.push(e);return Jr(r)}function te(e,t,n){return function(r,i,o,a,s){return i=Q(i[0],t,n),e(r,i,o,a,s)}}function ne(e,t,n,r,i,o){var a;return e?H(t,n,r,i,o):function(){return a||(a=H(t,n,r,i,o),t=n=o=null),a.apply(this,arguments)}}function re(e,t,n,i,a,s,l,u,c){function h(e,t,n,r){e&&(n&&(e=te(e,n,r)),e.require=p.require,e.directiveName=g,(C===p||p.$$isolateScope)&&(e=xe(e,{isolateScope:!0})),l.push(e)),t&&(n&&(t=te(t,n,r)),t.require=p.require,t.directiveName=g,(C===p||p.$$isolateScope)&&(t=xe(t,{isolateScope:!0})),u.push(t))}function d(e,i,a,s,c){function h(e,t,n,r){var i;if(E(e)||(r=n,n=t,t=e,e=void 0),P&&(i=y),n||(n=P?_.parent():_),!r)return c(e,t,i,n,B);var o=c.$$slots[r];if(o)return o(e,t,i,n,B);if(b(o))throw ao("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',r,ee(_))}var d,p,g,m,v,y,w,_,T,D;t===a?(T=n,_=n.$$element):(_=Jr(a),T=new I(_,n)),v=i,C?m=i.$new(!0):S&&(v=i.$parent),c&&(w=h,w.$$boundTransclude=c,w.isSlotFilled=function(e){return!!c.$$slots[e]}),$&&(y=oe(_,T,w,$,m,i,C)),C&&(H.$$addScopeInfo(_,m,!0,!(A&&(A===C||A===C.$$originalDirective))),H.$$addScopeClass(_,!0),m.$$isolateBindings=C.$$isolateBindings,D=$e(i,T,m,m.$$isolateBindings,C),D.removeWatches&&m.$on("$destroy",D.removeWatches));for(var R in y){var O=$[R],N=y[R],L=O.$$bindings.bindToController;if(M){N.bindingInfo=L?$e(v,T,N.instance,L,O):{};var z=N();z!==N.instance&&(N.instance=z,_.data("$"+O.name+"Controller",z),N.bindingInfo.removeWatches&&N.bindingInfo.removeWatches(),N.bindingInfo=$e(v,T,N.instance,L,O))}else N.instance=N(),_.data("$"+O.name+"Controller",N.instance),N.bindingInfo=$e(v,T,N.instance,L,O)}for(o($,function(e,t){var n=e.require;e.bindToController&&!ci(n)&&x(n)&&f(y[t].instance,ie(t,n,_,y))}),o(y,function(e){var t=e.instance;if(k(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(e){r(e)}if(k(t.$onInit))try{t.$onInit()}catch(e){r(e)}k(t.$doCheck)&&(v.$watch(function(){t.$doCheck()}),t.$doCheck()),k(t.$onDestroy)&&v.$on("$destroy",function(){t.$onDestroy()})}),d=0,p=l.length;d<p;d++)g=l[d],Se(g,g.isolateScope?m:i,_,T,g.require&&ie(g.directiveName,g.require,_,y),w);var B=i;for(C&&(C.template||null===C.templateUrl)&&(B=m),e&&e(B,a.childNodes,void 0,c),d=u.length-1;d>=0;d--)g=u[d],Se(g,g.isolateScope?m:i,_,T,g.require&&ie(g.directiveName,g.require,_,y),w);o(y,function(e){var t=e.instance;k(t.$postLink)&&t.$postLink()})}c=c||{};for(var p,g,m,v,y,w=-Number.MAX_VALUE,S=c.newScopeDirective,$=c.controllerDirectives,C=c.newIsolateScopeDirective,A=c.templateDirective,_=c.nonTlbTranscludeDirective,T=!1,D=!1,P=c.hasElementTranscludeDirective,R=n.$$element=Jr(t),O=s,N=i,L=!1,z=!1,F=0,j=e.length;F<j;F++){p=e[F];var U=p.$$start,W=p.$$end;if(U&&(R=Q(t,U,W)),m=void 0,w>p.priority)break;if(y=p.scope,y&&(p.templateUrl||(x(y)?(pe("new/isolated scope",C||S,p,R),C=p):pe("new/isolated scope",C,p,R)),S=S||p),g=p.name,!L&&(p.replace&&(p.templateUrl||p.template)||p.transclude&&!p.$$tlb)){for(var V,G=F+1;V=e[G++];)if(V.transclude&&!V.$$tlb||V.replace&&(V.templateUrl||V.template)){z=!0;break}L=!0}if(!p.templateUrl&&p.controller&&($=$||ve(),pe("'"+g+"' controller",$[g],p,R),$[g]=p),y=p.transclude)if(T=!0,p.$$tlb||(pe("transclusion",_,p,R),_=p),"element"===y)P=!0,w=p.priority,m=R,R=n.$$element=Jr(H.$$createComment(g,n[g])),t=R[0],we(a,q(m),t),m[0].$$parentNode=m[0].parentNode,N=ne(z,m,i,w,O&&O.name,{nonTlbTranscludeDirective:_});else{var X=ve();if(x(y)){m=[];var K=ve(),J=ve();o(y,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,K[e]=t,X[t]=null,J[t]=n}),o(R.contents(),function(e){var t=K[xt(B(e))];t?(J[t]=!0,X[t]=X[t]||[],X[t].push(e)):m.push(e)}),o(J,function(e,t){if(!e)throw ao("reqslot","Required transclusion slot `{0}` was not filled.",t)});for(var re in X)X[re]&&(X[re]=ne(z,X[re],i))}else m=Jr(Oe(t)).contents();R.empty(),N=ne(z,m,i,void 0,void 0,{needsNewScope:p.$$isolateScope||p.$$newScope}),N.$$slots=X}if(p.template)if(D=!0,pe("template",A,p,R),A=p,y=k(p.template)?p.template(R,n):p.template,y=Re(y),p.replace){if(O=p,m=_e(y)?[]:$t(me(p.templateNamespace,hi(y))),t=m[0],1!==m.length||t.nodeType!==xi)throw ao("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g,"");we(a,R,t);var se={$attr:{}},le=Z(t,[],se),fe=e.splice(F+1,e.length-(F+1));(C||S)&&ae(le,C,S),e=e.concat(le).concat(fe),ue(n,se),j=e.length}else R.html(y);if(p.templateUrl)D=!0,pe("template",A,p,R),A=p,p.replace&&(O=p),d=ce(e.splice(F,e.length-F),R,n,a,T&&N,l,u,{controllerDirectives:$,newScopeDirective:S!==p&&S,newIsolateScopeDirective:C,templateDirective:A,nonTlbTranscludeDirective:_}),j=e.length;else if(p.compile)try{v=p.compile(R,n,N);var he=p.$$originalDirective||p;k(v)?h(null,Y(he,v),U,W):v&&h(Y(he,v.pre),Y(he,v.post),U,W)}catch(e){r(e,ee(R))}p.terminal&&(d.terminal=!0,w=Math.max(w,p.priority))}return d.scope=S&&!0===S.scope,d.transcludeOnThisElement=T,d.templateOnThisElement=D,d.transclude=N,c.hasElementTranscludeDirective=P,d}function ie(e,t,n,r){var i;if($(t)){var a=t.match(C),s=t.substring(a[0].length),l=a[1]||a[3],u="?"===a[2];if("^^"===l?n=n.parent():(i=r&&r[s],i=i&&i.instance),!i){var c="$"+s+"Controller";i=l?n.inheritedData(c):n.data(c)}if(!i&&!u)throw ao("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,e)}else if(ci(t)){i=[];for(var f=0,h=t.length;f<h;f++)i[f]=ie(e,t[f],n,r)}else x(t)&&(i={},o(t,function(t,o){i[o]=ie(e,t,n,r)}));return i||null}function oe(e,t,n,r,i,o,a){var s=ve();for(var u in r){var c=r[u],f={$scope:c===a||c.$$isolateScope?i:o,$element:e,$attrs:t,$transclude:n},h=c.controller;"@"===h&&(h=t[c.name]);var d=l(h,f,!0,c.controllerAs);s[c.name]=d,e.data("$"+c.name+"Controller",d.instance)}return s}function ae(e,t,n){for(var r=0,i=e.length;r<i;r++)e[r]=p(e[r],{$$isolateScope:t,$$newScope:n})}function se(e,n,r,o,a,s,l){if(n===a)return null;var u=null;if(c.hasOwnProperty(n))for(var f,d=t.get(n+h),g=0,m=d.length;g<m;g++)if(f=d[g],(b(o)||o>f.priority)&&-1!==f.restrict.indexOf(r)){if(s&&(f=p(f,{$$start:s,$$end:l})),!f.$$bindings){var v=f.$$bindings=i(f,f.name);x(v.isolateScope)&&(f.$$isolateBindings=v.isolateScope)}e.push(f),u=f}return u}function le(e){if(c.hasOwnProperty(e))for(var n,r=t.get(e+h),i=0,o=r.length;i<o;i++)if(n=r[i],n.multiElement)return!0;return!1}function ue(e,t){var n=t.$attr,r=e.$attr;o(e,function(r,i){"$"!==i.charAt(0)&&(t[i]&&t[i]!==r&&(r.length?r+=("style"===i?";":" ")+t[i]:r=t[i]),e.$set(i,r,!0,n[i]))}),o(t,function(t,i){e.hasOwnProperty(i)||"$"===i.charAt(0)||(e[i]=t,"class"!==i&&"style"!==i&&(r[i]=n[i]))})}function ce(e,t,n,i,s,l,u,c){var f,h,d=[],g=t[0],m=e.shift(),v=p(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),y=k(m.templateUrl)?m.templateUrl(t,n):m.templateUrl,b=m.templateNamespace;return t.empty(),a(y).then(function(r){var a,p,w,S;if(r=Re(r),m.replace){if(w=_e(r)?[]:$t(me(b,hi(r))),a=w[0],1!==w.length||a.nodeType!==xi)throw ao("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m.name,y);p={$attr:{}},we(i,t,a);var $=Z(a,[],p);x(m.scope)&&ae($,!0),e=$.concat(e),ue(n,p)}else a=g,t.html(r);for(e.unshift(v),f=re(e,a,n,s,t,m,l,u,c),o(i,function(e,n){e===a&&(i[n]=t[0])}),h=G(t[0].childNodes,s);d.length;){var C=d.shift(),A=d.shift(),k=d.shift(),_=d.shift(),T=t[0];if(!C.$$destroyed){if(A!==g){var E=A.className;c.hasElementTranscludeDirective&&m.replace||(T=Oe(a)),we(k,Jr(A),T),F(Jr(T),E)}S=f.transcludeOnThisElement?K(C,f.transclude,_):_,f(h,C,T,i,S)}}d=null}).catch(function(e){e instanceof Error&&r(e)}),function(e,t,n,r,i){var o=i;t.$$destroyed||(d?d.push(t,n,r,o):(f.transcludeOnThisElement&&(o=K(t,f.transclude,i)),f(h,t,n,r,o)))}}function de(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function pe(e,t,n,r){function i(e){return e?" (module: "+e+")":""}if(t)throw ao("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,i(t.$$moduleName),n.name,i(n.$$moduleName),e,ee(r))}function ge(e,t){var r=n(t,!0);r&&e.push({priority:0,compile:function(e){var t=e.parent(),n=!!t.length;return n&&H.$$addBindingClass(t),function(e,t){var i=t.parent();n||H.$$addBindingClass(i),H.$$addBindingInfo(i,r.expressions),e.$watch(r,function(e){t[0].nodeValue=e})}}})}function me(t,n){switch(t=Yr(t||"html")){case"svg":case"math":var r=e.document.createElement("div");return r.innerHTML="<"+t+">"+n+"</"+t+">",r.childNodes[0].childNodes;default:return n}}function ye(e,t){if("srcdoc"===t)return v.HTML;var n=B(e);if("src"===t||"ngSrc"===t){if(-1===["img","video","audio","source","track"].indexOf(n))return v.RESOURCE_URL}else if("xlinkHref"===t||"form"===n&&"action"===t||"link"===n&&"href"===t)return v.RESOURCE_URL}function be(e,t,r,i,o){var a=ye(e,i),s=!o,l=S[i]||o,u=n(r,s,a,l);if(u){if("multiple"===i&&"select"===B(e))throw ao("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",ee(e));if(A.test(i))throw ao("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");t.push({priority:100,compile:function(){return{pre:function(e,t,o){var s=o.$$observers||(o.$$observers=ve()),c=o[i];c!==r&&(u=c&&n(c,!0,a,l),r=c),u&&(o[i]=u(e),(s[i]||(s[i]=[])).$$inter=!0,(o.$$observers&&o.$$observers[i].$$scope||e).$watch(u,function(e,t){"class"===i&&e!==t?o.$updateClass(e,t):o.$set(i,e)}))}}}})}}function we(t,n,r){var i,o,a=n[0],s=n.length,l=a.parentNode;if(t)for(i=0,o=t.length;i<o;i++)if(t[i]===a){t[i++]=r;for(var u=i,c=u+s-1,f=t.length;u<f;u++,c++)c<f?t[u]=t[c]:delete t[u];t.length-=s-1,t.context===a&&(t.context=r);break}l&&l.replaceChild(r,a);var h=e.document.createDocumentFragment();for(i=0;i<s;i++)h.appendChild(n[i]);for(Jr.hasData(a)&&(Jr.data(r,Jr.data(a)),Jr(a).off("$destroy")),Jr.cleanData(h.querySelectorAll("*")),i=1;i<s;i++)delete n[i];n[0]=r,n.length=1}function xe(e,t){return f(function(){return e.apply(null,arguments)},e,t)}function Se(e,t,n,i,o,a){try{e(t,n,i,o,a)}catch(e){r(e,ee(n))}}function $e(e,t,r,i,a){function l(t,n,i){k(r.$onChanges)&&!U(n,i)&&(Ce||(e.$$postDigest(L),Ce=[]),c||(c={},Ce.push(u)),c[t]&&(i=c[t].previousValue),c[t]=new wt(i,n))}function u(){r.$onChanges(c),c=void 0}var c,f=[],h={};return o(i,function(i,o){var u,c,d,p,m,v=i.attrName,y=i.optional,b=i.mode;switch(b){case"@":y||Vr.call(t,v)||(r[o]=t[v]=void 0),m=t.$observe(v,function(e){if($(e)||R(e)){var t=r[o];l(o,e,t),r[o]=e}}),t.$$observers[v].$$scope=e,u=t[v],$(u)?r[o]=n(u)(e):R(u)&&(r[o]=u),h[o]=new wt(so,r[o]),f.push(m);break;case"=":if(!Vr.call(t,v)){if(y)break;t[v]=void 0}if(y&&!t[v])break;c=s(t[v]),p=c.literal?W:U,d=c.assign||function(){throw u=r[o]=c(e),ao("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[v],v,a.name)},u=r[o]=c(e);var w=function(t){return p(t,r[o])||(p(t,u)?d(e,t=r[o]):r[o]=t),u=t};w.$stateful=!0,m=i.collection?e.$watchCollection(t[v],w):e.$watch(s(t[v],w),null,c.literal),f.push(m);break;case"<":if(!Vr.call(t,v)){if(y)break;t[v]=void 0}if(y&&!t[v])break;c=s(t[v]);var x=c.literal,S=r[o]=c(e);h[o]=new wt(so,r[o]),m=e.$watch(c,function(e,t){if(t===e){if(t===S||x&&W(t,S))return;t=S}l(o,e,t),r[o]=e},x),f.push(m);break;case"&":if((c=t.hasOwnProperty(v)?s(t[v]):g)===g&&y)break;r[o]=function(t){return c(e,t)}}}),{initialChanges:h,removeWatches:f.length&&function(){for(var e=0,t=f.length;e<t;++e)f[e]()}}}var Ce,Ae=/^\w/,ke=e.document.createElement("div"),Te=P,Ee=O,Me=D;I.prototype={$normalize:xt,$addClass:function(e){e&&e.length>0&&_.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&_.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=St(e,t);n&&n.length&&_.addClass(this.$$element,n);var r=St(t,e);r&&r.length&&_.removeClass(this.$$element,r)},$set:function(e,t,n,i){var a,s=this.$$element[0],l=Ke(s,e),u=Ze(e),c=e;if(l?(this.$$element.prop(e,t),i=l):u&&(this[u]=t,c=u),this[e]=t,i?this.$attr[e]=i:(i=this.$attr[e])||(this.$attr[e]=i=fe(e,"-")),"a"===(a=B(this.$$element))&&("href"===e||"xlinkHref"===e)||"img"===a&&"src"===e)this[e]=t=N(t,"src"===e);else if("img"===a&&"srcset"===e&&w(t)){for(var f="",h=hi(t),d=/\s/.test(h)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,p=h.split(d),g=Math.floor(p.length/2),m=0;m<g;m++){var v=2*m;f+=N(hi(p[v]),!0),f+=" "+hi(p[v+1])}var y=hi(p[2*m]).split(/\s/);f+=N(hi(y[0]),!0),2===y.length&&(f+=" "+hi(y[1])),this[e]=t=f}!1!==n&&(null===t||b(t)?this.$$element.removeAttr(i):Ae.test(i)?this.$$element.attr(i,t):z(this.$$element[0],i,t));var x=this.$$observers;x&&o(x[c],function(e){try{e(t)}catch(e){r(e)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=ve()),i=r[e]||(r[e]=[]);return i.push(t),u.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(e)||b(n[e])||t(n[e])}),function(){j(i,t)}}};var De=n.startSymbol(),Pe=n.endSymbol(),Re="{{"===De&&"}}"===Pe?m:function(e){return e.replace(/\{\{/g,De).replace(/}}/g,Pe)},Ne=/^ngAttr[A-Z]/,Le=/^(.+)Start$/;return H.$$addBindingInfo=T?function(e,t){var n=e.data("$binding")||[];ci(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:g,H.$$addBindingClass=T?function(e){F(e,"ng-binding")}:g,H.$$addScopeInfo=T?function(e,t,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(i,t)}:g,H.$$addScopeClass=T?function(e,t){F(e,t?"ng-isolate-scope":"ng-scope")}:g,H.$$createComment=function(t,n){var r="";return T&&(r=" "+(t||"")+": ",n&&(r+=n+" ")),e.document.createComment(r)},H}]}function wt(e,t){this.previousValue=e,this.currentValue=t}function xt(e){return e.replace(lo,"").replace(uo,Ae)}function St(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a===i[s])continue e;n+=(n.length>0?" ":"")+a}return n}function $t(e){e=Jr(e);var t=e.length;if(t<=1)return e;for(;t--;){var n=e[t];(n.nodeType===$i||n.nodeType===Si&&""===n.nodeValue.trim())&&ni.call(e,t,1)}return e}function Ct(e,t){if(t&&$(t))return t;if($(e)){var n=fo.exec(e);if(n)return n[3]}}function At(){var e={},n=!1;this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){pe(t,"controller"),x(t)?f(e,t):e[t]=n},this.allowGlobals=function(){n=!0},this.$get=["$injector","$window",function(r,i){function o(e,n,r,i){if(!e||!x(e.$scope))throw t("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,n);e.$scope[n]=r}return function(t,a,s,l){var u,c,h,d;if(s=!0===s,l&&$(l)&&(d=l),$(t)){if(!(c=t.match(fo)))throw co("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",t);if(h=c[1],d=d||c[3],!(t=e.hasOwnProperty(h)?e[h]:ge(a.$scope,h,!0)||(n?ge(i,h,!0):void 0)))throw co("ctrlreg","The controller with the name '{0}' is not registered.",h);de(t,h,!0)}if(s){var p=(ci(t)?t[t.length-1]:t).prototype;return u=Object.create(p||null),d&&o(a,d,u,h||t.name),f(function(){var e=r.invoke(t,u,a,h);return e!==u&&(x(e)||k(e))&&(u=e,d&&o(a,d,u,h||t.name)),u},{instance:u,identifier:d})}return u=r.instantiate(t,a,h),d&&o(a,d,u,h||t.name),u}}]}function kt(){this.$get=["$window",function(e){return Jr(e.document)}]}function _t(){this.$get=["$document","$rootScope",function(e,t){function n(){i=r.hidden}var r=e[0],i=r&&r.hidden;return e.on("visibilitychange",n),t.$on("$destroy",function(){e.off("visibilitychange",n)}),function(){return i}}]}function Tt(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function Et(e){return x(e)?A(e)?e.toISOString():X(e):e}function Mt(){this.$get=function(){return function(e){if(!e)return"";var t=[];return a(e,function(e,n){null===e||b(e)||(ci(e)?o(e,function(e){t.push(oe(n)+"="+oe(Et(e)))}):t.push(oe(n)+"="+oe(Et(e))))}),t.join("&")}}}function Dt(){this.$get=function(){return function(e){function t(e,r,i){null===e||b(e)||(ci(e)?o(e,function(e,n){t(e,r+"["+(x(e)?n:"")+"]")}):x(e)&&!A(e)?a(e,function(e,n){t(e,r+(i?"":"[")+n+(i?"":"]"))}):n.push(oe(r)+"="+oe(Et(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function Pt(e,t){if($(e)){var n=e.replace(yo,"").trim();if(n){var r=t("Content-Type");if(r&&0===r.indexOf(po)||Rt(n))try{e=K(n)}catch(t){throw bo("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',e,t)}}}return e}function Rt(e){var t=e.match(mo);return t&&vo[t[0]].test(e)}function Ot(e){function t(e,t){e&&(r[e]=r[e]?r[e]+", "+t:t)}var n,r=ve();return $(e)?o(e.split("\n"),function(e){n=e.indexOf(":"),t(Yr(hi(e.substr(0,n))),hi(e.substr(n+1)))}):x(e)&&o(e,function(e,n){t(Yr(n),hi(e))}),r}function Nt(e){var t;return function(n){if(t||(t=Ot(e)),n){var r=t[Yr(n)];return void 0===r&&(r=null),r}return t}}function Lt(e,t,n,r){return k(r)?r(e,t,n):(o(r,function(r){e=r(e,t,n)}),e)}function It(e){return 200<=e&&e<300}function zt(){var e=this.defaults={transformResponse:[Pt],transformRequest:[function(e){return!x(e)||M(e)||P(e)||D(e)?e:X(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:we(go),put:we(go),patch:we(go)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},n=!1;this.useApplyAsync=function(e){return w(e)?(n=!!e,this):n};var r=this.interceptors=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(i,a,s,l,u,c,h,d){function p(n){function r(e,t){for(var n=0,r=t.length;n<r;){var i=t[n++],o=t[n++];e=e.then(i,o)}return t.length=0,e}function a(){i.$$completeOutstandingRequest(g)}function s(e,t){var n,r={};return o(e,function(e,i){k(e)?null!=(n=e(t))&&(r[i]=n):r[i]=e}),r}function l(t){var n=t.headers,r=Lt(t.data,Nt(n),void 0,t.transformRequest);return b(r)&&o(n,function(e,t){"content-type"===Yr(t)&&delete n[t]}),b(t.withCredentials)&&!b(e.withCredentials)&&(t.withCredentials=e.withCredentials),m(t,r).then(u,u)}function u(e){var t=f({},e);return t.data=Lt(e.data,e.headers,e.status,p.transformResponse),It(e.status)?t:c.reject(t)}if(!x(n))throw t("$http")("badreq","Http request configuration must be an object.  Received: {0}",n);if(!$(d.valueOf(n.url)))throw t("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",n.url);var p=f({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer,jsonpCallbackParam:e.jsonpCallbackParam},n);p.headers=function(t){var n,r,i,o=e.headers,a=f({},t.headers);o=f({},o.common,o[Yr(t.method)]);e:for(n in o){r=Yr(n);for(i in a)if(Yr(i)===r)continue e;a[n]=o[n]}return s(a,we(t))}(n),p.method=Gr(p.method),p.paramSerializer=$(p.paramSerializer)?h.get(p.paramSerializer):p.paramSerializer,i.$$incOutstandingRequestCount();var v=[],y=[],w=c.resolve(p);return o(C,function(e){(e.request||e.requestError)&&v.unshift(e.request,e.requestError),(e.response||e.responseError)&&y.push(e.response,e.responseError)}),w=r(w,v),w=w.then(l),w=r(w,y),w=w.finally(a)}function m(t,r){function i(e){if(e){var t={};return o(e,function(e,r){t[r]=function(t){function r(){e(t)}n?u.$applyAsync(r):u.$$phase?r():u.$apply(r)}}),t}}function l(e,t,r,i){function o(){f(t,e,r,i)}m&&(It(e)?m.put(E,[e,t,Ot(r),i]):m.remove(E)),n?u.$applyAsync(o):(o(),u.$$phase||u.$apply())}function f(e,n,r,i){n=n>=-1?n:0,(It(n)?A.resolve:A.reject)({data:e,status:n,headers:Nt(r),config:t,statusText:i})}function h(e){f(e.data,e.status,we(e.headers()),e.statusText)}function g(){var e=p.pendingRequests.indexOf(t);-1!==e&&p.pendingRequests.splice(e,1)}var m,C,A=c.defer(),k=A.promise,_=t.headers,T="jsonp"===Yr(t.method),E=t.url;if(T?E=d.getTrustedResourceUrl(E):$(E)||(E=d.valueOf(E)),E=v(E,t.paramSerializer(t.params)),T&&(E=y(E,t.jsonpCallbackParam)),p.pendingRequests.push(t),k.then(g,g),!t.cache&&!e.cache||!1===t.cache||"GET"!==t.method&&"JSONP"!==t.method||(m=x(t.cache)?t.cache:x(e.cache)?e.cache:S),m&&(C=m.get(E),w(C)?O(C)?C.then(h,h):ci(C)?f(C[1],C[0],we(C[2]),C[3]):f(C,200,{},"OK"):m.put(E,k)),b(C)){var M=zn(t.url)?s()[t.xsrfCookieName||e.xsrfCookieName]:void 0;M&&(_[t.xsrfHeaderName||e.xsrfHeaderName]=M),a(t.method,E,r,l,_,t.timeout,t.withCredentials,t.responseType,i(t.eventHandlers),i(t.uploadEventHandlers))}return k}function v(e,t){return t.length>0&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}function y(e,t){if(/[&?][^=]+=JSON_CALLBACK/.test(e))throw bo("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',e);if(new RegExp("[&?]"+t+"=").test(e))throw bo("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',t,e);return e+=(-1===e.indexOf("?")?"?":"&")+t+"=JSON_CALLBACK"}var S=l("$http");e.paramSerializer=$(e.paramSerializer)?h.get(e.paramSerializer):e.paramSerializer;var C=[];return o(r,function(e){C.unshift($(e)?h.get(e):h.invoke(e))}),p.pendingRequests=[],function(e){o(arguments,function(e){p[e]=function(t,n){return p(f({},n||{},{method:e,url:t}))}})}("get","delete","head","jsonp"),function(e){o(arguments,function(e){p[e]=function(t,n,r){return p(f({},r||{},{method:e,url:t,data:n}))}})}("post","put","patch"),p.defaults=e,p}]}function Bt(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function Ft(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,r){return jt(e,r,e.defer,t,n[0])}]}function jt(e,t,n,r,i){function a(e,t,n){e=e.replace("JSON_CALLBACK",t);var o=i.createElement("script"),a=null;return o.type="text/javascript",o.src=e,o.async=!0,a=function(e){o.removeEventListener("load",a),o.removeEventListener("error",a),i.body.removeChild(o),o=null;var s=-1,l="unknown";e&&("load"!==e.type||r.wasCalled(t)||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),n&&n(s,l)},o.addEventListener("load",a),o.addEventListener("error",a),i.body.appendChild(o),a}return function(i,s,l,u,c,f,h,d,p,g){function m(){x&&x(),S&&S.abort()}function v(e,t,r,i,o){w(C)&&n.cancel(C),x=S=null,e(t,r,i,o)}if(s=s||e.url(),"jsonp"===Yr(i))var y=r.createCallback(s),x=a(s,y,function(e,t){var n=200===e&&r.getResponse(y);v(u,e,n,"",t),r.removeCallback(y)});else{var S=t(i,s);S.open(i,s,!0),o(c,function(e,t){w(e)&&S.setRequestHeader(t,e)}),S.onload=function(){var e=S.statusText||"",t="response"in S?S.response:S.responseText,n=1223===S.status?204:S.status;0===n&&(n=t?200:"file"===In(s).protocol?404:0),v(u,n,t,S.getAllResponseHeaders(),e)};var $=function(){v(u,-1,null,null,"")};if(S.onerror=$,S.onabort=$,S.ontimeout=$,o(p,function(e,t){S.addEventListener(t,e)}),o(g,function(e,t){S.upload.addEventListener(t,e)}),h&&(S.withCredentials=!0),d)try{S.responseType=d}catch(e){if("json"!==d)throw e}S.send(b(l)?null:l)}if(f>0)var C=n(m,f);else O(f)&&f.then(m)}}function Ht(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(e){return"\\\\\\"+e}function a(n){return n.replace(h,e).replace(d,t)}function s(e,t,n,r){var i=e.$watch(function(e){return i(),r(e)},t,n);return i}function l(o,l,h,d){function p(e){try{return e=M(e),d&&!w(e)?e:ye(e)}catch(e){r(wo.interr(o,e))}}if(!o.length||-1===o.indexOf(e)){var g;if(!l){g=v(a(o)),g.exp=o,g.expressions=[],g.$$watchDelegate=s}return g}d=!!d;for(var m,y,x,S=0,$=[],C=[],A=o.length,_=[],T=[];S<A;){if(-1===(m=o.indexOf(e,S))||-1===(y=o.indexOf(t,m+u))){S!==A&&_.push(a(o.substring(S)));break}S!==m&&_.push(a(o.substring(S,m))),x=o.substring(m+u,y),$.push(x),C.push(n(x,p)),S=y+c,T.push(_.length),_.push("")}if(h&&_.length>1&&wo.throwNoconcat(o),!l||$.length){var E=function(e){for(var t=0,n=$.length;t<n;t++){if(d&&b(e[t]))return;_[T[t]]=e[t]}return _.join("")},M=function(e){return h?i.getTrusted(h,e):i.valueOf(e)};return f(function(e){var t=0,n=$.length,i=new Array(n);try{for(;t<n;t++)i[t]=C[t](e);return E(i)}catch(e){r(wo.interr(o,e))}},{exp:o,expressions:$,$$watchDelegate:function(e,t){var n;return e.$watchGroup(C,function(r,i){var o=E(r);k(t)&&t.call(this,o,r!==i?n:o,e),n=o})}})}}var u=e.length,c=t.length,h=new RegExp(e.replace(/./g,o),"g"),d=new RegExp(t.replace(/./g,o),"g");return l.startSymbol=function(){return e},l.endSymbol=function(){return t},l}]}function Ut(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(e,t,n,r,i){function o(o,s,l,u){function c(){f?o.apply(null,h):o(g)}var f=arguments.length>4,h=f?q(arguments,4):[],d=t.setInterval,p=t.clearInterval,g=0,m=w(u)&&!u,v=(m?r:n).defer(),y=v.promise;return l=w(l)?l:0,y.$$intervalId=d(function(){m?i.defer(c):e.$evalAsync(c),v.notify(g++),l>0&&g>=l&&(v.resolve(g),p(y.$$intervalId),delete a[y.$$intervalId]),m||e.$apply()},s),a[y.$$intervalId]=v,y}var a={};return o.cancel=function(e){return!!(e&&e.$$intervalId in a)&&(a[e.$$intervalId].promise.catch(g),a[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete a[e.$$intervalId],!0)},o}]}function Wt(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=ie(t[n]);return t.join("/")}function Vt(e,t){var n=In(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=d(n.port)||$o[n.protocol]||null}function qt(e,t){if(Ao.test(e))throw Co("badpath",'Invalid url "{0}".',e);var n="/"!==e.charAt(0);n&&(e="/"+e);var r=In(e);t.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),t.$$search=ne(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!==t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function Yt(e,t){return e.slice(0,t.length)===t}function Gt(e,t){if(Yt(t,e))return t.substr(e.length)}function Xt(e){var t=e.indexOf("#");return-1===t?e:e.substr(0,t)}function Kt(e){return e.replace(/(#.+)|#$/,"$1")}function Zt(e){return e.substr(0,Xt(e).lastIndexOf("/")+1)}function Jt(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function Qt(e,t,n){this.$$html5=!0,n=n||"",Vt(e,this),this.$$parse=function(e){var n=Gt(t,e);if(!$(n))throw Co("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);qt(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=re(this.$$search),n=this.$$hash?"#"+ie(this.$$hash):"";this.$$url=Wt(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a,s;return w(o=Gt(e,r))?(a=o,s=n&&w(o=Gt(n,o))?t+(Gt("/",o)||o):e+a):w(o=Gt(t,r))?s=t+o:t===r+"/"&&(s=t),s&&this.$$parse(s),!!s}}function en(e,t,n){Vt(e,this),this.$$parse=function(r){var i,o=Gt(e,r)||Gt(t,r);b(o)||"#"!==o.charAt(0)?this.$$html5?i=o:(i="",b(o)&&(e=r,this.replace())):(i=Gt(n,o),b(i)&&(i=o)),qt(i,this),this.$$path=function(e,t,n){var r,i=/^\/[A-Z]:(\/.*)/;return Yt(t,n)&&(t=t.replace(n,"")),i.exec(t)?e:(r=i.exec(e),r?r[1]:e)}(this.$$path,i,e),this.$$compose()},this.$$compose=function(){var t=re(this.$$search),r=this.$$hash?"#"+ie(this.$$hash):"";this.$$url=Wt(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+(this.$$url?n+this.$$url:""),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(t,n){return Xt(e)===Xt(t)&&(this.$$parse(t),!0)}}function tn(e,t,n){this.$$html5=!0,en.apply(this,arguments),this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;return e===Xt(r)?o=r:(a=Gt(t,r))?o=e+n+a:t===r+"/"&&(o=t),o&&this.$$parse(o),!!o},this.$$compose=function(){var t=re(this.$$search),r=this.$$hash?"#"+ie(this.$$hash):"";this.$$url=Wt(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+n+this.$$url,this.$$urlUpdatedByLocation=!0}}function nn(e){return function(){return this[e]}}function rn(e,t){return function(n){return b(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function on(){var e="!",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return w(t)?(e=t,this):e},this.html5Mode=function(e){return R(e)?(t.enabled=e,this):x(e)?(R(e.enabled)&&(t.enabled=e.enabled),R(e.requireBase)&&(t.requireBase=e.requireBase),(R(e.rewriteLinks)||$(e.rewriteLinks))&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,a){function s(e,t,n){var i=u.url(),o=u.$$state;try{r.url(e,t,n),u.$$state=r.state()}catch(e){throw u.url(i),u.$$state=o,e}}function l(e,t){n.$broadcast("$locationChangeSuccess",u.absUrl(),e,u.$$state,t)}var u,c,f,h=r.baseHref(),d=r.url();if(t.enabled){if(!h&&t.requireBase)throw Co("nobase","$location in HTML5 mode requires a <base> tag to be present!");f=Jt(d)+(h||"/"),c=i.history?Qt:tn}else f=Xt(d),c=en;var p=Zt(f);u=new c(f,p,"#"+e),u.$$parseLinkUrl(d,d),u.$$state=r.state();var g=/^\s*(javascript|mailto):/i;o.on("click",function(e){var i=t.rewriteLinks;if(i&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!==e.which&&2!==e.button){for(var s=Jr(e.target);"a"!==B(s[0]);)if(s[0]===o[0]||!(s=s.parent())[0])return;if(!$(i)||!b(s.attr(i))){var l=s.prop("href"),c=s.attr("href")||s.attr("xlink:href");x(l)&&"[object SVGAnimatedString]"===l.toString()&&(l=In(l.animVal).href),g.test(l)||!l||s.attr("target")||e.isDefaultPrevented()||u.$$parseLinkUrl(l,c)&&(e.preventDefault(),u.absUrl()!==r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}}),Kt(u.absUrl())!==Kt(d)&&r.url(u.absUrl(),!0);var m=!0;return r.onUrlChange(function(e,t){if(!Yt(e,p))return void(a.location.href=e);n.$evalAsync(function(){var r,i=u.absUrl(),o=u.$$state;e=Kt(e),u.$$parse(e),u.$$state=t,r=n.$broadcast("$locationChangeStart",e,i,t,o).defaultPrevented,u.absUrl()===e&&(r?(u.$$parse(i),u.$$state=o,s(i,!1,o)):(m=!1,l(i,o)))}),n.$$phase||n.$digest()}),n.$watch(function(){if(m||u.$$urlUpdatedByLocation){u.$$urlUpdatedByLocation=!1;var e=Kt(r.url()),t=Kt(u.absUrl()),o=r.state(),a=u.$$replace,c=e!==t||u.$$html5&&i.history&&o!==u.$$state;(m||c)&&(m=!1,n.$evalAsync(function(){var t=u.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,u.$$state,o).defaultPrevented;u.absUrl()===t&&(r?(u.$$parse(e),u.$$state=o):(c&&s(t,a,o===u.$$state?null:u.$$state),l(e,o)))}))}u.$$replace=!1}),u}]}function an(){var e=!0,t=this;this.debugEnabled=function(t){return w(t)?(e=t,this):e},this.$get=["$window",function(n){function r(e){return e instanceof Error&&(e.stack&&a?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function i(e){var t=n.console||{},i=t[e]||t.log||g,a=!1;try{a=!!i.apply}catch(e){}return a?function(){var e=[];return o(arguments,function(t){e.push(r(t))}),i.apply(t,e)}:function(e,t){i(e,null==t?"":t)}}var a=Zr||/\bEdge\//.test(n.navigator&&n.navigator.userAgent);return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function sn(e){return e+""}function ln(e,t){return void 0!==e?e:t}function un(e,t){return void 0===e?t:void 0===t?e:e+t}function cn(e,t){return!e(t).$stateful}function fn(e,t){var n,r,i;switch(e.type){case Po.Program:n=!0,o(e.body,function(e){fn(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case Po.Literal:e.constant=!0,e.toWatch=[];break;case Po.UnaryExpression:fn(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case Po.BinaryExpression:fn(e.left,t),fn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case Po.LogicalExpression:fn(e.left,t),fn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case Po.ConditionalExpression:fn(e.test,t),fn(e.alternate,t),fn(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case Po.Identifier:e.constant=!1,e.toWatch=[e];break;case Po.MemberExpression:
fn(e.object,t),e.computed&&fn(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case Po.CallExpression:i=!!e.filter&&cn(t,e.callee.name),n=i,r=[],o(e.arguments,function(e){fn(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=i?r:[e];break;case Po.AssignmentExpression:fn(e.left,t),fn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case Po.ArrayExpression:n=!0,r=[],o(e.elements,function(e){fn(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=r;break;case Po.ObjectExpression:n=!0,r=[],o(e.properties,function(e){fn(e.value,t),n=n&&e.value.constant&&!e.computed,e.value.constant||r.push.apply(r,e.value.toWatch),e.computed&&(fn(e.key,t),e.key.constant||r.push.apply(r,e.key.toWatch))}),e.constant=n,e.toWatch=r;break;case Po.ThisExpression:case Po.LocalsExpression:e.constant=!1,e.toWatch=[]}}function hn(e){if(1===e.length){var t=e[0].expression,n=t.toWatch;return 1!==n.length?n:n[0]!==t?n:void 0}}function dn(e){return e.type===Po.Identifier||e.type===Po.MemberExpression}function pn(e){if(1===e.body.length&&dn(e.body[0].expression))return{type:Po.AssignmentExpression,left:e.body[0].expression,right:{type:Po.NGValueParameter},operator:"="}}function gn(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===Po.Literal||e.body[0].expression.type===Po.ArrayExpression||e.body[0].expression.type===Po.ObjectExpression)}function mn(e){return e.constant}function vn(e){this.$filter=e}function yn(e){this.$filter=e}function bn(e,t,n){this.ast=new Po(e,n),this.astCompiler=n.csp?new yn(t):new vn(t)}function wn(e){return k(e.valueOf)?e.valueOf():To.call(e)}function xn(){var e,t,n=ve(),r={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(e,t){r[e]=t},this.setIdentifierFns=function(n,r){return e=n,t=r,this},this.$get=["$filter",function(i){function a(e,t){var r,o,a;switch(typeof e){case"string":if(e=e.trim(),a=e,!(r=n[a])){":"===e.charAt(0)&&":"===e.charAt(1)&&(o=!0,e=e.substring(2));r=new bn(new Do(p),i,p).parse(e),r.constant?r.$$watchDelegate=f:o?(r.oneTime=!0,r.$$watchDelegate=u):r.inputs&&(r.$$watchDelegate=l),n[a]=r}return h(r,t);case"function":return h(e,t);default:return h(g,t)}}function s(e,t,n){return null==e||null==t?e===t:!("object"==typeof e&&"object"==typeof(e=wn(e))&&!n)&&(e===t||e!==e&&t!==t)}function l(e,t,n,r,i){var o,a=r.inputs;if(1===a.length){var l=s;return a=a[0],e.$watch(function(e){var t=a(e);return s(t,l,r.literal)||(o=r(e,void 0,void 0,[t]),l=t&&wn(t)),o},t,n,i)}for(var u=[],c=[],f=0,h=a.length;f<h;f++)u[f]=s,c[f]=null;return e.$watch(function(e){for(var t=!1,n=0,i=a.length;n<i;n++){var l=a[n](e);(t||(t=!s(l,u[n],r.literal)))&&(c[n]=l,u[n]=l&&wn(l))}return t&&(o=r(e,void 0,void 0,c)),o},t,n,i)}function u(e,t,n,r,i){function o(e){return r(e)}function a(e,n,r){u=e,k(t)&&t(e,n,r),f(e)&&r.$$postDigest(function(){f(u)&&s()})}var s,u,f=r.literal?c:w;return s=r.inputs?l(e,a,n,r,i):e.$watch(o,a,n)}function c(e){var t=!0;return o(e,function(e){w(e)||(t=!1)}),t}function f(e,t,n,r){var i=e.$watch(function(e){return i(),r(e)},t,n);return i}function h(e,t){function n(n,r,i,a){var s=o&&a?a[0]:e(n,r,i,a);return t(s,n,r)}function r(n,r,i,s){var l=o&&s?s[0]:e(n,r,i,s),u=t(l,n,r);return a(l)?u:l}if(!t)return e;var i=e.$$watchDelegate,o=!1,a=e.literal?c:w,s=e.oneTime?r:n;return s.literal=e.literal,s.oneTime=e.oneTime,o=!e.inputs,i&&i!==l?(s.$$watchDelegate=i,s.inputs=e.inputs):t.$stateful||(s.$$watchDelegate=l,s.inputs=e.inputs?e.inputs:[e]),s}var d=pi().noUnsafeEval,p={csp:d,literals:H(r),isIdentifierStart:k(e)&&e,isIdentifierContinue:k(t)&&t};return a}]}function Sn(){var e=!0;this.$get=["$rootScope","$exceptionHandler",function(t,n){return Cn(function(e){t.$evalAsync(e)},n,e)}],this.errorOnUnhandledRejections=function(t){return w(t)?(e=t,this):e}}function $n(){var e=!0;this.$get=["$browser","$exceptionHandler",function(t,n){return Cn(function(e){t.defer(e)},n,e)}],this.errorOnUnhandledRejections=function(t){return w(t)?(e=t,this):e}}function Cn(e,n,r){function i(){return new a}function a(){var e=this.promise=new s;this.resolve=function(t){h(e,t)},this.reject=function(t){p(e,t)},this.notify=function(t){m(e,t)}}function s(){this.$$state={status:0}}function l(t){var n,i,o;o=t.pending,t.processScheduled=!1,t.pending=void 0;try{for(var a=0,s=o.length;a<s;++a){t.pur=!0,i=o[a][0],n=o[a][t.status];try{k(n)?h(i,n(t.value)):1===t.status?h(i,t.value):p(i,t.value)}catch(e){p(i,e)}}}finally{--_,r&&0===_&&e(u)}}function u(){for(;!_&&T.length;){var e=T.shift();if(!e.pur){e.pur=!0;var t="Possibly unhandled rejection: "+Se(e.value);e.value instanceof Error?n(e.value,t):n(t)}}}function c(t){!r||t.pending||2!==t.status||t.pur||(0===_&&0===T.length&&e(u),T.push(t)),!t.processScheduled&&t.pending&&(t.processScheduled=!0,++_,e(function(){l(t)}))}function h(e,t){e.$$state.status||(t===e?g(e,A("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):d(e,t))}function d(e,t){function n(t){a||(a=!0,d(e,t))}function r(t){a||(a=!0,g(e,t))}function i(t){m(e,t)}var o,a=!1;try{(x(t)||k(t))&&(o=t.then),k(o)?(e.$$state.status=-1,o.call(t,n,r,i)):(e.$$state.value=t,e.$$state.status=1,c(e.$$state))}catch(e){r(e)}}function p(e,t){e.$$state.status||g(e,t)}function g(e,t){e.$$state.value=t,e.$$state.status=2,c(e.$$state)}function m(t,r){var i=t.$$state.pending;t.$$state.status<=0&&i&&i.length&&e(function(){for(var e,t,o=0,a=i.length;o<a;o++){t=i[o][0],e=i[o][3];try{m(t,k(e)?e(r):r)}catch(e){n(e)}}})}function v(e){var t=new s;return p(t,e),t}function y(e,t,n){var r=null;try{k(n)&&(r=n())}catch(e){return v(e)}return O(r)?r.then(function(){return t(e)},v):t(e)}function w(e,t,n,r){var i=new s;return h(i,e),i.then(t,n,r)}function S(e){var t=new s,n=0,r=ci(e)?[]:{};return o(e,function(e,i){n++,w(e).then(function(e){r[i]=e,--n||h(t,r)},function(e){p(t,e)})}),0===n&&h(t,r),t}function $(e){var t=i();return o(e,function(e){w(e).then(t.resolve,t.reject)}),t.promise}function C(e){function t(e){h(r,e)}function n(e){p(r,e)}if(!k(e))throw A("norslvr","Expected resolverFn, got '{0}'",e);var r=new s;return e(t,n),r}var A=t("$q",TypeError),_=0,T=[];f(s.prototype,{then:function(e,t,n){if(b(e)&&b(t)&&b(n))return this;var r=new s;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),this.$$state.status>0&&c(this.$$state),r},catch:function(e){return this.then(null,e)},finally:function(e,t){return this.then(function(t){return y(t,E,e)},function(t){return y(t,v,e)},t)}});var E=w;return C.prototype=s.prototype,C.defer=i,C.reject=v,C.when=w,C.resolve=E,C.all=S,C.race=$,C}function An(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=i,o}]}function kn(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=l(),this.$$ChildScope=null}return t.prototype=e,t}var n=10,r=t("$rootScope"),a=null,s=null;this.digestTtl=function(e){return arguments.length&&(n=e),n},this.$get=["$exceptionHandler","$parse","$browser",function(t,u,c){function f(e){e.currentScope.$$destroyed=!0}function h(e){9===Zr&&(e.$$childHead&&h(e.$$childHead),e.$$nextSibling&&h(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function d(){this.$id=l(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function p(e){if(C.$$phase)throw r("inprog","{0} already in progress",C.$$phase);C.$$phase=e}function m(){C.$$phase=null}function v(e,t){do{e.$$watchersCount+=t}while(e=e.$parent)}function y(e,t,n){do{e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n]}while(e=e.$parent)}function w(){}function S(){for(;T.length;)try{T.shift()()}catch(e){t(e)}s=null}function $(){null===s&&(s=c.defer(function(){C.$apply(S)}))}d.prototype={constructor:d,$new:function(t,n){var r;return n=n||this,t?(r=new d,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(t||n!==this)&&r.$on("$destroy",f),r},$watch:function(e,t,n,r){var i=u(e);if(i.$$watchDelegate)return i.$$watchDelegate(this,t,n,i,e);var o=this,s=o.$$watchers,l={fn:t,last:w,get:i,exp:r||e,eq:!!n};return a=null,k(t)||(l.fn=g),s||(s=o.$$watchers=[],s.$$digestWatchIndex=-1),s.unshift(l),s.$$digestWatchIndex++,v(this,1),function(){var e=j(s,l);e>=0&&(v(o,-1),e<s.$$digestWatchIndex&&s.$$digestWatchIndex--),a=null}},$watchGroup:function(e,t){function n(){l=!1,u?(u=!1,t(i,i,s)):t(i,r,s)}var r=new Array(e.length),i=new Array(e.length),a=[],s=this,l=!1,u=!0;if(!e.length){var c=!0;return s.$evalAsync(function(){c&&t(i,i,s)}),function(){c=!1}}return 1===e.length?this.$watch(e[0],function(e,n,o){i[0]=e,r[0]=n,t(i,e===n?i:r,o)}):(o(e,function(e,t){var o=s.$watch(e,function(e,o){i[t]=e,r[t]=o,l||(l=!0,s.$evalAsync(n))});a.push(o)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(e,t){function n(e){o=e;var t,n,r,s;if(!b(o)){if(x(o))if(i(o)){a!==d&&(a=d,m=a.length=0,f++),t=o.length,m!==t&&(f++,a.length=m=t);for(var l=0;l<t;l++)s=a[l],r=o[l],s!==s&&r!==r||s===r||(f++,a[l]=r)}else{a!==p&&(a=p={},m=0,f++),t=0;for(n in o)Vr.call(o,n)&&(t++,r=o[n],s=a[n],n in a?s!==s&&r!==r||s===r||(f++,a[n]=r):(m++,a[n]=r,f++));if(m>t){f++;for(n in a)Vr.call(o,n)||(m--,delete a[n])}}else a!==o&&(a=o,f++);return f}}function r(){if(g?(g=!1,t(o,o,l)):t(o,s,l),c)if(x(o))if(i(o)){s=new Array(o.length);for(var e=0;e<o.length;e++)s[e]=o[e]}else{s={};for(var n in o)Vr.call(o,n)&&(s[n]=o[n])}else s=o}n.$stateful=!0;var o,a,s,l=this,c=t.length>1,f=0,h=u(e,n),d=[],p={},g=!0,m=0;return this.$watch(h,r)},$digest:function(){var e,i,o,l,u,f,h,d,g,v,y,b=n,x=this,$=[];p("$digest"),c.$$checkUrlChange(),this===C&&null!==s&&(c.defer.cancel(s),S()),a=null;do{h=!1,g=x;for(var T=0;T<A.length;T++){try{y=A[T],l=y.fn,l(y.scope,y.locals)}catch(e){t(e)}a=null}A.length=0;e:do{if(f=g.$$watchers)for(f.$$digestWatchIndex=f.length;f.$$digestWatchIndex--;)try{if(e=f[f.$$digestWatchIndex])if(u=e.get,(i=u(g))===(o=e.last)||(e.eq?W(i,o):ui(i)&&ui(o))){if(e===a){h=!1;break e}}else h=!0,a=e,e.last=e.eq?H(i,null):i,l=e.fn,l(i,o===w?i:o,g),b<5&&(v=4-b,$[v]||($[v]=[]),$[v].push({msg:k(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:i,oldVal:o}))}catch(e){t(e)}if(!(d=g.$$watchersCount&&g.$$childHead||g!==x&&g.$$nextSibling))for(;g!==x&&!(d=g.$$nextSibling);)g=g.$parent}while(g=d);if((h||A.length)&&!b--)throw m(),r("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",n,$)}while(h||A.length);for(m();E<_.length;)try{_[E++]()}catch(e){t(e)}_.length=E=0,c.$$checkUrlChange()},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===C&&c.$$applicationDestroyed(),v(this,-this.$$watchersCount);for(var t in this.$$listenerCount)y(this,this.$$listenerCount[t],t);e&&e.$$childHead===this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail===this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=g,this.$on=this.$watch=this.$watchGroup=function(){return g},this.$$listeners={},this.$$nextSibling=null,h(this)}},$eval:function(e,t){return u(e)(this,t)},$evalAsync:function(e,t){C.$$phase||A.length||c.defer(function(){A.length&&C.$digest()}),A.push({scope:this,fn:u(e),locals:t})},$$postDigest:function(e){_.push(e)},$apply:function(e){try{p("$apply");try{return this.$eval(e)}finally{m()}}catch(e){t(e)}finally{try{C.$digest()}catch(e){throw t(e),e}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&T.push(t),e=u(e),$()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do{r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++}while(r=r.$parent);var i=this;return function(){var r=n.indexOf(t);-1!==r&&(n[r]=null,y(i,1,e))}},$emit:function(e,n){var r,i,o,a=[],s=this,l=!1,u={name:e,targetScope:s,stopPropagation:function(){l=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},c=V([u],arguments,1);do{for(r=s.$$listeners[e]||a,u.currentScope=s,i=0,o=r.length;i<o;i++)if(r[i])try{r[i].apply(null,c)}catch(e){t(e)}else r.splice(i,1),i--,o--;if(l)return u.currentScope=null,u;s=s.$parent}while(s);return u.currentScope=null,u},$broadcast:function(e,n){var r=this,i=r,o=r,a={name:e,targetScope:r,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!r.$$listenerCount[e])return a;for(var s,l,u,c=V([a],arguments,1);i=o;){for(a.currentScope=i,s=i.$$listeners[e]||[],l=0,u=s.length;l<u;l++)if(s[l])try{s[l].apply(null,c)}catch(e){t(e)}else s.splice(l,1),l--,u--;if(!(o=i.$$listenerCount[e]&&i.$$childHead||i!==r&&i.$$nextSibling))for(;i!==r&&!(o=i.$$nextSibling);)i=i.$parent}return a.currentScope=null,a}};var C=new d,A=C.$$asyncQueue=[],_=C.$$postDigestQueue=[],T=C.$$applyAsyncQueue=[],E=0;return C}]}function _n(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return w(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return w(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i,o=r?t:e;return i=In(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function Tn(e){return e.replace(No,Ae)}function En(e){if("self"===e)return e;if($(e)){if(e.indexOf("***")>-1)throw Ro("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=di(e).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+e+"$")}if(_(e))return new RegExp("^"+e.source+"$");throw Ro("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Mn(e){var t=[];return w(e)&&o(e,function(e){t.push(En(e))}),t}function Dn(){this.SCE_CONTEXTS=Oo;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Mn(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Mn(e)),t},this.$get=["$injector",function(n){function r(e,t){return"self"===e?zn(t):!!e.exec(t.href)}function i(n){var i,o,a=In(n.toString()),s=!1;for(i=0,o=e.length;i<o;i++)if(r(e[i],a)){s=!0;break}if(s)for(i=0,o=t.length;i<o;i++)if(r(t[i],a)){s=!1;break}return s}function o(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function a(e,t){var n=f.hasOwnProperty(e)?f[e]:null;if(!n)throw Ro("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||b(t)||""===t)return t;if("string"!=typeof t)throw Ro("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)}function s(e){return e instanceof c?e.$$unwrapTrustedValue():e}function l(e,t){if(null===t||b(t)||""===t)return t;var n=f.hasOwnProperty(e)?f[e]:null;if(n&&t instanceof n)return t.$$unwrapTrustedValue();if(e===Oo.RESOURCE_URL){if(i(t))return t;throw Ro("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===Oo.HTML)return u(t);throw Ro("unsafe","Attempting to use an unsafe value in a safe context.")}var u=function(e){throw Ro("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(u=n.get("$sanitize"));var c=o(),f={};return f[Oo.HTML]=o(c),f[Oo.CSS]=o(c),f[Oo.URL]=o(c),f[Oo.JS]=o(c),f[Oo.RESOURCE_URL]=o(f[Oo.URL]),{trustAs:a,getTrusted:l,valueOf:s}}]}function Pn(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&Zr<8)throw Ro("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=we(Oo);r.isEnabled=function(){return e},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=m),r.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:t(n,function(t){return r.getTrusted(e,t)})};var i=r.parseAs,a=r.getTrusted,s=r.trustAs;return o(Oo,function(e,t){var n=Yr(t);r[Tn("parse_as_"+n)]=function(t){return i(e,t)},r[Tn("get_trusted_"+n)]=function(t){return a(e,t)},r[Tn("trust_as_"+n)]=function(t){return s(e,t)}}),r}]}function Rn(){this.$get=["$window","$document",function(e,t){var n={},r=e.nw&&e.nw.process,i=!r&&e.chrome&&(e.chrome.app&&e.chrome.app.runtime||!e.chrome.app&&e.chrome.runtime&&e.chrome.runtime.id),o=!i&&e.history&&e.history.pushState,a=d((/android (\d+)/.exec(Yr((e.navigator||{}).userAgent))||[])[1]),s=/Boxee/i.test((e.navigator||{}).userAgent),l=t[0]||{},u=l.body&&l.body.style,c=!1,f=!1;return u&&(c=!!("transition"in u||"webkitTransition"in u),f=!!("animation"in u||"webkitAnimation"in u)),{history:!(!o||a<4||s),hasEvent:function(e){if("input"===e&&Zr)return!1;if(b(n[e])){var t=l.createElement("div");n[e]="on"+e in t}return n[e]},csp:pi(),transitions:c,animations:f,android:a}}]}function On(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(t,n,r,i,o){function a(s,l){function u(e){return l||(e=Lo("tpload","Failed to load template: {0} (HTTP status: {1} {2})",s,e.status,e.statusText),t(e)),i.reject(e)}a.totalPendingRequests++,$(s)&&!b(n.get(s))||(s=o.getTrustedResourceUrl(s));var c=r.defaults&&r.defaults.transformResponse;return ci(c)?c=c.filter(function(e){return e!==Pt}):c===Pt&&(c=null),r.get(s,f({cache:n,transformResponse:c},e)).finally(function(){a.totalPendingRequests--}).then(function(e){return n.put(s,e.data),e.data},u)}return a.totalPendingRequests=0,a}]}function Nn(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var r={};return r.findBindings=function(e,t,n){var r=e.getElementsByClassName("ng-binding"),i=[];return o(r,function(e){var r=si.element(e).data("$binding");r&&o(r,function(r){if(n){new RegExp("(^|\\s)"+di(t)+"(\\s|\\||$)").test(r)&&i.push(e)}else-1!==r.indexOf(t)&&i.push(e)})}),i},r.findModels=function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=n?"=":"*=",a="["+r[i]+"model"+o+'"'+t+'"]',s=e.querySelectorAll(a);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},r.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},r}]}function Ln(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){function o(o,s,l){k(o)||(l=s,s=o,o=g);var u,c=q(arguments,3),f=w(l)&&!l,h=(f?r:n).defer(),d=h.promise;return u=t.defer(function(){try{h.resolve(o.apply(null,c))}catch(e){h.reject(e),i(e)}finally{delete a[d.$$timeoutId]}f||e.$apply()},s),d.$$timeoutId=u,a[u]=h,d}var a={};return o.cancel=function(e){return!!(e&&e.$$timeoutId in a)&&(a[e.$$timeoutId].promise.catch(g),a[e.$$timeoutId].reject("canceled"),delete a[e.$$timeoutId],t.defer.cancel(e.$$timeoutId))},o}]}function In(e){var t=e;return Zr&&(Io.setAttribute("href",t),t=Io.href),Io.setAttribute("href",t),{href:Io.href,protocol:Io.protocol?Io.protocol.replace(/:$/,""):"",host:Io.host,search:Io.search?Io.search.replace(/^\?/,""):"",hash:Io.hash?Io.hash.replace(/^#/,""):"",hostname:Io.hostname,port:Io.port,pathname:"/"===Io.pathname.charAt(0)?Io.pathname:"/"+Io.pathname}}function zn(e){var t=$(e)?In(e):e;return t.protocol===zo.protocol&&t.host===zo.host}function Bn(){this.$get=v(e)}function Fn(e){function t(e){try{return e.cookie||""}catch(e){return""}}function n(e){try{return decodeURIComponent(e)}catch(t){return e}}var r=e[0]||{},i={},o="";return function(){var e,a,s,l,u,c=t(r);if(c!==o)for(o=c,e=o.split("; "),i={},s=0;s<e.length;s++)a=e[s],(l=a.indexOf("="))>0&&(u=n(a.substring(0,l)),b(i[u])&&(i[u]=n(a.substring(l+1))));return i}}function jn(){this.$get=Fn}function Hn(e){function t(r,i){if(x(r)){var a={};return o(r,function(e,n){a[n]=t(n,e)}),a}return e.factory(r+n,i)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",Yn),t("date",lr),t("filter",Un),t("json",ur),t("limitTo",cr),t("lowercase",Vo),t("number",Gn),t("orderBy",hr),t("uppercase",qo)}function Un(){return function(e,n,r,o){if(!i(e)){if(null==e)return e;throw t("filter")("notarray","Expected array but received: {0}",e)}o=o||"$";var a,s,l=qn(n);switch(l){case"function":a=n;break;case"boolean":case"null":case"number":case"string":s=!0;case"object":a=Wn(n,r,o,s);break;default:return e}return Array.prototype.filter.call(e,a)}}function Wn(e,t,n,r){var i=x(e)&&n in e;return!0===t?t=W:k(t)||(t=function(e,t){return!b(e)&&(null===e||null===t?e===t:!(x(t)||x(e)&&!y(e))&&(e=Yr(""+e),t=Yr(""+t),-1!==e.indexOf(t)))}),function(o){return i&&!x(o)?Vn(o,e[n],t,n,!1):Vn(o,e,t,n,r)}}function Vn(e,t,n,r,i,o){var a=qn(e),s=qn(t);if("string"===s&&"!"===t.charAt(0))return!Vn(e,t.substring(1),n,r,i);if(ci(e))return e.some(function(e){return Vn(e,t,n,r,i)});switch(a){case"object":var l;if(i){for(l in e)if(l.charAt&&"$"!==l.charAt(0)&&Vn(e[l],t,n,r,!0))return!0;return!o&&Vn(e,t,n,r,!1)}if("object"===s){for(l in t){var u=t[l];if(!k(u)&&!b(u)){var c=l===r;if(!Vn(c?e:e[l],u,n,r,c,c))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function qn(e){return null===e?"null":typeof e}function Yn(e){var t=e.NUMBER_FORMATS;return function(e,n,r){return b(n)&&(n=t.CURRENCY_SYM),b(r)&&(r=t.PATTERNS[1].maxFrac),null==e?e:Zn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function Gn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:Zn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function Xn(e){var t,n,r,i,o,a=0;for((n=e.indexOf(Fo))>-1&&(e=e.replace(Fo,"")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charAt(r)===jo;r++);if(r===(o=e.length))t=[0],n=1;else{for(o--;e.charAt(o)===jo;)o--;for(n-=r,t=[],i=0;r<=o;r++,i++)t[i]=+e.charAt(r)}return n>Bo&&(t=t.splice(0,Bo-1),a=n-1,n=1),{d:t,e:a,i:n}}function Kn(e,t,n,r){var i=e.d,o=i.length-e.i;t=b(t)?Math.min(Math.max(n,o),r):+t;var a=t+e.i,s=i[a];if(a>0){i.splice(Math.max(e.i,a));for(var l=a;l<i.length;l++)i[l]=0}else{o=Math.max(0,o),e.i=1,i.length=Math.max(1,a=t+1),i[0]=0;for(var u=1;u<a;u++)i[u]=0}if(s>=5)if(a-1<0){for(var c=0;c>a;c--)i.unshift(0),e.i++;i.unshift(1),e.i++}else i[a-1]++;for(;o<Math.max(0,t);o++)i.push(0);var f=i.reduceRight(function(e,t,n,r){return t+=e,r[n]=t%10,Math.floor(t/10)},0);f&&(i.unshift(f),e.i++)}function Zn(e,t,n,r,i){if(!$(e)&&!C(e)||isNaN(e))return"";var o,a=!isFinite(e),s=!1,l=Math.abs(e)+"",u="";if(a)u="âˆž";else{o=Xn(l),Kn(o,i,t.minFrac,t.maxFrac);var c=o.d,f=o.i,h=o.e,d=[];for(s=c.reduce(function(e,t){return e&&!t},!0);f<0;)c.unshift(0),f++;f>0?d=c.splice(f,c.length):(d=c,c=[0]);var p=[];for(c.length>=t.lgSize&&p.unshift(c.splice(-t.lgSize,c.length).join(""));c.length>t.gSize;)p.unshift(c.splice(-t.gSize,c.length).join(""));c.length&&p.unshift(c.join("")),u=p.join(n),d.length&&(u+=r+d.join("")),h&&(u+="e+"+h)}return e<0&&!s?t.negPre+u+t.negSuf:t.posPre+u+t.posSuf}function Jn(e,t,n,r){var i="";for((e<0||r&&e<=0)&&(r?e=1-e:(e=-e,i="-")),e=""+e;e.length<t;)e=jo+e;return n&&(e=e.substr(e.length-t)),i+e}function Qn(e,t,n,r,i){return n=n||0,function(o){var a=o["get"+e]();return(n>0||a>-n)&&(a+=n),0===a&&-12===n&&(a=12),Jn(a,t,r,i)}}function er(e,t,n){return function(r,i){var o=r["get"+e]();return i[Gr((n?"STANDALONE":"")+(t?"SHORT":"")+e)][o]}}function tr(e,t,n){var r=-1*n,i=r>=0?"+":"";return i+=Jn(Math[r>0?"floor":"ceil"](r/60),2)+Jn(Math.abs(r%60),2)}function nr(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function rr(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function ir(e){return function(t){var n=nr(t.getFullYear()),r=rr(t),i=+r-+n;return Jn(1+Math.round(i/6048e5),e)}}function or(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function ar(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function sr(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function lr(e){function t(e){var t;if(t=e.match(n)){var r=new Date(0),i=0,o=0,a=t[8]?r.setUTCFullYear:r.setFullYear,s=t[8]?r.setUTCHours:r.setHours;t[9]&&(i=d(t[9]+t[10]),o=d(t[9]+t[11])),a.call(r,d(t[1]),d(t[2])-1,d(t[3]));var l=d(t[4]||0)-i,u=d(t[5]||0)-o,c=d(t[6]||0),f=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(r,l,u,c,f),r}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var a,s,l="",u=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,$(n)&&(n=Wo.test(n)?d(n):t(n)),C(n)&&(n=new Date(n)),!A(n)||!isFinite(n.getTime()))return n;for(;r;)s=Uo.exec(r),s?(u=V(u,s,1),r=u.pop()):(u.push(r),r=null);var c=n.getTimezoneOffset();return i&&(c=Z(i,c),n=Q(n,i,!0)),o(u,function(t){a=Ho[t],l+=a?a(n,e.DATETIME_FORMATS,c):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function ur(){return function(e,t){return b(t)&&(t=2),X(e,t)}}function cr(){return function(e,t,n){return t=Math.abs(Number(t))===1/0?Number(t):d(t),ui(t)?e:(C(e)&&(e=e.toString()),i(e)?(n=!n||isNaN(n)?0:d(n),n=n<0?Math.max(0,e.length+n):n,t>=0?fr(e,n,n+t):0===n?fr(e,t,e.length):fr(e,Math.max(0,n+t),n)):e)}}function fr(e,t,n){return $(e)?e.slice(t,n):ti.call(e,t,n)}function hr(e){function n(t){return t.map(function(t){var n=1,r=m;if(k(t))r=t;else if($(t)&&("+"!==t.charAt(0)&&"-"!==t.charAt(0)||(n="-"===t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(r=e(t),r.constant))){var i=r();r=function(e){return e[i]}}return{get:r,descending:n}})}function r(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function o(e){return k(e.valueOf)&&(e=e.valueOf(),r(e))?e:(y(e)&&(e=e.toString(),r(e)),e)}function a(e,t){var n=typeof e;return null===e?(n="string",e="null"):"object"===n&&(e=o(e)),{value:e,type:n,index:t}}function s(e,t){var n=0,r=e.type,i=t.type;if(r===i){var o=e.value,a=t.value;"string"===r?(o=o.toLowerCase(),a=a.toLowerCase()):"object"===r&&(x(o)&&(o=e.index),x(a)&&(a=t.index)),o!==a&&(n=o<a?-1:1)}else n=r<i?-1:1;return n}return function(e,r,o,l){function u(e,t){return{value:e,tieBreaker:{value:t,type:"number",index:t},predicateValues:f.map(function(n){return a(n.get(e),t)})}}function c(e,t){for(var n=0,r=f.length;n<r;n++){var i=d(e.predicateValues[n],t.predicateValues[n]);if(i)return i*f[n].descending*h}return d(e.tieBreaker,t.tieBreaker)*h}if(null==e)return e;if(!i(e))throw t("orderBy")("notarray","Expected array but received: {0}",e);ci(r)||(r=[r]),0===r.length&&(r=["+"]);var f=n(r),h=o?-1:1,d=k(l)?l:s,p=Array.prototype.map.call(e,u);return p.sort(c),e=p.map(function(e){return e.value})}}function dr(e){return k(e)&&(e={link:e}),e.restrict=e.restrict||"AC",v(e)}function pr(e,t){e.$name=t}function gr(e,t,n,r,i){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=i(t.name||t.ngForm||"")(n),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=Xo,this.$$element=e,this.$$animate=r,mr(this)}function mr(e){e.$$classCache={},e.$$classCache[Ma]=!(e.$$classCache[Ea]=e.$$element.hasClass(Ea))}function vr(e){function t(e,t,n,r){e[t]||(e[t]={}),a(e[t],n,r)}function n(e,t,n,r){e[t]&&s(e[t],n,r),yr(e[t])&&(e[t]=void 0)}function r(e,t,n){n&&!e.$$classCache[t]?(e.$$animate.addClass(e.$$element,t),e.$$classCache[t]=!0):!n&&e.$$classCache[t]&&(e.$$animate.removeClass(e.$$element,t),e.$$classCache[t]=!1)}function i(e,t,n){t=t?"-"+fe(t,"-"):"",r(e,Ea+t,!0===n),r(e,Ma+t,!1===n)}var o=e.clazz,a=e.set,s=e.unset;o.prototype.$setValidity=function(e,o,l){b(o)?t(this,"$pending",e,l):n(this,"$pending",e,l),R(o)?o?(s(this.$error,e,l),a(this.$$success,e,l)):(a(this.$error,e,l),s(this.$$success,e,l)):(s(this.$error,e,l),s(this.$$success,e,l)),this.$pending?(r(this,Ko,!0),this.$valid=this.$invalid=void 0,i(this,"",null)):(r(this,Ko,!1),this.$valid=yr(this.$error),this.$invalid=!this.$valid,i(this,"",this.$valid));var u;u=this.$pending&&this.$pending[e]?void 0:!this.$error[e]&&(!!this.$$success[e]||null),i(this,e,u),this.$$parentForm.$setValidity(e,u,this)}}function yr(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function br(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function wr(e,t,n,r,i,o){xr(e,t,n,r,i,o),br(r)}function xr(e,t,n,r,i,o){var a=Yr(t[0].type);if(!i.android){var s=!1;t.on("compositionstart",function(){s=!0}),t.on("compositionend",function(){s=!1,u()})}var l,u=function(e){if(l&&(o.defer.cancel(l),l=null),!s){var i=t.val(),u=e&&e.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=hi(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,u)}};if(i.hasEvent("input"))t.on("input",u);else{var c=function(e,t,n){l||(l=o.defer(function(){l=null,t&&t.value===n||u(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||c(e,this,this.value)}),i.hasEvent("paste")&&t.on("paste cut",c)}t.on("change",u),la[a]&&r.$$hasNativeValidators&&a===n.type&&t.on(sa,function(e){if(!l){var t=this[Wr],n=t.badInput,r=t.typeMismatch;l=o.defer(function(){l=null,t.badInput===n&&t.typeMismatch===r||u(e)})}}),r.$render=function(){var e=r.$isEmpty(r.$viewValue)?"":r.$viewValue;t.val()!==e&&t.val(e)}}function Sr(e,t){if(A(e))return e;if($(e)){oa.lastIndex=0;var n=oa.exec(e);if(n){var r=+n[1],i=+n[2],o=0,a=0,s=0,l=0,u=nr(r),c=7*(i-1);return t&&(o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),l=t.getMilliseconds()),new Date(r,0,u.getDate()+c,o,a,s,l)}}return NaN}function $r(e,t){return function(n,r){var i,a;if(A(n))return n;if($(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),ea.test(n))return new Date(n);if(e.lastIndex=0,i=e.exec(n))return i.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(i,function(e,n){n<t.length&&(a[t[n]]=+e)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function Cr(e,t,n,r){return function(i,o,a,s,l,u,c){function f(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function h(e){return w(e)&&!A(e)?n(e)||void 0:e}Ar(i,o,a,s),xr(i,o,a,s,l,u);var d,p=s&&s.$options.getOption("timezone");if(s.$$parserName=e,s.$parsers.push(function(e){if(s.$isEmpty(e))return null;if(t.test(e)){var r=n(e,d);return p&&(r=Q(r,p)),r}}),s.$formatters.push(function(e){if(e&&!A(e))throw Ra("datefmt","Expected `{0}` to be a date",e);return f(e)?(d=e,d&&p&&(d=Q(d,p,!0)),c("date")(e,r,p)):(d=null,"")}),w(a.min)||a.ngMin){var g;s.$validators.min=function(e){return!f(e)||b(g)||n(e)>=g},a.$observe("min",function(e){g=h(e),s.$validate()})}if(w(a.max)||a.ngMax){var m;s.$validators.max=function(e){return!f(e)||b(m)||n(e)<=m},a.$observe("max",function(e){m=h(e),s.$validate()})}}}function Ar(e,t,n,r){var i=t[0];(r.$$hasNativeValidators=x(i.validity))&&r.$parsers.push(function(e){var n=t.prop(Wr)||{};return n.badInput||n.typeMismatch?void 0:e})}function kr(e){
e.$$parserName="number",e.$parsers.push(function(t){return e.$isEmpty(t)?null:ra.test(t)?parseFloat(t):void 0}),e.$formatters.push(function(t){if(!e.$isEmpty(t)){if(!C(t))throw Ra("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t})}function _r(e){return w(e)&&!C(e)&&(e=parseFloat(e)),ui(e)?void 0:e}function Tr(e){return(0|e)===e}function Er(e){var t=e.toString(),n=t.indexOf(".");if(-1===n){if(-1<e&&e<1){var r=/e-(\d+)$/.exec(t);if(r)return Number(r[1])}return 0}return t.length-n-1}function Mr(e,t,n){var r=Number(e),i=!Tr(r),o=!Tr(t),a=!Tr(n);if(i||o||a){var s=i?Er(r):0,l=o?Er(t):0,u=a?Er(n):0,c=Math.max(s,l,u),f=Math.pow(10,c);r*=f,t*=f,n*=f,i&&(r=Math.round(r)),o&&(t=Math.round(t)),a&&(n=Math.round(n))}return(r-t)%n==0}function Dr(e,t,n,r,i,o){Ar(e,t,n,r),kr(r),xr(e,t,n,r,i,o);var a,s;if((w(n.min)||n.ngMin)&&(r.$validators.min=function(e){return r.$isEmpty(e)||b(a)||e>=a},n.$observe("min",function(e){a=_r(e),r.$validate()})),(w(n.max)||n.ngMax)&&(r.$validators.max=function(e){return r.$isEmpty(e)||b(s)||e<=s},n.$observe("max",function(e){s=_r(e),r.$validate()})),w(n.step)||n.ngStep){var l;r.$validators.step=function(e,t){return r.$isEmpty(t)||b(l)||Mr(t,a||0,l)},n.$observe("step",function(e){l=_r(e),r.$validate()})}}function Pr(e,t,n,r,i,o){function a(e,r){t.attr(e,n[e]),n.$observe(e,r)}function s(e){if(f=_r(e),!ui(r.$modelValue))if(c){var n=t.val();f>n&&(n=f,t.val(n)),r.$setViewValue(n)}else r.$validate()}function l(e){if(h=_r(e),!ui(r.$modelValue))if(c){var n=t.val();h<n&&(t.val(h),n=h<f?f:h),r.$setViewValue(n)}else r.$validate()}function u(e){d=_r(e),ui(r.$modelValue)||(c&&r.$viewValue!==t.val()?r.$setViewValue(t.val()):r.$validate())}Ar(e,t,n,r),kr(r),xr(e,t,n,r,i,o);var c=r.$$hasNativeValidators&&"range"===t[0].type,f=c?0:void 0,h=c?100:void 0,d=c?1:void 0,p=t[0].validity,g=w(n.min),m=w(n.max),v=w(n.step),y=r.$render;r.$render=c&&w(p.rangeUnderflow)&&w(p.rangeOverflow)?function(){y(),r.$setViewValue(t.val())}:y,g&&(r.$validators.min=c?function(){return!0}:function(e,t){return r.$isEmpty(t)||b(f)||t>=f},a("min",s)),m&&(r.$validators.max=c?function(){return!0}:function(e,t){return r.$isEmpty(t)||b(h)||t<=h},a("max",l)),v&&(r.$validators.step=c?function(){return!p.stepMismatch}:function(e,t){return r.$isEmpty(t)||b(d)||Mr(t,f||0,d)},a("step",u))}function Rr(e,t,n,r,i,o){xr(e,t,n,r,i,o),br(r),r.$$parserName="url",r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||ta.test(n)}}function Or(e,t,n,r,i,o){xr(e,t,n,r,i,o),br(r),r.$$parserName="email",r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||na.test(n)}}function Nr(e,t,n,r){var i=!n.ngTrim||"false"!==hi(n.ngTrim);b(n.name)&&t.attr("name",l());var o=function(e){var o;t[0].checked&&(o=n.value,i&&(o=hi(o)),r.$setViewValue(o,e&&e.type))};t.on("click",o),r.$render=function(){var e=n.value;i&&(e=hi(e)),t[0].checked=e===r.$viewValue},n.$observe("value",r.$render)}function Lr(e,t,n,r,i){var o;if(w(r)){if(o=e(r),!o.constant)throw Ra("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return o(t)}return i}function Ir(e,t,n,r,i,o,a,s){var l=Lr(s,e,"ngTrueValue",n.ngTrueValue,!0),u=Lr(s,e,"ngFalseValue",n.ngFalseValue,!1),c=function(e){r.$setViewValue(t[0].checked,e&&e.type)};t.on("click",c),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return!1===e},r.$formatters.push(function(e){return W(e,l)}),r.$parsers.push(function(e){return e?l:u})}function zr(e,t){function n(e,t){if(!e||!e.length)return[];if(!t||!t.length)return e;var n=[];e:for(var r=0;r<e.length;r++){for(var i=e[r],o=0;o<t.length;o++)if(i===t[o])continue e;n.push(i)}return n}function r(e){return e&&e.split(" ")}function i(e){var t=e;return ci(e)?t=e.map(i).join(" "):x(e)&&(t=Object.keys(e).filter(function(t){return e[t]}).join(" ")),t}e="ngClass"+e;var a;return["$parse",function(s){return{restrict:"AC",link:function(l,u,c){function f(e){e=p(r(e),1),c.$addClass(e)}function h(e){e=p(r(e),-1),c.$removeClass(e)}function d(e,t){var i=r(e),o=r(t),a=n(i,o),s=n(o,i),l=p(a,-1),u=p(s,1);c.$addClass(u),c.$removeClass(l)}function p(e,t){var n=[];return o(e,function(e){(t>0||y[e])&&(y[e]=(y[e]||0)+t,y[e]===+(t>0)&&n.push(e))}),n.join(" ")}function g(e){e===t?f(v):h(v),b=e}function m(e){$(e)||(e=i(e)),b===t&&d(v,e),v=e}var v,y=u.data("$classCounts"),b=!0;y||(y=ve(),u.data("$classCounts",y)),"ngClass"!==e&&(a||(a=s("$index",function(e){return 1&e})),l.$watch(a,g)),l.$watch(s(c[e],i),m)}}}]}function Br(e,t,n,r,i,o,a,s,l){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(n.name||"",!1)(e),this.$$parentForm=Xo,this.$options=Oa,this.$$parsedNgModel=i(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$currentValidationRunId=0,Object.defineProperty(this,"$$scope",{value:e}),this.$$attr=n,this.$$element=r,this.$$animate=o,this.$$timeout=a,this.$$parse=i,this.$$q=s,this.$$exceptionHandler=t,mr(this),Fr(this)}function Fr(e){e.$$scope.$watch(function(t){var n=e.$$ngModelGet(t);if(n!==e.$modelValue&&(e.$modelValue===e.$modelValue||n===n)){e.$modelValue=e.$$rawModelValue=n,e.$$parserValid=void 0;for(var r=e.$formatters,i=r.length,o=n;i--;)o=r[i](o);e.$viewValue!==o&&(e.$$updateEmptyClasses(o),e.$viewValue=e.$$lastCommittedViewValue=o,e.$render(),e.$$runValidators(e.$modelValue,e.$viewValue,g))}return n})}function jr(e){this.$$options=e}function Hr(e,t){o(t,function(t,n){w(e[n])||(e[n]=t)})}function Ur(e,t){e.prop("selected",t),e.attr("selected",t)}var Wr="validity",Vr=Object.prototype.hasOwnProperty,qr={objectMaxDepth:5},Yr=function(e){return $(e)?e.toLowerCase():e},Gr=function(e){return $(e)?e.toUpperCase():e},Xr=function(e){return $(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},Kr=function(e){return $(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(Yr=Xr,Gr=Kr);var Zr,Jr,Qr,ei,ti=[].slice,ni=[].splice,ri=[].push,ii=Object.prototype.toString,oi=Object.getPrototypeOf,ai=t("ng"),si=e.angular||(e.angular={}),li=0;Zr=e.document.documentMode;var ui=Number.isNaN||function(e){return e!==e};g.$inject=[],m.$inject=[];var ci=Array.isArray,fi=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,hi=function(e){return $(e)?e.trim():e},di=function(e){return e.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},pi=function(){if(!w(pi.rules)){var t=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(t){var n=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");pi.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else pi.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(e){return!0}}(),noInlineStyle:!1}}return pi.rules},gi=function(){if(w(gi.name_))return gi.name_;var t,n,r,i,o=vi.length;for(n=0;n<o;++n)if(r=vi[n],t=e.document.querySelector("["+r.replace(":","\\:")+"jq]")){i=t.getAttribute(r+"jq");break}return gi.name_=i},mi=/:/g,vi=["ng-","data-ng-","ng:","x-ng-"],yi=function(t){var n=t.currentScript;if(!n)return!0;if(!(n instanceof e.HTMLScriptElement||n instanceof e.SVGScriptElement))return!1;var r=n.attributes;return[r.getNamedItem("src"),r.getNamedItem("href"),r.getNamedItem("xlink:href")].every(function(e){if(!e)return!0;if(!e.value)return!1;var n=t.createElement("a");if(n.href=e.value,t.location.origin===n.origin)return!0;switch(n.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}})}(e.document),bi=/[A-Z]/g,wi=!1,xi=1,Si=3,$i=8,Ci=9,Ai=11,ki={full:"1.6.4",major:1,minor:6,dot:4,codeName:"phenomenal-footnote"};Re.expando="ng339";var _i=Re.cache={},Ti=1;Re._data=function(e){return this.cache[e[this.expando]]||{}};var Ei=/-([a-z])/g,Mi=/^-ms-/,Di={mouseleave:"mouseout",mouseenter:"mouseover"},Pi=t("jqLite"),Ri=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Oi=/<|&#?\w+;/,Ni=/<([\w:-]+)/,Li=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ii={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ii.optgroup=Ii.option,Ii.tbody=Ii.tfoot=Ii.colgroup=Ii.caption=Ii.thead,Ii.th=Ii.td;var zi=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},Bi=Re.prototype={ready:Xe,toString:function(){var e=[];return o(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return Jr(e>=0?this[e]:this[this.length+e])},length:0,push:ri,sort:[].sort,splice:[].splice},Fi={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Fi[Yr(e)]=e});var ji={};o("input,select,option,textarea,button,form,details".split(","),function(e){ji[e]=!0});var Hi={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};o({data:Be,removeData:Ie,hasData:Ee,cleanData:function(e){for(var t=0,n=e.length;t<n;t++)Ie(e[t])}},function(e,t){Re[t]=e}),o({data:Be,inheritedData:Ve,scope:function(e){return Jr.data(e,"$scope")||Ve(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return Jr.data(e,"$isolateScope")||Jr.data(e,"$isolateScopeNoTemplate")},controller:We,injector:function(e){return Ve(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Fe,css:function(e,t,n){if(t=Ce(t),!w(n))return e.style[t];e.style[t]=n},attr:function(e,t,n){var r,i=e.nodeType;if(i!==Si&&2!==i&&i!==$i&&e.getAttribute){var o=Yr(t),a=Fi[o];if(!w(n))return r=e.getAttribute(t),a&&null!==r&&(r=o),null===r?void 0:r;null===n||!1===n&&a?e.removeAttribute(t):e.setAttribute(t,a?o:n)}},prop:function(e,t,n){if(!w(n))return e[t];e[t]=n},text:function(){function e(e,t){if(b(t)){var n=e.nodeType;return n===xi||n===Si?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(b(t)){if(e.multiple&&"select"===B(e)){var n=[];return o(e.options,function(e){e.selected&&n.push(e.value||e.text)}),n}return e.value}e.value=t},html:function(e,t){if(b(t))return e.innerHTML;Ne(e,!0),e.innerHTML=t},empty:qe},function(e,t){Re.prototype[t]=function(t,n){var r,i,o=this.length;if(e!==qe&&b(2===e.length&&e!==Fe&&e!==We?t:n)){if(x(t)){for(r=0;r<o;r++)if(e===Be)e(this[r],t);else for(i in t)e(this[r],i,t[i]);return this}for(var a=e.$dv,s=b(a)?Math.min(o,1):o,l=0;l<s;l++){var u=e(this[l],t,n);a=a?a+u:u}return a}for(r=0;r<o;r++)e(this[r],t,n);return this}}),o({removeData:Ie,on:function(e,t,n,r){if(w(r))throw Pi("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Te(e)){var i=ze(e,!0),o=i.events,a=i.handle;a||(a=i.handle=Je(e,o));for(var s=t.indexOf(" ")>=0?t.split(" "):[t],l=s.length,u=function(t,r,i){var s=o[t];s||(s=o[t]=[],s.specialHandlerWrapper=r,"$destroy"===t||i||e.addEventListener(t,a)),s.push(n)};l--;)t=s[l],Di[t]?(u(Di[t],et),u(t,void 0,!0)):u(t)}},off:Le,one:function(e,t,n){e=Jr(e),e.on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;Ne(e),o(new Re(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return o(e.childNodes,function(e){e.nodeType===xi&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===xi||n===Ai){t=new Re(t);for(var r=0,i=t.length;r<i;r++){var o=t[r];e.appendChild(o)}}},prepend:function(e,t){if(e.nodeType===xi){var n=e.firstChild;o(new Re(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){Pe(e,Jr(t).eq(0).clone()[0])},remove:Ye,detach:function(e){Ye(e,!0)},after:function(e,t){var n=e,r=e.parentNode;if(r){t=new Re(t);for(var i=0,o=t.length;i<o;i++){var a=t[i];r.insertBefore(a,n.nextSibling),n=a}}},addClass:He,removeClass:je,toggleClass:function(e,t,n){t&&o(t.split(" "),function(t){var r=n;b(r)&&(r=!Fe(e,t)),(r?He:je)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==Ai?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:Oe,triggerHandler:function(e,t,n){var r,i,a,s=t.type||t,l=ze(e),u=l&&l.events,c=u&&u[s];c&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:g,type:s,target:e},t.type&&(r=f(r,t)),i=we(c),a=n?[r].concat(n):[r],o(i,function(t){r.isImmediatePropagationStopped()||t.apply(e,a)}))}},function(e,t){Re.prototype[t]=function(t,n,r){for(var i,o=0,a=this.length;o<a;o++)b(i)?(i=e(this[o],t,n,r),w(i)&&(i=Jr(i))):Ue(i,e(this[o],t,n,r));return w(i)?i:this}}),Re.prototype.bind=Re.prototype.on,Re.prototype.unbind=Re.prototype.off;var Ui=Object.create(null);rt.prototype={_idx:function(e){return e===this._lastKey?this._lastIndex:(this._lastKey=e,this._lastIndex=this._keys.indexOf(e),this._lastIndex)},_transformKey:function(e){return ui(e)?Ui:e},get:function(e){e=this._transformKey(e);var t=this._idx(e);if(-1!==t)return this._values[t]},set:function(e,t){e=this._transformKey(e);var n=this._idx(e);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=e,this._values[n]=t},delete:function(e){e=this._transformKey(e);var t=this._idx(e);return-1!==t&&(this._keys.splice(t,1),this._values.splice(t,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var Wi=rt,Vi=[function(){this.$get=[function(){return Wi}]}],qi=/^([^(]+?)=>/,Yi=/^[^(]*\(\s*([^)]*)\)/m,Gi=/,/,Xi=/^\s*(_?)(\S+?)\1\s*$/,Ki=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Zi=t("$injector");lt.$$annotate=st;var Ji=t("$animate"),Qi=1,eo=function(){this.$get=g},to=function(){var e=new Wi,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function i(e,t,n){var r=!1;return t&&(t=$(t)?t.split(" "):ci(t)?t:[],o(t,function(t){t&&(r=!0,e[t]=n)})),r}function a(){o(t,function(t){var n=e.get(t);if(n){var r=ht(t.attr("class")),i="",a="";o(n,function(e,t){e!==!!r[t]&&(e?i+=(i.length?" ":"")+t:a+=(a.length?" ":"")+t)}),o(t,function(e){i&&He(e,i),a&&je(e,a)}),e.delete(t)}}),t.length=0}function s(n,o,s){var l=e.get(n)||{},u=i(l,o,!0),c=i(l,s,!1);(u||c)&&(e.set(n,l),t.push(n),1===t.length&&r.$$postDigest(a))}return{enabled:g,on:g,off:g,pin:g,push:function(e,t,r,i){i&&i(),r=r||{},r.from&&e.css(r.from),r.to&&e.css(r.to),(r.addClass||r.removeClass)&&s(e,r.addClass,r.removeClass);var o=new n;return o.complete(),o}}}]},no=["$provide",function(e){var t=this,n=null;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw Ji("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";t.$$registeredAnimations[n.substr(1)]=i,e.factory(i,r)},this.classNameFilter=function(e){if(1===arguments.length&&(n=e instanceof RegExp?e:null)){if(new RegExp("[(\\s|\\/)]ng-animate[(\\s|\\/)]").test(n.toString()))throw n=null,Ji("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',"ng-animate")}return n},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var r=ft(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,r,i,o){return r=r&&Jr(r),i=i&&Jr(i),r=r||i.parent(),t(n,r,i),e.push(n,"enter",dt(o))},move:function(n,r,i,o){return r=r&&Jr(r),i=i&&Jr(i),r=r||i.parent(),t(n,r,i),e.push(n,"move",dt(o))},leave:function(t,n){return e.push(t,"leave",dt(n),function(){t.remove()})},addClass:function(t,n,r){return r=dt(r),r.addClass=ct(r.addclass,n),e.push(t,"addClass",r)},removeClass:function(t,n,r){return r=dt(r),r.removeClass=ct(r.removeClass,n),e.push(t,"removeClass",r)},setClass:function(t,n,r,i){return i=dt(i),i.addClass=ct(i.addClass,n),i.removeClass=ct(i.removeClass,r),e.push(t,"setClass",i)},animate:function(t,n,r,i,o){return o=dt(o),o.from=o.from?f(o.from,n):n,o.to=o.to?f(o.to,r):r,i=i||"ng-inline-animate",o.tempClasses=ct(o.tempClasses,i),e.push(t,"animate",o)}}}]}],ro=function(){this.$get=["$$rAF",function(e){function t(t){n.push(t),n.length>1||e(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}var n=[];return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}]},io=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(e,t,n,r,i){function a(e){this.setHost(e);var t=n(),o=function(e){i(e,0,!1)};this._doneCallbacks=[],this._tick=function(e){r()?o(e):t(e)},this._state=0}return a.chain=function(e,t){function n(){if(r===e.length)return void t(!0);e[r](function(e){if(!1===e)return void t(!1);r++,n()})}var r=0;n()},a.all=function(e,t){function n(n){i=i&&n,++r===e.length&&t(i)}var r=0,i=!0;o(e,function(e){e.done(n)})},a.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:g,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){!1===t?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick(function(){t._resolve(e)}))},_resolve:function(e){2!==this._state&&(o(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=2)}},a}]},oo=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,r){function i(){return e(function(){o(),s||l.complete(),s=!0}),l}function o(){a.addClass&&(t.addClass(a.addClass),a.addClass=null),a.removeClass&&(t.removeClass(a.removeClass),a.removeClass=null),a.to&&(t.css(a.to),a.to=null)}var a=r||{};a.$$prepared||(a=H(a)),a.cleanupStyles&&(a.from=a.to=null),a.from&&(t.css(a.from),a.from=null);var s,l=new n;return{start:i,end:i}}}]},ao=t("$compile"),so=new yt;bt.$inject=["$provide","$$sanitizeUriProvider"],wt.prototype.isFirstChange=function(){return this.previousValue===so};var lo=/^((?:x|data)[:\-_])/i,uo=/[:\-_]+(.)/g,co=t("$controller"),fo=/^(\S+)(\s+as\s+([\w$]+))?$/,ho=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof Jr&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},po="application/json",go={"Content-Type":po+";charset=utf-8"},mo=/^\[|^\{(?!\{)/,vo={"[":/]$/,"{":/}$/},yo=/^\)]\}',?\n/,bo=t("$http"),wo=si.$interpolateMinErr=t("$interpolate");wo.throwNoconcat=function(e){throw wo("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},wo.interr=function(e,t){return wo("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var xo=function(){this.$get=function(){function e(e){var t=function(e){t.data=e,t.called=!0};return t.id=e,t}var t=si.callbacks,n={};return{createCallback:function(r){var i="_"+(t.$$counter++).toString(36),o="angular.callbacks."+i,a=e(i);return n[o]=t[i]=a,o},wasCalled:function(e){return n[e].called},getResponse:function(e){return n[e].data},removeCallback:function(e){var r=n[e];delete t[r.id],delete n[e]}}}},So=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,$o={http:80,https:443,ftp:21},Co=t("$location"),Ao=/^\s*[\\\/]{2,}/,ko={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:nn("$$absUrl"),url:function(e){if(b(e))return this.$$url;var t=So.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:nn("$$protocol"),host:nn("$$host"),port:nn("$$port"),path:rn("$$path",function(e){return e=null!==e?e.toString():"","/"===e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if($(e)||C(e))e=e.toString(),this.$$search=ne(e);else{if(!x(e))throw Co("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=H(e,{}),o(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:b(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:rn("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};o([tn,en,Qt],function(e){e.prototype=Object.create(ko),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==Qt||!this.$$html5)throw Co("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=b(t)?null:t,this.$$urlUpdatedByLocation=!0,this}});var _o=t("$parse"),To={}.constructor.prototype.valueOf,Eo=ve();o("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){Eo[e]=!0});var Mo={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Do=function(e){this.options=e};Do.prototype={constructor:Do,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),r=n+this.peek(2),i=Eo[t],o=Eo[n],a=Eo[r];if(i||o||a){var s=a?r:o?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||"Â "===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),r=t.charCodeAt(0);return n>=55296&&n<=56319&&r>=56320&&r<=57343?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=w(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw _o("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=Yr(this.text.charAt(this.index));if("."===n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"===n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"===e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!==e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{n+=Mo[o]||o}i=!1}else if("\\"===o)i=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var Po=function(e,t){this.lexer=e,this.options=t};Po.Program="Program",Po.ExpressionStatement="ExpressionStatement",Po.AssignmentExpression="AssignmentExpression",Po.ConditionalExpression="ConditionalExpression",Po.LogicalExpression="LogicalExpression",Po.BinaryExpression="BinaryExpression",Po.UnaryExpression="UnaryExpression",Po.CallExpression="CallExpression",Po.MemberExpression="MemberExpression",Po.Identifier="Identifier",Po.Literal="Literal",Po.ArrayExpression="ArrayExpression",Po.Property="Property",Po.ObjectExpression="ObjectExpression",Po.ThisExpression="ThisExpression",Po.LocalsExpression="LocalsExpression",Po.NGValueParameter="NGValueParameter",Po.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:Po.Program,body:e}},expressionStatement:function(){return{type:Po.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){if(!dn(e))throw _o("lval","Trying to assign a value to a non l-value");e={type:Po.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:Po.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:Po.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:Po.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:Po.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:Po.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:Po.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:Po.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:Po.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=H(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:Po.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:Po.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:Po.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:Po.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:Po.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do{e.push(this.filterChain())}while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:Po.Identifier,name:e.text}},constant:function(){return{type:Po.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Po.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:Po.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:Po.ObjectExpression,properties:t}},throwError:function(e,t){throw _o("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw _o("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw _o("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===n||a===r||a===i||!t&&!n&&!r&&!i)return o}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return!!i&&(this.tokens.shift(),i)},selfReferential:{this:{type:Po.ThisExpression},$locals:{type:Po.LocalsExpression}}},vn.prototype={compile:function(e){var t=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},fn(e,t.$filter);var n,r="";if(this.stage="assign",n=pn(e)){this.state.computing="assign";var i=this.nextId();this.recurse(n,i),this.return_(i),r="fn.assign="+this.generateFunction("assign","s,v,l")}var a=hn(e.body);t.stage="inputs",o(a,function(e,n){var r="fn"+n;t.state[r]={vars:[],body:[],own:{}},t.state.computing=r;var i=t.nextId();t.recurse(e,i),t.return_(i),t.state.inputs.push(r),e.watchId=n}),this.state.computing="fn",this.stage="main",this.recurse(e);var s='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+r+this.watchFns()+"return fn;",l=new Function("$filter","getStringValue","ifDefined","plus",s)(this.$filter,sn,ln,un);return this.state=this.stage=void 0,l},
USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return o(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return o(this.state.filters,function(n,r){e.push(n+"=$filter("+t.escape(r)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,r,i,a){var s,l,u,c,f,h=this;if(r=r||g,!a&&w(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,r,i,!0));switch(e.type){case Po.Program:o(e.body,function(t,n){h.recurse(t.expression,void 0,void 0,function(e){l=e}),n!==e.body.length-1?h.current().body.push(l,";"):h.return_(l)});break;case Po.Literal:c=this.escape(e.value),this.assign(t,c),r(t||c);break;case Po.UnaryExpression:this.recurse(e.argument,void 0,void 0,function(e){l=e}),c=e.operator+"("+this.ifDefined(l,0)+")",this.assign(t,c),r(c);break;case Po.BinaryExpression:this.recurse(e.left,void 0,void 0,function(e){s=e}),this.recurse(e.right,void 0,void 0,function(e){l=e}),c="+"===e.operator?this.plus(s,l):"-"===e.operator?this.ifDefined(s,0)+e.operator+this.ifDefined(l,0):"("+s+")"+e.operator+"("+l+")",this.assign(t,c),r(c);break;case Po.LogicalExpression:t=t||this.nextId(),h.recurse(e.left,t),h.if_("&&"===e.operator?t:h.not(t),h.lazyRecurse(e.right,t)),r(t);break;case Po.ConditionalExpression:t=t||this.nextId(),h.recurse(e.test,t),h.if_(t,h.lazyRecurse(e.alternate,t),h.lazyRecurse(e.consequent,t)),r(t);break;case Po.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===h.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),h.if_("inputs"===h.stage||h.not(h.getHasOwnProperty("l",e.name)),function(){h.if_("inputs"===h.stage||"s",function(){i&&1!==i&&h.if_(h.isNull(h.nonComputedMember("s",e.name)),h.lazyAssign(h.nonComputedMember("s",e.name),"{}")),h.assign(t,h.nonComputedMember("s",e.name))})},t&&h.lazyAssign(t,h.nonComputedMember("l",e.name))),r(t);break;case Po.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),h.recurse(e.object,s,void 0,function(){h.if_(h.notNull(s),function(){e.computed?(l=h.nextId(),h.recurse(e.property,l),h.getStringValue(l),i&&1!==i&&h.if_(h.not(h.computedMember(s,l)),h.lazyAssign(h.computedMember(s,l),"{}")),c=h.computedMember(s,l),h.assign(t,c),n&&(n.computed=!0,n.name=l)):(i&&1!==i&&h.if_(h.isNull(h.nonComputedMember(s,e.property.name)),h.lazyAssign(h.nonComputedMember(s,e.property.name),"{}")),c=h.nonComputedMember(s,e.property.name),h.assign(t,c),n&&(n.computed=!1,n.name=e.property.name))},function(){h.assign(t,"undefined")}),r(t)},!!i);break;case Po.CallExpression:t=t||this.nextId(),e.filter?(l=h.filter(e.callee.name),u=[],o(e.arguments,function(e){var t=h.nextId();h.recurse(e,t),u.push(t)}),c=l+"("+u.join(",")+")",h.assign(t,c),r(t)):(l=h.nextId(),s={},u=[],h.recurse(e.callee,l,s,function(){h.if_(h.notNull(l),function(){o(e.arguments,function(t){h.recurse(t,e.constant?void 0:h.nextId(),void 0,function(e){u.push(e)})}),c=s.name?h.member(s.context,s.name,s.computed)+"("+u.join(",")+")":l+"("+u.join(",")+")",h.assign(t,c)},function(){h.assign(t,"undefined")}),r(t)}));break;case Po.AssignmentExpression:l=this.nextId(),s={},this.recurse(e.left,void 0,s,function(){h.if_(h.notNull(s.context),function(){h.recurse(e.right,l),c=h.member(s.context,s.name,s.computed)+e.operator+l,h.assign(t,c),r(t||c)})},1);break;case Po.ArrayExpression:u=[],o(e.elements,function(t){h.recurse(t,e.constant?void 0:h.nextId(),void 0,function(e){u.push(e)})}),c="["+u.join(",")+"]",this.assign(t,c),r(t||c);break;case Po.ObjectExpression:u=[],f=!1,o(e.properties,function(e){e.computed&&(f=!0)}),f?(t=t||this.nextId(),this.assign(t,"{}"),o(e.properties,function(e){e.computed?(s=h.nextId(),h.recurse(e.key,s)):s=e.key.type===Po.Identifier?e.key.name:""+e.key.value,l=h.nextId(),h.recurse(e.value,l),h.assign(h.member(t,s,e.computed),l)})):(o(e.properties,function(t){h.recurse(t.value,e.constant?void 0:h.nextId(),void 0,function(e){u.push(h.escape(t.key.type===Po.Identifier?t.key.name:""+t.key.value)+":"+e)})}),c="{"+u.join(",")+"}",this.assign(t,c)),r(t||c);break;case Po.ThisExpression:this.assign(t,"s"),r(t||"s");break;case Po.LocalsExpression:this.assign(t,"l"),r(t||"l");break;case Po.NGValueParameter:this.assign(t,"v"),r(t||"v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(!0===e)t();else{var r=this.current().body;r.push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(e){return"!("+e+")"},isNull:function(e){return e+"==null"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){var n=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/;return n.test(t)?e+"."+t:e+'["'+t.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},lazyRecurse:function(e,t,n,r,i,o){var a=this;return function(){a.recurse(e,t,n,r,i,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if($(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(C(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if(void 0===e)return"undefined";throw _o("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},yn.prototype={compile:function(e){var t=this;fn(e,t.$filter);var n,r;(n=pn(e))&&(r=this.recurse(n));var i,a=hn(e.body);a&&(i=[],o(a,function(e,n){var r=t.recurse(e);e.input=r,i.push(r),e.watchId=n}));var s=[];o(e.body,function(e){s.push(t.recurse(e.expression))});var l=0===e.body.length?g:1===e.body.length?s[0]:function(e,t){var n;return o(s,function(r){n=r(e,t)}),n};return r&&(l.assign=function(e,t,n){return r(e,n,t)}),i&&(l.inputs=i),l},recurse:function(e,t,n){var r,i,a,s=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case Po.Literal:return this.value(e.value,t);case Po.UnaryExpression:return i=this.recurse(e.argument),this["unary"+e.operator](i,t);case Po.BinaryExpression:case Po.LogicalExpression:return r=this.recurse(e.left),i=this.recurse(e.right),this["binary"+e.operator](r,i,t);case Po.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case Po.Identifier:return s.identifier(e.name,t,n);case Po.MemberExpression:return r=this.recurse(e.object,!1,!!n),e.computed||(i=e.property.name),e.computed&&(i=this.recurse(e.property)),e.computed?this.computedMember(r,i,t,n):this.nonComputedMember(r,i,t,n);case Po.CallExpression:return a=[],o(e.arguments,function(e){a.push(s.recurse(e))}),e.filter&&(i=this.$filter(e.callee.name)),e.filter||(i=this.recurse(e.callee,!0)),e.filter?function(e,n,r,o){for(var s=[],l=0;l<a.length;++l)s.push(a[l](e,n,r,o));var u=i.apply(void 0,s,o);return t?{context:void 0,name:void 0,value:u}:u}:function(e,n,r,o){var s,l=i(e,n,r,o);if(null!=l.value){for(var u=[],c=0;c<a.length;++c)u.push(a[c](e,n,r,o));s=l.value.apply(l.context,u)}return t?{value:s}:s};case Po.AssignmentExpression:return r=this.recurse(e.left,!0,1),i=this.recurse(e.right),function(e,n,o,a){var s=r(e,n,o,a),l=i(e,n,o,a);return s.context[s.name]=l,t?{value:l}:l};case Po.ArrayExpression:return a=[],o(e.elements,function(e){a.push(s.recurse(e))}),function(e,n,r,i){for(var o=[],s=0;s<a.length;++s)o.push(a[s](e,n,r,i));return t?{value:o}:o};case Po.ObjectExpression:return a=[],o(e.properties,function(e){e.computed?a.push({key:s.recurse(e.key),computed:!0,value:s.recurse(e.value)}):a.push({key:e.key.type===Po.Identifier?e.key.name:""+e.key.value,computed:!1,value:s.recurse(e.value)})}),function(e,n,r,i){for(var o={},s=0;s<a.length;++s)a[s].computed?o[a[s].key(e,n,r,i)]=a[s].value(e,n,r,i):o[a[s].key]=a[s].value(e,n,r,i);return t?{value:o}:o};case Po.ThisExpression:return function(e){return t?{value:e}:e};case Po.LocalsExpression:return function(e,n){return t?{value:n}:n};case Po.NGValueParameter:return function(e,n,r){return t?{value:r}:r}}},"unary+":function(e,t){return function(n,r,i,o){var a=e(n,r,i,o);return a=w(a)?+a:0,t?{value:a}:a}},"unary-":function(e,t){return function(n,r,i,o){var a=e(n,r,i,o);return a=w(a)?-a:-0,t?{value:a}:a}},"unary!":function(e,t){return function(n,r,i,o){var a=!e(n,r,i,o);return t?{value:a}:a}},"binary+":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a),l=t(r,i,o,a),u=un(s,l);return n?{value:u}:u}},"binary-":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a),l=t(r,i,o,a),u=(w(s)?s:0)-(w(l)?l:0);return n?{value:u}:u}},"binary*":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)*t(r,i,o,a);return n?{value:s}:s}},"binary/":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)/t(r,i,o,a);return n?{value:s}:s}},"binary%":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)%t(r,i,o,a);return n?{value:s}:s}},"binary===":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)===t(r,i,o,a);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)!==t(r,i,o,a);return n?{value:s}:s}},"binary==":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)==t(r,i,o,a);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)!=t(r,i,o,a);return n?{value:s}:s}},"binary<":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)<t(r,i,o,a);return n?{value:s}:s}},"binary>":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)>t(r,i,o,a);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)<=t(r,i,o,a);return n?{value:s}:s}},"binary>=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)>=t(r,i,o,a);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)&&t(r,i,o,a);return n?{value:s}:s}},"binary||":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)||t(r,i,o,a);return n?{value:s}:s}},"ternary?:":function(e,t,n,r){return function(i,o,a,s){var l=e(i,o,a,s)?t(i,o,a,s):n(i,o,a,s);return r?{value:l}:l}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n){return function(r,i,o,a){var s=i&&e in i?i:r;n&&1!==n&&s&&null==s[e]&&(s[e]={});var l=s?s[e]:void 0;return t?{context:s,name:e,value:l}:l}},computedMember:function(e,t,n,r){return function(i,o,a,s){var l,u,c=e(i,o,a,s);return null!=c&&(l=t(i,o,a,s),l=sn(l),r&&1!==r&&c&&!c[l]&&(c[l]={}),u=c[l]),n?{context:c,name:l,value:u}:u}},nonComputedMember:function(e,t,n,r){return function(i,o,a,s){var l=e(i,o,a,s);r&&1!==r&&l&&null==l[t]&&(l[t]={});var u=null!=l?l[t]:void 0;return n?{context:l,name:t,value:u}:u}},inputs:function(e,t){return function(n,r,i,o){return o?o[t]:e(n,r,i)}}},bn.prototype={constructor:bn,parse:function(e){var t=this.ast.ast(e),n=this.astCompiler.compile(t);return n.literal=gn(t),n.constant=mn(t),n}};var Ro=t("$sce"),Oo={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},No=/_([a-z])/g,Lo=t("$compile"),Io=e.document.createElement("a"),zo=In(e.location.href);Fn.$inject=["$document"],Hn.$inject=["$provide"];var Bo=22,Fo=".",jo="0";Yn.$inject=["$locale"],Gn.$inject=["$locale"];var Ho={yyyy:Qn("FullYear",4,0,!1,!0),yy:Qn("FullYear",2,0,!0,!0),y:Qn("FullYear",1,0,!1,!0),MMMM:er("Month"),MMM:er("Month",!0),MM:Qn("Month",2,1),M:Qn("Month",1,1),LLLL:er("Month",!1,!0),dd:Qn("Date",2),d:Qn("Date",1),HH:Qn("Hours",2),H:Qn("Hours",1),hh:Qn("Hours",2,-12),h:Qn("Hours",1,-12),mm:Qn("Minutes",2),m:Qn("Minutes",1),ss:Qn("Seconds",2),s:Qn("Seconds",1),sss:Qn("Milliseconds",3),EEEE:er("Day"),EEE:er("Day",!0),a:or,Z:tr,ww:ir(2),w:ir(1),G:ar,GG:ar,GGG:ar,GGGG:sr},Uo=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Wo=/^-?\d+$/;lr.$inject=["$locale"];var Vo=v(Yr),qo=v(Gr);hr.$inject=["$parse"];var Yo=v({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===ii.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),Go={};o(Fi,function(e,t){function n(e,n,i){e.$watch(i[r],function(e){i.$set(t,!!e)})}if("multiple"!==e){var r=xt("ng-"+t),i=n;"checked"===e&&(i=function(e,t,i){i.ngModel!==i[r]&&n(e,t,i)}),Go[r]=function(){return{restrict:"A",priority:100,link:i}}}}),o(Hi,function(e,t){Go[t]=function(){return{priority:100,link:function(e,n,r){if("ngPattern"===t&&"/"===r.ngPattern.charAt(0)){var i=r.ngPattern.match(/^\/(.+)\/([a-z]*)$/);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}e.$watch(r[t],function(e){r.$set(t,e)})}}}}),o(["src","srcset","href"],function(e){var t=xt("ng-"+e);Go[t]=function(){return{priority:99,link:function(n,r,i){var o=e,a=e;"href"===e&&"[object SVGAnimatedString]"===ii.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null),i.$observe(t,function(t){if(!t)return void("href"===e&&i.$set(a,null));i.$set(a,t),Zr&&o&&r.prop(o,i[a])})}}}});var Xo={$addControl:g,$$renameControl:pr,$removeControl:g,$setValidity:g,$setDirty:g,$setPristine:g,$setSubmitted:g},Ko="ng-pending";gr.$inject=["$element","$attrs","$scope","$animate","$interpolate"],gr.prototype={$rollbackViewValue:function(){o(this.$$controls,function(e){e.$rollbackViewValue()})},$commitViewValue:function(){o(this.$$controls,function(e){e.$commitViewValue()})},$addControl:function(e){pe(e.$name,"input"),this.$$controls.push(e),e.$name&&(this[e.$name]=e),e.$$parentForm=this},$$renameControl:function(e,t){var n=e.$name;this[n]===e&&delete this[n],this[t]=e,e.$name=t},$removeControl:function(e){e.$name&&this[e.$name]===e&&delete this[e.$name],o(this.$pending,function(t,n){this.$setValidity(n,null,e)},this),o(this.$error,function(t,n){this.$setValidity(n,null,e)},this),o(this.$$success,function(t,n){this.$setValidity(n,null,e)},this),j(this.$$controls,e),e.$$parentForm=Xo},$setDirty:function(){this.$$animate.removeClass(this.$$element,Da),this.$$animate.addClass(this.$$element,Pa),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Da,Pa+" ng-submitted"),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,o(this.$$controls,function(e){e.$setPristine()})},$setUntouched:function(){o(this.$$controls,function(e){e.$setUntouched()})},$setSubmitted:function(){this.$$animate.addClass(this.$$element,"ng-submitted"),this.$submitted=!0,this.$$parentForm.$setSubmitted()}},vr({clazz:gr,set:function(e,t,n){var r=e[t];if(r){-1===r.indexOf(n)&&r.push(n)}else e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(j(r,n),0===r.length&&delete e[t])}});var Zo=function(e){return["$timeout","$parse",function(t,n){function r(e){return""===e?n('this[""]').assign:n(e).assign||g}return{name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:gr,compile:function(n,i){n.addClass(Da).addClass(Ea);var o=i.name?"name":!(!e||!i.ngForm)&&"ngForm";return{pre:function(e,n,i,a){var s=a[0];if(!("action"in i)){var l=function(t){e.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),t.preventDefault()};n[0].addEventListener("submit",l),n.on("$destroy",function(){t(function(){n[0].removeEventListener("submit",l)},0,!1)})}(a[1]||s.$$parentForm).$addControl(s);var u=o?r(s.$name):g;o&&(u(e,s),i.$observe(o,function(t){s.$name!==t&&(u(e,void 0),s.$$parentForm.$$renameControl(s,t),(u=r(s.$name))(e,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),u(e,void 0),f(s,Xo)})}}}}}]},Jo=Zo(),Qo=Zo(!0),ea=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,ta=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,na=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,ra=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,ia=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,oa=/^(\d{4,})-W(\d\d)$/,aa=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,sa="keydown wheel mousedown",la=ve();o("date,datetime-local,month,time,week".split(","),function(e){la[e]=!0});var ua={text:wr,date:Cr("date",/^(\d{4,})-(\d{2})-(\d{2})$/,$r(/^(\d{4,})-(\d{2})-(\d{2})$/,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Cr("datetimelocal",ia,$r(ia,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:Cr("time",aa,$r(aa,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Cr("week",oa,Sr,"yyyy-Www"),month:Cr("month",/^(\d{4,})-(\d\d)$/,$r(/^(\d{4,})-(\d\d)$/,["yyyy","MM"]),"yyyy-MM"),number:Dr,url:Rr,email:Or,radio:Nr,range:Pr,checkbox:Ir,hidden:g,button:g,submit:g,reset:g,file:g},ca=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,a,s){s[0]&&(ua[Yr(a.type)]||ua.text)(i,o,a,s[0],t,e,n,r)}}}}],fa=/^(true|false|\d+)$/,ha=function(){function e(e,t,n){var r=w(n)?n:9===Zr?"":null;e.prop("value",r),t.$set("value",n)}return{restrict:"A",priority:100,compile:function(t,n){return fa.test(n.ngValue)?function(t,n,r){e(n,r,t.$eval(r.ngValue))}:function(t,n,r){t.$watch(r.ngValue,function(t){e(n,r,t)})}}}},da=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,r){e.$$addBindingInfo(n,r.ngBind),n=n[0],t.$watch(r.ngBind,function(e){n.textContent=ye(e)})}}}}],pa=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,r,i){var o=e(r.attr(i.$attr.ngBindTemplate));t.$$addBindingInfo(r,o.expressions),r=r[0],i.$observe("ngBindTemplate",function(e){r.textContent=b(e)?"":e})}}}}],ga=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,i){var o=t(i.ngBindHtml),a=t(i.ngBindHtml,function(t){return e.valueOf(t)});return n.$$addBindingClass(r),function(t,r,i){n.$$addBindingInfo(r,i.ngBindHtml),t.$watch(a,function(){var n=o(t);r.html(e.getTrustedHtml(n)||"")})}}}}],ma=v({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),va=zr("",!0),ya=zr("Odd",0),ba=zr("Even",1),wa=dr({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),xa=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Sa={},$a={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=xt("ng-"+e);Sa[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var a=n(o[t]);return function(t,n){n.on(e,function(n){var i=function(){a(t,{$event:n})};$a[e]&&r.$$phase?t.$evalAsync(i):t.$apply(i)})}}}}]});var Ca=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,l,u;n.$watch(i.ngIf,function(n){n?l||a(function(n,o){l=o,n[n.length++]=t.$$createComment("end ngIf",i.ngIf),s={clone:n},e.enter(n,r.parent(),r)}):(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),s&&(u=me(s.clone),e.leave(u).done(function(e){!1!==e&&(u=null)}),s=null))})}}}],Aa=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:si.noop,compile:function(r,i){var o=i.ngInclude||i.src,a=i.onload||"",s=i.autoscroll;return function(r,i,l,u,c){var f,h,d,p=0,g=function(){h&&(h.remove(),h=null),f&&(f.$destroy(),f=null),d&&(n.leave(d).done(function(e){!1!==e&&(h=null)}),h=d,d=null)};r.$watch(o,function(o){var l=function(e){!1===e||!w(s)||s&&!r.$eval(s)||t()},h=++p;o?(e(o,!0).then(function(e){if(!r.$$destroyed&&h===p){var t=r.$new();u.template=e;var s=c(t,function(e){g(),n.enter(e,null,i).done(l)});f=t,d=s,f.$emit("$includeContentLoaded",o),r.$eval(a)}},function(){r.$$destroyed||h===p&&(g(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):(g(),u.template=null)})}}}}],ka=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){if(ii.call(r[0]).match(/SVG/))return r.empty(),void t(Me(o.template,e.document).childNodes)(n,function(e){r.append(e)},{futureParentElement:r});r.html(o.template),t(r.contents())(n)}}}],_a=dr({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Ta=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,r){var i=n.ngList||", ",a="false"!==n.ngTrim,s=a?hi(i):i,l=function(e){if(!b(e)){var t=[];return e&&o(e.split(s),function(e){e&&t.push(a?hi(e):e)}),t}};r.$parsers.push(l),r.$formatters.push(function(e){if(ci(e))return e.join(i)}),r.$isEmpty=function(e){return!e||!e.length}}}},Ea="ng-valid",Ma="ng-invalid",Da="ng-pristine",Pa="ng-dirty",Ra=t("ngModel");Br.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],Br.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var e=this.$$parse(this.$$attr.ngModel+"()"),t=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(t){var n=this.$$parsedNgModel(t);return k(n)&&(n=e(t)),n},this.$$ngModelSet=function(e,n){k(this.$$parsedNgModel(e))?t(e,{$$$p:n}):this.$$parsedNgModelAssign(e,n)}}else if(!this.$$parsedNgModel.assign)throw Ra("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,ee(this.$$element))},$render:g,$isEmpty:function(e){return b(e)||""===e||null===e||e!==e},$$updateEmptyClasses:function(e){this.$isEmpty(e)?(this.$$animate.removeClass(this.$$element,"ng-not-empty"),this.$$animate.addClass(this.$$element,"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,"ng-not-empty"))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Pa),this.$$animate.addClass(this.$$element,Da)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Da),this.$$animate.addClass(this.$$element,Pa),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,"ng-untouched","ng-touched")},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,"ng-touched","ng-untouched")},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!ui(this.$modelValue)){var e=this.$$lastCommittedViewValue,t=this.$$rawModelValue,n=this.$valid,r=this.$modelValue,i=this.$options.getOption("allowInvalid"),o=this;this.$$runValidators(t,e,function(e){i||n===e||(o.$modelValue=e?t:void 0,o.$modelValue!==r&&o.$$writeModelToScope())})}},$$runValidators:function(e,t,n){function r(e,t){a===s.$$currentValidationRunId&&s.$setValidity(e,t)}function i(e){a===s.$$currentValidationRunId&&n(e)}this.$$currentValidationRunId++;var a=this.$$currentValidationRunId,s=this;return function(){var e=s.$$parserName||"parse";return b(s.$$parserValid)?(r(e,null),!0):(s.$$parserValid||(o(s.$validators,function(e,t){r(t,null)}),o(s.$asyncValidators,function(e,t){r(t,null)})),r(e,s.$$parserValid),s.$$parserValid)}()&&function(){var n=!0;return o(s.$validators,function(i,o){var a=Boolean(i(e,t));n=n&&a,r(o,a)}),!!n||(o(s.$asyncValidators,function(e,t){r(t,null)}),!1)}()?void function(){var n=[],a=!0;o(s.$asyncValidators,function(i,o){var s=i(e,t);if(!O(s))throw Ra("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",s);r(o,void 0),n.push(s.then(function(){r(o,!0)},function(){a=!1,r(o,!1)}))}),n.length?s.$$q.all(n).then(function(){i(a)},g):i(!0)}():void i(!1)},$commitViewValue:function(){var e=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==e||""===e&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(e),this.$$lastCommittedViewValue=e,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){function e(){r.$modelValue!==o&&r.$$writeModelToScope()}var t=this.$$lastCommittedViewValue,n=t,r=this;if(this.$$parserValid=!b(n)||void 0,this.$$parserValid)for(var i=0;i<this.$parsers.length;i++)if(n=this.$parsers[i](n),b(n)){this.$$parserValid=!1;break}ui(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var o=this.$modelValue,a=this.$options.getOption("allowInvalid");this.$$rawModelValue=n,a&&(this.$modelValue=n,e()),this.$$runValidators(n,this.$$lastCommittedViewValue,function(t){a||(r.$modelValue=t?n:void 0,e())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),o(this.$viewChangeListeners,function(e){try{e()}catch(e){this.$$exceptionHandler(e)}},this)},$setViewValue:function(e,t){this.$viewValue=e,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(t)},$$debounceViewValueCommit:function(e){var t=this.$options.getOption("debounce");C(t[e])?t=t[e]:C(t.default)&&(t=t.default),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;t>0?this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},t):this.$$scope.$root.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){n.$commitViewValue()})},$overrideModelOptions:function(e){this.$options=this.$options.createChild(e)}},vr({clazz:Br,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]}});var Oa,Na=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Br,priority:1,compile:function(t){return t.addClass(Da).addClass("ng-untouched").addClass(Ea),{pre:function(e,t,n,r){var i=r[0],o=r[1]||i.$$parentForm,a=r[2];a&&(i.$options=a.$options),i.$$initGetterSetters(),o.$addControl(i),n.$observe("name",function(e){i.$name!==e&&i.$$parentForm.$$renameControl(i,e)}),e.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(t,n,r,i){function o(){a.$setTouched()}var a=i[0];a.$options.getOption("updateOn")&&n.on(a.$options.getOption("updateOn"),function(e){a.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(){a.$touched||(e.$$phase?t.$evalAsync(o):t.$apply(o))})}}}}}];jr.prototype={getOption:function(e){return this.$$options[e]},createChild:function(e){var t=!1;return e=f({},e),o(e,function(n,r){"$inherit"===n?"*"===r?t=!0:(e[r]=this.$$options[r],"updateOn"===r&&(e.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===r&&(e.updateOnDefault=!1,e[r]=hi(n.replace(/(\s+|^)default(\s+|$)/,function(){return e.updateOnDefault=!0," "})))},this),t&&(delete e["*"],Hr(e,this.$$options)),Hr(e,Oa.$$options),new jr(e)}},Oa=new jr({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var La=function(){function e(e,t){this.$$attrs=e,this.$$scope=t}return e.$inject=["$attrs","$scope"],e.prototype={$onInit:function(){var e=this.parentCtrl?this.parentCtrl.$options:Oa,t=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=e.createChild(t)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:e}},Ia=dr({terminal:!0,priority:1e3}),za=t("ngOptions"),Ba=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Fa=["$compile","$document","$parse",function(t,n,r){function a(e,t,n){function o(e,t,n,r,i){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=i}function a(e){var t;if(!u&&i(e))t=e;else{t=[];for(var n in e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n)}return t}var s=e.match(Ba);if(!s)throw za("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,ee(t));var l=s[5]||s[7],u=s[6],c=/ as /.test(s[0])&&s[1],f=s[9],h=r(s[2]?s[1]:l),d=c&&r(c),p=d||h,g=f&&r(f),m=f?function(e,t){return g(n,t)}:function(e){return nt(e)},v=function(e,t){return m(e,$(e,t))},y=r(s[2]||s[1]),b=r(s[3]||""),w=r(s[4]||""),x=r(s[8]),S={},$=u?function(e,t){return S[u]=t,S[l]=e,S}:function(e){return S[l]=e,S};return{trackBy:f,getTrackByValue:v,getWatchables:r(x,function(e){var t=[];e=e||[];for(var r=a(e),i=r.length,o=0;o<i;o++){var l=e===r?o:r[o],u=e[l],c=$(u,l),f=m(u,c);if(t.push(f),s[2]||s[1]){var h=y(n,c);t.push(h)}if(s[4]){var d=w(n,c);t.push(d)}}return t}),getOptions:function(){for(var e=[],t={},r=x(n)||[],i=a(r),s=i.length,l=0;l<s;l++){var u=r===i?l:i[l],c=r[u],h=$(c,u),d=p(n,h),g=m(d,h),S=y(n,h),C=b(n,h),A=w(n,h),k=new o(g,d,S,C,A);e.push(k),t[g]=k}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[v(e)]},getViewValueFromOption:function(e){return f?H(e.viewValue):e.viewValue}}}}}function s(e,r,i,s){function c(e,t){var n=l.cloneNode(!1);t.appendChild(n),h(e,n)}function f(e){var t=S.getOptionFromViewValue(e),n=t&&t.element;return n&&!n.selected&&(n.selected=!0),t}function h(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),t.value=e.selectValue}function d(){var e=S&&p.readValue();if(S)for(var t=S.items.length-1;t>=0;t--){var n=S.items[t];Ye(w(n.group)?n.element.parentNode:n.element)}S=$.getOptions();var i={};if(x&&r.prepend(p.emptyOption),S.items.forEach(function(e){var t;w(e.group)?(t=i[e.group],t||(t=u.cloneNode(!1),C.appendChild(t),t.label=null===e.group?"null":e.group,i[e.group]=t),c(e,t)):c(e,C)}),r[0].appendChild(C),g.$render(),!g.$isEmpty(e)){var o=p.readValue();($.trackBy||m?W(e,o):e===o)||(g.$setViewValue(o),g.$render())}}for(var p=s[0],g=s[1],m=i.multiple,v=0,y=r.children(),b=y.length;v<b;v++)if(""===y[v].value){p.hasEmptyOption=!0,p.emptyOption=y.eq(v);break}var x=!!p.emptyOption;Jr(l.cloneNode(!1)).val("?");var S,$=a(i.ngOptions,r,e),C=n[0].createDocumentFragment();p.generateUnknownOptionValue=function(e){return"?"},m?(p.writeValue=function(e){var t=e&&e.map(f)||[];S.items.forEach(function(e){e.element.selected&&!F(t,e)&&(e.element.selected=!1)})},p.readValue=function(){var e=r.val()||[],t=[];return o(e,function(e){var n=S.selectValueMap[e];n&&!n.disabled&&t.push(S.getViewValueFromOption(n))}),t},$.trackBy&&e.$watchCollection(function(){if(ci(g.$viewValue))return g.$viewValue.map(function(e){return $.getTrackByValue(e)})},function(){g.$render()})):(p.writeValue=function(e){var t=S.selectValueMap[r.val()],n=S.getOptionFromViewValue(e);t&&t.element.removeAttribute("selected"),n?(r[0].value!==n.selectValue&&(p.removeUnknownOption(),p.unselectEmptyOption(),r[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):x?p.selectEmptyOption():p.unknownOption.parent().length?p.updateUnknownOption(e):p.renderUnknownOption(e)},p.readValue=function(){var e=S.selectValueMap[r.val()]
;return e&&!e.disabled?(p.unselectEmptyOption(),p.removeUnknownOption(),S.getViewValueFromOption(e)):null},$.trackBy&&e.$watch(function(){return $.getTrackByValue(g.$viewValue)},function(){g.$render()})),x&&(p.emptyOption.remove(),t(p.emptyOption)(e),p.emptyOption[0].nodeType===$i?(p.hasEmptyOption=!1,p.registerOption=function(e,t){""===t.val()&&(p.hasEmptyOption=!0,p.emptyOption=t,p.emptyOption.removeClass("ng-scope"),g.$render(),t.on("$destroy",function(){p.hasEmptyOption=!1,p.emptyOption=void 0}))}):p.emptyOption.removeClass("ng-scope")),r.empty(),d(),e.$watchCollection($.getWatchables,d)}var l=e.document.createElement("option"),u=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,r){r[0].registerOption=g},post:s}}}],ja=["$locale","$interpolate","$log",function(e,t,n){var r=/^when(Minus)?(.+)$/;return{link:function(i,a,s){function l(e){a.text(e||"")}var u,c=s.count,f=s.$attr.when&&a.attr(s.$attr.when),h=s.offset||0,d=i.$eval(f)||{},p={},m=t.startSymbol(),v=t.endSymbol(),y=m+c+"-"+h+v,w=si.noop;o(s,function(e,t){var n=r.exec(t);if(n){var i=(n[1]?"-":"")+Yr(n[2]);d[i]=a.attr(s.$attr[t])}}),o(d,function(e,n){p[n]=t(e.replace(/{}/g,y))}),i.$watch(c,function(t){var r=parseFloat(t),o=ui(r);if(o||r in d||(r=e.pluralCat(r-h)),!(r===u||o&&ui(u))){w();var a=p[r];b(a)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+f),w=g,l()):w=i.$watch(a,l),u=r}})}}}],Ha=["$parse","$animate","$compile",function(e,n,r){var a=t("ngRepeat"),s=function(e,t,n,r,i,o,a){e[n]=r,i&&(e[i]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0==(1&t))},l=function(e){return e.clone[0]},u=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(t,c){var f=c.ngRepeat,h=r.$$createComment("end ngRepeat",f),d=f.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!d)throw a("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",f);var p=d[1],g=d[2],m=d[3],v=d[4];if(!(d=p.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw a("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",p);var y=d[3]||d[1],b=d[2];if(m&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(m)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(m)))throw a("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",m);var w,x,S,$,C={$id:nt};return v?w=e(v):(S=function(e,t){return nt(t)},$=function(e){return e}),function(e,t,r,c,d){w&&(x=function(t,n,r){return b&&(C[b]=t),C[y]=n,C.$index=r,w(e,C)});var p=ve();e.$watchCollection(g,function(r){var c,g,v,w,C,A,k,_,T,E,M,D,P=t[0],R=ve();if(m&&(e[m]=r),i(r))T=r,_=x||S;else{_=x||$,T=[];for(var O in r)Vr.call(r,O)&&"$"!==O.charAt(0)&&T.push(O)}for(w=T.length,M=new Array(w),c=0;c<w;c++)if(C=r===T?c:T[c],A=r[C],k=_(C,A,c),p[k])E=p[k],delete p[k],R[k]=E,M[c]=E;else{if(R[k])throw o(M,function(e){e&&e.scope&&(p[e.id]=e)}),a("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",f,k,A);M[c]={id:k,scope:void 0,clone:void 0},R[k]=!0}for(var N in p){if(E=p[N],D=me(E.clone),n.leave(D),D[0].parentNode)for(c=0,g=D.length;c<g;c++)D[c].$$NG_REMOVED=!0;E.scope.$destroy()}for(c=0;c<w;c++)if(C=r===T?c:T[c],A=r[C],E=M[c],E.scope){v=P;do{v=v.nextSibling}while(v&&v.$$NG_REMOVED);l(E)!==v&&n.move(me(E.clone),null,P),P=u(E),s(E.scope,c,y,A,b,C,w)}else d(function(e,t){E.scope=t;var r=h.cloneNode(!1);e[e.length++]=r,n.enter(e,null,P),P=r,E.clone=e,R[E.id]=E,s(E.scope,c,y,A,b,C,w)});p=R})}}}}],Ua=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,function(t){e[t?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Wa=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,function(t){e[t?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Va=dr(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&o(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),qa=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,a){var s=i.ngSwitch||i.on,l=[],u=[],c=[],f=[],h=function(e,t){return function(n){!1!==n&&e.splice(t,1)}};n.$watch(s,function(n){for(var r,i;c.length;)e.cancel(c.pop());for(r=0,i=f.length;r<i;++r){var s=me(u[r].clone);f[r].$destroy();(c[r]=e.leave(s)).done(h(c,r))}u.length=0,f.length=0,(l=a.cases["!"+n]||a.cases["?"])&&o(l,function(n){n.transclude(function(r,i){f.push(i);var o=n.element;r[r.length++]=t.$$createComment("end ngSwitchWhen");var a={clone:r};u.push(a),e.enter(r,o.parent(),o)})})})}}}],Ya=dr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){o(n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(e,t,n){return n[t-1]!==e}),function(e){r.cases["!"+e]=r.cases["!"+e]||[],r.cases["!"+e].push({transclude:i,element:t})})}}),Ga=dr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),Xa=t("ngTransclude"),Ka=["$compile",function(e){return{restrict:"EAC",terminal:!0,compile:function(t){var n=e(t.contents());return t.empty(),function(e,t,r,i,o){function a(e,n){e.length&&l(e)?t.append(e):(s(),n.$destroy())}function s(){n(e,function(e){t.append(e)})}function l(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];if(r.nodeType!==Si||r.nodeValue.trim())return!0}}if(!o)throw Xa("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",ee(t));r.ngTransclude===r.$attr.ngTransclude&&(r.ngTransclude="");var u=r.ngTransclude||r.ngTranscludeSlot;o(a,null,u),u&&!o.isSlotFilled(u)&&s()}}}}],Za=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"===n.type){var r=n.id,i=t[0].text;e.put(r,i)}}}}],Ja={$setViewValue:g,$render:g},Qa=["$element","$scope",function(t,n){function r(){s||(s=!0,n.$$postDigest(function(){s=!1,o.ngModelCtrl.$render()}))}function i(e){l||(l=!0,n.$$postDigest(function(){n.$$destroyed||(l=!1,o.ngModelCtrl.$setViewValue(o.readValue()),e&&o.ngModelCtrl.$render())}))}var o=this,a=new Wi;o.selectValueMap={},o.ngModelCtrl=Ja,o.multiple=!1,o.unknownOption=Jr(e.document.createElement("option")),o.hasEmptyOption=!1,o.emptyOption=void 0,o.renderUnknownOption=function(e){var n=o.generateUnknownOptionValue(e);o.unknownOption.val(n),t.prepend(o.unknownOption),Ur(o.unknownOption,!0),t.val(n)},o.updateUnknownOption=function(e){var n=o.generateUnknownOptionValue(e);o.unknownOption.val(n),Ur(o.unknownOption,!0),t.val(n)},o.generateUnknownOptionValue=function(e){return"? "+nt(e)+" ?"},o.removeUnknownOption=function(){o.unknownOption.parent()&&o.unknownOption.remove()},o.selectEmptyOption=function(){o.emptyOption&&(t.val(""),Ur(o.emptyOption,!0))},o.unselectEmptyOption=function(){o.hasEmptyOption&&o.emptyOption.removeAttr("selected")},n.$on("$destroy",function(){o.renderUnknownOption=g}),o.readValue=function(){var e=t.val(),n=e in o.selectValueMap?o.selectValueMap[e]:e;return o.hasOption(n)?n:null},o.writeValue=function(e){var n=t[0].options[t[0].selectedIndex];if(n&&Ur(Jr(n),!1),o.hasOption(e)){o.removeUnknownOption();var r=nt(e);t.val(r in o.selectValueMap?r:e);var i=t[0].options[t[0].selectedIndex];Ur(Jr(i),!0)}else null==e&&o.emptyOption?(o.removeUnknownOption(),o.selectEmptyOption()):o.unknownOption.parent().length?o.updateUnknownOption(e):o.renderUnknownOption(e)},o.addOption=function(e,t){if(t[0].nodeType!==$i){pe(e,'"option value"'),""===e&&(o.hasEmptyOption=!0,o.emptyOption=t);var n=a.get(e)||0;a.set(e,n+1),r()}},o.removeOption=function(e){var t=a.get(e);t&&(1===t?(a.delete(e),""===e&&(o.hasEmptyOption=!1,o.emptyOption=void 0)):a.set(e,t-1))},o.hasOption=function(e){return!!a.get(e)};var s=!1,l=!1;o.registerOption=function(e,t,n,a,s){if(n.$attr.ngValue){var l,u=NaN;n.$observe("value",function(e){var n,r=t.prop("selected");w(u)&&(o.removeOption(l),delete o.selectValueMap[u],n=!0),u=nt(e),l=e,o.selectValueMap[u]=e,o.addOption(e,t),t.attr("value",u),n&&r&&i()})}else a?n.$observe("value",function(e){o.readValue();var n,r=t.prop("selected");w(l)&&(o.removeOption(l),n=!0),l=e,o.addOption(e,t),n&&r&&i()}):s?e.$watch(s,function(e,r){n.$set("value",e);var a=t.prop("selected");r!==e&&o.removeOption(r),o.addOption(e,t),r&&a&&i()}):o.addOption(n.value,t);n.$observe("disabled",function(e){("true"===e||e&&t.prop("selected"))&&(o.multiple?i(!0):(o.ngModelCtrl.$setViewValue(null),o.ngModelCtrl.$render()))}),t.on("$destroy",function(){var e=o.readValue(),t=n.value;o.removeOption(t),r(),(o.multiple&&e&&-1!==e.indexOf(t)||e===t)&&i(!0)})}}],es=function(){function e(e,t,n,r){var i=r[0],a=r[1];if(!a)return void(i.registerOption=g);if(i.ngModelCtrl=a,t.on("change",function(){i.removeUnknownOption(),e.$apply(function(){a.$setViewValue(i.readValue())})}),n.multiple){i.multiple=!0,i.readValue=function(){var e=[];return o(t.find("option"),function(t){if(t.selected&&!t.disabled){var n=t.value;e.push(n in i.selectValueMap?i.selectValueMap[n]:n)}}),e},i.writeValue=function(e){o(t.find("option"),function(t){var n=!!e&&(F(e,t.value)||F(e,i.selectValueMap[t.value]));n!==t.selected&&Ur(Jr(t),n)})};var s,l=NaN;e.$watch(function(){l!==a.$viewValue||W(s,a.$viewValue)||(s=we(a.$viewValue),a.$render()),l=a.$viewValue}),a.$isEmpty=function(e){return!e||0===e.length}}}function t(e,t,n,r){var i=r[1];if(i){var o=r[0];i.$render=function(){o.writeValue(i.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:Qa,priority:1,link:{pre:e,post:t}}},ts=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){var r,i;return w(n.ngValue)||(w(n.value)?r=e(n.value,!0):(i=e(t.text(),!0))||n.$set("value",t.text())),function(e,t,n){var o=t.parent(),a=o.data("$selectController")||o.parent().data("$selectController");a&&a.registerOption(e,t,n,r,i)}}}}],ns=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",function(){r.$validate()}))}}},rs=function(){return{restrict:"A",require:"?ngModel",link:function(e,n,r,i){if(i){var o,a=r.ngPattern||r.pattern;r.$observe("pattern",function(e){if($(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw t("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,e,ee(n));o=e||void 0,i.$validate()}),i.$validators.pattern=function(e,t){return i.$isEmpty(t)||b(o)||o.test(t)}}}}},is=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=-1;n.$observe("maxlength",function(e){var t=d(e);i=ui(t)?-1:t,r.$validate()}),r.$validators.maxlength=function(e,t){return i<0||r.$isEmpty(t)||t.length<=i}}}}},os=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=0;n.$observe("minlength",function(e){i=d(e)||0,r.$validate()}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=i}}}}};if(e.angular.bootstrap)return void(e.console&&console.log("WARNING: Tried to load angular more than once."));!function(){var t;if(!wi){var n=gi();Qr=b(n)?e.jQuery:n?e[n]:void 0,Qr&&Qr.fn.on?(Jr=Qr,f(Qr.fn,{scope:Bi.scope,isolateScope:Bi.isolateScope,controller:Bi.controller,injector:Bi.injector,inheritedData:Bi.inheritedData}),t=Qr.cleanData,Qr.cleanData=function(e){for(var n,r,i=0;null!=(r=e[i]);i++)(n=Qr._data(r,"events"))&&n.$destroy&&Qr(r).triggerHandler("$destroy");t(e)}):Jr=Re,si.element=Jr,wi=!0}}(),function(r){f(r,{errorHandlingConfig:n,bootstrap:le,copy:H,extend:f,merge:h,equals:W,element:Jr,forEach:o,injector:lt,noop:g,bind:Y,toJson:X,fromJson:K,identity:m,isUndefined:b,isDefined:w,isString:$,isFunction:k,isObject:x,isNumber:C,isElement:I,isArray:ci,version:ki,isDate:A,lowercase:Yr,uppercase:Gr,callbacks:{$$counter:0},getTestability:ce,reloadWithDebugInfo:ue,$$minErr:t,$$csp:pi,$$encodeUriSegment:ie,$$encodeUriQuery:oe,$$stringify:ye}),ei=be(e),ei("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:_n}),e.provider("$compile",bt).directive({a:Yo,input:ca,textarea:ca,form:Jo,script:Za,select:es,option:ts,ngBind:da,ngBindHtml:ga,ngBindTemplate:pa,ngClass:va,ngClassEven:ba,ngClassOdd:ya,ngCloak:wa,ngController:xa,ngForm:Qo,ngHide:Wa,ngIf:Ca,ngInclude:Aa,ngInit:_a,ngNonBindable:Ia,ngPluralize:ja,ngRepeat:Ha,ngShow:Ua,ngStyle:Va,ngSwitch:qa,ngSwitchWhen:Ya,ngSwitchDefault:Ga,ngOptions:Fa,ngTransclude:Ka,ngModel:Na,ngList:Ta,ngChange:ma,pattern:rs,ngPattern:rs,required:ns,ngRequired:ns,minlength:os,ngMinlength:os,maxlength:is,ngMaxlength:is,ngValue:ha,ngModelOptions:La}).directive({ngInclude:ka}).directive(Go).directive(Sa),e.provider({$anchorScroll:ut,$animate:no,$animateCss:oo,$$animateJs:eo,$$animateQueue:to,$$AnimateRunner:io,$$animateAsyncRun:ro,$browser:gt,$cacheFactory:mt,$controller:At,$document:kt,$$isDocumentHidden:_t,$exceptionHandler:Tt,$filter:Hn,$$forceReflow:ho,$interpolate:Ht,$interval:Ut,$http:zt,$httpParamSerializer:Mt,$httpParamSerializerJQLike:Dt,$httpBackend:Ft,$xhrFactory:Bt,$jsonpCallbacks:xo,$location:on,$log:an,$parse:xn,$rootScope:kn,$q:Sn,$$q:$n,$sce:Pn,$sceDelegate:Dn,$sniffer:Rn,$templateCache:vt,$templateRequest:On,$$testability:Nn,$timeout:Ln,$window:Bn,$$rAF:An,$$jqLite:tt,$$Map:Vi,$$cookieReader:jn})}]).info({angularVersion:"1.6.4"})}(si),si.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return-1==t?0:e.length-t-1}function n(e,n){var r=n;void 0===r&&(r=Math.min(t(e),3));var i=Math.pow(10,r);return{v:r,f:(e*i|0)%i}}var r={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-Â¤",negSuf:"",posPre:"Â¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,t){var i=0|e,o=n(e,t);return 1==i&&0==o.v?r.ONE:r.OTHER}})}]),Jr(function(){se(e.document,le)})}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(e,t){"function"==typeof define&&define.amd?define(["angular"],t):"object"==typeof module&&module.exports?module.exports=t(require("angular")):e.angularClipboard=t(e.angular)}(this,function(e){return e.module("angular-clipboard",[]).factory("clipboard",["$document","$window",function(e,t){function n(n,r){var i=e[0].createElement("textarea");return i.style.position="absolute",i.textContent=n,i.style.left="-10000px",i.style.top=(t.pageYOffset||e[0].documentElement.scrollTop)+"px",i}function r(t){try{e[0].body.style.webkitUserSelect="initial";var n=e[0].getSelection();if(n.removeAllRanges(),t.select(),!e[0].execCommand("copy"))throw"failure copy";n.removeAllRanges()}finally{e[0].body.style.webkitUserSelect=""}}function i(t,i){var o=n(t,i);e[0].body.appendChild(o),r(o),e[0].body.removeChild(o)}return{copyText:i,supported:"queryCommandSupported"in e[0]&&e[0].queryCommandSupported("copy")}}]).directive("clipboard",["clipboard",function(t){return{restrict:"A",scope:{onCopied:"&",onError:"&",text:"=",supported:"=?"},link:function(n,r){n.supported=t.supported,r.on("click",function(i){try{t.copyText(n.text,r[0]),e.isFunction(n.onCopied)&&n.$evalAsync(n.onCopied())}catch(t){e.isFunction(n.onError)&&n.$evalAsync(n.onError({err:t}))}})}}}])}),angular.module("focusIt",[]).factory("focus",["$timeout",function(e){return function(t,n){e(function(){var e=document.getElementById(t);e&&e.focus()},n||0)}}]).directive("focusOn",["focus",function(e){return function(t,n,r){n.on(r.focusOn,function(){e(r.focusId,r.focusTimeout)}),t.$on("$destroy",function(){n.off(r.focusOn)})}}]),function(e,t){"function"==typeof define&&define.amd?define(["module","angular"],function(e,n){e.exports=t(n)}):"object"==typeof module?module.exports=t(require("angular")):(e.mp||(e.mp={}),e.mp.datePicker=t(e.angular))}(this,function(e){"use strict";return e.module("mp.datePicker",[]).directive("datePicker",["$window","$locale",function(t,n){t.document.createElement("date-picker");return{restrict:"AE",template:'<div class="angular-date-picker">    <div class="_month">        <button type="button" class="_previous" ng-click="changeMonthBy(-1)">&laquo;</button>        <span title="{{ months[month].fullName }}">{{ months[month].shortName }}</span> {{ year }}        <button type="button" class="_next" ng-click="changeMonthBy(1)">&raquo;</button>    </div>    <div class="_days" ng-click="pickDay($event)">        <div class="_day-of-week" ng-repeat="dayOfWeek in daysOfWeek" title="{{ dayOfWeek.fullName }}">{{ dayOfWeek.firstLetter }}</div>        <div class="_day -padding" ng-repeat="day in leadingDays" data-month-offset="-1">{{ day }}</div>        <div class="_day" ng-repeat="day in days" ng-class="{ \'-selected\': (day === selectedDay), \'-today\': (day === today) }">{{ day }}</div>        <div class="_day -padding" ng-repeat="day in trailingDays" data-month-offset="1">{{ day }}</div>    </div></div>',replace:!0,require:"?ngModel",scope:{onDateSelected:"&",formatDate:"=",parseDate:"="},link:function(t,r,i,o){function a(e){t.year=e.getFullYear(),t.month=e.getMonth();var n=new Date;t.today=n.getFullYear()===t.year&&n.getMonth()===t.month?n.getDate():null,t.selectedDay=s&&s.getFullYear()===t.year&&s.getMonth()===t.month?s.getDate():null;var r=new Date(t.year,t.month,1),i=new Date(t.year,t.month+1,0),o=new Date(t.year,t.month,0),a=i.getDate(),u=o.getDate(),c=r.getDay(),h=(c-f+7)%7||7;t.leadingDays=l.slice(-h-(31-u),u),t.days=l.slice(0,a),t.trailingDays=l.slice(0,42-(h+a))}for(var s=null,l=[],u=[],c=[],f="number"==typeof n.DATETIME_FORMATS.FIRSTDAYOFWEEK?(n.DATETIME_FORMATS.FIRSTDAYOFWEEK+1)%7:0,h=1;h<=31;h++)l.push(h);for(var h=0;h<12;h++)u.push({fullName:n.DATETIME_FORMATS.MONTH[h],shortName:n.DATETIME_FORMATS.SHORTMONTH[h]});for(var h=0;h<7;h++){var d=n.DATETIME_FORMATS.DAY[(h+f)%7];c.push({fullName:d,firstLetter:d.substr(0,1)})}t.months=u,t.daysOfWeek=c,a(new Date),o&&(o.$render=function(){s=o.$viewValue?t.parseDate?t.parseDate(o.$viewValue):new Date(o.$viewValue):null,s&&!isNaN(s)?a(s):t.selectedDay=null}),t.changeMonthBy=function(e){a(new Date(t.year,t.month+e,1))},t.pickDay=function(n){var r=e.element(n.target);if(r.hasClass("_day")){var i=r.attr("data-month-offset");i&&t.changeMonthBy(parseInt(i,10));var a=parseInt(r.text(),10);t.selectedDay=a,s=new Date(t.year,t.month,a),o&&o.$setViewValue(t.formatDate?t.formatDate(s):s.toLocaleDateString()),t.onDateSelected()}}}}}]).name}),require=function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n||e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){!function(e,r){"function"==typeof define&&define.amd?define([],r):"object"==typeof n?t.exports=r():e.BrV=r()}(this,function(){function e(e,t){var n=t.algorithmSteps,r=a.handleStr[n[0]](e),i=a.sum[n[1]](r,t.pesos),o=a.rest[n[2]](i);return parseInt(r[t.dvpos])===a.expectedDV[n[3]](o,r)}function t(t,n){if(n.match&&!n.match.test(t))return!1;for(var r=0;r<n.dvs.length;r++)if(!e(t,n.dvs[r]))return!1;return!0}var n={};n.validate=function(e){var t=[6,5,4,3,2,9,8,7,6,5,4,3,2];e=e.replace(/[^\d]/g,"");var n=/^(0{14}|1{14}|2{14}|3{14}|4{14}|5{14}|6{14}|7{14}|8{14}|9{14})$/;if(!e||14!==e.length||n.test(e))return!1;e=e.split("");for(var r=0,i=0;r<12;r++)i+=e[r]*t[r+1];if(i=11-i%11,i=i>=10?0:i,parseInt(e[12])!==i)return!1;for(r=0,i=0;r<=12;r++)i+=e[r]*t[r];return i=11-i%11,i=i>=10?0:i,parseInt(e[13])===i};var r={};r.validate=function(e){function t(t){for(var n=0,r=t-9,i=0;i<9;i++)n+=parseInt(e.charAt(i+r))*(i+1);return n%11%10===parseInt(e.charAt(t))}e=e.replace(/[^\d]+/g,"");var n=/^(0{11}|1{11}|2{11}|3{11}|4{11}|5{11}|6{11}|7{11}|8{11}|9{11})$/;return!(!e||11!==e.length||n.test(e))&&(t(9)&&t(10))};var i=function(e){if(!(this instanceof i))return new i(e);this.rules=o[e]||[],this.rule,i.prototype._defineRule=function(e){this.rule=void 0;for(var t=0;t<this.rules.length&&void 0===this.rule;t++){var n=e.replace(/[^\d]/g,""),r=this.rules[t];n.length!==r.chars||r.match&&!r.match.test(e)||(this.rule=r)}return!!this.rule},i.prototype.validate=function(e){return!(!e||!this._defineRule(e))&&this.rule.validate(e)}},o={},a={handleStr:{onlyNumbers:function(e){return e.replace(/[^\d]/g,"").split("")},mgSpec:function(e){var t=e.replace(/[^\d]/g,"");return t=t.substr(0,3)+"0"+t.substr(3,t.length),t.split("")}},sum:{normalSum:function(e,t){for(var n=e,r=0,i=0;i<t.length;i++)r+=parseInt(n[i])*t[i];return r},individualSum:function(e,t){for(var n=e,r=0,i=0;i<t.length;i++){var o=parseInt(n[i])*t[i];r+=o%10+parseInt(o/10)}return r},apSpec:function(e,t){var n=this.normalSum(e,t),r=e.join("");return r>="030000010"&&r<="030170009"?n+5:r>="030170010"&&r<="030190229"?n+9:n}},rest:{mod11:function(e){return e%11},mod10:function(e){return e%10},mod9:function(e){return e%9}},expectedDV:{minusRestOf11:function(e){return e<2?0:11-e},minusRestOf11v2:function(e){return e<2?11-e-10:11-e},minusRestOf10:function(e){return e<1?0:10-e},mod10:function(e){return e%10},goSpec:function(e,t){var n=t.join("");return 1===e?n>="101031050"&&n<="101199979"?1:0:0===e?0:11-e},apSpec:function(e,t){var n=t.join("");return 0===e?n>="030170010"&&n<="030190229"?1:0:1===e?0:11-e},voidFn:function(e){return e}}};return o.PE=[{chars:9,dvs:[{dvpos:7,pesos:[8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]},{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}},{chars:14,pesos:[[1,2,3,4,5,9,8,7,6,5,4,3,2]],dvs:[{dvpos:13,pesos:[5,4,3,2,1,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11v2"]}],validate:function(e){return t(e,this)}}],o.RS=[{chars:10,dvs:[{dvpos:9,pesos:[2,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.AC=[{chars:13,match:/^01/,dvs:[{dvpos:11,pesos:[4,3,2,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]},{dvpos:12,pesos:[5,4,3,2,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.MG=[{chars:13,dvs:[{dvpos:12,pesos:[1,2,1,2,1,2,1,2,1,2,1,2],algorithmSteps:["mgSpec","individualSum","mod10","minusRestOf10"]},{dvpos:12,pesos:[3,2,11,10,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.SP=[{chars:12,match:/^[0-9]/,dvs:[{dvpos:8,pesos:[1,3,4,5,6,7,8,10],algorithmSteps:["onlyNumbers","normalSum","mod11","mod10"]},{dvpos:11,pesos:[3,2,10,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","mod10"]}],validate:function(e){return t(e,this)}},{chars:12,match:/^P/i,dvs:[{dvpos:8,pesos:[1,3,4,5,6,7,8,10],algorithmSteps:["onlyNumbers","normalSum","mod11","mod10"]}],validate:function(e){return t(e,this)}}],o.DF=[{chars:13,dvs:[{dvpos:11,pesos:[4,3,2,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]},{dvpos:12,pesos:[5,4,3,2,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.ES=[{chars:9,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.BA=[{chars:8,match:/^[0123458]/,dvs:[{dvpos:7,pesos:[7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod10","minusRestOf10"]},{dvpos:6,pesos:[8,7,6,5,4,3,0,2],algorithmSteps:["onlyNumbers","normalSum","mod10","minusRestOf10"]}],validate:function(e){return t(e,this)}},{chars:8,match:/^[679]/,dvs:[{dvpos:7,pesos:[7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]},{dvpos:6,pesos:[8,7,6,5,4,3,0,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}},{chars:9,match:/^[0-9][0123458]/,dvs:[{dvpos:8,pesos:[8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod10","minusRestOf10"]},{dvpos:7,pesos:[9,8,7,6,5,4,3,0,2],algorithmSteps:["onlyNumbers","normalSum","mod10","minusRestOf10"]}],validate:function(e){return t(e,this)}},{chars:9,match:/^[0-9][679]/,dvs:[{dvpos:8,pesos:[8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]},{dvpos:7,pesos:[9,8,7,6,5,4,3,0,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.AM=[{chars:9,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.RN=[{chars:9,match:/^20/,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}},{chars:10,match:/^20/,dvs:[{dvpos:8,pesos:[10,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.RO=[{chars:14,dvs:[{dvpos:13,pesos:[6,5,4,3,2,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.PR=[{chars:10,dvs:[{dvpos:8,pesos:[3,2,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]},{dvpos:9,pesos:[4,3,2,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.SC=[{chars:9,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.RJ=[{chars:8,dvs:[{dvpos:7,pesos:[2,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.PA=[{chars:9,match:/^15/,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.SE=[{chars:9,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.PB=[{chars:9,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.CE=[{chars:9,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.PI=[{chars:9,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.MA=[{chars:9,match:/^12/,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.MT=[{chars:11,dvs:[{dvpos:10,pesos:[3,2,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.MS=[{chars:9,match:/^28/,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.TO=[{chars:11,match:/^[0-9]{2}((0[123])|(99))/,dvs:[{dvpos:10,pesos:[9,8,0,0,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.AL=[{chars:9,match:/^24[03578]/,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(e){return t(e,this)}}],o.RR=[{chars:9,match:/^24/,dvs:[{dvpos:8,pesos:[1,2,3,4,5,6,7,8],algorithmSteps:["onlyNumbers","normalSum","mod9","voidFn"]}],validate:function(e){return t(e,this)}}],o.GO=[{chars:9,match:/^1[015]/,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","goSpec"]}],validate:function(e){return t(e,this)}}],o.AP=[{chars:9,match:/^03/,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","apSpec","mod11","apSpec"]}],validate:function(e){return t(e,this)}}],{ie:i,cpf:r,cnpj:n}})},{}],2:[function(e,t,n){!function(e,r){"object"==typeof n&&void 0!==t?t.exports=r():"function"==typeof define&&define.amd?define(r):e.moment=r()}(this,function(){"use strict";function n(){return pr.apply(null,arguments)}function r(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return"[object Object]"===Object.prototype.toString.call(e)}function o(e){var t;for(t in e)return!1;return!0}function a(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function s(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){for(var n in t)l(t,n)&&(e[n]=t[n]);return l(t,"toString")&&(e.toString=t.toString),l(t,"valueOf")&&(e.valueOf=t.valueOf),e}function c(e,t,n,r){return vt(e,t,n,r,!0).utc()}function f(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function h(e){return null==e._pf&&(e._pf=f()),e._pf}function d(e){if(null==e._isValid){var t=h(e),n=gr.call(t.parsedDateParts,function(e){return null!=e});e._isValid=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function p(e){var t=c(NaN);return null!=e?u(h(t),e):h(t).userInvalidated=!0,t}function g(e){return void 0===e}function m(e,t){var n,r,i;if(g(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),g(t._i)||(e._i=t._i),g(t._f)||(e._f=t._f),g(t._l)||(e._l=t._l),g(t._strict)||(e._strict=t._strict),g(t._tzm)||(e._tzm=t._tzm),g(t._isUTC)||(e._isUTC=t._isUTC),g(t._offset)||(e._offset=t._offset),g(t._pf)||(e._pf=h(t)),g(t._locale)||(e._locale=t._locale),mr.length>0)for(n in mr)r=mr[n],i=t[r],g(i)||(e[r]=i);return e}function v(e){m(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),!1===vr&&(vr=!0,n.updateOffset(this),vr=!1)}
function y(e){return e instanceof v||null!=e&&null!=e._isAMomentObject}function b(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function w(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=b(t)),n}function x(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&w(e[r])!==w(t[r]))&&a++;return a+o}function S(e){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function $(e,t){var r=!0;return u(function(){return null!=n.deprecationHandler&&n.deprecationHandler(null,e),r&&(S(e+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),r=!1),t.apply(this,arguments)},t)}function C(e,t){null!=n.deprecationHandler&&n.deprecationHandler(e,t),yr[e]||(S(t),yr[e]=!0)}function A(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function k(e){var t,n;for(n in e)t=e[n],A(t)?this[n]=t:this["_"+n]=t;this._config=e,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function _(e,t){var n,r=u({},e);for(n in t)l(t,n)&&(i(e[n])&&i(t[n])?(r[n]={},u(r[n],e[n]),u(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)l(e,n)&&!l(t,n)&&i(e[n])&&(r[n]=u({},r[n]));return r}function T(e){null!=e&&this.set(e)}function E(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return A(r)?r.call(t,n):r}function M(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function D(){return this._invalidDate}function P(e){return this._ordinal.replace("%d",e)}function R(e,t,n,r){var i=this._relativeTime[n];return A(i)?i(e,t,n,r):i.replace(/%d/i,e)}function O(e,t){var n=this._relativeTime[e>0?"future":"past"];return A(n)?n(t):n.replace(/%s/i,t)}function N(e,t){var n=e.toLowerCase();Cr[n]=Cr[n+"s"]=Cr[t]=e}function L(e){return"string"==typeof e?Cr[e]||Cr[e.toLowerCase()]:void 0}function I(e){var t,n,r={};for(n in e)l(e,n)&&(t=L(n))&&(r[t]=e[n]);return r}function z(e,t){Ar[e]=t}function B(e){var t=[];for(var n in e)t.push({unit:n,priority:Ar[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function F(e,t){return function(r){return null!=r?(H(this,e,r),n.updateOffset(this,t),this):j(this,e)}}function j(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function H(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function U(e){return e=L(e),A(this[e])?this[e]():this}function W(e,t){if("object"==typeof e){e=I(e);for(var n=B(e),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit])}else if(e=L(e),A(this[e]))return this[e](t);return this}function V(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function q(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(Er[e]=i),t&&(Er[t[0]]=function(){return V(i.apply(this,arguments),t[1],t[2])}),n&&(Er[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function Y(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function G(e){var t,n,r=e.match(kr);for(t=0,n=r.length;t<n;t++)Er[r[t]]?r[t]=Er[r[t]]:r[t]=Y(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=r[i]instanceof Function?r[i].call(t,e):r[i];return o}}function X(e,t){return e.isValid()?(t=K(t,e.localeData()),Tr[t]=Tr[t]||G(t),Tr[t](e)):e.localeData().invalidDate()}function K(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(_r.lastIndex=0;r>=0&&_r.test(e);)e=e.replace(_r,n),_r.lastIndex=0,r-=1;return e}function Z(e,t,n){Or[e]=A(t)?t:function(e,r){return e&&n?n:t}}function J(e,t){return l(Or,e)?Or[e](t._strict,t._locale):new RegExp(Q(e))}function Q(e){return ee(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}))}function ee(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function te(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(r=function(e,n){n[t]=w(e)}),n=0;n<e.length;n++)Nr[e[n]]=r}function ne(e,t){te(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function re(e,t,n){null!=t&&l(Nr,e)&&Nr[e](t,n._a,n,e)}function ie(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function oe(e,t){return r(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Vr).test(t)?"format":"standalone"][e.month()]}function ae(e,t){return r(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Vr.test(t)?"format":"standalone"][e.month()]}function se(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=c([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?(i=wr.call(this._shortMonthsParse,a),-1!==i?i:null):(i=wr.call(this._longMonthsParse,a),-1!==i?i:null):"MMM"===t?-1!==(i=wr.call(this._shortMonthsParse,a))?i:(i=wr.call(this._longMonthsParse,a),-1!==i?i:null):-1!==(i=wr.call(this._longMonthsParse,a))?i:(i=wr.call(this._shortMonthsParse,a),-1!==i?i:null)}function le(e,t,n){var r,i,o;if(this._monthsParseExact)return se.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=c([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ue(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=w(t);else if("number"!=typeof(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),ie(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ce(e){return null!=e?(ue(this,e),n.updateOffset(this,!0),this):j(this,"Month")}function fe(){return ie(this.year(),this.month())}function he(e){return this._monthsParseExact?(l(this,"_monthsRegex")||pe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=Gr),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function de(e){return this._monthsParseExact?(l(this,"_monthsRegex")||pe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=Xr),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pe(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=c([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=ee(r[t]),i[t]=ee(i[t]);for(t=0;t<24;t++)o[t]=ee(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function ge(e){return me(e)?366:365}function me(e){return e%4==0&&e%100!=0||e%400==0}function ve(){return me(this.year())}function ye(e,t,n,r,i,o,a){var s=new Date(e,t,n,r,i,o,a);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function be(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function we(e,t,n){var r=7+t-n;return-(7+be(e,0,r).getUTCDay()-t)%7+r-1}function xe(e,t,n,r,i){var o,a,s=(7+n-r)%7,l=we(e,r,i),u=1+7*(t-1)+s+l;return u<=0?(o=e-1,a=ge(o)+u):u>ge(e)?(o=e+1,a=u-ge(e)):(o=e,a=u),{year:o,dayOfYear:a}}function Se(e,t,n){var r,i,o=we(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?(i=e.year()-1,r=a+$e(i,t,n)):a>$e(e.year(),t,n)?(r=a-$e(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function $e(e,t,n){var r=we(e,t,n),i=we(e+1,t,n);return(ge(e)-r+i)/7}function Ce(e){return Se(e,this._week.dow,this._week.doy).week}function Ae(){return this._week.dow}function ke(){return this._week.doy}function _e(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Te(e){var t=Se(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Ee(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Me(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function De(e,t){return r(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]}function Pe(e){return this._weekdaysShort[e.day()]}function Re(e){return this._weekdaysMin[e.day()]}function Oe(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=c([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?(i=wr.call(this._weekdaysParse,a),-1!==i?i:null):"ddd"===t?(i=wr.call(this._shortWeekdaysParse,a),-1!==i?i:null):(i=wr.call(this._minWeekdaysParse,a),-1!==i?i:null):"dddd"===t?-1!==(i=wr.call(this._weekdaysParse,a))?i:-1!==(i=wr.call(this._shortWeekdaysParse,a))?i:(i=wr.call(this._minWeekdaysParse,a),-1!==i?i:null):"ddd"===t?-1!==(i=wr.call(this._shortWeekdaysParse,a))?i:-1!==(i=wr.call(this._weekdaysParse,a))?i:(i=wr.call(this._minWeekdaysParse,a),-1!==i?i:null):-1!==(i=wr.call(this._minWeekdaysParse,a))?i:-1!==(i=wr.call(this._weekdaysParse,a))?i:(i=wr.call(this._shortWeekdaysParse,a),-1!==i?i:null)}function Ne(e,t,n){var r,i,o;if(this._weekdaysParseExact)return Oe.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=c([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Le(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Ee(e,this.localeData()),this.add(e-t,"d")):t}function Ie(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function ze(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Me(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Be(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||He.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=ti),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Fe(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||He.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ni),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function je(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||He.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ri),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function He(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],s=[],l=[],u=[];for(t=0;t<7;t++)n=c([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),l.push(o),u.push(r),u.push(i),u.push(o);for(a.sort(e),s.sort(e),l.sort(e),u.sort(e),t=0;t<7;t++)s[t]=ee(s[t]),l[t]=ee(l[t]),u[t]=ee(u[t]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Ue(){return this.hours()%12||12}function We(){return this.hours()||24}function Ve(e,t){q(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function qe(e,t){return t._meridiemParse}function Ye(e){return"p"===(e+"").toLowerCase().charAt(0)}function Ge(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Xe(e){return e?e.toLowerCase().replace("_","-"):e}function Ke(e){for(var t,n,r,i,o=0;o<e.length;){for(i=Xe(e[o]).split("-"),t=i.length,n=Xe(e[o+1]),n=n?n.split("-"):null;t>0;){if(r=Ze(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&x(i,n,!0)>=t-1)break;t--}o++}return null}function Ze(n){var r=null;if(!si[n]&&void 0!==t&&t&&t.exports)try{r=ii._abbr,e("./locale/"+n),Je(r)}catch(e){}return si[n]}function Je(e,t){var n;return e&&(n=g(t)?tt(e):Qe(e,t))&&(ii=n),ii._abbr}function Qe(e,t){if(null!==t){var n=ai;return t.abbr=e,null!=si[e]?(C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=si[e]._config):null!=t.parentLocale&&(null!=si[t.parentLocale]?n=si[t.parentLocale]._config:C("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")),si[e]=new T(_(n,t)),Je(e),si[e]}return delete si[e],null}function et(e,t){if(null!=t){var n,r=ai;null!=si[e]&&(r=si[e]._config),t=_(r,t),n=new T(t),n.parentLocale=si[e],si[e]=n,Je(e)}else null!=si[e]&&(null!=si[e].parentLocale?si[e]=si[e].parentLocale:null!=si[e]&&delete si[e]);return si[e]}function tt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ii;if(!r(e)){if(t=Ze(e))return t;e=[e]}return Ke(e)}function nt(){return br(si)}function rt(e){var t,n=e._a;return n&&-2===h(e).overflow&&(t=n[Ir]<0||n[Ir]>11?Ir:n[zr]<1||n[zr]>ie(n[Lr],n[Ir])?zr:n[Br]<0||n[Br]>24||24===n[Br]&&(0!==n[Fr]||0!==n[jr]||0!==n[Hr])?Br:n[Fr]<0||n[Fr]>59?Fr:n[jr]<0||n[jr]>59?jr:n[Hr]<0||n[Hr]>999?Hr:-1,h(e)._overflowDayOfYear&&(t<Lr||t>zr)&&(t=zr),h(e)._overflowWeeks&&-1===t&&(t=Ur),h(e)._overflowWeekday&&-1===t&&(t=Wr),h(e).overflow=t),e}function it(e){var t,n,r,i,o,a,s=e._i,l=li.exec(s)||ui.exec(s);if(l){for(h(e).iso=!0,t=0,n=fi.length;t<n;t++)if(fi[t][1].exec(l[1])){i=fi[t][0],r=!1!==fi[t][2];break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=hi.length;t<n;t++)if(hi[t][1].exec(l[3])){o=(l[2]||" ")+hi[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(l[4]){if(!ci.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),ct(e)}else e._isValid=!1}function ot(e){var t=di.exec(e._i);if(null!==t)return void(e._d=new Date(+t[1]));it(e),!1===e._isValid&&(delete e._isValid,n.createFromInputFallback(e))}function at(e,t,n){return null!=e?e:null!=t?t:n}function st(e){var t=new Date(n.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function lt(e){var t,n,r,i,o=[];if(!e._d){for(r=st(e),e._w&&null==e._a[zr]&&null==e._a[Ir]&&ut(e),e._dayOfYear&&(i=at(e._a[Lr],r[Lr]),e._dayOfYear>ge(i)&&(h(e)._overflowDayOfYear=!0),n=be(i,0,e._dayOfYear),e._a[Ir]=n.getUTCMonth(),e._a[zr]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Br]&&0===e._a[Fr]&&0===e._a[jr]&&0===e._a[Hr]&&(e._nextDay=!0,e._a[Br]=0),e._d=(e._useUTC?be:ye).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Br]=24)}}function ut(e){var t,n,r,i,o,a,s,l;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(o=1,a=4,n=at(t.GG,e._a[Lr],Se(yt(),1,4).year),r=at(t.W,1),((i=at(t.E,1))<1||i>7)&&(l=!0)):(o=e._locale._week.dow,a=e._locale._week.doy,n=at(t.gg,e._a[Lr],Se(yt(),o,a).year),r=at(t.w,1),null!=t.d?((i=t.d)<0||i>6)&&(l=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(l=!0)):i=o),r<1||r>$e(n,o,a)?h(e)._overflowWeeks=!0:null!=l?h(e)._overflowWeekday=!0:(s=xe(n,r,i,o,a),e._a[Lr]=s.year,e._dayOfYear=s.dayOfYear)}function ct(e){if(e._f===n.ISO_8601)return void it(e);e._a=[],h(e).empty=!0;var t,r,i,o,a,s=""+e._i,l=s.length,u=0;for(i=K(e._f,e._locale).match(kr)||[],t=0;t<i.length;t++)o=i[t],r=(s.match(J(o,e))||[])[0],r&&(a=s.substr(0,s.indexOf(r)),a.length>0&&h(e).unusedInput.push(a),s=s.slice(s.indexOf(r)+r.length),u+=r.length),Er[o]?(r?h(e).empty=!1:h(e).unusedTokens.push(o),re(o,r,e)):e._strict&&!r&&h(e).unusedTokens.push(o);h(e).charsLeftOver=l-u,s.length>0&&h(e).unusedInput.push(s),e._a[Br]<=12&&!0===h(e).bigHour&&e._a[Br]>0&&(h(e).bigHour=void 0),h(e).parsedDateParts=e._a.slice(0),h(e).meridiem=e._meridiem,e._a[Br]=ft(e._locale,e._a[Br],e._meridiem),lt(e),rt(e)}function ft(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function ht(e){var t,n,r,i,o;if(0===e._f.length)return h(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,t=m({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],ct(t),d(t)&&(o+=h(t).charsLeftOver,o+=10*h(t).unusedTokens.length,h(t).score=o,(null==r||o<r)&&(r=o,n=t));u(e,n||t)}function dt(e){if(!e._d){var t=I(e._i);e._a=s([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),lt(e)}}function pt(e){var t=new v(rt(gt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function gt(e){var t=e._i,n=e._f;return e._locale=e._locale||tt(e._l),null===t||void 0===n&&""===t?p({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),y(t)?new v(rt(t)):(r(n)?ht(e):a(t)?e._d=t:n?ct(e):mt(e),d(e)||(e._d=null),e))}function mt(e){var t=e._i;void 0===t?e._d=new Date(n.now()):a(t)?e._d=new Date(t.valueOf()):"string"==typeof t?ot(e):r(t)?(e._a=s(t.slice(0),function(e){return parseInt(e,10)}),lt(e)):"object"==typeof t?dt(e):"number"==typeof t?e._d=new Date(t):n.createFromInputFallback(e)}function vt(e,t,n,a,s){var l={};return"boolean"==typeof n&&(a=n,n=void 0),(i(e)&&o(e)||r(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=n,l._i=e,l._f=t,l._strict=a,pt(l)}function yt(e,t,n,r){return vt(e,t,n,r,!1)}function bt(e,t){var n,i;if(1===t.length&&r(t[0])&&(t=t[0]),!t.length)return yt();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}function wt(){return bt("isBefore",[].slice.call(arguments,0))}function xt(){return bt("isAfter",[].slice.call(arguments,0))}function St(e){var t=I(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=tt(),this._bubble()}function $t(e){return e instanceof St}function Ct(e,t){q(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+V(~~(e/60),2)+t+V(~~e%60,2)})}function At(e,t){var n=(t||"").match(e)||[],r=n[n.length-1]||[],i=(r+"").match(vi)||["-",0,0],o=60*i[1]+w(i[2]);return"+"===i[0]?o:-o}function kt(e,t){var r,i;return t._isUTC?(r=t.clone(),i=(y(e)||a(e)?e.valueOf():yt(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),n.updateOffset(r,!1),r):yt(e).local()}function _t(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Tt(e,t){var r,i=this._offset||0;return this.isValid()?null!=e?("string"==typeof e?e=At(Pr,e):Math.abs(e)<16&&(e*=60),!this._isUTC&&t&&(r=_t(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==e&&(!t||this._changeInProgress?Vt(this,Bt(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:_t(this):null!=e?this:NaN}function Et(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Mt(e){return this.utcOffset(0,e)}function Dt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(_t(this),"m")),this}function Pt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(At(Dr,this._i)),this}function Rt(e){return!!this.isValid()&&(e=e?yt(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function Ot(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Nt(){if(!g(this._isDSTShifted))return this._isDSTShifted;var e={};if(m(e,this),e=gt(e),e._a){var t=e._isUTC?c(e._a):yt(e._a);this._isDSTShifted=this.isValid()&&x(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Lt(){return!!this.isValid()&&!this._isUTC}function It(){return!!this.isValid()&&this._isUTC}function zt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Bt(e,t){var n,r,i,o=e,a=null;return $t(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(o={},t?o[t]=e:o.milliseconds=e):(a=yi.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:w(a[zr])*n,h:w(a[Br])*n,m:w(a[Fr])*n,s:w(a[jr])*n,ms:w(a[Hr])*n}):(a=bi.exec(e))?(n="-"===a[1]?-1:1,o={y:Ft(a[2],n),M:Ft(a[3],n),w:Ft(a[4],n),d:Ft(a[5],n),h:Ft(a[6],n),m:Ft(a[7],n),s:Ft(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=Ht(yt(o.from),yt(o.to)),o={},o.ms=i.milliseconds,o.M=i.months),r=new St(o),$t(e)&&l(e,"_locale")&&(r._locale=e._locale),r}function Ft(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function jt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Ht(e,t){var n;return e.isValid()&&t.isValid()?(t=kt(t,e),e.isBefore(t)?n=jt(e,t):(n=jt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Ut(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Wt(e,t){return function(n,r){var i,o;return null===r||isNaN(+r)||(C(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=Bt(n,r),Vt(this,i,e),this}}function Vt(e,t,r,i){var o=t._milliseconds,a=Ut(t._days),s=Ut(t._months);e.isValid()&&(i=null==i||i,o&&e._d.setTime(e._d.valueOf()+o*r),a&&H(e,"Date",j(e,"Date")+a*r),s&&ue(e,j(e,"Month")+s*r),i&&n.updateOffset(e,a||s))}function qt(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Yt(e,t){var r=e||yt(),i=kt(r,this).startOf("day"),o=n.calendarFormat(this,i)||"sameElse",a=t&&(A(t[o])?t[o].call(this,r):t[o]);return this.format(a||this.localeData().calendar(o,this,yt(r)))}function Gt(){return new v(this)}function Xt(e,t){var n=y(e)?e:yt(e);return!(!this.isValid()||!n.isValid())&&(t=L(g(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Kt(e,t){var n=y(e)?e:yt(e);return!(!this.isValid()||!n.isValid())&&(t=L(g(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Zt(e,t,n,r){return r=r||"()",("("===r[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))}function Jt(e,t){var n,r=y(e)?e:yt(e);return!(!this.isValid()||!r.isValid())&&(t=L(t||"millisecond"),"millisecond"===t?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Qt(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function en(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function tn(e,t,n){var r,i,o,a;return this.isValid()?(r=kt(e,this),r.isValid()?(i=6e4*(r.utcOffset()-this.utcOffset()),t=L(t),"year"===t||"month"===t||"quarter"===t?(a=nn(this,r),"quarter"===t?a/=3:"year"===t&&(a/=12)):(o=this-r,a="second"===t?o/1e3:"minute"===t?o/6e4:"hour"===t?o/36e5:"day"===t?(o-i)/864e5:"week"===t?(o-i)/6048e5:o),n?a:b(a)):NaN):NaN}function nn(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(i,"months");return t-o<0?(n=e.clone().add(i-1,"months"),r=(t-o)/(o-n)):(n=e.clone().add(i+1,"months"),r=(t-o)/(n-o)),-(i+r)||0}function rn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function on(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?A(Date.prototype.toISOString)?this.toDate().toISOString():X(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):X(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function an(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=X(this,e);return this.localeData().postformat(t)}function sn(e,t){return this.isValid()&&(y(e)&&e.isValid()||yt(e).isValid())?Bt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ln(e){return this.from(yt(),e)}function un(e,t){return this.isValid()&&(y(e)&&e.isValid()||yt(e).isValid())?Bt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function cn(e){return this.to(yt(),e)}function fn(e){var t;return void 0===e?this._locale._abbr:(t=tt(e),null!=t&&(this._locale=t),this)}function hn(){return this._locale}function dn(e){switch(e=L(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function pn(e){return void 0===(e=L(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function gn(){return this._d.valueOf()-6e4*(this._offset||0)}function mn(){return Math.floor(this.valueOf()/1e3)}function vn(){return new Date(this.valueOf())}function yn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function bn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function wn(){return this.isValid()?this.toISOString():null}function xn(){return d(this)}function Sn(){return u({},h(this))}function $n(){return h(this).overflow}function Cn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function An(e,t){q(0,[e,e.length],0,t)}function kn(e){return Mn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function _n(e){return Mn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Tn(){return $e(this.year(),1,4)}function En(){var e=this.localeData()._week;return $e(this.year(),e.dow,e.doy)}function Mn(e,t,n,r,i){var o;return null==e?Se(this,r,i).year:(o=$e(e,r,i),t>o&&(t=o),Dn.call(this,e,t,n,r,i))}function Dn(e,t,n,r,i){var o=xe(e,t,n,r,i),a=be(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Pn(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Rn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function On(e,t){t[Hr]=w(1e3*("0."+e))}function Nn(){return this._isUTC?"UTC":""}function Ln(){return this._isUTC?"Coordinated Universal Time":""}function In(e){return yt(1e3*e)}function zn(){return yt.apply(null,arguments).parseZone()}function Bn(e){return e}function Fn(e,t,n,r){var i=tt(),o=c().set(r,t);return i[n](o,e)}function jn(e,t,n){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return Fn(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Fn(e,r,n,"month");return i}function Hn(e,t,n,r){"boolean"==typeof e?("number"==typeof t&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,"number"==typeof t&&(n=t,t=void 0),t=t||"");var i=tt(),o=e?i._week.dow:0;if(null!=n)return Fn(t,(n+o)%7,r,"day");var a,s=[];for(a=0;a<7;a++)s[a]=Fn(t,(a+o)%7,r,"day");return s}function Un(e,t){return jn(e,t,"months")}function Wn(e,t){return jn(e,t,"monthsShort")}function Vn(e,t,n){return Hn(e,t,n,"weekdays")}function qn(e,t,n){return Hn(e,t,n,"weekdaysShort")}function Yn(e,t,n){return Hn(e,t,n,"weekdaysMin")}function Gn(){var e=this._data;return this._milliseconds=Di(this._milliseconds),this._days=Di(this._days),this._months=Di(this._months),e.milliseconds=Di(e.milliseconds),e.seconds=Di(e.seconds),e.minutes=Di(e.minutes),e.hours=Di(e.hours),e.months=Di(e.months),e.years=Di(e.years),this}function Xn(e,t,n,r){var i=Bt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Kn(e,t){return Xn(this,e,t,1)}function Zn(e,t){return Xn(this,e,t,-1)}function Jn(e){return e<0?Math.floor(e):Math.ceil(e)}function Qn(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*Jn(tr(s)+a),a=0,s=0),l.milliseconds=o%1e3,e=b(o/1e3),l.seconds=e%60,t=b(e/60),l.minutes=t%60,n=b(t/60),l.hours=n%24,a+=b(n/24),i=b(er(a)),s+=i,a-=Jn(tr(i)),r=b(s/12),s%=12,l.days=a,l.months=s,l.years=r,this}function er(e){return 4800*e/146097}function tr(e){return 146097*e/4800}function nr(e){var t,n,r=this._milliseconds;if("month"===(e=L(e))||"year"===e)return t=this._days+r/864e5,n=this._months+er(t),"month"===e?n:n/12;switch(t=this._days+Math.round(tr(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function rr(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12)}function ir(e){return function(){return this.as(e)}}function or(e){return e=L(e),this[e+"s"]()}function ar(e){return function(){return this._data[e]}}function sr(){return b(this.days()/7)}function lr(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function ur(e,t,n){var r=Bt(e).abs(),i=Yi(r.as("s")),o=Yi(r.as("m")),a=Yi(r.as("h")),s=Yi(r.as("d")),l=Yi(r.as("M")),u=Yi(r.as("y")),c=i<Gi.s&&["s",i]||o<=1&&["m"]||o<Gi.m&&["mm",o]||a<=1&&["h"]||a<Gi.h&&["hh",a]||s<=1&&["d"]||s<Gi.d&&["dd",s]||l<=1&&["M"]||l<Gi.M&&["MM",l]||u<=1&&["y"]||["yy",u];return c[2]=t,c[3]=+e>0,c[4]=n,lr.apply(null,c)}function cr(e){return void 0===e?Yi:"function"==typeof e&&(Yi=e,!0)}function fr(e,t){return void 0!==Gi[e]&&(void 0===t?Gi[e]:(Gi[e]=t,!0))}function hr(e){var t=this.localeData(),n=ur(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function dr(){var e,t,n,r=Xi(this._milliseconds)/1e3,i=Xi(this._days),o=Xi(this._months);e=b(r/60),t=b(e/60),r%=60,e%=60,n=b(o/12),o%=12;var a=n,s=o,l=i,u=t,c=e,f=r,h=this.asSeconds()
;return h?(h<0?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(u||c||f?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(f?f+"S":""):"P0D"}var pr,gr;gr=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var mr=n.momentProperties=[],vr=!1,yr={};n.suppressDeprecationWarnings=!1,n.deprecationHandler=null;var br;br=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)l(e,t)&&n.push(t);return n};var wr,xr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Sr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},$r={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Cr={},Ar={},kr=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,_r=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Tr={},Er={},Mr=/[+-]?\d{6}/,Dr=/Z|[+-]\d\d:?\d\d/gi,Pr=/Z|[+-]\d\d(?::?\d\d)?/gi,Rr=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Or={},Nr={},Lr=0,Ir=1,zr=2,Br=3,Fr=4,jr=5,Hr=6,Ur=7,Wr=8;wr=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},q("M",["MM",2],"Mo",function(){return this.month()+1}),q("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),q("MMMM",0,0,function(e){return this.localeData().months(this,e)}),N("month","M"),z("month",8),Z("M",/\d\d?/),Z("MM",/\d\d?/,/\d\d/),Z("MMM",function(e,t){return t.monthsShortRegex(e)}),Z("MMMM",function(e,t){return t.monthsRegex(e)}),te(["M","MM"],function(e,t){t[Ir]=w(e)-1}),te(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[Ir]=i:h(n).invalidMonth=e});var Vr=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,qr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Yr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Gr=Rr,Xr=Rr;q("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),q(0,["YY",2],0,function(){return this.year()%100}),q(0,["YYYY",4],0,"year"),q(0,["YYYYY",5],0,"year"),q(0,["YYYYYY",6,!0],0,"year"),N("year","y"),z("year",1),Z("Y",/[+-]?\d+/),Z("YY",/\d\d?/,/\d\d/),Z("YYYY",/\d{1,4}/,/\d{4}/),Z("YYYYY",/[+-]?\d{1,6}/,Mr),Z("YYYYYY",/[+-]?\d{1,6}/,Mr),te(["YYYYY","YYYYYY"],Lr),te("YYYY",function(e,t){t[Lr]=2===e.length?n.parseTwoDigitYear(e):w(e)}),te("YY",function(e,t){t[Lr]=n.parseTwoDigitYear(e)}),te("Y",function(e,t){t[Lr]=parseInt(e,10)}),n.parseTwoDigitYear=function(e){return w(e)+(w(e)>68?1900:2e3)};var Kr=F("FullYear",!0);q("w",["ww",2],"wo","week"),q("W",["WW",2],"Wo","isoWeek"),N("week","w"),N("isoWeek","W"),z("week",5),z("isoWeek",5),Z("w",/\d\d?/),Z("ww",/\d\d?/,/\d\d/),Z("W",/\d\d?/),Z("WW",/\d\d?/,/\d\d/),ne(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=w(e)});var Zr={dow:0,doy:6};q("d",0,"do","day"),q("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),q("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),q("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),q("e",0,0,"weekday"),q("E",0,0,"isoWeekday"),N("day","d"),N("weekday","e"),N("isoWeekday","E"),z("day",11),z("weekday",11),z("isoWeekday",11),Z("d",/\d\d?/),Z("e",/\d\d?/),Z("E",/\d\d?/),Z("dd",function(e,t){return t.weekdaysMinRegex(e)}),Z("ddd",function(e,t){return t.weekdaysShortRegex(e)}),Z("dddd",function(e,t){return t.weekdaysRegex(e)}),ne(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:h(n).invalidWeekday=e}),ne(["d","e","E"],function(e,t,n,r){t[r]=w(e)});var Jr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Qr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ei="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ti=Rr,ni=Rr,ri=Rr;q("H",["HH",2],0,"hour"),q("h",["hh",2],0,Ue),q("k",["kk",2],0,We),q("hmm",0,0,function(){return""+Ue.apply(this)+V(this.minutes(),2)}),q("hmmss",0,0,function(){return""+Ue.apply(this)+V(this.minutes(),2)+V(this.seconds(),2)}),q("Hmm",0,0,function(){return""+this.hours()+V(this.minutes(),2)}),q("Hmmss",0,0,function(){return""+this.hours()+V(this.minutes(),2)+V(this.seconds(),2)}),Ve("a",!0),Ve("A",!1),N("hour","h"),z("hour",13),Z("a",qe),Z("A",qe),Z("H",/\d\d?/),Z("h",/\d\d?/),Z("HH",/\d\d?/,/\d\d/),Z("hh",/\d\d?/,/\d\d/),Z("hmm",/\d\d\d\d?/),Z("hmmss",/\d\d\d\d\d\d?/),Z("Hmm",/\d\d\d\d?/),Z("Hmmss",/\d\d\d\d\d\d?/),te(["H","HH"],Br),te(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),te(["h","hh"],function(e,t,n){t[Br]=w(e),h(n).bigHour=!0}),te("hmm",function(e,t,n){var r=e.length-2;t[Br]=w(e.substr(0,r)),t[Fr]=w(e.substr(r)),h(n).bigHour=!0}),te("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[Br]=w(e.substr(0,r)),t[Fr]=w(e.substr(r,2)),t[jr]=w(e.substr(i)),h(n).bigHour=!0}),te("Hmm",function(e,t,n){var r=e.length-2;t[Br]=w(e.substr(0,r)),t[Fr]=w(e.substr(r))}),te("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[Br]=w(e.substr(0,r)),t[Fr]=w(e.substr(r,2)),t[jr]=w(e.substr(i))});var ii,oi=F("Hours",!0),ai={calendar:xr,longDateFormat:Sr,invalidDate:"Invalid date",ordinal:"%d",ordinalParse:/\d{1,2}/,relativeTime:$r,months:qr,monthsShort:Yr,week:Zr,weekdays:Jr,weekdaysMin:ei,weekdaysShort:Qr,meridiemParse:/[ap]\.?m?\.?/i},si={},li=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ui=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ci=/Z|[+-]\d\d(?::?\d\d)?/,fi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],hi=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],di=/^\/?Date\((\-?\d+)/i;n.createFromInputFallback=$("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),n.ISO_8601=function(){};var pi=$("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=yt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:p()}),gi=$("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=yt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:p()}),mi=function(){return Date.now?Date.now():+new Date};Ct("Z",":"),Ct("ZZ",""),Z("Z",Pr),Z("ZZ",Pr),te(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=At(Pr,e)});var vi=/([\+\-]|\d\d)/gi;n.updateOffset=function(){};var yi=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,bi=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Bt.fn=St.prototype;var wi=Wt(1,"add"),xi=Wt(-1,"subtract");n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Si=$("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});q(0,["gg",2],0,function(){return this.weekYear()%100}),q(0,["GG",2],0,function(){return this.isoWeekYear()%100}),An("gggg","weekYear"),An("ggggg","weekYear"),An("GGGG","isoWeekYear"),An("GGGGG","isoWeekYear"),N("weekYear","gg"),N("isoWeekYear","GG"),z("weekYear",1),z("isoWeekYear",1),Z("G",/[+-]?\d+/),Z("g",/[+-]?\d+/),Z("GG",/\d\d?/,/\d\d/),Z("gg",/\d\d?/,/\d\d/),Z("GGGG",/\d{1,4}/,/\d{4}/),Z("gggg",/\d{1,4}/,/\d{4}/),Z("GGGGG",/[+-]?\d{1,6}/,Mr),Z("ggggg",/[+-]?\d{1,6}/,Mr),ne(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=w(e)}),ne(["gg","GG"],function(e,t,r,i){t[i]=n.parseTwoDigitYear(e)}),q("Q",0,"Qo","quarter"),N("quarter","Q"),z("quarter",7),Z("Q",/\d/),te("Q",function(e,t){t[Ir]=3*(w(e)-1)}),q("D",["DD",2],"Do","date"),N("date","D"),z("date",9),Z("D",/\d\d?/),Z("DD",/\d\d?/,/\d\d/),Z("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),te(["D","DD"],zr),te("Do",function(e,t){t[zr]=w(e.match(/\d\d?/)[0],10)});var $i=F("Date",!0);q("DDD",["DDDD",3],"DDDo","dayOfYear"),N("dayOfYear","DDD"),z("dayOfYear",4),Z("DDD",/\d{1,3}/),Z("DDDD",/\d{3}/),te(["DDD","DDDD"],function(e,t,n){n._dayOfYear=w(e)}),q("m",["mm",2],0,"minute"),N("minute","m"),z("minute",14),Z("m",/\d\d?/),Z("mm",/\d\d?/,/\d\d/),te(["m","mm"],Fr);var Ci=F("Minutes",!1);q("s",["ss",2],0,"second"),N("second","s"),z("second",15),Z("s",/\d\d?/),Z("ss",/\d\d?/,/\d\d/),te(["s","ss"],jr);var Ai=F("Seconds",!1);q("S",0,0,function(){return~~(this.millisecond()/100)}),q(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),q(0,["SSS",3],0,"millisecond"),q(0,["SSSS",4],0,function(){return 10*this.millisecond()}),q(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),q(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),q(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),q(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),q(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),N("millisecond","ms"),z("millisecond",16),Z("S",/\d{1,3}/,/\d/),Z("SS",/\d{1,3}/,/\d\d/),Z("SSS",/\d{1,3}/,/\d{3}/);var ki;for(ki="SSSS";ki.length<=9;ki+="S")Z(ki,/\d+/);for(ki="S";ki.length<=9;ki+="S")te(ki,On);var _i=F("Milliseconds",!1);q("z",0,0,"zoneAbbr"),q("zz",0,0,"zoneName");var Ti=v.prototype;Ti.add=wi,Ti.calendar=Yt,Ti.clone=Gt,Ti.diff=tn,Ti.endOf=pn,Ti.format=an,Ti.from=sn,Ti.fromNow=ln,Ti.to=un,Ti.toNow=cn,Ti.get=U,Ti.invalidAt=$n,Ti.isAfter=Xt,Ti.isBefore=Kt,Ti.isBetween=Zt,Ti.isSame=Jt,Ti.isSameOrAfter=Qt,Ti.isSameOrBefore=en,Ti.isValid=xn,Ti.lang=Si,Ti.locale=fn,Ti.localeData=hn,Ti.max=gi,Ti.min=pi,Ti.parsingFlags=Sn,Ti.set=W,Ti.startOf=dn,Ti.subtract=xi,Ti.toArray=yn,Ti.toObject=bn,Ti.toDate=vn,Ti.toISOString=on,Ti.toJSON=wn,Ti.toString=rn,Ti.unix=mn,Ti.valueOf=gn,Ti.creationData=Cn,Ti.year=Kr,Ti.isLeapYear=ve,Ti.weekYear=kn,Ti.isoWeekYear=_n,Ti.quarter=Ti.quarters=Pn,Ti.month=ce,Ti.daysInMonth=fe,Ti.week=Ti.weeks=_e,Ti.isoWeek=Ti.isoWeeks=Te,Ti.weeksInYear=En,Ti.isoWeeksInYear=Tn,Ti.date=$i,Ti.day=Ti.days=Le,Ti.weekday=Ie,Ti.isoWeekday=ze,Ti.dayOfYear=Rn,Ti.hour=Ti.hours=oi,Ti.minute=Ti.minutes=Ci,Ti.second=Ti.seconds=Ai,Ti.millisecond=Ti.milliseconds=_i,Ti.utcOffset=Tt,Ti.utc=Mt,Ti.local=Dt,Ti.parseZone=Pt,Ti.hasAlignedHourOffset=Rt,Ti.isDST=Ot,Ti.isLocal=Lt,Ti.isUtcOffset=It,Ti.isUtc=zt,Ti.isUTC=zt,Ti.zoneAbbr=Nn,Ti.zoneName=Ln,Ti.dates=$("dates accessor is deprecated. Use date instead.",$i),Ti.months=$("months accessor is deprecated. Use month instead",ce),Ti.years=$("years accessor is deprecated. Use year instead",Kr),Ti.zone=$("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Et),Ti.isDSTShifted=$("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Nt);var Ei=Ti,Mi=T.prototype;Mi.calendar=E,Mi.longDateFormat=M,Mi.invalidDate=D,Mi.ordinal=P,Mi.preparse=Bn,Mi.postformat=Bn,Mi.relativeTime=R,Mi.pastFuture=O,Mi.set=k,Mi.months=oe,Mi.monthsShort=ae,Mi.monthsParse=le,Mi.monthsRegex=de,Mi.monthsShortRegex=he,Mi.week=Ce,Mi.firstDayOfYear=ke,Mi.firstDayOfWeek=Ae,Mi.weekdays=De,Mi.weekdaysMin=Re,Mi.weekdaysShort=Pe,Mi.weekdaysParse=Ne,Mi.weekdaysRegex=Be,Mi.weekdaysShortRegex=Fe,Mi.weekdaysMinRegex=je,Mi.isPM=Ye,Mi.meridiem=Ge,Je("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===w(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),n.lang=$("moment.lang is deprecated. Use moment.locale instead.",Je),n.langData=$("moment.langData is deprecated. Use moment.localeData instead.",tt);var Di=Math.abs,Pi=ir("ms"),Ri=ir("s"),Oi=ir("m"),Ni=ir("h"),Li=ir("d"),Ii=ir("w"),zi=ir("M"),Bi=ir("y"),Fi=ar("milliseconds"),ji=ar("seconds"),Hi=ar("minutes"),Ui=ar("hours"),Wi=ar("days"),Vi=ar("months"),qi=ar("years"),Yi=Math.round,Gi={s:45,m:45,h:22,d:26,M:11},Xi=Math.abs,Ki=St.prototype;return Ki.abs=Gn,Ki.add=Kn,Ki.subtract=Zn,Ki.as=nr,Ki.asMilliseconds=Pi,Ki.asSeconds=Ri,Ki.asMinutes=Oi,Ki.asHours=Ni,Ki.asDays=Li,Ki.asWeeks=Ii,Ki.asMonths=zi,Ki.asYears=Bi,Ki.valueOf=rr,Ki._bubble=Qn,Ki.get=or,Ki.milliseconds=Fi,Ki.seconds=ji,Ki.minutes=Hi,Ki.hours=Ui,Ki.days=Wi,Ki.weeks=sr,Ki.months=Vi,Ki.years=qi,Ki.humanize=hr,Ki.toISOString=dr,Ki.toString=dr,Ki.toJSON=dr,Ki.locale=fn,Ki.localeData=hn,Ki.toIsoString=$("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",dr),Ki.lang=Si,q("X",0,0,"unix"),q("x",0,0,"valueOf"),Z("x",/[+-]?\d+/),Z("X",/[+-]?\d+(\.\d{1,3})?/),te("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),te("x",function(e,t,n){n._d=new Date(w(e))}),n.version="2.14.1",function(e){pr=e}(yt),n.fn=Ei,n.min=wt,n.max=xt,n.now=mi,n.utc=c,n.unix=In,n.months=Un,n.isDate=a,n.locale=Je,n.invalid=p,n.duration=Bt,n.isMoment=y,n.weekdays=Vn,n.parseZone=zn,n.localeData=tt,n.isDuration=$t,n.monthsShort=Wn,n.weekdaysMin=Yn,n.defineLocale=Qe,n.updateLocale=et,n.locales=nt,n.weekdaysShort=qn,n.normalizeUnits=L,n.relativeTimeRounding=cr,n.relativeTimeThreshold=fr,n.calendarFormat=qt,n.prototype=Ei,n})},{}],3:[function(e,t,n){!function(e,r){"function"==typeof define&&define.amd?define([],r):"object"==typeof n?t.exports=r():e.StringMask=r()}(this,function(){function e(e,t){for(var n=0,r=t-1,i={escape:!0};r>=0&&i&&i.escape;)i=s[e.charAt(r)],n+=i&&i.escape?1:0,r--;return n>0&&n%2==1}function t(e,t){var n=e.replace(/[^0]/g,"").length;return t.replace(/[^\d]/g,"").length-n}function n(e,t,n,r){return r&&"function"==typeof r.transform&&(t=r.transform(t)),n.reverse?t+e:e+t}function r(e,t,n){var i=e.charAt(t),o=s[i];return""!==i&&(!(!o||o.escape)||r(e,t+n,n))}function i(e,t,n){var r=e.charAt(t),o=s[r];return""!==r&&(!(!o||!o.recursive)||i(e,t+n,n))}function o(e,t,n){var r=e.split("");return r.splice(n,0,t),r.join("")}function a(e,t){this.options=t||{},this.options={reverse:this.options.reverse||!1,usedefaults:this.options.usedefaults||this.options.reverse},this.pattern=e}var s={0:{pattern:/\d/,_default:"0"},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,optional:!0,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/},U:{pattern:/[a-zA-Z]/,transform:function(e){return e.toLocaleUpperCase()}},L:{pattern:/[a-zA-Z]/,transform:function(e){return e.toLocaleLowerCase()}},$:{escape:!0}};return a.prototype.process=function(a){if(!a)return{result:"",valid:!1};a+="";var l=this.pattern,u=!0,c="",f=this.options.reverse?a.length-1:0,h=0,d=t(l,a),p=!1,g=[],m=!1,v={start:this.options.reverse?l.length-1:0,end:this.options.reverse?-1:l.length,inc:this.options.reverse?-1:1};for(h=v.start;function(e){if(!m&&!g.length&&r(l,h,v.inc))return!0;if(!m&&g.length&&i(l,h,v.inc))return!0;if(m||(m=g.length>0),m){var t=g.shift();if(g.push(t),e.reverse&&f>=0)return h++,l=o(l,t,h),!0;if(!e.reverse&&f<a.length)return l=o(l,t,h),!0}return h<l.length&&h>=0}(this.options);h+=v.inc){var y=a.charAt(f),b=l.charAt(h),w=s[b];if(g.length&&w&&!w.recursive&&(w=null),!m||y){if(this.options.reverse&&e(l,h)){c=n(c,b,this.options,w),h+=v.inc;continue}if(!this.options.reverse&&p){c=n(c,b,this.options,w),p=!1;continue}if(!this.options.reverse&&w&&w.escape){p=!0;continue}}if(!m&&w&&w.recursive)g.push(b);else{if(m&&!y){c=n(c,b,this.options,w);continue}if(!m&&g.length>0&&!y)continue}if(w)if(w.optional){if(w.pattern.test(y)&&d)c=n(c,y,this.options,w),f+=v.inc,d--;else if(g.length>0&&y){u=!1;break}}else if(w.pattern.test(y))c=n(c,y,this.options,w),f+=v.inc;else{if(y||!w._default||!this.options.usedefaults){u=!1;break}c=n(c,w._default,this.options,w)}else c=n(c,b,this.options,w),!m&&g.length&&g.push(b)}return{result:c,valid:u}},a.prototype.apply=function(e){return this.process(e).result},a.prototype.validate=function(e){return this.process(e).valid},a.process=function(e,t,n){return new a(t,n).process(e)},a.apply=function(e,t,n){return new a(t,n).apply(e)},a.validate=function(e,t,n){return new a(t,n).validate(e)},a})},{}],4:[function(e,t,n){"use strict";t.exports=angular.module("ui.utils.masks",[e("./global/global-masks"),e("./br/br-masks"),e("./us/us-masks"),e("./ch/ch-masks")]).name},{"./br/br-masks":6,"./ch/ch-masks":15,"./global/global-masks":19,"./us/us-masks":27}],5:[function(e,t,n){"use strict";var r=e("string-mask"),i=e("mask-factory"),o=new r("00000.00000 00000.000000 00000.000000 0 00000000000000");t.exports=i({clearValue:function(e){return e.replace(/[^0-9]/g,"").slice(0,47)},format:function(e){return 0===e.length?e:o.apply(e).replace(/[^0-9]$/,"")},validations:{brBoletoBancario:function(e){return 47===e.length}}})},{"mask-factory":"mask-factory","string-mask":3}],6:[function(e,t,n){"use strict";var r=angular.module("ui.utils.masks.br",[e("../helpers")]).directive("uiBrBoletoBancarioMask",e("./boleto-bancario/boleto-bancario")).directive("uiBrCepMask",e("./cep/cep")).directive("uiBrCnpjMask",e("./cnpj/cnpj")).directive("uiBrCpfMask",e("./cpf/cpf")).directive("uiBrCpfcnpjMask",e("./cpf-cnpj/cpf-cnpj")).directive("uiBrIeMask",e("./inscricao-estadual/ie")).directive("uiNfeAccessKeyMask",e("./nfe/nfe")).directive("uiBrCarPlateMask",e("./car-plate/car-plate")).directive("uiBrPhoneNumber",e("./phone/br-phone"));t.exports=r.name},{"../helpers":25,"./boleto-bancario/boleto-bancario":5,"./car-plate/car-plate":7,"./cep/cep":8,"./cnpj/cnpj":9,"./cpf-cnpj/cpf-cnpj":10,"./cpf/cpf":11,"./inscricao-estadual/ie":12,"./nfe/nfe":13,"./phone/br-phone":14}],7:[function(e,t,n){"use strict";var r=e("string-mask"),i=e("mask-factory"),o=new r("UUU-0000");t.exports=i({clearValue:function(e){return e.replace(/[^a-zA-Z0-9]/g,"").slice(0,7)},format:function(e){return(o.apply(e)||"").replace(/[^a-zA-Z0-9]$/,"")},validations:{carPlate:function(e){return 7===e.length}}})},{"mask-factory":"mask-factory","string-mask":3}],8:[function(e,t,n){"use strict";var r=e("string-mask"),i=e("mask-factory"),o=new r("00000-000");t.exports=i({clearValue:function(e){return e.toString().replace(/[^0-9]/g,"").slice(0,8)},format:function(e){return(o.apply(e)||"").replace(/[^0-9]$/,"")},validations:{cep:function(e){return 8===e.length}}})},{"mask-factory":"mask-factory","string-mask":3}],9:[function(e,t,n){"use strict";var r=e("string-mask"),i=e("br-validations"),o=e("mask-factory"),a=new r("00.000.000/0000-00");t.exports=o({clearValue:function(e){return e.replace(/[^\d]/g,"").slice(0,14)},format:function(e){return(a.apply(e)||"").trim().replace(/[^0-9]$/,"")},validations:{cnpj:function(e){return i.cnpj.validate(e)}}})},{"br-validations":1,"mask-factory":"mask-factory","string-mask":3}],10:[function(e,t,n){"use strict";var r=e("string-mask"),i=e("br-validations"),o=e("mask-factory"),a=new r("00.000.000/0000-00"),s=new r("000.000.000-00");t.exports=o({clearValue:function(e){return e.replace(/[^\d]/g,"").slice(0,14)},format:function(e){var t;return t=e.length>11?a.apply(e):s.apply(e)||"",t.trim().replace(/[^0-9]$/,"")},validations:{cpf:function(e){return e.length>11||i.cpf.validate(e)},cnpj:function(e){return e.length<=11||i.cnpj.validate(e)}}})},{"br-validations":1,"mask-factory":"mask-factory","string-mask":3}],11:[function(e,t,n){"use strict";var r=e("string-mask"),i=e("br-validations"),o=e("mask-factory"),a=new r("000.000.000-00");t.exports=o({clearValue:function(e){return e.replace(/[^\d]/g,"").slice(0,11)},format:function(e){return(a.apply(e)||"").trim().replace(/[^0-9]$/,"")},validations:{cpf:function(e){return i.cpf.validate(e)}}})},{"br-validations":1,"mask-factory":"mask-factory","string-mask":3}],12:[function(e,t,n){"use strict";function r(e){function t(e){return e?e.replace(/[^0-9]/g,""):e}function n(e,n){if(e&&a[e]){if("SP"===e&&/^P/i.test(n))return a.SP[1].mask;for(var r=a[e],i=0;r[i].chars&&r[i].chars<t(n).length&&i<r.length-1;)i++;return r[i].mask}}function r(e,r){var i=n(r,e);if(!i)return e;var o=i.process(t(e)),a=o.result||"";return a=a.trim().replace(/[^0-9]$/,""),"SP"===r&&/^p/i.test(e)?"P"+a:a}var a={AC:[{mask:new i("00.000.000/000-00")}],AL:[{mask:new i("000000000")}],AM:[{mask:new i("00.000.000-0")}],AP:[{mask:new i("000000000")}],BA:[{chars:8,mask:new i("000000-00")},{mask:new i("0000000-00")}],CE:[{mask:new i("00000000-0")}],DF:[{mask:new i("00000000000-00")}],ES:[{mask:new i("00000000-0")}],GO:[{mask:new i("00.000.000-0")}],MA:[{mask:new i("000000000")}],MG:[{mask:new i("000.000.000/0000")}],MS:[{mask:new i("000000000")}],MT:[{mask:new i("0000000000-0")}],PA:[{mask:new i("00-000000-0")}],PB:[{mask:new i("00000000-0")}],PE:[{chars:9,mask:new i("0000000-00")},{mask:new i("00.0.000.0000000-0")}],PI:[{mask:new i("000000000")}],PR:[{mask:new i("000.00000-00")}],RJ:[{mask:new i("00.000.00-0")}],RN:[{chars:9,mask:new i("00.000.000-0")},{mask:new i("00.0.000.000-0")}],RO:[{mask:new i("0000000000000-0")}],RR:[{mask:new i("00000000-0")}],RS:[{mask:new i("000/0000000")}],SC:[{mask:new i("000.000.000")}],SE:[{mask:new i("00000000-0")}],SP:[{mask:new i("000.000.000.000")},{mask:new i("-00000000.0/000")}],TO:[{mask:new i("00000000000")}]};return{restrict:"A",require:"ngModel",link:function(n,i,a,s){function l(e){return s.$isEmpty(e)?e:r(e,c)}function u(e){if(s.$isEmpty(e))return e;var n=r(e,c),i=t(n);return s.$viewValue!==n&&(s.$setViewValue(n),s.$render()),c&&"SP"===c.toUpperCase()&&/^p/i.test(e)?"P"+i:i}var c=(e(a.uiBrIeMask)(n)||"").toUpperCase();s.$formatters.push(l),s.$parsers.push(u),s.$validators.ie=function(e){return s.$isEmpty(e)||o.ie(c).validate(e)},n.$watch(a.uiBrIeMask,function(e){c=(e||"").toUpperCase(),u(s.$viewValue),s.$validate()})}}}var i=e("string-mask"),o=e("br-validations");r.$inject=["$parse"],t.exports=r},{"br-validations":1,"string-mask":3}],13:[function(e,t,n){"use strict";var r=e("string-mask"),i=e("mask-factory"),o=new r("0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000");t.exports=i({clearValue:function(e){return e.replace(/[^0-9]/g,"").slice(0,44)},format:function(e){return(o.apply(e)||"").replace(/[^0-9]$/,"")},validations:{nfeAccessKey:function(e){return 44===e.length}}})},{"mask-factory":"mask-factory","string-mask":3}],14:[function(e,t,n){"use strict";var r=e("string-mask"),i=e("mask-factory"),o=new r("(00) 0000-0000"),a=new r("(00) 00000-0000"),s=new r("0000-000-0000");t.exports=i({clearValue:function(e){return e.toString().replace(/[^0-9]/g,"").slice(0,11)},format:function(e){var t;return t=0===e.indexOf("0800")?s.apply(e):e.length<11?o.apply(e)||"":a.apply(e),t.trim().replace(/[^0-9]$/,"")},getModelValue:function(e,t){var n=this.clearValue(e);return"number"===t?parseInt(n):n},validations:{brPhoneNumber:function(e){var t=e&&e.toString().length;return 10===t||11===t}}})},{"mask-factory":"mask-factory","string-mask":3}],15:[function(e,t,n){"use strict";var r=angular.module("ui.utils.masks.ch",[e("../helpers")]).directive("uiChPhoneNumber",e("./phone/ch-phone"));t.exports=r.name},{"../helpers":25,"./phone/ch-phone":16}],16:[function(e,t,n){"use strict";var r=e("string-mask"),i=e("mask-factory"),o=new r("+00 00 000 00 00");t.exports=i({clearValue:function(e){return e.toString().replace(/[^0-9]/g,"").slice(0,11)},format:function(e){var t;return t=o.apply(e)||"",t.trim().replace(/[^0-9]$/,"")},validations:{chPhoneNumber:function(e){return 11===(e&&e.toString().length)}}})},{"mask-factory":"mask-factory","string-mask":3}],17:[function(e,t,n){"use strict";var r=e("string-mask"),i=e("mask-factory"),o=new r("0000 0000 0000 0000");t.exports=i({clearValue:function(e){return e.toString().replace(/[^0-9]/g,"").slice(0,16)},format:function(e){var t;return t=o.apply(e)||"",t.trim().replace(/[^0-9]$/,"")},validations:{creditCard:function(e){return 16===(e&&e.toString().length)}}})},{"mask-factory":"mask-factory","string-mask":3}],18:[function(e,t,n){"use strict";function r(e){return/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}\.[0-9]{3}([-+][0-9]{2}:[0-9]{2}|Z)$/.test(e.toString())}function i(e){var t={"pt-br":"DD/MM/YYYY"},n=t[e.id]||"YYYY-MM-DD";return{restrict:"A",require:"ngModel",link:function(e,t,i,s){function l(e){if(s.$isEmpty(e))return e;var t=e;return("object"==typeof e||r(e))&&(t=o(e).format(n)),t=t.replace(/[^0-9]/g,""),(u.apply(t)||"").trim().replace(/[^0-9]$/,"")}var u=new a(n.replace(/[YMD]/g,"0"));s.$formatters.push(l),s.$parsers.push(function(e){if(s.$isEmpty(e))return e;var t=l(e);return s.$viewValue!==t&&(s.$setViewValue(t),s.$render()),o(t,n).toDate()}),s.$validators.date=function(e,t){return!!s.$isEmpty(e)||o(t,n).isValid()&&t.length===n.length}}}}var o=e("moment"),a=e("string-mask");i.$inject=["$locale"],t.exports=i},{moment:2,"string-mask":3}],19:[function(e,t,n){"use strict";var r=angular.module("ui.utils.masks.global",[e("../helpers")]).directive("uiDateMask",e("./date/date")).directive("uiMoneyMask",e("./money/money")).directive("uiNumberMask",e("./number/number")).directive("uiPercentageMask",e("./percentage/percentage")).directive("uiScientificNotationMask",e("./scientific-notation/scientific-notation")).directive("uiTimeMask",e("./time/time")).directive("uiCreditCard",e("./credit-card/credit-card"));t.exports=r.name},{"../helpers":25,"./credit-card/credit-card":17,"./date/date":18,"./money/money":20,"./number/number":21,"./percentage/percentage":22,"./scientific-notation/scientific-notation":23,"./time/time":24}],20:[function(e,t,n){"use strict";function r(e,t,n){return{restrict:"A",require:"ngModel",link:function(r,a,s,l){function u(e){var t=e>0?h+new Array(e+1).join("0"):"";return new i(g+"#"+d+"##0"+t,{reverse:!0})}function c(e){if(l.$isEmpty(e))return e;var t=angular.isDefined(s.uiNegativeNumber)&&e<0?"-":"",r=n.prepareNumberToFormatter(e,m);return t+p+v.apply(r)}function f(e){if(l.$isEmpty(e))return e;var t=e.replace(/[^\d]+/g,"");t=t.replace(/^[0]+([1-9])/,"$1"),t=t||"0";var n=p+v.apply(t);if(angular.isDefined(s.uiNegativeNumber)){var r="-"===e[0];"-"===e.slice(-1)^r&&t&&(t*=-1,n="-"+n)}return e!==n&&(l.$setViewValue(n),l.$render()),n?parseInt(n.replace(/[^\d\-]+/g,""))/Math.pow(10,m):null}var h=e.NUMBER_FORMATS.DECIMAL_SEP,d=e.NUMBER_FORMATS.GROUP_SEP,p=e.NUMBER_FORMATS.CURRENCY_SYM,g=" ",m=t(s.uiMoneyMask)(r);angular.isDefined(s.uiHideGroupSep)&&(d=""),angular.isDefined(s.uiHideSpace)&&(g=""),angular.isDefined(s.currencySymbol)&&(p=s.currencySymbol,0===s.currencySymbol.length&&(g="")),isNaN(m)&&(m=2),m=parseInt(m);var v=u(m);if(l.$formatters.push(c),l.$parsers.push(f),s.uiMoneyMask&&r.$watch(s.uiMoneyMask,function(e){m=isNaN(e)?2:e,m=parseInt(m),v=u(m),f(l.$viewValue)}),s.min){var y;l.$validators.min=function(e){return o.minNumber(l,e,y)},r.$watch(s.min,function(e){y=e,l.$validate()})}if(s.max){var b;l.$validators.max=function(e){return o.maxNumber(l,e,b)},r.$watch(s.max,function(e){b=e,l.$validate()})}}}}var i=e("string-mask"),o=e("validators");r.$inject=["$locale","$parse","PreFormatters"],t.exports=r},{"string-mask":3,validators:"validators"}],21:[function(e,t,n){"use strict";function r(e,t,n,r){return{restrict:"A",require:"ngModel",link:function(o,a,s,l){function u(e){if(l.$isEmpty(e))return null;var t=n.clearDelimitersAndLeadingZeros(e)||"0",r=g.apply(t),i=parseFloat(m.apply(t));if(angular.isDefined(s.uiNegativeNumber)){var o="-"===e[0];("-"===e.slice(-1)^o||"-"===e)&&(i*=-1,r="-"+(0!==i?r:""))}return l.$viewValue!==r&&(l.$setViewValue(r),l.$render()),i}function c(e){if(l.$isEmpty(e))return e;var t=angular.isDefined(s.uiNegativeNumber)&&e<0?"-":"",r=n.prepareNumberToFormatter(e,p);return t+g.apply(r)}function f(){"-"===l.$viewValue&&(l.$setViewValue(""),l.$render())}var h=e.NUMBER_FORMATS.DECIMAL_SEP,d=e.NUMBER_FORMATS.GROUP_SEP,p=t(s.uiNumberMask)(o);angular.isDefined(s.uiHideGroupSep)&&(d=""),isNaN(p)&&(p=2);var g=r.viewMask(p,h,d),m=r.modelMask(p);if(a.on("blur",f),l.$formatters.push(c),l.$parsers.push(u),s.uiNumberMask&&o.$watch(s.uiNumberMask,function(e){p=isNaN(e)?2:e,g=r.viewMask(p,h,d),m=r.modelMask(p),u(l.$viewValue)}),s.min){var v;l.$validators.min=function(e){return i.minNumber(l,e,v)},o.$watch(s.min,function(e){v=e,l.$validate()})}if(s.max){var y;l.$validators.max=function(e){return i.maxNumber(l,e,y)},o.$watch(s.max,function(e){y=e,l.$validate()})}}}}var i=e("validators");r.$inject=["$locale","$parse","PreFormatters","NumberMasks"],t.exports=r},{validators:"validators"}],22:[function(e,t,n){"use strict";function r(e,t,n,r){function o(e,t,r){return n.clearDelimitersAndLeadingZeros((parseFloat(e)*r).toFixed(t))}return{restrict:"A",require:"ngModel",link:function(t,a,s,l){function u(e){if(l.$isEmpty(e))return e;var t=o(e,d,m.multiplier);return y.apply(t)+" %"}function c(e){if(l.$isEmpty(e))return null;var t=n.clearDelimitersAndLeadingZeros(e)||"0";e.length>1&&-1===e.indexOf("%")&&(t=t.slice(0,t.length-1)),g&&1===e.length&&"%"!==e&&(t="0");var r=p?"%":" %",i=y.apply(t)+r,o=parseFloat(b.apply(t));return l.$viewValue!==i&&(l.$setViewValue(i),l.$render()),o}var f=e.NUMBER_FORMATS.DECIMAL_SEP,h=e.NUMBER_FORMATS.GROUP_SEP,d=parseInt(s.uiPercentageMask),p=!1,g=!1;a.bind("keydown keypress",function(e){g=8===e.which});var m={multiplier:100,decimalMask:2};angular.isDefined(s.uiHideGroupSep)&&(h=""),angular.isDefined(s.uiHideSpace)&&(p=!0),angular.isDefined(s.uiPercentageValue)&&(m.multiplier=1,m.decimalMask=0),isNaN(d)&&(d=2);var v=d+m.decimalMask,y=r.viewMask(d,f,h),b=r.modelMask(v);if(l.$formatters.push(u),l.$parsers.push(c),s.uiPercentageMask&&t.$watch(s.uiPercentageMask,function(e){d=isNaN(e)?2:e,angular.isDefined(s.uiPercentageValue)&&(m.multiplier=1,m.decimalMask=0),v=d+m.decimalMask,y=r.viewMask(d,f,h),b=r.modelMask(v),c(l.$viewValue)}),s.min){var w;l.$validators.min=function(e){return i.minNumber(l,e,w)},t.$watch(s.min,function(e){w=e,l.$validate()})}if(s.max){var x;l.$validators.max=function(e){return i.maxNumber(l,e,x)},t.$watch(s.max,function(e){x=e,l.$validate()})}}}}var i=e("validators");r.$inject=["$locale","$parse","PreFormatters","NumberMasks"],t.exports=r},{validators:"validators"}],23:[function(e,t,n){"use strict";function r(e,t){function n(e){var t="0";if(e>0){t+=r;for(var n=0;n<e;n++)t+="0"}return new i(t,{reverse:!0})}var r=e.NUMBER_FORMATS.DECIMAL_SEP;return{restrict:"A",require:"ngModel",link:function(e,i,o,a){function s(e){var t=e.toString(),n=t.match(/(-?[0-9]*)[\.]?([0-9]*)?[Ee]?([\+-]?[0-9]*)?/);return{integerPartOfSignificand:n[1],decimalPartOfSignificand:n[2],exponent:0|n[3]}}function l(e){if(a.$isEmpty(e))return e;"string"==typeof e?e=e.replace(r,"."):"number"==typeof e&&(e=e.toExponential(c));var t,n,i=s(e),o=i.integerPartOfSignificand||0,l=o.toString();return angular.isDefined(i.decimalPartOfSignificand)&&(l+=i.decimalPartOfSignificand),(o>=1||o<=-1)&&(angular.isDefined(i.decimalPartOfSignificand)&&i.decimalPartOfSignificand.length>c||0===c&&l.length>=2)&&(n=l.slice(c+1,l.length),l=l.slice(0,c+1)),t=f.apply(l),0!==i.exponent&&(n=i.exponent),angular.isDefined(n)&&(t+="e"+n),t}function u(e){if(a.$isEmpty(e))return e;var t=l(e),n=parseFloat(t.replace(r,"."));return a.$viewValue!==t&&(a.$setViewValue(t),a.$render()),n}var c=t(o.uiScientificNotationMask)(e);isNaN(c)&&(c=2);var f=n(c);a.$formatters.push(l),a.$parsers.push(u),a.$validators.max=function(e){return a.$isEmpty(e)||e<Number.MAX_VALUE}}}}var i=e("string-mask");r.$inject=["$locale","$parse"],
t.exports=r},{"string-mask":3}],24:[function(e,t,n){"use strict";var r=e("string-mask");t.exports=function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,i){function o(e){if(i.$isEmpty(e))return e;var t=e.replace(/[^0-9]/g,"").slice(0,l)||"";return(u.apply(t)||"").replace(/[^0-9]$/,"")}var a="00:00:00";angular.isDefined(n.uiTimeMask)&&"short"===n.uiTimeMask&&(a="00:00");var s=a.length,l=a.replace(":","").length,u=new r(a);i.$formatters.push(o),i.$parsers.push(function(e){if(i.$isEmpty(e))return e;var t=o(e),n=t;return i.$viewValue!==t&&(i.$setViewValue(t),i.$render()),n}),i.$validators.time=function(e){if(i.$isEmpty(e))return!0;var t=e.toString().split(/:/).filter(function(e){return!!e}),n=parseInt(t[0]),r=parseInt(t[1]),o=parseInt(t[2]||0);return e.toString().length===s&&n<24&&r<60&&o<60}}}}},{"string-mask":3}],25:[function(e,t,n){"use strict";var r=e("string-mask"),i=angular.module("ui.utils.masks.helpers",[]);t.exports=i.name,i.factory("PreFormatters",[function(){function e(e){return"0"===e?"0":e.replace(/^-/,"").replace(/^0*/,"").replace(/[^0-9]/g,"")}function t(t,n){return e(parseFloat(t).toFixed(n))}return{clearDelimitersAndLeadingZeros:e,prepareNumberToFormatter:t}}]).factory("NumberMasks",[function(){return{viewMask:function(e,t,n){var i="#"+n+"##0";if(e>0){i+=t;for(var o=0;o<e;o++)i+="0"}return new r(i,{reverse:!0})},modelMask:function(e){var t="###0";if(e>0){t+=".";for(var n=0;n<e;n++)t+="0"}return new r(t,{reverse:!0})}}}])},{"string-mask":3}],26:[function(e,t,n){"use strict";var r=e("string-mask"),i=e("mask-factory"),o=new r("(000) 000-0000"),a=new r("+00-00-000-000000");t.exports=i({clearValue:function(e){return e.toString().replace(/[^0-9]/g,"")},format:function(e){var t;return t=e.length<11?o.apply(e)||"":a.apply(e),t.trim().replace(/[^0-9]$/,"")},validations:{usPhoneNumber:function(e){return e&&e.toString().length>9}}})},{"mask-factory":"mask-factory","string-mask":3}],27:[function(e,t,n){"use strict";var r=angular.module("ui.utils.masks.us",[e("../helpers")]).directive("uiUsPhoneNumber",e("./phone/us-phone"));t.exports=r.name},{"../helpers":25,"./phone/us-phone":26}],"mask-factory":[function(e,t,n){"use strict";t.exports=function(e){return function(){return{restrict:"A",require:"ngModel",link:function(t,n,r,i){i.$formatters.push(function(t){if(i.$isEmpty(t))return t;var n=e.clearValue(t);return e.format(n)}),i.$parsers.push(function(t){if(i.$isEmpty(t))return t;var n=e.clearValue(t),r=e.format(n);if(i.$viewValue!==r&&(i.$setViewValue(r),i.$render()),angular.isUndefined(e.getModelValue))return n;var o=typeof i.$modelValue;return e.getModelValue(r,o)}),angular.forEach(e.validations,function(e,t){i.$validators[t]=function(t,n){return i.$isEmpty(t)||e(t,n)}})}}}}},{}],validators:[function(e,t,n){"use strict";t.exports={maxNumber:function(e,t,n){var r=parseFloat(n,10);return e.$isEmpty(t)||isNaN(r)||t<=r},minNumber:function(e,t,n){var r=parseFloat(n,10);return e.$isEmpty(t)||isNaN(r)||t>=r}}},{}]},{},[4]),function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(e){var t=["$q","$cacheFactory","$timeout","$rootScope","$log","cfpLoadingBar",function(t,n,r,i,o,a){function s(){r.cancel(u),a.complete(),f=0,c=0}function l(t){var r,i=n.get("$http"),o=e.defaults;!t.cache&&!o.cache||!1===t.cache||"GET"!==t.method&&"JSONP"!==t.method||(r=angular.isObject(t.cache)?t.cache:angular.isObject(o.cache)?o.cache:i);var a=void 0!==r&&void 0!==r.get(t.url);return void 0!==t.cached&&a!==t.cached?t.cached:(t.cached=a,a)}var u,c=0,f=0,h=a.latencyThreshold;return{request:function(e){return e.ignoreLoadingBar||l(e)||(i.$broadcast("cfpLoadingBar:loading",{url:e.url}),0===c&&(u=r(function(){a.start()},h)),c++,a.set(f/c)),e},response:function(e){return e&&e.config?(e.config.ignoreLoadingBar||l(e.config)||(f++,i.$broadcast("cfpLoadingBar:loaded",{url:e.config.url,result:e}),f>=c?s():a.set(f/c)),e):(o.error("Broken interceptor detected: Config object not supplied in response:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),e)},responseError:function(e){return e&&e.config?(e.config.ignoreLoadingBar||l(e.config)||(f++,i.$broadcast("cfpLoadingBar:loaded",{url:e.config.url,result:e}),f>=c?s():a.set(f/c)),t.reject(e)):(o.error("Broken interceptor detected: Config object not supplied in rejection:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),t.reject(e))}}}];e.interceptors.push(t)}]),angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.autoIncrement=!0,this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>',this.$get=["$injector","$document","$timeout","$rootScope",function(e,t,n,r){function i(){if(c||(c=e.get("$animate")),n.cancel(h),!v){var i=t[0],a=i.querySelector?i.querySelector(d):t.find(d)[0];a||(a=i.getElementsByTagName("body")[0]);var s=angular.element(a),l=a.lastChild&&angular.element(a.lastChild);r.$broadcast("cfpLoadingBar:started"),v=!0,x&&c.enter(p,s,l),w&&c.enter(m,s,p),o(S)}}function o(e){if(v){var t=100*e+"%";g.css("width",t),y=e,b&&(n.cancel(f),f=n(function(){a()},250))}}function a(){if(!(s()>=1)){var e=0,t=s();e=t>=0&&t<.25?(3*Math.random()+3)/100:t>=.25&&t<.65?3*Math.random()/100:t>=.65&&t<.9?2*Math.random()/100:t>=.9&&t<.99?.005:0;o(s()+e)}}function s(){return y}function l(){y=0,v=!1}function u(){c||(c=e.get("$animate")),r.$broadcast("cfpLoadingBar:completed"),o(1),n.cancel(h),h=n(function(){var e=c.leave(p,l);e&&e.then&&e.then(l),c.leave(m)},500)}var c,f,h,d=this.parentSelector,p=angular.element(this.loadingBarTemplate),g=p.find("div").eq(0),m=angular.element(this.spinnerTemplate),v=!1,y=0,b=this.autoIncrement,w=this.includeSpinner,x=this.includeBar,S=this.startSize;return{start:i,set:o,status:s,inc:a,complete:u,autoIncrement:this.autoIncrement,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}(),function(e,t){"use strict";function n(){function n(e,t){var n,r={},i=e.split(",");for(n=0;n<i.length;n++)r[t?l(i[n]):i[n]]=!0;return r}function r(t,n){null===t||void 0===t?t="":"string"!=typeof t&&(t=""+t),w.innerHTML=t;var r=5;do{if(0===r)throw d("uinput","Failed to sanitize html because the input is unstable");r--,e.document.documentMode&&v(w),t=w.innerHTML,w.innerHTML=t}while(t!==w.innerHTML);for(var i=w.firstChild;i;){switch(i.nodeType){case 1:n.start(i.nodeName.toLowerCase(),p(i.attributes));break;case 3:n.chars(i.textContent)}var o;if(!((o=i.firstChild)||(1===i.nodeType&&n.end(i.nodeName.toLowerCase()),o=y("nextSibling",i))))for(;null==o&&(i=y("parentNode",i))!==w;)o=y("nextSibling",i),1===i.nodeType&&n.end(i.nodeName.toLowerCase());i=o}for(;i=w.firstChild;)w.removeChild(i)}function p(e){for(var t={},n=0,r=e.length;n<r;n++){var i=e[n];t[i.name]=i.value}return t}function g(e){return e.replace(/&/g,"&amp;").replace(x,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(S,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function m(e,t){var n=!1,r=i(e,e.push);return{start:function(e,i){e=l(e),!n&&M[e]&&(n=e),n||!0!==D[e]||(r("<"),r(e),a(i,function(n,i){var o=l(i),a="img"===e&&"src"===o||"background"===o;!0!==N[o]||!0===P[o]&&!t(n,a)||(r(" "),r(i),r('="'),r(g(n)),r('"'))}),r(">"))},end:function(e){e=l(e),n||!0!==D[e]||!0===$[e]||(r("</"),r(e),r(">")),e==n&&(n=!1)},chars:function(e){n||r(g(e))}}}function v(t){for(;t;){if(t.nodeType===e.Node.ELEMENT_NODE)for(var n=t.attributes,r=0,i=n.length;r<i;r++){var o=n[r],a=o.name.toLowerCase();"xmlns:ns1"!==a&&0!==a.lastIndexOf("ns1:",0)||(t.removeAttributeNode(o),r--,i--)}var s=t.firstChild;s&&v(s),t=y("nextSibling",t)}}function y(e,t){var n=t[e];if(n&&c.call(t,n))throw d("elclob","Failed to sanitize html because the element is clobbered: {0}",t.outerHTML||t.outerText);return n}var b=!1;this.$get=["$$sanitizeUri",function(e){return b&&o(D,E),function(t){var n=[];return f(t,h(n,function(t,n){return!/^unsafe:/.test(e(t,n))})),n.join("")}}],this.enableSvg=function(e){return s(e)?(b=e,this):b},i=t.bind,o=t.extend,a=t.forEach,s=t.isDefined,l=t.lowercase,u=t.noop,f=r,h=m,c=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};var w,x=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,S=/([^#-~ |!])/g,$=n("area,br,col,hr,img,wbr"),C=n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),A=n("rp,rt"),k=o({},A,C),_=o({},C,n("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),T=o({},A,n("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),E=n("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),M=n("script,style"),D=o({},$,_,T,k),P=n("background,cite,href,longdesc,src,xlink:href"),R=n("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),O=n("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),N=o({},P,O,R);!function(e){var t;if(!e.document||!e.document.implementation)throw d("noinert","Can't create an inert html document");t=e.document.implementation.createHTMLDocument("inert");var n=t.documentElement||t.getDocumentElement(),r=n.getElementsByTagName("body");if(1===r.length)w=r[0];else{var i=t.createElement("html");w=t.createElement("body"),i.appendChild(w),t.appendChild(i)}}(e)}function r(e){var t=[];return h(t,u).chars(e),t.join("")}var i,o,a,s,l,u,c,f,h,d=t.$$minErr("$sanitize");t.module("ngSanitize",[]).provider("$sanitize",n).info({angularVersion:"1.6.4"}),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=t.$$minErr("linky"),i=t.isDefined,o=t.isFunction,a=t.isObject,s=t.isString;return function(t,l,u){function c(e){e&&m.push(r(e))}if(null==t||""===t)return t;if(!s(t))throw n("notstring","Expected string but received: {0}",t);for(var f,h,d,p=o(u)?u:a(u)?function(){return u}:function(){return{}},g=t,m=[];f=g.match(/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i);)h=f[0],f[2]||f[4]||(h=(f[3]?"http://":"mailto:")+h),d=f.index,c(g.substr(0,d)),function(e,t){var n,r=p(e);m.push("<a ");for(n in r)m.push(n+'="'+r[n]+'" ');!i(l)||"target"in r||m.push('target="',l,'" '),m.push('href="',e.replace(/"/g,"&quot;"),'">'),c(t),m.push("</a>")}(h,f[0].replace(/^mailto:/i,"")),g=g.substring(d+f[0].length);return c(g),e(m.join(""))}}])}(window,window.angular),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,n){"use strict";function r(e,t){return W(new(W(function(){},{prototype:e})),t)}function i(e){return U(arguments,function(t){t!==e&&U(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function o(e,t){var n=[];for(var r in e.path){if(e.path[r]!==t.path[r])break;n.push(e.path[r])}return n}function a(e){if(Object.keys)return Object.keys(e);var t=[];return U(e,function(e,n){t.push(n)}),t}function s(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,r=Number(arguments[2])||0;for(r=r<0?Math.ceil(r):Math.floor(r),r<0&&(r+=n);r<n;r++)if(r in e&&e[r]===t)return r;return-1}function l(e,t,n,r){var i,l=o(n,r),u={},c=[];for(var f in l)if(l[f]&&l[f].params&&(i=a(l[f].params),i.length))for(var h in i)s(c,i[h])>=0||(c.push(i[h]),u[i[h]]=e[i[h]]);return W({},u,t)}function u(e,t,n){if(!n){n=[];for(var r in e)n.push(r)}for(var i=0;i<n.length;i++){var o=n[i];if(e[o]!=t[o])return!1}return!0}function c(e,t){var n={};return U(e,function(e){n[e]=t[e]}),n}function f(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return U(n,function(n){n in e&&(t[n]=e[n])}),t}function h(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var r in e)-1==s(n,r)&&(t[r]=e[r]);return t}function d(e,t){var n=H(e),r=n?[]:{};return U(e,function(e,i){t(e,i)&&(r[n?r.length:i]=e)}),r}function p(e,t){var n=H(e)?[]:{};return U(e,function(e,r){n[r]=t(e,r)}),n}function g(e){return e.then(n,function(){})&&e}function m(e,t){var r=1,o=2,l={},u=[],c=l,f=W(e.when(l),{$$promises:l,$$values:l});this.study=function(l){function d(e,n){if(y[n]!==o){if(v.push(n),y[n]===r)throw v.splice(0,s(v,n)),new Error("Cyclic dependency: "+v.join(" -> "));if(y[n]=r,F(e))m.push(n,[function(){return t.get(e)}],u);else{var i=t.annotate(e);U(i,function(e){e!==n&&l.hasOwnProperty(e)&&d(l[e],e)}),m.push(n,e,i)}v.pop(),y[n]=o}}function p(e){return j(e)&&e.then&&e.$$promises}if(!j(l))throw new Error("'invocables' must be an object");var g=a(l||{}),m=[],v=[],y={};return U(l,d),l=v=y=null,function(r,o,a){function s(){--b||(w||i(y,o.$$values),d.$$values=y,d.$$promises=d.$$promises||!0,delete d.$$inheritedValues,u.resolve(y))}function l(e){d.$$failure=e,u.reject(e)}if(p(r)&&a===n&&(a=o,o=r,r=null),r){if(!j(r))throw new Error("'locals' must be an object")}else r=c;if(o){if(!p(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=f;var u=e.defer(),d=u.promise,v=d.$$promises={},y=W({},r),b=1+m.length/3,w=!1;if(z(o.$$failure))return l(o.$$failure),d;o.$$inheritedValues&&i(y,h(o.$$inheritedValues,g)),W(v,o.$$promises),o.$$values?(w=i(y,h(o.$$values,g)),d.$$inheritedValues=h(o.$$values,g),s()):(o.$$inheritedValues&&(d.$$inheritedValues=h(o.$$inheritedValues,g)),o.then(s,l));for(var x=0,S=m.length;x<S;x+=3)r.hasOwnProperty(m[x])?s():function(n,i,o){function u(e){f.reject(e),l(e)}function c(){if(!z(d.$$failure))try{f.resolve(t.invoke(i,a,y)),f.promise.then(function(e){y[n]=e,s()},u)}catch(e){u(e)}}var f=e.defer(),h=0;U(o,function(e){v.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&(h++,v[e].then(function(t){y[e]=t,--h||c()},u))}),h||c(),v[n]=f.promise}(m[x],m[x+1],m[x+2]);return d}},this.resolve=function(e,t,n,r){return this.study(e)(t,n,r)}}function v(e,t,n){this.fromConfig=function(e,t,n){return z(e.template)?this.fromString(e.template,t):z(e.templateUrl)?this.fromUrl(e.templateUrl,t):z(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return B(e)?e(t):e},this.fromUrl=function(n,r){return B(n)&&(n=n(r)),null==n?null:e.get(n,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data})},this.fromProvider=function(e,t,r){return n.invoke(e,null,r||{params:t})}}function y(e,t,i){function o(t,n,r,i){if(m.push(t),p[t])return p[t];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(g[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return g[t]=new Y.Param(t,n,r,i),g[t]}function a(e,t,n,r){var i=["",""],o=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return o;switch(n){case!1:i=["(",")"+(r?"?":"")];break;case!0:o=o.replace(/\/$/,""),i=["(?:/(",")|/)?"];break;default:i=["("+n+"|",")?"]}return o+i[0]+t+i[1]}function s(i,o){var a,s,l,u,c;return a=i[2]||i[3],c=t.params[a],l=e.substring(h,i.index),s=o?i[4]:i[4]||("*"==i[1]?".*":null),s&&(u=Y.type(s)||r(Y.type("string"),{pattern:new RegExp(s,t.caseInsensitive?"i":n)})),{id:a,regexp:s,segment:l,type:u,cfg:c}}t=W({params:{}},j(t)?t:{});var l,u=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,f="^",h=0,d=this.segments=[],p=i?i.params:{},g=this.params=i?i.params.$$new():new Y.ParamSet,m=[];this.source=e;for(var v,y,b;(l=u.exec(e))&&(v=s(l,!1),!(v.segment.indexOf("?")>=0));)y=o(v.id,v.type,v.cfg,"path"),f+=a(v.segment,y.type.pattern.source,y.squash,y.isOptional),d.push(v.segment),h=u.lastIndex;b=e.substring(h);var w=b.indexOf("?");if(w>=0){var x=this.sourceSearch=b.substring(w);if(b=b.substring(0,w),this.sourcePath=e.substring(0,h+w),x.length>0)for(h=0;l=c.exec(x);)v=s(l,!0),y=o(v.id,v.type,v.cfg,"search"),h=u.lastIndex}else this.sourcePath=e,this.sourceSearch="";f+=a(b)+(!1===t.strict?"/?":"")+"$",d.push(b),this.regexp=new RegExp(f,t.caseInsensitive?"i":n),this.prefix=d[0],this.$$paramNames=m}function b(e){W(this,e)}function w(){function e(e){return null!=e?e.toString().replace(/(~|\/)/g,function(e){return{"~":"~~","/":"~2F"}[e]}):e}function i(e){return null!=e?e.toString().replace(/(~~|~2F)/g,function(e){return{"~~":"~","~2F":"/"}[e]}):e}function o(){return{strict:g,caseInsensitive:h}}function l(e){return B(e)||H(e)&&B(e[e.length-1])}function u(){for(;S.length;){var e=S.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(v[e.name],f.invoke(e.def))}}function c(e){W(this,e||{})}Y=this;var f,h=!1,g=!0,m=!1,v={},x=!0,S=[],$={string:{encode:e,decode:i,is:function(e){return null==e||!z(e)||"string"==typeof e},pattern:/[^\/]*/},int:{encode:e,decode:function(e){return parseInt(e,10)},is:function(e){return z(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return!0===e||!1===e},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):n},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):n},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^\/]*/},any:{encode:t.identity,decode:t.identity,equals:t.equals,pattern:/.*/}};w.$$getDefaultValue=function(e){if(!l(e.value))return e.value;if(!f)throw new Error("Injectable functions cannot be called at configuration time");return f.invoke(e.value)},this.caseInsensitive=function(e){return z(e)&&(h=e),h},this.strictMode=function(e){return z(e)&&(g=e),g},this.defaultSquashPolicy=function(e){if(!z(e))return m;if(!0!==e&&!1!==e&&!F(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return m=e,e},this.compile=function(e,t){return new y(e,W(o(),t))},this.isMatcher=function(e){if(!j(e))return!1;var t=!0;return U(y.prototype,function(n,r){B(n)&&(t=t&&z(e[r])&&B(e[r]))}),t},this.type=function(e,t,n){if(!z(t))return v[e];if(v.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return v[e]=new b(W({name:e},t)),n&&(S.push({name:e,def:n}),x||u()),this},U($,function(e,t){v[t]=new b(W({name:t},e))}),v=r(v,{}),this.$get=["$injector",function(e){return f=e,x=!1,u(),U($,function(e,t){v[t]||(v[t]=new b(e))}),this}],this.Param=function(e,r,i,o){function u(){if(!f)throw new Error("Injectable functions cannot be called at configuration time");var e=f.invoke(i.$$fn);if(null!==e&&e!==n&&!g.type.is(e))throw new Error("Default value ("+e+") for parameter '"+g.id+"' is not an instance of Type ("+g.type.name+")");return e}function c(e){function t(e){return function(t){return t.from===e}}return e=function(e){var n=p(d(g.replace,t(e)),function(e){return e.to});return n.length?n[0]:e}(e),z(e)?g.type.$normalize(e):u()}function h(){return"{Param:"+e+" "+r+" squash: '"+x+"' optional: "+w+"}"}var g=this;i=function(e){var t=j(e)?a(e):[];return-1===s(t,"value")&&-1===s(t,"type")&&-1===s(t,"squash")&&-1===s(t,"array")&&(e={value:e}),e.$$fn=l(e.value)?e.value:function(){return e.value},e}(i),r=function(n,r,i){if(n.type&&r)throw new Error("Param '"+e+"' has two type configurations.");return r||(n.type?t.isString(n.type)?v[n.type]:n.type instanceof b?n.type:new b(n.type):"config"===i?v.any:v.string)}(i,r,o);var y=function(){var t={array:"search"===o&&"auto"},n=e.match(/\[\]$/)?{array:!0}:{};return W(t,n,i).array}();r=y?r.$asArray(y,"search"===o):r,"string"!==r.name||y||"path"!==o||i.value!==n||(i.value="");var w=i.value!==n,x=function(e,t){var n=e.squash;if(!t||!1===n)return!1;if(!z(n)||null==n)return m;if(!0===n||F(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}(i,w),S=function(e,t,r,i){var o,a,l=[{from:"",to:r||t?n:""},{from:null,to:r||t?n:""}];return o=H(e.replace)?e.replace:[],F(i)&&o.push({from:i,to:n}),a=p(o,function(e){return e.from}),d(l,function(e){return-1===s(a,e.from)}).concat(o)}(i,y,w,x);W(this,{id:e,type:r,location:o,array:y,squash:x,replace:S,isOptional:w,value:c,dynamic:n,config:i,toString:h})},c.prototype={$$new:function(){return r(this,W(new c,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,r=a(c.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),U(t,function(t){U(a(t),function(t){-1===s(e,t)&&-1===s(r,t)&&e.push(t)})}),e},$$values:function(e){var t={},n=this;return U(n.$$keys(),function(r){t[r]=n[r].value(e&&e[r])}),t},$$equals:function(e,t){var n=!0,r=this;return U(r.$$keys(),function(i){var o=e&&e[i],a=t&&t[i];r[i].type.equals(o,a)||(n=!1)}),n},$$validates:function(e){var r,i,o,a,s,l=this.$$keys();for(r=0;r<l.length&&(i=this[l[r]],(o=e[l[r]])!==n&&null!==o||!i.isOptional);r++){if(a=i.type.$normalize(o),!i.type.is(a))return!1;if(s=i.type.encode(a),t.isString(s)&&!i.type.pattern.exec(s))return!1}return!0},$$parent:n},this.ParamSet=c}function x(e,r){function i(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function o(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function a(e,t,n){if(!n)return!1;var r=e.invoke(t,t,{$match:n});return!z(r)||r}function s(r,i,o,a,s){function h(e,t,n){return"/"===m?e:t?m.slice(0,-1)+e:n?m.slice(1)+e:e}function d(e){function t(e){var t=e(o,r);return!!t&&(F(t)&&r.replace().url(t),!0)}if(!e||!e.defaultPrevented){g&&r.url();g=n;var i,a=u.length;for(i=0;i<a;i++)if(t(u[i]))return;c&&t(c)}}function p(){return l=l||i.$on("$locationChangeSuccess",d)}var g,m=a.baseHref(),v=r.url();return f||p(),{sync:function(){d()},listen:function(){return p()},update:function(e){if(e)return void(v=r.url());r.url()!==v&&(r.url(v),r.replace())},push:function(e,t,i){var o=e.format(t||{});null!==o&&t&&t["#"]&&(o+="#"+t["#"]),r.url(o),g=i&&i.$$avoidResync?r.url():n,i&&i.replace&&r.replace()},href:function(n,i,o){if(!n.validates(i))return null;var a=e.html5Mode();t.isObject(a)&&(a=a.enabled),a=a&&s.history;var l=n.format(i);if(o=o||{},a||null===l||(l="#"+e.hashPrefix()+l),null!==l&&i&&i["#"]&&(l+="#"+i["#"]),l=h(l,a,o.absolute),!o.absolute||!l)return l;var u=!a&&l?"/":"",c=r.port();return c=80===c||443===c?"":":"+c,[r.protocol(),"://",r.host(),c,u,l].join("")}}}var l,u=[],c=null,f=!1;this.rule=function(e){if(!B(e))throw new Error("'rule' must be a function");return u.push(e),this},this.otherwise=function(e){if(F(e)){var t=e;e=function(){return t}}else if(!B(e))throw new Error("'rule' must be a function");return c=e,this},this.when=function(e,t){var n,s=F(t);if(F(e)&&(e=r.compile(e)),!s&&!B(t)&&!H(t))throw new Error("invalid 'handler' in when()");var l={matcher:function(e,t){return s&&(n=r.compile(t),t=["$match",function(e){return n.format(e)}]),W(function(n,r){return a(n,t,e.exec(r.path(),r.search()))},{prefix:F(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return s&&(n=t,t=["$match",function(e){return o(n,e)}]),W(function(n,r){return a(n,t,e.exec(r.path()))},{prefix:i(e)})}},u={matcher:r.isMatcher(e),regex:e instanceof RegExp};for(var c in u)if(u[c])return this.rule(l[c](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===n&&(e=!0),f=e},this.$get=s,s.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function S(e,i){function o(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function h(e,t){if(!e)return n;var r=F(e),i=r?e:e.name;if(o(i)){if(!t)throw new Error("No reference point given for path '"+i+"'");t=h(t);for(var a=i.split("."),s=0,l=a.length,u=t;s<l;s++)if(""!==a[s]||0!==s){if("^"!==a[s])break;if(!u.parent)throw new Error("Path '"+i+"' not valid for state '"+t.name+"'");u=u.parent}else u=t;a=a.slice(s).join("."),i=u.name+(u.name&&a?".":"")+a}var c=k[i];return!c||!r&&(r||c!==e&&c.self!==e)?n:c}function d(e,t){_[e]||(_[e]=[]),_[e].push(t)}function m(e){for(var t=_[e]||[];t.length;)v(t.shift())}function v(t){t=r(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!F(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(k.hasOwnProperty(n))throw new Error("State '"+n+"' is already defined");var i=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):F(t.parent)?t.parent:j(t.parent)&&F(t.parent.name)?t.parent.name:"";if(i&&!k[i])return d(i,t.self);for(var o in E)B(E[o])&&(t[o]=E[o](t,E.$delegates[o]));return k[n]=t,!t[T]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){A.$current.navigable==t&&u(e,n)||A.transitionTo(t,e,{inherit:!0,location:!1})}]),m(n),t}function y(e){return e.indexOf("*")>-1}function b(e){for(var t=e.split("."),n=A.$current.name.split("."),r=0,i=t.length;r<i;r++)"*"===t[r]&&(n[r]="*");return"**"===t[0]&&(n=n.slice(s(n,t[1])),n.unshift("**")),"**"===t[t.length-1]&&(n.splice(s(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length==n.length&&n.join("")===t.join("")}function w(e,t){return F(e)&&!z(t)?E[e]:B(t)&&F(e)?(E[e]&&!E.$delegates[e]&&(E.$delegates[e]=E[e]),E[e]=t,this):this}function x(e,t){return j(e)?t=e:t.name=e,v(t),this}function S(e,i,o,s,f,d,m,v,w){function x(t,n,r,o){var a=e.$broadcast("$stateNotFound",t,n,r);if(a.defaultPrevented)return m.update(),D;if(!a.retry)return null;if(o.$retry)return m.update(),P;var s=A.transition=i.when(a.retry);return s.then(function(){return s!==A.transition?(e.$broadcast("$stateChangeCancel",t.to,t.toParams,n,r),E):(t.options.$retry=!0,A.transitionTo(t.to,t.toParams,t.options))},function(){return D}),m.update(),s}function S(e,n,r,a,l,u){function h(){var n=[];return U(e.views,function(r,i){var a=r.resolve&&r.resolve!==e.resolve?r.resolve:{};a.$template=[function(){return o.load(i,{view:r,locals:l.globals,params:d,notify:u.notify})||""}],n.push(f.resolve(a,l.globals,l.resolve,e).then(function(n){if(B(r.controllerProvider)||H(r.controllerProvider)){var o=t.extend({},a,l.globals);n.$$controller=s.invoke(r.controllerProvider,null,o)}else n.$$controller=r.controller;n.$$state=e,n.$$controllerAs=r.controllerAs,n.$$resolveAs=r.resolveAs,l[i]=n}))}),i.all(n).then(function(){return l.globals})}var d=r?n:c(e.params.$$keys(),n),p={$stateParams:d};l.resolve=f.resolve(e.resolve,p,l.resolve,e);var g=[l.resolve.then(function(e){l.globals=e})];return a&&g.push(a),i.all(g).then(h).then(function(e){return l})}var _=new Error("transition superseded"),E=g(i.reject(_)),M=g(i.reject(new Error("transition prevented"))),D=g(i.reject(new Error("transition aborted"))),P=g(i.reject(new Error("transition failed")));return C.locals={resolve:null,globals:{$stateParams:{}}},A={params:{},current:C.self,$current:C,transition:null},A.reload=function(e){return A.transitionTo(A.current,d,{reload:e||!0,inherit:!1,notify:!0})},A.go=function(e,t,n){return A.transitionTo(e,t,W({inherit:!0,relative:A.$current},n))},A.transitionTo=function(t,n,o){n=n||{},o=W({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var a,u=A.$current,f=A.params,p=u.path,g=h(t,o.relative),v=n["#"];if(!z(g)){var y={to:t,toParams:n,options:o},b=x(y,u.self,f,o);if(b)return b;if(t=y.to,n=y.toParams,o=y.options,g=h(t,o.relative),!z(g)){if(!o.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+o.relative+"'")}}if(g[T])throw new Error("Cannot transition to abstract state '"+t+"'");if(o.inherit&&(n=l(d,n||{},A.$current,g)),!g.params.$$validates(n))return P;n=g.params.$$values(n),t=g;var w=t.path,k=0,D=w[k],R=C.locals,O=[];if(o.reload){if(F(o.reload)||j(o.reload)){if(j(o.reload)&&!o.reload.name)throw new Error("Invalid reload state object");var N=!0===o.reload?p[0]:h(o.reload);if(o.reload&&!N)throw new Error("No such reload state '"+(F(o.reload)?o.reload:o.reload.name)+"'");for(;D&&D===p[k]&&D!==N;)R=O[k]=D.locals,k++,D=w[k]}}else for(;D&&D===p[k]&&D.ownParams.$$equals(n,f);)R=O[k]=D.locals,k++,D=w[k];if($(t,n,u,f,R,o))return v&&(n["#"]=v),A.params=n,V(A.params,d),V(c(t.params.$$keys(),d),t.locals.globals.$stateParams),o.location&&t.navigable&&t.navigable.url&&(m.push(t.navigable.url,n,{$$avoidResync:!0,replace:"replace"===o.location}),m.update(!0)),A.transition=null,i.when(A.current);if(n=c(t.params.$$keys(),n||{}),v&&(n["#"]=v),o.notify&&e.$broadcast("$stateChangeStart",t.self,n,u.self,f,o).defaultPrevented)return e.$broadcast("$stateChangeCancel",t.self,n,u.self,f),null==A.transition&&m.update(),M;for(var L=i.when(R),I=k;I<w.length;I++,D=w[I])R=O[I]=r(R),L=S(D,n,D===t,L,R,o);var B=A.transition=L.then(function(){var r,i,a;if(A.transition!==B)return e.$broadcast("$stateChangeCancel",t.self,n,u.self,f),E;for(r=p.length-1;r>=k;r--)a=p[r],a.self.onExit&&s.invoke(a.self.onExit,a.self,a.locals.globals),a.locals=null;for(r=k;r<w.length;r++)i=w[r],i.locals=O[r],i.self.onEnter&&s.invoke(i.self.onEnter,i.self,i.locals.globals);return A.transition!==B?(e.$broadcast("$stateChangeCancel",t.self,n,u.self,f),E):(A.$current=t,A.current=t.self,A.params=n,V(A.params,d),A.transition=null,o.location&&t.navigable&&m.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===o.location}),o.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,u.self,f),m.update(!0),A.current)}).then(null,function(r){return r===_?E:A.transition!==B?(e.$broadcast("$stateChangeCancel",t.self,n,u.self,f),E):(A.transition=null,a=e.$broadcast("$stateChangeError",t.self,n,u.self,f,r),a.defaultPrevented||m.update(),i.reject(r))});return B},A.is=function(e,t,r){r=W({relative:A.$current},r||{});var i=h(e,r.relative);return z(i)?A.$current===i&&(!t||u(i.params.$$values(t),d)):n},A.includes=function(e,t,r){if(r=W({
relative:A.$current},r||{}),F(e)&&y(e)){if(!b(e))return!1;e=A.$current.name}var i=h(e,r.relative);if(!z(i))return n;if(!z(A.$current.includes[i.name]))return!1;if(!t)return!0;for(var o=a(t),s=0;s<o.length;s++){var l=o[s],u=i.params[l];if(u&&!u.type.equals(d[l],t[l]))return!1}return!0},A.href=function(e,t,r){r=W({lossy:!0,inherit:!0,absolute:!1,relative:A.$current},r||{});var i=h(e,r.relative);if(!z(i))return null;r.inherit&&(t=l(d,t||{},A.$current,i));var o=i&&r.lossy?i.navigable:i;return o&&o.url!==n&&null!==o.url?m.href(o.url,c(i.params.$$keys().concat("#"),t||{}),{absolute:r.absolute}):null},A.get=function(e,t){if(0===arguments.length)return p(a(k),function(e){return k[e].self});var n=h(e,t||A.$current);return n&&n.self?n.self:null},A}function $(e,t,n,r,i,o){if(!o.reload&&e===n&&(i===n.locals||!1===e.self.reloadOnSearch&&function(e,t,n){function r(t){return"search"!=e.params[t].location}var i=e.params.$$keys().filter(r),o=f.apply({},[e.params].concat(i));return new Y.ParamSet(o).$$equals(t,n)}(n,r,t)))return!0}var C,A,k={},_={},T="abstract",E={parent:function(e){if(z(e.parent)&&e.parent)return h(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?h(t[1]):C},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=r(e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(F(t))return"^"==t.charAt(0)?i.compile(t.substring(1),n):(e.parent.navigable||C).url.concat(t,n);if(!t||i.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new Y.ParamSet;return U(e.params||{},function(e,n){t[n]||(t[n]=new Y.Param(n,null,e,"config"))}),t},params:function(e){var t=f(e.ownParams,e.ownParams.$$keys());return e.parent&&e.parent.params?W(e.parent.params.$$new(),t):new Y.ParamSet},views:function(e){var t={};return U(z(e.views)?e.views:{"":e},function(n,r){r.indexOf("@")<0&&(r+="@"+e.parent.name),n.resolveAs=n.resolveAs||e.resolveAs||"$resolve",t[r]=n}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?W({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};C=v({name:"",url:"^",views:null,abstract:!0}),C.navigable=null,this.decorator=w,this.state=x,this.$get=S,S.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function $(){function e(e,t){return{load:function(e,n){var r;return n=W({template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}},n),n.view&&(r=t.fromConfig(n.view,n.params,n.locals)),r}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function C(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){return n(function(){e[0].scrollIntoView()},0,!1)}}]}function A(e,n,r,i,o){function a(e,n){if(u)return{enter:function(e,n,r){t.version.minor>2?u.enter(e,null,n).then(r):u.enter(e,null,n,r)},leave:function(e,n){t.version.minor>2?u.leave(e).then(n):u.leave(e,n)}};if(l){var r=l&&l(n,e);return{enter:function(e,t,n){r.enter(e,null,t),n()},leave:function(e,t){r.leave(e),t()}}}return function(){return{enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}}}()}var s=function(){return n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(e){return null}}}(),l=s("$animator"),u=s("$animate");return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,s,l){return function(n,s,u){function c(){if(h&&(h.remove(),h=null),p&&(p.$destroy(),p=null),d){var e=d.data("$uiViewAnim");y.leave(d,function(){e.$$animLeave.resolve(),h=null}),h=d,d=null}}function f(a){var f,h=_(n,u,s,i),b=h&&e.$current&&e.$current.locals[h];if(a||b!==g){f=n.$new(),g=e.$current.locals[h],f.$emit("$viewContentLoading",h);var w=l(f,function(e){var i=o.defer(),a=o.defer(),l={$animEnter:i.promise,$animLeave:a.promise,$$animLeave:a};e.data("$uiViewAnim",l),y.enter(e,s,function(){i.resolve(),p&&p.$emit("$viewContentAnimationEnded"),(t.isDefined(v)&&!v||n.$eval(v))&&r(e)}),c()});d=w,p=f,p.$emit("$viewContentLoaded",h),p.$eval(m)}}var h,d,p,g,m=u.onload||"",v=u.autoscroll,y=a(u,n);s.inheritedData("$uiView");n.$on("$stateChangeSuccess",function(){f(!1)}),f(!0)}}}}function k(e,n,r,i){return{restrict:"ECA",priority:-400,compile:function(o){var a=o.html();return function(o,s,l){var u=r.$current,c=_(o,l,s,i),f=u&&u.locals[c];if(f){s.data("$uiView",{name:c,state:f.$$state}),s.html(f.$template?f.$template:a);var h=t.extend({},f);o[f.$$resolveAs]=h;var d=e(s.contents());if(f.$$controller){f.$scope=o,f.$element=s;var p=n(f.$$controller,f);f.$$controllerAs&&(o[f.$$controllerAs]=p,o[f.$$controllerAs][f.$$resolveAs]=h),B(p.$onInit)&&p.$onInit(),s.data("$ngControllerController",p),s.children().data("$ngControllerController",p)}d(o)}}}}}function _(e,t,n,r){var i=r(t.uiView||t.name||"")(e),o=n.inheritedData("$uiView");return i.indexOf("@")>=0?i:i+"@"+(o?o.state.name:"")}function T(e,t){var n,r=e.match(/^\s*({[^}]*})\s*$/);if(r&&(e=t+"("+r[1]+")"),!(n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/))||4!==n.length)throw new Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function E(e){var t=e.parent().inheritedData("$uiView");if(t&&t.state&&t.state.name)return t.state}function M(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),n="FORM"===e[0].nodeName;return{attr:n?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!n}}function D(e,t,n,r,i){return function(o){var a=o.which||o.button,s=i();if(!(a>1||o.ctrlKey||o.metaKey||o.shiftKey||e.attr("target"))){var l=n(function(){t.go(s.state,s.params,s.options)});o.preventDefault();var u=r.isAnchor&&!s.href?1:0;o.preventDefault=function(){u--<=0&&n.cancel(l)}}}}function P(e,t){return{relative:E(e)||t.$current,inherit:!0}}function R(e,n){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,i,o,a){var s,l=T(o.uiSref,e.current.name),u={state:l.state,href:null,params:null},c=M(i),f=a[1]||a[0],h=null;u.options=W(P(i,e),o.uiSrefOpts?r.$eval(o.uiSrefOpts):{});var d=function(n){n&&(u.params=t.copy(n)),u.href=e.href(l.state,u.params,u.options),h&&h(),f&&(h=f.$$addStateInfo(l.state,u.params)),null!==u.href&&o.$set(c.attr,u.href)};l.paramExpr&&(r.$watch(l.paramExpr,function(e){e!==u.params&&d(e)},!0),u.params=t.copy(r.$eval(l.paramExpr))),d(),c.clickable&&(s=D(i,e,n,c,function(){return u}),i[i.on?"on":"bind"]("click",s),r.$on("$destroy",function(){i[i.off?"off":"unbind"]("click",s)}))}}}function O(e,t){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,r,i,o){function a(t){h.state=t[0],h.params=t[1],h.options=t[2],h.href=e.href(h.state,h.params,h.options),d&&d(),u&&(d=u.$$addStateInfo(h.state,h.params)),h.href&&i.$set(l.attr,h.href)}var s,l=M(r),u=o[1]||o[0],c=[i.uiState,i.uiStateParams||null,i.uiStateOpts||null],f="["+c.map(function(e){return e||"null"}).join(", ")+"]",h={state:null,params:null,options:null,href:null},d=null;n.$watch(f,a,!0),a(n.$eval(f)),l.clickable&&(s=D(r,e,t,l,function(){return h}),r[r.on?"on":"bind"]("click",s),n.$on("$destroy",function(){r[r.off?"off":"unbind"]("click",s)}))}}}function N(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(t,r,i,o){function a(t,n,i){var o=e.get(t,E(r)),a=s(t,n),l={state:o||{name:t},params:n,hash:a};return g.push(l),m[a]=i,function(){var e=g.indexOf(l);-1!==e&&g.splice(e,1)}}function s(e,n){if(!F(e))throw new Error("state should be a string");return j(n)?e+q(n):(n=t.$eval(n),j(n)?e+q(n):e)}function l(){for(var e=0;e<g.length;e++)f(g[e].state,g[e].params)?u(r,m[g[e].hash]):c(r,m[g[e].hash]),h(g[e].state,g[e].params)?u(r,d):c(r,d)}function u(e,t){o(function(){e.addClass(t)})}function c(e,t){e.removeClass(t)}function f(t,n){return e.includes(t.name,n)}function h(t,n){return e.is(t.name,n)}var d,p,g=[],m={};d=n(i.uiSrefActiveEq||"",!1)(t);try{p=t.$eval(i.uiSrefActive)}catch(e){}p=p||n(i.uiSrefActive||"",!1)(t),j(p)&&U(p,function(n,r){if(F(n)){var i=T(n,e.current.name);a(i.state,t.$eval(i.paramExpr),r)}}),this.$$addStateInfo=function(e,t){if(!(j(p)&&g.length>0)){var n=a(e,t,p);return l(),n}},t.$on("$stateChangeSuccess",l),l()}]}}function L(e){var t=function(t,n){return e.is(t,n)};return t.$stateful=!0,t}function I(e){var t=function(t,n,r){return e.includes(t,n,r)};return t.$stateful=!0,t}var z=t.isDefined,B=t.isFunction,F=t.isString,j=t.isObject,H=t.isArray,U=t.forEach,W=t.extend,V=t.copy,q=t.toJson;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),m.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",m),v.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",v);var Y;y.prototype.concat=function(e,t){var n={caseInsensitive:Y.caseInsensitive(),strict:Y.strictMode(),squash:Y.defaultSquashPolicy()};return new y(this.sourcePath+e+this.sourceSearch,W(n,t),this)},y.prototype.toString=function(){return this.source},y.prototype.exec=function(e,t){var n=this.regexp.exec(e);if(!n)return null;t=t||{};var r,i,o,a=this.parameters(),s=a.length,l=this.segments.length-1,u={};if(l!==n.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var c,f;for(r=0;r<l;r++){for(o=a[r],c=this.params[o],f=n[r+1],i=0;i<c.replace.length;i++)c.replace[i].from===f&&(f=c.replace[i].to);f&&!0===c.array&&(f=function(e){function t(e){return e.split("").reverse().join("")}function n(e){return e.replace(/\\-/g,"-")}return p(p(t(e).split(/-(?!\\)/),t),n).reverse()}(f)),z(f)&&(f=c.type.decode(f)),u[o]=c.value(f)}for(;r<s;r++){for(o=a[r],u[o]=this.params[o].value(t[o]),c=this.params[o],f=t[o],i=0;i<c.replace.length;i++)c.replace[i].from===f&&(f=c.replace[i].to);z(f)&&(f=c.type.decode(f)),u[o]=c.value(f)}return u},y.prototype.parameters=function(e){return z(e)?this.params[e]||null:this.$$paramNames},y.prototype.validates=function(e){return this.params.$$validates(e)},y.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var n=this.segments,r=this.parameters(),i=this.params;if(!this.validates(e))return null;var o,a=!1,s=n.length-1,l=r.length,u=n[0];for(o=0;o<l;o++){var c=o<s,f=r[o],h=i[f],d=h.value(e[f]),g=h.isOptional&&h.type.equals(h.value(),d),m=!!g&&h.squash,v=h.type.encode(d);if(c){var y=n[o+1],b=o+1===s;if(!1===m)null!=v&&(H(v)?u+=p(v,t).join("-"):u+=encodeURIComponent(v)),u+=y;else if(!0===m){var w=u.match(/\/$/)?/\/?(.*)/:/(.*)/;u+=y.match(w)[1]}else F(m)&&(u+=m+y);b&&!0===h.squash&&"/"===u.slice(-1)&&(u=u.slice(0,-1))}else{if(null==v||g&&!1!==m)continue;if(H(v)||(v=[v]),0===v.length)continue;v=p(v,encodeURIComponent).join("&"+f+"="),u+=(a?"&":"?")+f+"="+v,a=!0}}return u},b.prototype.is=function(e,t){return!0},b.prototype.encode=function(e,t){return e},b.prototype.decode=function(e,t){return e},b.prototype.equals=function(e,t){return e==t},b.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},b.prototype.pattern=/.*/,b.prototype.toString=function(){return"{Type:"+this.name+"}"},b.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},b.prototype.$asArray=function(e,t){function r(e,t){function r(e,t){return function(){return e[t].apply(e,arguments)}}function i(e){return H(e)?e:z(e)?[e]:[]}function o(e){switch(e.length){case 0:return n;case 1:return"auto"===t?e[0]:e;default:return e}}function a(e){return!e}function s(e,t){return function(n){if(H(n)&&0===n.length)return n;n=i(n);var r=p(n,e);return!0===t?0===d(r,a).length:o(r)}}this.encode=s(r(e,"encode")),this.decode=s(r(e,"decode")),this.is=s(r(e,"is"),!0),this.equals=function(e){return function(t,n){var r=i(t),o=i(n);if(r.length!==o.length)return!1;for(var a=0;a<r.length;a++)if(!e(r[a],o[a]))return!1;return!0}}(r(e,"equals")),this.pattern=e.pattern,this.$normalize=s(r(e,"$normalize")),this.name=e.name,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new r(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",w),t.module("ui.router.util").run(["$urlMatcherFactory",function(e){}]),x.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",x),S.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:!0}).provider("$state",S).run(["$injector",function(e){e.get("$state.runtime").autoinject&&e.get("$state")}]),$.$inject=[],t.module("ui.router.state").provider("$view",$),t.module("ui.router.state").provider("$uiViewScroll",C),A.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"],k.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",A),t.module("ui.router.state").directive("uiView",k),R.$inject=["$state","$timeout"],O.$inject=["$state","$timeout"],N.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",R).directive("uiSrefActive",N).directive("uiSrefActiveEq",N).directive("uiState",O),L.$inject=["$state"],I.$inject=["$state"],t.module("ui.router.state").filter("isState",L).filter("includedByState",I)}(window,window.angular),function(e,t){"use strict";function n(e,t,n){if(!e)throw le("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function r(e,t){return e||t?e?t?(q(e)&&(e=e.join(" ")),q(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function i(e){var t={};return e&&(e.to||e.from)&&(t.to=e.to,t.from=e.from),t}function o(e,t,n){var r="";return e=q(e)?e:e&&Z(e)&&e.length?e.split(/\s+/):[],V(e,function(e,i){e&&e.length>0&&(r+=i>0?" ":"",r+=n?t+e:e+t)}),r}function a(e,t){var n=e.indexOf(t);t>=0&&e.splice(n,1)}function s(e){if(e instanceof Q)switch(e.length){case 0:return e;case 1:if(e[0].nodeType===I)return e;break;default:return Q(l(e))}if(e.nodeType===I)return Q(e)}function l(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===I)return n}}function u(e,t,n){V(t,function(t){e.addClass(t,n)})}function c(e,t,n){V(t,function(t){e.removeClass(t,n)})}function f(e){return function(t,n){n.addClass&&(u(e,t,n.addClass),n.addClass=null),n.removeClass&&(c(e,t,n.removeClass),n.removeClass=null)}}function h(e){if(e=e||{},!e.$$prepared){var t=e.domOperation||ee;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=ee},e.$$prepared=!0}return e}function d(e,t){p(e,t),g(e,t)}function p(e,t){t.from&&(e.css(t.from),t.from=null)}function g(e,t){t.to&&(e.css(t.to),t.to=null)}function m(e,t,n){var r=t.options||{},i=n.options||{},o=(r.addClass||"")+" "+(i.addClass||""),a=(r.removeClass||"")+" "+(i.removeClass||""),s=v(e.attr("class"),o,a);i.preparationClasses&&(r.preparationClasses=C(i.preparationClasses,r.preparationClasses),delete i.preparationClasses);var l=r.domOperation!==ee?r.domOperation:null;return W(r,i),l&&(r.domOperation=l),s.addClass?r.addClass=s.addClass:r.addClass=null,s.removeClass?r.removeClass=s.removeClass:r.removeClass=null,t.addClass=r.addClass,t.removeClass=r.removeClass,r}function v(e,t,n){function r(e){Z(e)&&(e=e.split(" "));var t={};return V(e,function(e){e.length&&(t[e]=!0)}),t}var i={};e=r(e),t=r(t),V(t,function(e,t){i[t]=1}),n=r(n),V(n,function(e,t){i[t]=1===i[t]?null:-1});var o={addClass:"",removeClass:""};return V(i,function(t,n){var r,i;1===t?(r="addClass",i=!e[n]||e[n+B]):-1===t&&(r="removeClass",i=e[n]||e[n+z]),i&&(o[r].length&&(o[r]+=" "),o[r]+=n)}),o}function y(e){return e instanceof Q?e[0]:e}function b(e,t,n){var r="";t&&(r=o(t,F,!0)),n.addClass&&(r=C(r,o(n.addClass,z))),n.removeClass&&(r=C(r,o(n.removeClass,B))),r.length&&(n.preparationClasses=r,e.addClass(r))}function w(e,t){t.preparationClasses&&(e.removeClass(t.preparationClasses),t.preparationClasses=null),t.activeClasses&&(e.removeClass(t.activeClasses),t.activeClasses=null)}function x(e,t){var n=t?"-"+t+"s":"";return $(e,[ae,n]),[ae,n]}function S(e,t){var n=t?"paused":"",r=N+re;return $(e,[r,n]),[r,n]}function $(e,t){var n=t[0],r=t[1];e.style[n]=r}function C(e,t){return e?t?e+" "+t:e:t}function A(e){return[oe,e+"s"]}function k(e,t){return[t?ie:ae,e+"s"]}function _(e,t,n){var r=Object.create(null),i=e.getComputedStyle(t)||{};return V(n,function(e,t){var n=i[e];if(n){var o=n.charAt(0);("-"===o||"+"===o||o>=0)&&(n=T(n)),0===n&&(n=null),r[t]=n}}),r}function T(e){var t=0,n=e.split(/\s*,\s*/);return V(n,function(e){"s"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}function E(e){return 0===e||null!=e}function M(e,t){var n=R,r=e+"s";return t?n+=te:r+=" linear all",[n,r]}function D(){var e=Object.create(null);return{flush:function(){e=Object.create(null)},count:function(t){var n=e[t];return n?n.total:0},get:function(t){var n=e[t];return n&&n.value},put:function(t,n){e[t]?e[t].total++:e[t]={total:1,value:n}}}}function P(e,t,n){V(n,function(n){e[n]=Y(e[n])?e[n]:t.style.getPropertyValue(n)})}var R,O,N,L,I=1,z="-add",B="-remove",F="ng-",j="ng-animate",H="$$ngAnimateChildren";void 0===e.ontransitionend&&void 0!==e.onwebkittransitionend?("-webkit-",R="WebkitTransition",O="webkitTransitionEnd transitionend"):(R="transition",O="transitionend"),void 0===e.onanimationend&&void 0!==e.onwebkitanimationend?("-webkit-",N="WebkitAnimation",L="webkitAnimationEnd animationend"):(N="animation",L="animationend");var U,W,V,q,Y,G,X,K,Z,J,Q,ee,te="Duration",ne="TimingFunction",re="PlayState",ie=N+"Delay",oe=N+te,ae=R+"Delay",se=R+te,le=t.$$minErr("ng"),ue=["$$rAF",function(e){function t(e){r=r.concat(e),n()}function n(){if(r.length){for(var t=r.shift(),o=0;o<t.length;o++)t[o]();i||e(function(){i||n()})}}var r,i;return r=t.queue=[],t.waitUntilQuiet=function(t){i&&i(),i=e(function(){i=null,t(),n()})},t}],ce=["$interpolate",function(e){return{link:function(t,n,r){function i(e){e="on"===e||"true"===e,n.data(H,e)}var o=r.ngAnimateChildren;Z(o)&&0===o.length?n.data(H,!0):(i(e(o)(t)),r.$observe("ngAnimateChildren",i))}}}],fe="$$animateCss",he=1e3,de=3,pe=1.5,ge={transitionDuration:se,transitionDelay:ae,transitionProperty:R+"Property",animationDuration:oe,animationDelay:ie,animationIterationCount:N+"IterationCount"},me={transitionDuration:se,transitionDelay:ae,animationDuration:oe,animationDelay:ie},ve=["$animateProvider",function(e){var t=D(),n=D();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(e,r,s,l,u,c,m,v){function b(e,t){var n="$$ngAnimateParentKey",r=e.parentNode;return(r[n]||(r[n]=++j))+"-"+e.getAttribute("class")+"-"+t}function w(n,r,i,o){var a=t.get(i);return a||(a=_(e,n,o),"infinite"===a.animationIterationCount&&(a.animationIterationCount=1)),t.put(i,a),a}function C(i,a,s,l){var u;if(t.count(s)>0&&!(u=n.get(s))){var c=o(a,"-stagger");r.addClass(i,c),u=_(e,i,l),u.animationDuration=Math.max(u.animationDuration,0),u.transitionDuration=Math.max(u.transitionDuration,0),r.removeClass(i,c),n.put(s,u)}return u||{}}function T(e){H.push(e),m.waitUntilQuiet(function(){t.flush(),n.flush();for(var e=u(),r=0;r<H.length;r++)H[r](e);H.length=0})}function D(e,t,n){var r=w(e,t,n,ge),i=r.animationDelay,o=r.transitionDelay;return r.maxDelay=i&&o?Math.max(i,o):i||o,r.maxDuration=Math.max(r.animationDuration*r.animationIterationCount,r.transitionDuration),r}var I=f(r),j=0,H=[];return function(e,n){function u(){m()}function f(){m(!0)}function m(t){if(!(X||Z&&K)){X=!0,K=!1,W.$$skipPreparationClasses||r.removeClass(e,we),r.removeClass(e,Se),S(G,!1),x(G,!1),V(se,function(e){G.style[e[0]]=""}),I(e,W),d(e,W),Object.keys(Y).length&&V(Y,function(e,t){e?G.style.setProperty(t,e):G.style.removeProperty(t)}),W.onDone&&W.onDone(),ce&&ce.length&&e.off(ce.join(" "),j);var n=e.data(fe);n&&(l.cancel(n[0].timer),e.removeData(fe)),J&&J.complete(!t)}}function w(e){Ne.blockTransition&&x(G,e),Ne.blockKeyframeAnimation&&S(G,!!e)}function _(){return J=new s({end:u,cancel:f}),T(ee),m(),{$$willAnimate:!1,start:function(){return J},end:u}}function j(e){e.stopPropagation();var t=e.originalEvent||e,n=t.$manualTimeStamp||Date.now(),r=parseFloat(t.elapsedTime.toFixed(de));Math.max(n-ae,0)>=re&&r>=ie&&(Z=!0,m())}function H(){function t(){if(!X){if(w(!1),V(se,function(e){var t=e[0],n=e[1];G.style[t]=n}),I(e,W),r.addClass(e,Se),Ne.recalculateTimingStyles){if(xe=G.getAttribute("class")+" "+we,Ce=b(G,xe),Re=D(G,xe,Ce),Oe=Re.maxDelay,te=Math.max(Oe,0),0===(ie=Re.maxDuration))return void m();Ne.hasTransitions=Re.transitionDuration>0,Ne.hasAnimations=Re.animationDuration>0}if(Ne.applyAnimationDelay&&(Oe="boolean"!=typeof W.delay&&E(W.delay)?parseFloat(W.delay):Oe,te=Math.max(Oe,0),Re.animationDelay=Oe,Le=k(Oe,!0),se.push(Le),G.style[Le[0]]=Le[1]),re=te*he,oe=ie*he,W.easing){var t,i=W.easing;Ne.hasTransitions&&(t=R+ne,se.push([t,i]),G.style[t]=i),Ne.hasAnimations&&(t=N+ne,se.push([t,i]),G.style[t]=i)}Re.transitionDuration&&ce.push(O),Re.animationDuration&&ce.push(L),ae=Date.now();var o=re+pe*oe,a=ae+o,s=e.data(fe)||[],u=!0;if(s.length){var c=s[0];u=a>c.expectedEndTime,u?l.cancel(c.timer):s.push(m)}if(u){var f=l(n,o,!1);s[0]={timer:f,expectedEndTime:a},s.push(m),e.data(fe,s)}ce.length&&e.on(ce.join(" "),j),W.to&&(W.cleanupStyles&&P(Y,G,Object.keys(W.to)),g(e,W))}}function n(){var t=e.data(fe);if(t){for(var n=1;n<t.length;n++)t[n]();e.removeData(fe)}}if(!X){if(!G.parentNode)return void m();var i=function(e){if(Z)K&&e&&(K=!1,m());else if(K=!e,Re.animationDuration){var t=S(G,K);K?se.push(t):a(se,t)}},o=De>0&&(Re.transitionDuration&&0===Ae.transitionDuration||Re.animationDuration&&0===Ae.animationDuration)&&Math.max(Ae.animationDelay,Ae.transitionDelay);o?l(t,Math.floor(o*De*he),!1):t(),Q.resume=function(){i(!0)},Q.pause=function(){i(!1)}}}var W=n||{};W.$$prepared||(W=h(U(W)));var Y={},G=y(e);if(!G||!G.parentNode||!v.enabled())return _();var X,K,Z,J,Q,te,re,ie,oe,ae,se=[],le=e.attr("class"),ue=i(W),ce=[];if(0===W.duration||!c.animations&&!c.transitions)return _();var ge=W.event&&q(W.event)?W.event.join(" "):W.event,ve=ge&&W.structural,ye="",be="";ve?ye=o(ge,F,!0):ge&&(ye=ge),W.addClass&&(be+=o(W.addClass,z)),W.removeClass&&(be.length&&(be+=" "),be+=o(W.removeClass,B)),W.applyClassesEarly&&be.length&&I(e,W);var we=[ye,be].join(" ").trim(),xe=le+" "+we,Se=o(we,"-active"),$e=ue.to&&Object.keys(ue.to).length>0;if(!((W.keyframeStyle||"").length>0||$e||we))return _();var Ce,Ae;if(W.stagger>0){var ke=parseFloat(W.stagger);Ae={transitionDelay:ke,animationDelay:ke,transitionDuration:0,animationDuration:0}}else Ce=b(G,xe),Ae=C(G,we,Ce,me);W.$$skipPreparationClasses||r.addClass(e,we);var _e;if(W.transitionStyle){var Te=[R,W.transitionStyle];$(G,Te),se.push(Te)}if(W.duration>=0){_e=G.style[R].length>0;var Ee=M(W.duration,_e);$(G,Ee),se.push(Ee)}if(W.keyframeStyle){var Me=[N,W.keyframeStyle];$(G,Me),se.push(Me)}var De=Ae?W.staggerIndex>=0?W.staggerIndex:t.count(Ce):0,Pe=0===De;Pe&&!W.skipBlocking&&x(G,9999);var Re=D(G,xe,Ce),Oe=Re.maxDelay;te=Math.max(Oe,0),ie=Re.maxDuration;var Ne={};if(Ne.hasTransitions=Re.transitionDuration>0,Ne.hasAnimations=Re.animationDuration>0,Ne.hasTransitionAll=Ne.hasTransitions&&"all"===Re.transitionProperty,Ne.applyTransitionDuration=$e&&(Ne.hasTransitions&&!Ne.hasTransitionAll||Ne.hasAnimations&&!Ne.hasTransitions),Ne.applyAnimationDuration=W.duration&&Ne.hasAnimations,Ne.applyTransitionDelay=E(W.delay)&&(Ne.applyTransitionDuration||Ne.hasTransitions),Ne.applyAnimationDelay=E(W.delay)&&Ne.hasAnimations,Ne.recalculateTimingStyles=be.length>0,(Ne.applyTransitionDuration||Ne.applyAnimationDuration)&&(ie=W.duration?parseFloat(W.duration):ie,Ne.applyTransitionDuration&&(Ne.hasTransitions=!0,Re.transitionDuration=ie,_e=G.style[R+"Property"].length>0,se.push(M(ie,_e))),Ne.applyAnimationDuration&&(Ne.hasAnimations=!0,Re.animationDuration=ie,se.push(A(ie)))),0===ie&&!Ne.recalculateTimingStyles)return _();if(null!=W.delay){var Le;"boolean"!=typeof W.delay&&(Le=parseFloat(W.delay),te=Math.max(Le,0)),Ne.applyTransitionDelay&&se.push(k(Le)),Ne.applyAnimationDelay&&se.push(k(Le,!0))}return null==W.duration&&Re.transitionDuration>0&&(Ne.recalculateTimingStyles=Ne.recalculateTimingStyles||Pe),re=te*he,oe=ie*he,W.skipBlocking||(Ne.blockTransition=Re.transitionDuration>0,Ne.blockKeyframeAnimation=Re.animationDuration>0&&Ae.animationDelay>0&&0===Ae.animationDuration),W.from&&(W.cleanupStyles&&P(Y,G,Object.keys(W.from)),p(e,W)),Ne.blockTransition||Ne.blockKeyframeAnimation?w(ie):W.skipBlocking||x(G,!1),{$$willAnimate:!0,end:u,start:function(){if(!X)return Q={end:u,cancel:f,resume:null,pause:null},J=new s(Q),T(H),J}}}}]}],ye=["$$animationProvider",function(e){function t(e){return e.parentNode&&11===e.parentNode.nodeType}e.drivers.push("$$animateCssDriver");var n="ng-animate-shim",r="ng-anchor-out";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(e,i,o,a,s,l,u){function c(e){return e.replace(/\bng-\S+\b/g,"")}function f(e,t){return Z(e)&&(e=e.split(" ")),Z(t)&&(t=t.split(" ")),e.filter(function(e){return-1===t.indexOf(e)}).join(" ")}function h(t,i,a){function s(e){var t={},n=y(e).getBoundingClientRect();return V(["width","height","top","left"],function(e){var r=n[e];switch(e){case"top":r+=g.scrollTop;break;case"left":r+=g.scrollLeft}t[e]=Math.floor(r)+"px"}),t}function l(e){return e.attr("class")||""}function u(){var t=c(l(a)),n=f(t,p),i=f(p,t),o=e(d,{to:s(a),addClass:"ng-anchor-in "+n,removeClass:r+" "+i,delay:!0});return o.$$willAnimate?o:null}function h(){d.remove(),i.removeClass(n),a.removeClass(n)}var d=Q(y(i).cloneNode(!0)),p=c(l(d));i.addClass(n),a.addClass(n),d.addClass("ng-anchor"),v.append(d);var m,b=function(){var t=e(d,{addClass:r,delay:!0,from:s(i)});return t.$$willAnimate?t:null}();if(!b&&!(m=u()))return h();var w=b||m;return{start:function(){function e(){n&&n.end()}var t,n=w.start();return n.done(function(){if(n=null,!m&&(m=u()))return n=m.start(),n.done(function(){n=null,h(),t.complete()}),n;h(),t.complete()}),t=new o({end:e,cancel:e})}}}function d(e,t,n,r){var i=p(e),a=p(t),s=[];if(V(r,function(e){var t=e.out,r=e.in,i=h(n,t,r);i&&s.push(i)}),i||a||0!==s.length)return{start:function(){function e(){V(t,function(e){e.end()})}var t=[];i&&t.push(i.start()),a&&t.push(a.start()),V(s,function(e){t.push(e.start())});var n=new o({end:e,cancel:e});return o.all(t,function(e){n.complete(e)}),n}}}function p(t){var n=t.element,r=t.options||{};t.structural&&(r.event=t.event,r.structural=!0,r.applyClassesEarly=!0,"leave"===t.event&&(r.onDone=r.domOperation)),r.preparationClasses&&(r.event=C(r.event,r.preparationClasses));var i=e(n,r);return i.$$willAnimate?i:null}if(!s.animations&&!s.transitions)return ee;var g=u[0].body,m=y(a),v=Q(t(m)||g.contains(m)?m:g);return function(e){return e.from&&e.to?d(e.from,e.to,e.classes,e.anchors):p(e)}}]}],be=["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(t,n,r){function i(n){n=q(n)?n:n.split(" ");for(var r=[],i={},o=0;o<n.length;o++){var a=n[o],s=e.$$registeredAnimations[a];s&&!i[a]&&(r.push(t.get(s)),i[a]=!0)}return r}var o=f(r);return function(e,t,r,a){function s(){a.domOperation(),o(e,a)}function l(){p=!0,s(),d(e,a)}function u(e,t,r,i,o){var a;switch(r){case"animate":a=[t,i.from,i.to,o];break;case"setClass":a=[t,v,y,o];break;case"addClass":a=[t,v,o];break;case"removeClass":a=[t,y,o];break;default:a=[t,o]}a.push(i);var s=e.apply(e,a);if(s)if(X(s.start)&&(s=s.start()),s instanceof n)s.done(o);else if(X(s))return s;return ee}function c(e,t,r,i,o){var a=[];return V(i,function(i){var s=i[o];s&&a.push(function(){var i,o,a=!1,l=function(e){a||(a=!0,(o||ee)(e),i.complete(!e))};return i=new n({end:function(){l()},cancel:function(){l(!0)}}),o=u(s,e,t,r,function(e){l(!1===e)}),i})}),a}function f(e,t,r,i,o){var a=c(e,t,r,i,o);if(0===a.length){var s,l;"beforeSetClass"===o?(s=c(e,"removeClass",r,i,"beforeRemoveClass"),l=c(e,"addClass",r,i,"beforeAddClass")):"setClass"===o&&(s=c(e,"removeClass",r,i,"removeClass"),l=c(e,"addClass",r,i,"addClass")),s&&(a=a.concat(s)),l&&(a=a.concat(l))}if(0!==a.length)return function(e){var t=[];return a.length&&V(a,function(e){t.push(e())}),t.length?n.all(t,e):e(),function(e){V(t,function(t){e?t.cancel():t.end()})}}}var p=!1;3===arguments.length&&K(r)&&(a=r,r=null),a=h(a),r||(r=e.attr("class")||"",a.addClass&&(r+=" "+a.addClass),a.removeClass&&(r+=" "+a.removeClass));var g,m,v=a.addClass,y=a.removeClass,b=i(r);if(b.length){var w,x;"leave"===t?(x="leave",w="afterLeave"):(x="before"+t.charAt(0).toUpperCase()+t.substr(1),w=t),"enter"!==t&&"move"!==t&&(g=f(e,t,a,b,x)),m=f(e,t,a,b,w)}if(g||m){var S;return{$$willAnimate:!0,end:function(){return S?S.end():(l(),S=new n,S.complete(!0)),S},start:function(){function e(e){l(e),S.complete(e)}function t(t){p||((r||ee)(t),e(t))}if(S)return S;S=new n;var r,i=[];return g&&i.push(function(e){r=g(e)}),i.length?i.push(function(e){s(),e(!0)}):s(),m&&i.push(function(e){r=m(e)}),S.setHost({end:function(){t()},cancel:function(){t(!0)}}),n.chain(i,e),S}}}}}]}],we=["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,t){function n(t){var n=t.element,r=t.event,i=t.options,o=t.classes;return e(n,r,o,i)}return function(e){if(e.from&&e.to){var r=n(e.from),i=n(e.to);if(!r&&!i)return;return{start:function(){function e(){return function(){V(o,function(e){e.end()})}}function n(e){a.complete(e)}var o=[];r&&o.push(r.start()),i&&o.push(i.start()),t.all(o,n);var a=new t({end:e(),cancel:e()});return a}}}return n(e)}}]}],xe="data-ng-animate",Se="$ngAnimatePin",$e=["$animateProvider",function(t){function r(e){if(!e)return null;var t=e.split(p),n=Object.create(null);return V(t,function(e){n[e]=!0}),n}function i(e,t){if(e&&t){var n=r(t);return e.split(p).some(function(e){return n[e]})}}function o(e,t,n){return g[e].some(function(e){return e(t,n)})}function a(e,t){var n=(e.addClass||"").length>0,r=(e.removeClass||"").length>0;return t?n&&r:n||r}var u=1,c=2,p=" ",g=this.rules={skip:[],cancel:[],join:[]};g.join.push(function(e,t){return!e.structural&&a(e)}),g.skip.push(function(e,t){return!e.structural&&!a(e)}),g.skip.push(function(e,t){return"leave"===t.event&&e.structural}),g.skip.push(function(e,t){return t.structural&&t.state===c&&!e.structural}),g.cancel.push(function(e,t){return t.structural&&e.structural}),g.cancel.push(function(e,t){return t.state===c&&e.structural}),g.cancel.push(function(e,t){if(t.structural)return!1;var n=e.addClass,r=e.removeClass,o=t.addClass,a=t.removeClass;return!(J(n)&&J(r)||J(o)&&J(a))&&(i(n,a)||i(r,o))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(r,i,p,g,v,x,S,$,C,A,k){function _(){var e=!1;return function(t){e?t():i.$$postDigest(function(){e=!0,t()})}}function T(e,t){return m(e,t,{})}function E(e,t,n){var r=[],i=X[n];return i&&V(i,function(i){re.call(i.node,t)?r.push(i.callback):"leave"===n&&re.call(i.node,e)&&r.push(i.callback)}),r}function M(e,t,n){var r=l(t);return e.filter(function(e){return!(e.node===r&&(!n||e.callback===n))})}function D(e,t){"close"!==e||t.parentNode||ie.off(t)}function P(e,t,n){function l(e,t,n,i){A(function(){var e=E($,v,t);e.length?r(function(){V(e,function(e){e(g,n,i)}),D(n,v)}):D(n,v)}),e.progress(t,n,i)}function f(e){w(g,p),ne(g,p),d(g,p),p.domOperation(),C.complete(!e)}var p=U(n),g=s(e),v=y(g),$=v&&v.parentNode;p=h(p);var C=new S,A=_();if(q(p.addClass)&&(p.addClass=p.addClass.join(" ")),p.addClass&&!Z(p.addClass)&&(p.addClass=null),q(p.removeClass)&&(p.removeClass=p.removeClass.join(" ")),
p.removeClass&&!Z(p.removeClass)&&(p.removeClass=null),p.from&&!K(p.from)&&(p.from=null),p.to&&!K(p.to)&&(p.to=null),!v)return f(),C;var M=[v.getAttribute("class"),p.addClass,p.removeClass].join(" ");if(!te(M))return f(),C;var P=["enter","move","leave"].indexOf(t)>=0,I=k(),j=!F||I||B.get(v),H=!j&&z.get(v)||{},W=!!H.state;if(j||W&&H.state===u||(j=!N(v,$,t)),j)return I&&l(C,t,"start"),f(),I&&l(C,t,"close"),C;P&&R(v);var Y={structural:P,element:g,event:t,addClass:p.addClass,removeClass:p.removeClass,close:f,options:p,runner:C};if(W){if(o("skip",Y,H))return H.state===c?(f(),C):(m(g,H,Y),H.runner);if(o("cancel",Y,H))if(H.state===c)H.runner.end();else{if(!H.structural)return m(g,H,Y),H.runner;H.close()}else{if(o("join",Y,H)){if(H.state!==c)return b(g,P?t:null,p),t=Y.event=H.event,p=m(g,H,Y),H.runner;T(g,Y)}}}else T(g,Y);var G=Y.structural;if(G||(G="animate"===Y.event&&Object.keys(Y.options.to||{}).length>0||a(Y)),!G)return f(),O(v),C;var X=(H.counter||0)+1;return Y.counter=X,L(v,u,Y),i.$$postDigest(function(){g=s(e);var n=z.get(v),r=!n;n=n||{};var i=g.parent()||[],o=i.length>0&&("animate"===n.event||n.structural||a(n));if(r||n.counter!==X||!o)return r&&(ne(g,p),d(g,p)),(r||P&&n.event!==t)&&(p.domOperation(),C.end()),void(o||O(v));t=!n.structural&&a(n,!0)?"setClass":n.event,L(v,c);var u=x(g,t,n.options);C.setHost(u),l(C,t,"start",{}),u.done(function(e){f(!e);var n=z.get(v);n&&n.counter===X&&O(v),l(C,t,"close",{})})}),C}function R(e){var t=e.querySelectorAll("["+xe+"]");V(t,function(e){var t=parseInt(e.getAttribute(xe),10),n=z.get(e);if(n)switch(t){case c:n.runner.end();case u:z.delete(e)}})}function O(e){e.removeAttribute(xe),z.delete(e)}function N(e,t,n){var r,i=g[0].body,o=y(p),a=e===i||"HTML"===e.nodeName,s=e===o,l=!1,u=B.get(e),c=Q.data(e,Se);for(c&&(t=y(c));t&&(s||(s=t===o),t.nodeType===I);){var f=z.get(t)||{};if(!l){var h=B.get(t);if(!0===h&&!1!==u){u=!0;break}!1===h&&(u=!1),l=f.structural}if(J(r)||!0===r){var d=Q.data(t,H);Y(d)&&(r=d)}if(l&&!1===r)break;if(a||(a=t===i),a&&s)break;t=s||!(c=Q.data(t,Se))?t.parentNode:y(c)}return(!l||r)&&!0!==u&&s&&a}function L(e,t,n){n=n||{},n.state=t,e.setAttribute(xe,t);var r=z.get(e),i=r?W(r,n):n;z.set(e,i)}var z=new v,B=new v,F=null,j=i.$watch(function(){return 0===$.totalPendingRequests},function(e){e&&(j(),i.$$postDigest(function(){i.$$postDigest(function(){null===F&&(F=!0)})}))}),X=Object.create(null),ee=t.classNameFilter(),te=ee?function(e){return ee.test(e)}:function(){return!0},ne=f(C),re=e.Node.prototype.contains||function(e){return this===e||!!(16&this.compareDocumentPosition(e))},ie={on:function(e,t,n){var r=l(t);X[e]=X[e]||[],X[e].push({node:r,callback:n}),Q(t).on("$destroy",function(){z.get(r)||ie.off(e,t,n)})},off:function(e,t,n){if(1!==arguments.length||Z(arguments[0])){var r=X[e];r&&(X[e]=1===arguments.length?null:M(r,t,n))}else{t=arguments[0];for(var i in X)X[i]=M(X[i],t)}},pin:function(e,t){n(G(e),"element","not an element"),n(G(t),"parentElement","not an element"),e.data(Se,t)},push:function(e,t,n,r){return n=n||{},n.domOperation=r,P(e,t,n)},enabled:function(e,t){var n=arguments.length;if(0===n)t=!!F;else{if(G(e)){var r=y(e);1===n?t=!B.get(r):B.set(r,!t)}else t=F=!!e}return t}};return ie}]}],Ce=["$animateProvider",function(e){function t(e,t){e.data(s,t)}function n(e){e.removeData(s)}function i(e){return e.data(s)}var o="ng-animate-ref",a=this.drivers=[],s="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler",function(e,s,l,u,c,p){function g(e){function t(e){if(e.processed)return e;e.processed=!0;var n=e.domNode,o=n.parentNode;i.set(n,e);for(var a;o;){if(a=i.get(o)){a.processed||(a=t(a));break}o=o.parentNode}return(a||r).children.push(e),e}var n,r={children:[]},i=new c;for(n=0;n<e.length;n++){var o=e[n];i.set(o.domNode,e[n]={domNode:o.domNode,fn:o.fn,children:[]})}for(n=0;n<e.length;n++)t(e[n]);return function(e){var t,n=[],r=[];for(t=0;t<e.children.length;t++)r.push(e.children[t]);var i=r.length,o=0,a=[];for(t=0;t<r.length;t++){var s=r[t];i<=0&&(i=o,o=0,n.push(a),a=[]),a.push(s.fn),s.children.forEach(function(e){o++,r.push(e)}),i--}return a.length&&n.push(a),n}(r)}var m=[],v=f(e);return function(c,f,b){function w(e){var t="["+o+"]",n=e.hasAttribute(o)?[e]:e.querySelectorAll(t),r=[];return V(n,function(e){var t=e.getAttribute(o);t&&t.length&&r.push(e)}),r}function x(e){var t=[],n={};V(e,function(e,r){var i=e.element,a=y(i),s=e.event,l=["enter","move"].indexOf(s)>=0,u=e.structural?w(a):[];if(u.length){var c=l?"to":"from";V(u,function(e){var t=e.getAttribute(o);n[t]=n[t]||{},n[t][c]={animationID:r,element:Q(e)}})}else t.push(e)});var r={},i={};return V(n,function(n,o){var a=n.from,s=n.to;if(!a||!s){var l=a?a.animationID:s.animationID,u=l.toString();return void(r[u]||(r[u]=!0,t.push(e[l])))}var c=e[a.animationID],f=e[s.animationID],h=a.animationID.toString();if(!i[h]){var d=i[h]={structural:!0,beforeStart:function(){c.beforeStart(),f.beforeStart()},close:function(){c.close(),f.close()},classes:S(c.classes,f.classes),from:c,to:f,anchors:[]};d.classes.length?t.push(d):(t.push(c),t.push(f))}i[h].anchors.push({out:a.element,in:s.element})}),t}function S(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],r=0;r<e.length;r++){var i=e[r];if("ng-"!==i.substring(0,3))for(var o=0;o<t.length;o++)if(i===t[o]){n.push(i);break}}return n.join(" ")}function $(e){for(var t=a.length-1;t>=0;t--){var n=a[t],r=l.get(n),i=r(e);if(i)return i}}function C(){c.addClass(j),D&&e.addClass(c,D),P&&(e.removeClass(c,P),P=null)}function A(e,t){function n(e){var n=i(e);n&&n.setHost(t)}e.from&&e.to?(n(e.from.element),n(e.to.element)):n(e.element)}function k(){var e=i(c);!e||"leave"===f&&b.$$domOperationFired||e.end()}function _(t){c.off("$destroy",k),n(c),v(c,b),d(c,b),b.domOperation(),D&&e.removeClass(c,D),c.removeClass(j),E.complete(!t)}b=h(b);var T=["enter","move","leave"].indexOf(f)>=0,E=new u({end:function(){_()},cancel:function(){_(!0)}});if(!a.length)return _(),E;t(c,E);var M=r(c.attr("class"),r(b.addClass,b.removeClass)),D=b.tempClasses;D&&(M+=" "+D,b.tempClasses=null);var P;return T&&(P="ng-"+f+"-prepare",e.addClass(c,P)),m.push({element:c,classes:M,event:f,structural:T,options:b,beforeStart:C,close:_}),c.on("$destroy",k),m.length>1?E:(s.$$postDigest(function(){var e=[];V(m,function(t){i(t.element)?e.push(t):t.close()}),m.length=0;var t=x(e),n=[];V(t,function(e){n.push({domNode:y(e.from?e.from.element:e.element),fn:function(){e.beforeStart();var t,n=e.close;if(i(e.anchors?e.from.element||e.to.element:e.element)){var r=$(e);r&&(t=r.start)}if(t){var o=t();o.done(function(e){n(!e)}),A(e,o)}else n()}})}),p(g(n))}),E)}}]}],Ae=["$animate","$rootScope",function(e,t){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(t,n,r,i,o){var a,s;t.$watchCollection(r.ngAnimateSwap||r.for,function(r){a&&e.leave(a),s&&(s.$destroy(),s=null),(r||0===r)&&(s=t.$new(),o(s,function(t){a=t,e.enter(t,null,n)}))})}}}];t.module("ngAnimate",[],function(){ee=t.noop,U=t.copy,W=t.extend,Q=t.element,V=t.forEach,q=t.isArray,Z=t.isString,K=t.isObject,J=t.isUndefined,Y=t.isDefined,X=t.isFunction,G=t.isElement}).info({angularVersion:"1.6.4"}).directive("ngAnimateSwap",Ae).directive("ngAnimateChildren",ce).factory("$$rAFScheduler",ue).provider("$$animateQueue",$e).provider("$$animation",Ce).provider("$animateCss",ve).provider("$$animateCssDriver",ye).provider("$$animateJs",be).provider("$$animateJsDriver",we)}(window,window.angular),function(e,t){"use strict";angular.module("toaster",[]).constant("toasterConfig",{limit:0,"tap-to-dismiss":!0,"close-button":!1,"close-html":'<button class="toast-close-button" type="button">&times;</button>',"newest-on-top":!0,"time-out":5e3,"icon-classes":{error:"toast-error",info:"toast-info",wait:"toast-wait",success:"toast-success",warning:"toast-warning"},"body-output-type":"","body-template":"toasterBodyTmpl.html","icon-class":"toast-info","position-class":"toast-top-right","title-class":"toast-title","message-class":"toast-message","prevent-duplicates":!1,"mouseover-timer-stop":!0}).run(["$templateCache",function(e){e.put("angularjs-toaster/toast.html",'<div id="toast-container" ng-class="[config.position, config.animation]"><div ng-repeat="toaster in toasters" class="toast" ng-class="toaster.type" ng-click="click($event, toaster)" ng-mouseover="stopTimer(toaster)" ng-mouseout="restartTimer(toaster)"><div ng-if="toaster.showCloseButton" ng-click="click($event, toaster, true)" ng-bind-html="toaster.closeHtml"></div><div ng-class="config.title">{{toaster.title}}</div><div ng-class="config.message" ng-switch on="toaster.bodyOutputType"><div ng-switch-when="trustedHtml" ng-bind-html="toaster.html"></div><div ng-switch-when="template"><div ng-include="toaster.bodyTemplate"></div></div><div ng-switch-when="templateWithData"><div ng-include="toaster.bodyTemplate"></div></div><div ng-switch-when="directive"><div directive-template directive-name="{{toaster.html}}" directive-data="{{toaster.directiveData}}"></div></div><div ng-switch-default >{{toaster.body}}</div></div></div></div>')}]).service("toaster",["$rootScope","toasterConfig",function(e,t){var n=function(){var e={};return e.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},e}();this.pop=function(t,r,i,o,a,s,l,u,c,f){if(angular.isObject(t)){var h=t;this.toast={type:h.type,title:h.title,body:h.body,timeout:h.timeout,bodyOutputType:h.bodyOutputType,clickHandler:h.clickHandler,showCloseButton:h.showCloseButton,closeHtml:h.closeHtml,toastId:h.toastId,onShowCallback:h.onShowCallback,onHideCallback:h.onHideCallback,directiveData:h.directiveData,tapToDismiss:h.tapToDismiss},l=h.toasterId}else this.toast={type:t,title:r,body:i,timeout:o,bodyOutputType:a,clickHandler:s,showCloseButton:u,toastId:c,onHideCallback:f};return this.toast.toastId&&this.toast.toastId.length||(this.toast.toastId=n.newGuid()),e.$emit("toaster-newToast",l,this.toast.toastId),{toasterId:l,toastId:this.toast.toastId}},this.clear=function(t,n){angular.isObject(t)?e.$emit("toaster-clearToasts",t.toasterId,t.toastId):e.$emit("toaster-clearToasts",t,n)};for(var r in t["icon-classes"])this[r]=function(e){return function(t,n,r,i,o,a,s,l,u){return angular.isString(t)?this.pop(e,t,n,r,i,o,a,s,l,u):this.pop(angular.extend(t,{type:e}))}}(r)}]).factory("toasterEventRegistry",["$rootScope",function(e){var t,n=null,r=null,i=[],o=[];return t={setup:function(){n||(n=e.$on("toaster-newToast",function(e,t,n){for(var r=0,o=i.length;r<o;r++)i[r](e,t,n)})),r||(r=e.$on("toaster-clearToasts",function(e,t,n){for(var r=0,i=o.length;r<i;r++)o[r](e,t,n)}))},subscribeToNewToastEvent:function(e){i.push(e)},subscribeToClearToastsEvent:function(e){o.push(e)},unsubscribeToNewToastEvent:function(e){var t=i.indexOf(e);t>=0&&i.splice(t,1),0===i.length&&(n(),n=null)},unsubscribeToClearToastsEvent:function(e){var t=o.indexOf(e);t>=0&&o.splice(t,1),0===o.length&&(r(),r=null)}},{setup:t.setup,subscribeToNewToastEvent:t.subscribeToNewToastEvent,subscribeToClearToastsEvent:t.subscribeToClearToastsEvent,unsubscribeToNewToastEvent:t.unsubscribeToNewToastEvent,unsubscribeToClearToastsEvent:t.unsubscribeToClearToastsEvent}}]).directive("directiveTemplate",["$compile","$injector",function(e,t){return{restrict:"A",scope:{directiveName:"@directiveName",directiveData:"@directiveData"},replace:!0,link:function(n,r,i){n.$watch("directiveName",function(o){if(angular.isUndefined(o)||o.length<=0)throw new Error("A valid directive name must be provided via the toast body argument when using bodyOutputType: directive");var a;try{a=t.get(i.$normalize(o)+"Directive")}catch(e){throw new Error(o+" could not be found. The name should appear as it exists in the markup, not camelCased as it would appear in the directive declaration, e.g. directive-name not directiveName.")}var s=a[0];if(!0!==s.scope&&s.scope)throw new Error("Cannot use a directive with an isolated scope. The scope must be either true or falsy (e.g. false/null/undefined). Occurred for directive "+o+".");if(s.restrict.indexOf("A")<0)throw new Error('Directives must be usable as attributes. Add "A" to the restrict option (or remove the option entirely). Occurred for directive '+o+".");n.directiveData&&(n.directiveData=angular.fromJson(n.directiveData));var l=e("<div "+o+"></div>")(n);r.append(l)})}}}]).directive("toasterContainer",["$parse","$rootScope","$interval","$sce","toasterConfig","toaster","toasterEventRegistry",function(e,t,n,r,i,o,a){return{replace:!0,restrict:"EA",scope:!0,link:function(t,s,l){function u(e,r){e.timeoutPromise=n(function(){t.removeToast(e.toastId)},r,1)}function c(n,i){if(n.type=p["icon-classes"][n.type],n.type||(n.type=p["icon-class"]),!0===p["prevent-duplicates"]&&t.toasters.length){if(t.toasters[t.toasters.length-1].body===n.body)return;var o,a,s=!1;for(o=0,a=t.toasters.length;o<a;o++)if(t.toasters[o].toastId===i){s=!0;break}if(s)return}var l=p["close-button"];if("boolean"==typeof n.showCloseButton);else if("boolean"==typeof l)n.showCloseButton=l;else if("object"==typeof l){var u=l[n.type];void 0!==u&&null!==u&&(n.showCloseButton=u)}else n.showCloseButton=!1;switch(n.showCloseButton&&(n.closeHtml=r.trustAsHtml(n.closeHtml||t.config.closeHtml)),n.bodyOutputType=n.bodyOutputType||p["body-output-type"],n.bodyOutputType){case"trustedHtml":n.html=r.trustAsHtml(n.body);break;case"template":n.bodyTemplate=n.body||p["body-template"];break;case"templateWithData":var c=e(n.body||p["body-template"]),f=c(t);n.bodyTemplate=f.template,n.data=f.data;break;case"directive":n.html=n.body}t.configureTimer(n),!0===p["newest-on-top"]?(t.toasters.unshift(n),p.limit>0&&t.toasters.length>p.limit&&t.toasters.pop()):(t.toasters.push(n),p.limit>0&&t.toasters.length>p.limit&&t.toasters.shift()),angular.isFunction(n.onShowCallback)&&n.onShowCallback()}function f(e){var r=t.toasters[e];r.timeoutPromise&&n.cancel(r.timeoutPromise),t.toasters.splice(e,1),angular.isFunction(r.onHideCallback)&&r.onHideCallback()}function h(e){for(var n=t.toasters.length-1;n>=0;n--)d(e)?f(n):t.toasters[n].toastId==e&&f(n)}function d(e){return angular.isUndefined(e)||null===e}var p;p=angular.extend({},i,t.$eval(l.toasterOptions)),t.config={toasterId:p["toaster-id"],position:p["position-class"],title:p["title-class"],message:p["message-class"],tap:p["tap-to-dismiss"],closeButton:p["close-button"],closeHtml:p["close-html"],animation:p["animation-class"],mouseoverTimer:p["mouseover-timer-stop"]},t.$on("$destroy",function(){a.unsubscribeToNewToastEvent(t._onNewToast),a.unsubscribeToClearToastsEvent(t._onClearToasts)}),t.configureTimer=function(e){var t=angular.isNumber(e.timeout)?e.timeout:p["time-out"];"object"==typeof t&&(t=t[e.type]),t>0&&u(e,t)},t.removeToast=function(e){var n,r;for(n=0,r=t.toasters.length;n<r;n++)if(t.toasters[n].toastId===e){f(n);break}},t.toasters=[],t._onNewToast=function(e,n,r){(d(t.config.toasterId)&&d(n)||!d(t.config.toasterId)&&!d(n)&&t.config.toasterId==n)&&c(o.toast,r)},t._onClearToasts=function(e,n,r){("*"==n||d(t.config.toasterId)&&d(n)||!d(t.config.toasterId)&&!d(n)&&t.config.toasterId==n)&&h(r)},a.setup(),a.subscribeToNewToastEvent(t._onNewToast),a.subscribeToClearToastsEvent(t._onClearToasts)},controller:["$scope","$element","$attrs",function(e,t,r){e.stopTimer=function(t){!0===e.config.mouseoverTimer&&t.timeoutPromise&&(n.cancel(t.timeoutPromise),t.timeoutPromise=null)},e.restartTimer=function(t){!0===e.config.mouseoverTimer?t.timeoutPromise||e.configureTimer(t):null===t.timeoutPromise&&e.removeToast(t.toastId)},e.click=function(t,n,r){if(t.stopPropagation(),!0===("boolean"==typeof n.tapToDismiss?n.tapToDismiss:e.config.tap)||!0===n.showCloseButton&&!0===r){var i=!0;n.clickHandler&&(angular.isFunction(n.clickHandler)?i=n.clickHandler(n,r):angular.isFunction(e.$parent.$eval(n.clickHandler))?i=e.$parent.$eval(n.clickHandler)(n,r):console.log("TOAST-NOTE: Your click handler is not inside a parent scope of toaster-container.")),i&&e.removeToast(n.toastId)}}}],templateUrl:"angularjs-toaster/toast.html"}}])}(window,document),function(e,t){"use strict";function n(){var e={},n=!0,r=!0,i=!1,o=!0,a=!0,s=function(e){var t;return e&&0!==e.length?(t=e.toLowerCase(),e=!("f"===t||"0"===t||"false"===t)):e=!1,e},l=function(e,t){var n;return void 0!==e&&(n=e.attr(t)||e.attr("data-"+t)),n},u=function(e,t){var n;return void 0!==e&&(n=void 0!==e.attr(t)||void 0!==e.attr("data-"+t)),n},c=function(e,t){return s(l(e,t))},f=function(e){return n&&!c(e,"disable-valid-styling")},h=function(e){return!c(e,"disable-auto-validate")},d=function(e){return r&&!c(e,"disable-invalid-styling")};this.enable=function(e){o=e},this.isEnabled=function(){return o},this.setDefaultElementModifier=function(t){if(void 0===e[t])throw new Error("Element modifier not registered: "+t);this.defaultElementModifier=t},this.registerDomModifier=function(t,n){e[t]=n},this.setErrorMessageResolver=function(e){this.errorMessageResolver=e},this.getErrorMessage=function(e,n){var r;if(void 0===this.errorMessageResolver)throw new Error("Please set an error message resolver via the setErrorMessageResolver function before attempting to resolve an error message.");return u(n,"disable-validation-message")?(r=t.injector(["ng"]).get("$q").defer(),r.resolve(""),r.promise):this.errorMessageResolver(e,n)},this.setValidElementStyling=function(e){n=e},this.setInvalidElementStyling=function(e){r=e},this.setFirstInvalidElementScrollingOnSubmit=function(e){i=e},this.firstInvalidElementScrollingOnSubmitEnabled=function(){return i},this.setFocusInputError=function(e){a=e},this.enableFocusInputError=function(){return a},this.getDomModifier=function(t){var n=(void 0!==t?t.attr("element-modifier"):this.defaultElementModifier)||(void 0!==t?t.attr("data-element-modifier"):this.defaultElementModifier)||this.defaultElementModifier;if(void 0===n)throw new Error("Please set a default dom modifier via the setDefaultElementModifier method on the validator class.");return e[n]},this.makeValid=function(e){h(e)&&(f(e)?this.getDomModifier(e).makeValid(e):this.makeDefault(e))},this.makeInvalid=function(e,t){h(e)&&(d(e)?this.getDomModifier(e).makeInvalid(e,t):this.makeDefault(e))},this.makeDefault=function(e){if(h(e)){var t=this.getDomModifier(e);t.makeDefault&&t.makeDefault(e)}},this.waitForAsyncValidators=function(e){if(h(e)){var t=this.getDomModifier(e);t.waitForAsyncValidators&&t.waitForAsyncValidators(e)}},this.defaultFormValidationOptions={forceValidation:!1,disabled:!1,validateNonVisibleControls:!1,removeExternalValidationErrorsOnSubmit:!0,validateOnFormSubmit:!1,waitForAsyncValidators:!0},this.$get=[function(){return this}]}function r(e){var n=!1,r=["<style>.glyphicon-spin-jcs {-webkit-animation: spin 1000ms infinite linear;animation: spin 1000ms infinite linear;}@-webkit-keyframes spin {0% {-webkit-transform: rotate(0deg);transform: rotate(0deg);}100% {-webkit-transform: rotate(359deg);transform: rotate(359deg);}}@keyframes spin {0% {-webkit-transform: rotate(0deg);transform: rotate(0deg);}100% {-webkit-transform: rotate(359deg);transform: rotate(359deg);}}</style>"].join(""),i=function(e){!1===n&&(t.element(document.body).append(t.element(r)),n=!0),t.forEach(e.find("span"),function(e){e=t.element(e),(e.hasClass("error-msg")||e.hasClass("form-control-feedback")||e.hasClass("control-feedback"))&&e.remove()}),e.removeClass("has-success has-error has-feedback")},o=function(e,t){for(var n,r=e,i=0;i<=10;i+=1){if(void 0!==r&&r.hasClass(t)){n=r;break}void 0!==r&&(r=r.parent())}return n},a=function(e,n){for(var r,i=0;i<e.children.length&&(void 0===(r=e.children[i])||!t.element(r).hasClass(n))&&!(void 0!==r.children&&(r=a(r,n),r.length>0));i+=1);return t.element(r)},s=function(e){return o(e,"form-group")},l=function(e){return a(e,"input-group")},u=function(e,t){e[0].parentNode.insertBefore(t[0],e[0].nextSibling)},c=!1,f=function(e){c=e},h=function(n){var r,o=s(n);if(o){if(i(o),r=l(o[0]),o.addClass("has-success "+(r.length>0||!1===c?"":"has-feedback")),c){var a='<span class="glyphicon glyphicon-ok form-control-feedback"></span>';r.length>0&&(a=a.replace("form-",""),a='<span class="input-group-addon control-feedback">'+a+"</span>"),u(n,t.element(a))}}else e.error("Angular-auto-validate: invalid bs3 form structure elements must be wrapped by a form-group class")},d=function(n,r){var o,a=s(n),f=t.element('<span class="help-block has-error error-msg">'+r+"</span>");if(a){if(i(a),o=l(a[0]),a.addClass("has-error "+(o.length>0||!1===c?"":"has-feedback")),u(o.length>0?o:p(n),f),c){var h='<span class="glyphicon glyphicon-remove form-control-feedback"></span>';o.length>0&&(h=h.replace("form-",""),h='<span class="input-group-addon control-feedback">'+h+"</span>"),u(p(n),t.element(h))}}else e.error("Angular-auto-validate: invalid bs3 form structure elements must be wrapped by a form-group class")},p=function(e){var t=e,n=e[0].type?e[0].type.toLowerCase():"";return"checkbox"!==n&&"radio"!==n||"label"!==e.parent()[0].nodeName.toLowerCase()||(t=e.parent()),t};return{makeValid:h,makeInvalid:d,makeDefault:function(t){var n=s(t);n?i(n):e.error("Angular-auto-validate: invalid bs3 form structure elements must be wrapped by a form-group class")},waitForAsyncValidators:function(n){var r,o=s(n);if(o){if(i(o),r=l(o[0]),o.addClass("has-feedback "+(r.length>0||!1===c?"":"has-feedback")),c){var a='<span class="glyphicon glyphicon-repeat glyphicon-spin-jcs form-control-feedback"></span>';r.length>0&&(a=a.replace("form-",""),a='<span class="input-group-addon control-feedback">'+a+"</span>"),u(n,t.element(a))}}else e.error("Angular-auto-validate: invalid bs3 form structure elements must be wrapped by a form-group class")},enableValidationStateIcons:f,key:"bs3"}}function i(e){return{debounce:function(t,n,r){var i;return function(){var o=this,a=arguments,s=function(){i=null,r||t.apply(o,a)},l=r&&!i;e.cancel(i),i=e(s,n,!1),l&&t.apply(o,a)}}}}function o(e,t){return e.replace(/{(\d+)}/g,function(e,n){return void 0!==typeof t[n]?t[n]:e})}function a(e,n){var r,i="default",a="js/angular-auto-validate/dist/lang",s=function(e){return r=n.get(o("{0}/jcs-auto-validate_{1}.json",[a,e.toLowerCase()]))},l=function(e){a=e},u=function(n,o){var a=e.defer();return o=o||s,i=n.toLowerCase(),void 0===t.autoValidate.errorMessages[i]?(r=o(n),r.then(function(e){r=void 0,t.autoValidate.errorMessages[i]=e.data,a.resolve(t.autoValidate.errorMessages[i])},function(e){t.autoValidate.errorMessages[i]={defaultMsg:"Loading culture failed!"},r=null,a.reject(e)})):a.resolve(t.autoValidate.errorMessages[i]),a.promise},c=function(n){var o=e.defer();return n=void 0===n?i:n.toLowerCase(),void 0!==r?r.then(function(){o.resolve(t.autoValidate.errorMessages[n])},function(e){o.reject(e)}):o.resolve(t.autoValidate.errorMessages[n]),o.promise},f=function(e,t){var n;return t&&(e+="-err-type",n=t.attr("ng-"+e),void 0===n&&(n=t.attr("data-ng-"+e)||t.attr(e)),n&&(n=n.replace(/[\W]/g,""))),n},h=function(n,a){var s,l,u,c=e.defer(),d=[];if(void 0!==r)r.then(function(){h(n,a).then(function(e){c.resolve(e)})});else{if(s=t.autoValidate.errorMessages[i][n],u=f(n,a),u&&(s=t.autoValidate.errorMessages[i][u]),void 0===s&&void 0!==u?s=o(t.autoValidate.errorMessages[i].defaultMsg,[u]):void 0===s&&(s=o(t.autoValidate.errorMessages[i].defaultMsg,[n])),a&&a.attr)try{l=a.attr("ng-"+n),void 0===l&&(l=a.attr("data-ng-"+n)||a.attr(n)),d.push(l||""),s=o(s,d)}catch(e){}c.resolve(s)}return c.promise};return{setI18nFileRootPath:l,setCulture:u,getErrorMessages:c,resolve:h}}function s(){var e=function(e,n){t.forEach(e.find("small"),function(e){t.element(e).hasClass("error")&&t.element(e).remove()}),n.removeClass("error")},n=function(e){for(var t=e,n=0;n<=3&&(void 0===t||!t.hasClass("columns")&&!t.hasClass("column"));n+=1)void 0!==t&&(t=t.parent());return t},r=function(t){var r=n(t);e(r&&r.length>0?r:t,t)};return{makeValid:r,makeInvalid:function(r,i){var o,a=n(r);e(a||r,r),r.addClass("error"),a&&(o=t.element('<small class="error">'+i+"</small>"),a.append(o))},makeDefault:function(e){r(e)},key:"foundation5"}}function l(){var e=function(e,n){t.forEach(e.find("small"),function(e){t.element(e).hasClass("form-error is-visible")&&t.element(e).remove()}),n.removeClass("alert callout")},n=function(e){for(var t=e,n=0;n<=3&&(void 0===t||!t.hasClass("columns")&&!t.hasClass("column"));n+=1)void 0!==t&&(t=t.parent());return t},r=function(t){var r=n(t);e(r&&r.length>0?r:t,t)};return{makeValid:r,makeInvalid:function(r,i){var o,a=n(r);e(a||r,r),r.addClass("alert callout"),a&&(o=t.element('<small class="form-error is-visible">'+i+"</small>"),a.append(o))},makeDefault:function(e){r(e)},key:"foundation6"}}function u(){return{isElementVisible:function(e){return e[0].offsetWidth>0&&e[0].offsetHeight>0}}}function c(e,n,r){var i=["input","textarea","select","form"],o=function(e){return n.isElementVisible(e)},a=function(n){var r=t.element(n).controller("form");return void 0!==r&&null!==r?r.autoValidateFormOptions:e.defaultFormValidationOptions},s=function(e,t,n){var r,a,s,l=e&&e.length>0,u=l&&"#comment"===e[0].nodeName.toLowerCase();return l&&!1===u&&(r=o(e)||t.validateNonVisibleControls,a=i.indexOf(e[0].nodeName.toLowerCase())>-1||e[0].hasAttribute("register-custom-form-control"),s=!1===t.validateOnFormSubmit||!0===t.validateOnFormSubmit&&!0===n),l&&!u&&r&&a&&s},l=function(n,r,i){var o,l=!0,u=i||a(r),c=!1===n.$pristine||u.forceValidation;return!1===u.disabled&&(u.forceValidation||s(r,u,u.getFormController().$submitted)&&n&&c)&&(l=!n.$invalid,u.removeExternalValidationErrorsOnSubmit&&n.removeAllExternalValidation&&n.removeAllExternalValidation(),void 0!==n.$pending&&!0===i.waitForAsyncValidators?e.waitForAsyncValidators(r):l?e.makeValid(r):(o=function(e){var n,r=!0;return t.forEach(e,function(e,t){r&&e&&(r=!1,n=t)}),n}(n.$errors||n.$error),void 0===o?l=!0:e.getErrorMessage(o,r).then(function(t){e.makeInvalid(r,t)}))),l},u=function(t){e.makeDefault(t)},c=function(e){t.forEach(e[0].all||e[0].elements||e[0],function(e){var n,r=t.element(e);void 0!==(n=r.controller("ngModel"))&&("form"===r[0].nodeName.toLowerCase()?c(r):n.$setPristine())})},f=function(n){var i,o=!0,u=null,c=n?t.element(n).controller("form"):void 0,h=function(n,i,h){var d,p,g,m;if(n=t.element(n),void 0!==(d=n.controller("ngModel"))&&(i||s(n,h,c.$submitted)))if("form"===n[0].nodeName.toLowerCase())f(n);else{g=a(n),m=g.forceValidation,g.forceValidation=i;try{if(p=l(d,n,g),e.enableFocusInputError()&&!p&&o&&(u||(u=n[0],u.focus())),e.firstInvalidElementScrollingOnSubmitEnabled()&&!p&&o){var v=n.attr("id");v&&r(v)}o=o&&p}finally{g.forceValidation=m}}};return void 0===n||void 0!==c&&c.autoValidateFormOptions.disabled?void 0!==n:(i=t.copy(c.autoValidateFormOptions),i.forceValidation=!0,t.forEach(n[0].elements||n[0].all||n[0],function(e){h(e,!0,i)}),n[0].customHTMLFormControlsCollection&&t.forEach(n[0].customHTMLFormControlsCollection,function(e){h(e,!0,i)}),o)};return{setElementValidationError:function(t,n,r){r?e.makeInvalid(t,r):e.getErrorMessage(n,t).then(function(n){e.makeInvalid(t,n)})},validateElement:l,validateForm:f,resetElement:u,resetForm:c}}function f(e,t){return void 0!==e&&null!==e||void 0===t?"false"!==e:t}function h(e,n,r){var i=e.autoValidateFormOptions=e.autoValidateFormOptions||t.copy(n.defaultFormValidationOptions);i.getFormController=function(){return e},i.waitForAsyncValidators=f(r.waitForAsyncValidators,i.waitForAsyncValidators),i.forceValidation=!1,i.disabled=!n.isEnabled()||f(r.disableDynamicValidation,i.disabled),i.validateNonVisibleControls=f(r.validateNonVisibleControls,i.validateNonVisibleControls),i.validateOnFormSubmit=f(r.validateOnFormSubmit,i.validateOnFormSubmit),i.removeExternalValidationErrorsOnSubmit=void 0===r.removeExternalValidationErrorsOnSubmit?i.removeExternalValidationErrorsOnSubmit:f(r.removeExternalValidationErrorsOnSubmit,i.removeExternalValidationErrorsOnSubmit),!1===n.isEnabled()&&"false"===r.disableDynamicValidation&&(i.disabled=!1)}function d(e){return{restrict:"E",link:function(t,n){function r(){e.resetForm(n),i.$setPristine&&i.$setPristine(),i.$setUntouched&&i.$setUntouched()}var i=n.controller("form");void 0!==i&&i.autoValidateFormOptions&&!1===i.autoValidateFormOptions.disabled&&(n.on("reset",r),t.$on("$destroy",function(){n.off("reset",r)}))}}}function p(){var e=function(e){for(var n=e,r=0;r<=50&&(void 0===n||"form"!==n.nodeName.toLowerCase());r+=1)void 0!==n&&(n=t.element(n).parent()[0]);return n};return{restrict:"A",link:function(t,n){var r=e(n.parent()[0]);r&&(r.customHTMLFormControlsCollection=r.customHTMLFormControlsCollection||[],r.customHTMLFormControlsCollection.push(n[0]))}}}function g(e,t,n){return e[0].compile=function(e,r){var i=t(r.ngSubmit),o="true"===r.ngSubmitForce;return function(e,t){function r(r){e.$apply(function(){void 0!==l&&null!==l&&l.autoValidateFormOptions&&!0===l.autoValidateFormOptions.disabled?i(e,{$event:r}):(void 0===l.$setSubmitted&&(l.$submitted=!0),(n.validateForm(t)||!0===o)&&i(e,{$event:r}))})}function a(){t[0].reset?t[0].reset():n.resetForm(t)}var s,l=t.controller("form");l&&l.autoValidateFormOptions&&(l.autoValidateFormOptions.resetForm=a,void 0!==l.$name&&""!==l.$name&&(s=e.$on("form:"+l.$name+":reset",a))),t.on("submit",r),e.$on("$destroy",function(){t.off("submit",r),s&&s()})}},e}function m(e){e.decorator("ngSubmitDirective",g)}function v(e,t,n,r,i){e.setErrorMessageResolver(t.resolve),e.registerDomModifier(n.key,n),e.registerDomModifier(r.key,r),e.registerDomModifier(i.key,i),e.setDefaultElementModifier(n.key)}t.module("jcs-autoValidate",[]),t.module("jcs-autoValidate").provider("validator",n),r.$inject=["$log"],t.module("jcs-autoValidate").factory("bootstrap3ElementModifier",r),i.$inject=["$timeout"],t.module("jcs-autoValidate").factory("jcs-debounce",i),t.autoValidate=t.autoValidate||{errorMessages:{}},t.autoValidate.errorMessages.default={defaultMsg:"Please add error message for {0}",email:"Please enter a valid email address",minlength:"Please enter at least {0} characters",maxlength:"You have entered more than the maximum {0} characters",min:"Please enter the minimum number of {0}",max:"Please enter the maximum number of {0}",required:"This field is required",date:"Please enter a valid date",pattern:"Please ensure the entered information adheres to this pattern {0}",number:"Please enter a valid number",url:"Please enter a valid URL in the format of http(s)://www.google.com"},a.$inject=["$q","$http"],t.module("jcs-autoValidate").factory("defaultErrorMessageResolver",a),t.module("jcs-autoValidate").factory("foundation5ElementModifier",s),t.module("jcs-autoValidate").factory("foundation6ElementModifier",l),c.$inject=["validator","jcs-elementUtils","$anchorScroll"],t.module("jcs-autoValidate").factory("jcs-elementUtils",u),t.module("jcs-autoValidate").factory("validationManager",c),t.module("jcs-autoValidate").directive("form",["validator",function(e){return{restrict:"E",require:"form",compile:function(){return{pre:function(t,n,r,i){h(i,e,r)}}}}}]),t.module("jcs-autoValidate").directive("ngForm",["validator",function(e){return{restrict:"EA",require:"form",priority:9999,compile:function(){return{pre:function(t,n,r,i){h(i,e,r)}}}}}]),d.$inject=["validationManager"],t.module("jcs-autoValidate").directive("form",d),t.module("jcs-autoValidate").directive("registerCustomFormControl",p),g.$inject=["$delegate","$parse","validationManager"],m.$inject=["$provide"],t.module("jcs-autoValidate").config(m),t.module("jcs-autoValidate").config(["$provide",function(e){e.decorator("ngModelDirective",["$timeout","$delegate","validationManager","jcs-debounce",function(e,n,r,i){var o=n[0],a=o.link||o.compile;return o.compile=function(e){var n=t.version.major>=1&&t.version.minor>=3,o=a;return n&&t.isFunction(a)&&(o=a(e)),{pre:function(e,a,s,l){var u=l[0],c=l[1],f=void 0===s.ngModelOptions?void 0:e.$eval(s.ngModelOptions),h=u.$setValidity,d=u.$setPristine,p=i.debounce(function(){var e=void 0!==c&&null!==c?c.autoValidateFormOptions:void 0;r.validateElement(u,a,e)},100)
;return void 0===s.formnovalidate&&void 0!==c&&null!==c&&c.autoValidateFormOptions&&!1===c.autoValidateFormOptions.disabled&&(n||!n||void 0===f||void 0===f.updateOn||""===f.updateOn?u.$setValidity=function(e,t){h.call(u,e,t),p()}:(a.on(f.updateOn,function(){p()}),e.$on("$destroy",function(){a.off(f.updateOn)})),u.$setPristine=function(){d.call(u),r.resetElement(a)},u.autoValidated=!0),u.setExternalValidation=function(e,t,n){n&&u.$setValidity(e,!1),u.externalErrors=u.externalErrors||{},u.externalErrors[e]=!1,r.setElementValidationError(a,e,t)},u.removeExternalValidation=function(e,t){if(t){u.$setValidity(e,!0);delete(u.$error||u.$errors)[e]}u.externalErrors&&delete u.externalErrors[e],r.resetElement(a)},u.removeAllExternalValidation=function(){if(u.externalErrors){var e=u.$error||u.$errors;t.forEach(u.externalErrors,function(t,n){u.$setValidity(n,!0),delete e[n]}),u.externalErrors={},r.resetElement(a)}},c&&(c.setExternalValidation=function(e,t,n,r){var i=!1;return c[e]&&(c[e].setExternalValidation(t,n,r),i=!0),i},c.removeExternalValidation=function(e,t,n,r){var i=!1;return c[e]&&(c[e].removeExternalValidation(t,r),i=!0),i}),o.pre?o.pre.apply(this,arguments):this},post:function(e,t,n,r){return o.post?o.post.apply(this,arguments):o.apply(this,arguments)}}},n}])}]),v.$inject=["validator","defaultErrorMessageResolver","bootstrap3ElementModifier","foundation5ElementModifier","foundation6ElementModifier"],t.module("jcs-autoValidate").run(v)}(String,angular),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return yr.apply(null,arguments)}function t(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function n(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function r(e){var t;for(t in e)return!1;return!0}function i(e){return void 0===e}function o(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function a(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function s(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){for(var n in t)l(t,n)&&(e[n]=t[n]);return l(t,"toString")&&(e.toString=t.toString),l(t,"valueOf")&&(e.valueOf=t.valueOf),e}function c(e,t,n,r){return vt(e,t,n,r,!0).utc()}function f(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function h(e){return null==e._pf&&(e._pf=f()),e._pf}function d(e){if(null==e._isValid){var t=h(e),n=wr.call(t.parsedDateParts,function(e){return null!=e}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function p(e){var t=c(NaN);return null!=e?u(h(t),e):h(t).userInvalidated=!0,t}function g(e,t){var n,r,o;if(i(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),i(t._i)||(e._i=t._i),i(t._f)||(e._f=t._f),i(t._l)||(e._l=t._l),i(t._strict)||(e._strict=t._strict),i(t._tzm)||(e._tzm=t._tzm),i(t._isUTC)||(e._isUTC=t._isUTC),i(t._offset)||(e._offset=t._offset),i(t._pf)||(e._pf=h(t)),i(t._locale)||(e._locale=t._locale),xr.length>0)for(n=0;n<xr.length;n++)r=xr[n],o=t[r],i(o)||(e[r]=o);return e}function m(t){g(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Sr&&(Sr=!0,e.updateOffset(this),Sr=!1)}function v(e){return e instanceof m||null!=e&&null!=e._isAMomentObject}function y(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function b(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=y(t)),n}function w(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&b(e[r])!==b(t[r]))&&a++;return a+o}function x(t){!1===e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function S(t,n){var r=!0;return u(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),r){for(var i,o=[],a=0;a<arguments.length;a++){if(i="","object"==typeof arguments[a]){i+="\n["+a+"] ";for(var s in arguments[0])i+=s+": "+arguments[0][s]+", ";i=i.slice(0,-2)}else i=arguments[a];o.push(i)}x(t+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),r=!1}return n.apply(this,arguments)},n)}function $(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),$r[t]||(x(n),$r[t]=!0)}function C(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function A(e){var t,n;for(n in e)t=e[n],C(t)?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function k(e,t){var r,i=u({},e);for(r in t)l(t,r)&&(n(e[r])&&n(t[r])?(i[r]={},u(i[r],e[r]),u(i[r],t[r])):null!=t[r]?i[r]=t[r]:delete i[r]);for(r in e)l(e,r)&&!l(t,r)&&n(e[r])&&(i[r]=u({},i[r]));return i}function _(e){null!=e&&this.set(e)}function T(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return C(r)?r.call(t,n):r}function E(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function M(){return this._invalidDate}function D(e){return this._ordinal.replace("%d",e)}function P(e,t,n,r){var i=this._relativeTime[n];return C(i)?i(e,t,n,r):i.replace(/%d/i,e)}function R(e,t){var n=this._relativeTime[e>0?"future":"past"];return C(n)?n(t):n.replace(/%s/i,t)}function O(e,t){var n=e.toLowerCase();Mr[n]=Mr[n+"s"]=Mr[t]=e}function N(e){return"string"==typeof e?Mr[e]||Mr[e.toLowerCase()]:void 0}function L(e){var t,n,r={};for(n in e)l(e,n)&&(t=N(n))&&(r[t]=e[n]);return r}function I(e,t){Dr[e]=t}function z(e){var t=[];for(var n in e)t.push({unit:n,priority:Dr[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function B(t,n){return function(r){return null!=r?(j(this,t,r),e.updateOffset(this,n),this):F(this,t)}}function F(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function j(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function H(e){return e=N(e),C(this[e])?this[e]():this}function U(e,t){if("object"==typeof e){e=L(e);for(var n=z(e),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit])}else if(e=N(e),C(this[e]))return this[e](t);return this}function W(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function V(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(Nr[e]=i),t&&(Nr[t[0]]=function(){return W(i.apply(this,arguments),t[1],t[2])}),n&&(Nr[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function q(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Y(e){var t,n,r=e.match(Pr);for(t=0,n=r.length;t<n;t++)Nr[r[t]]?r[t]=Nr[r[t]]:r[t]=q(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=C(r[i])?r[i].call(t,e):r[i];return o}}function G(e,t){return e.isValid()?(t=X(t,e.localeData()),Or[t]=Or[t]||Y(t),Or[t](e)):e.localeData().invalidDate()}function X(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Rr.lastIndex=0;r>=0&&Rr.test(e);)e=e.replace(Rr,n),Rr.lastIndex=0,r-=1;return e}function K(e,t,n){Fr[e]=C(t)?t:function(e,r){return e&&n?n:t}}function Z(e,t){return l(Fr,e)?Fr[e](t._strict,t._locale):new RegExp(J(e))}function J(e){return Q(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}))}function Q(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ee(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),o(t)&&(r=function(e,n){n[t]=b(e)}),n=0;n<e.length;n++)jr[e[n]]=r}function te(e,t){ee(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function ne(e,t,n){null!=t&&l(jr,e)&&jr[e](t,n._a,n,e)}function re(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function ie(e,n){return e?t(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Jr).test(n)?"format":"standalone"][e.month()]:t(this._months)?this._months:this._months.standalone}function oe(e,n){return e?t(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Jr.test(n)?"format":"standalone"][e.month()]:t(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ae(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=c([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?(i=Zr.call(this._shortMonthsParse,a),-1!==i?i:null):(i=Zr.call(this._longMonthsParse,a),-1!==i?i:null):"MMM"===t?-1!==(i=Zr.call(this._shortMonthsParse,a))?i:(i=Zr.call(this._longMonthsParse,a),-1!==i?i:null):-1!==(i=Zr.call(this._longMonthsParse,a))?i:(i=Zr.call(this._shortMonthsParse,a),-1!==i?i:null)}function se(e,t,n){var r,i,o;if(this._monthsParseExact)return ae.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=c([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function le(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=b(t);else if(t=e.localeData().monthsParse(t),!o(t))return e;return n=Math.min(e.date(),re(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ue(t){return null!=t?(le(this,t),e.updateOffset(this,!0),this):F(this,"Month")}function ce(){return re(this.year(),this.month())}function fe(e){return this._monthsParseExact?(l(this,"_monthsRegex")||de.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=ti),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function he(e){return this._monthsParseExact?(l(this,"_monthsRegex")||de.call(this),e?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=ni),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function de(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=c([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=Q(r[t]),i[t]=Q(i[t]);for(t=0;t<24;t++)o[t]=Q(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function pe(e){return ge(e)?366:365}function ge(e){return e%4==0&&e%100!=0||e%400==0}function me(){return ge(this.year())}function ve(e,t,n,r,i,o,a){var s=new Date(e,t,n,r,i,o,a);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function ye(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function be(e,t,n){var r=7+t-n;return-(7+ye(e,0,r).getUTCDay()-t)%7+r-1}function we(e,t,n,r,i){var o,a,s=(7+n-r)%7,l=be(e,r,i),u=1+7*(t-1)+s+l;return u<=0?(o=e-1,a=pe(o)+u):u>pe(e)?(o=e+1,a=u-pe(e)):(o=e,a=u),{year:o,dayOfYear:a}}function xe(e,t,n){var r,i,o=be(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?(i=e.year()-1,r=a+Se(i,t,n)):a>Se(e.year(),t,n)?(r=a-Se(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function Se(e,t,n){var r=be(e,t,n),i=be(e+1,t,n);return(pe(e)-r+i)/7}function $e(e){return xe(e,this._week.dow,this._week.doy).week}function Ce(){return this._week.dow}function Ae(){return this._week.doy}function ke(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function _e(e){var t=xe(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Te(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Ee(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Me(e,n){return e?t(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(n)?"format":"standalone"][e.day()]:t(this._weekdays)?this._weekdays:this._weekdays.standalone}function De(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Pe(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Re(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=c([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?(i=Zr.call(this._weekdaysParse,a),-1!==i?i:null):"ddd"===t?(i=Zr.call(this._shortWeekdaysParse,a),-1!==i?i:null):(i=Zr.call(this._minWeekdaysParse,a),-1!==i?i:null):"dddd"===t?-1!==(i=Zr.call(this._weekdaysParse,a))?i:-1!==(i=Zr.call(this._shortWeekdaysParse,a))?i:(i=Zr.call(this._minWeekdaysParse,a),-1!==i?i:null):"ddd"===t?-1!==(i=Zr.call(this._shortWeekdaysParse,a))?i:-1!==(i=Zr.call(this._weekdaysParse,a))?i:(i=Zr.call(this._minWeekdaysParse,a),-1!==i?i:null):-1!==(i=Zr.call(this._minWeekdaysParse,a))?i:-1!==(i=Zr.call(this._weekdaysParse,a))?i:(i=Zr.call(this._shortWeekdaysParse,a),-1!==i?i:null)}function Oe(e,t,n){var r,i,o;if(this._weekdaysParseExact)return Re.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=c([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Ne(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Te(e,this.localeData()),this.add(e-t,"d")):t}function Le(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Ie(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Ee(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function ze(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||je.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=li),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Be(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||je.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ui),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Fe(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||je.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ci),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function je(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],s=[],l=[],u=[];for(t=0;t<7;t++)n=c([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),l.push(o),u.push(r),u.push(i),u.push(o);for(a.sort(e),s.sort(e),l.sort(e),u.sort(e),t=0;t<7;t++)s[t]=Q(s[t]),l[t]=Q(l[t]),u[t]=Q(u[t]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function He(){return this.hours()%12||12}function Ue(){return this.hours()||24}function We(e,t){V(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Ve(e,t){return t._meridiemParse}function qe(e){return"p"===(e+"").toLowerCase().charAt(0)}function Ye(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Ge(e){return e?e.toLowerCase().replace("_","-"):e}function Xe(e){for(var t,n,r,i,o=0;o<e.length;){for(i=Ge(e[o]).split("-"),t=i.length,n=Ge(e[o+1]),n=n?n.split("-"):null;t>0;){if(r=Ke(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&w(i,n,!0)>=t-1)break;t--}o++}return null}function Ke(e){var t=null;if(!pi[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=fi._abbr,require("./locale/"+e),Ze(t)}catch(e){}return pi[e]}function Ze(e,t){var n;return e&&(n=i(t)?et(e):Je(e,t))&&(fi=n),fi._abbr}function Je(e,t){if(null!==t){var n=di;if(t.abbr=e,null!=pi[e])$("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=pi[e]._config;else if(null!=t.parentLocale){if(null==pi[t.parentLocale])return gi[t.parentLocale]||(gi[t.parentLocale]=[]),gi[t.parentLocale].push({name:e,config:t}),null;n=pi[t.parentLocale]._config}return pi[e]=new _(k(n,t)),gi[e]&&gi[e].forEach(function(e){Je(e.name,e.config)}),Ze(e),pi[e]}return delete pi[e],null}function Qe(e,t){if(null!=t){var n,r=di;null!=pi[e]&&(r=pi[e]._config),t=k(r,t),n=new _(t),n.parentLocale=pi[e],pi[e]=n,Ze(e)}else null!=pi[e]&&(null!=pi[e].parentLocale?pi[e]=pi[e].parentLocale:null!=pi[e]&&delete pi[e]);return pi[e]}function et(e){var n;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return fi;if(!t(e)){if(n=Ke(e))return n;e=[e]}return Xe(e)}function tt(){return kr(pi)}function nt(e){var t,n=e._a;return n&&-2===h(e).overflow&&(t=n[Ur]<0||n[Ur]>11?Ur:n[Wr]<1||n[Wr]>re(n[Hr],n[Ur])?Wr:n[Vr]<0||n[Vr]>24||24===n[Vr]&&(0!==n[qr]||0!==n[Yr]||0!==n[Gr])?Vr:n[qr]<0||n[qr]>59?qr:n[Yr]<0||n[Yr]>59?Yr:n[Gr]<0||n[Gr]>999?Gr:-1,h(e)._overflowDayOfYear&&(t<Hr||t>Wr)&&(t=Wr),h(e)._overflowWeeks&&-1===t&&(t=Xr),h(e)._overflowWeekday&&-1===t&&(t=Kr),h(e).overflow=t),e}function rt(e){var t,n,r,i,o,a,s=e._i,l=mi.exec(s)||vi.exec(s);if(l){for(h(e).iso=!0,t=0,n=bi.length;t<n;t++)if(bi[t][1].exec(l[1])){i=bi[t][0],r=!1!==bi[t][2];break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=wi.length;t<n;t++)if(wi[t][1].exec(l[3])){o=(l[2]||" ")+wi[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(l[4]){if(!yi.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),ct(e)}else e._isValid=!1}function it(e){var t,n,r,i,o,a,s,l,u={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"},c="YXWVUTSRQPONZABCDEFGHIKLM";if(t=e._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),n=Si.exec(t)){if(r=n[1]?"ddd"+(5===n[1].length?", ":" "):"",i="D MMM "+(n[2].length>10?"YYYY ":"YY "),o="HH:mm"+(n[4]?":ss":""),n[1]){var f=new Date(n[2]),d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][f.getDay()];if(n[1].substr(0,3)!==d)return h(e).weekdayMismatch=!0,void(e._isValid=!1)}switch(n[5].length){case 2:0===l?s=" +0000":(l=c.indexOf(n[5][1].toUpperCase())-12,s=(l<0?" -":" +")+(""+l).replace(/^-?/,"0").match(/..$/)[0]+"00");break;case 4:s=u[n[5]];break;default:s=u[" GMT"]}n[5]=s,e._i=n.splice(1).join(""),a=" ZZ",e._f=r+i+o+a,ct(e),h(e).rfc2822=!0}else e._isValid=!1}function ot(t){var n=xi.exec(t._i);if(null!==n)return void(t._d=new Date(+n[1]));rt(t),!1===t._isValid&&(delete t._isValid,it(t),!1===t._isValid&&(delete t._isValid,e.createFromInputFallback(t)))}function at(e,t,n){return null!=e?e:null!=t?t:n}function st(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function lt(e){var t,n,r,i,o=[];if(!e._d){for(r=st(e),e._w&&null==e._a[Wr]&&null==e._a[Ur]&&ut(e),null!=e._dayOfYear&&(i=at(e._a[Hr],r[Hr]),(e._dayOfYear>pe(i)||0===e._dayOfYear)&&(h(e)._overflowDayOfYear=!0),n=ye(i,0,e._dayOfYear),e._a[Ur]=n.getUTCMonth(),e._a[Wr]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Vr]&&0===e._a[qr]&&0===e._a[Yr]&&0===e._a[Gr]&&(e._nextDay=!0,e._a[Vr]=0),e._d=(e._useUTC?ye:ve).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Vr]=24)}}function ut(e){var t,n,r,i,o,a,s,l;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)o=1,a=4,n=at(t.GG,e._a[Hr],xe(yt(),1,4).year),r=at(t.W,1),((i=at(t.E,1))<1||i>7)&&(l=!0);else{o=e._locale._week.dow,a=e._locale._week.doy;var u=xe(yt(),o,a);n=at(t.gg,e._a[Hr],u.year),r=at(t.w,u.week),null!=t.d?((i=t.d)<0||i>6)&&(l=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(l=!0)):i=o}r<1||r>Se(n,o,a)?h(e)._overflowWeeks=!0:null!=l?h(e)._overflowWeekday=!0:(s=we(n,r,i,o,a),e._a[Hr]=s.year,e._dayOfYear=s.dayOfYear)}function ct(t){if(t._f===e.ISO_8601)return void rt(t);if(t._f===e.RFC_2822)return void it(t);t._a=[],h(t).empty=!0;var n,r,i,o,a,s=""+t._i,l=s.length,u=0;for(i=X(t._f,t._locale).match(Pr)||[],n=0;n<i.length;n++)o=i[n],r=(s.match(Z(o,t))||[])[0],r&&(a=s.substr(0,s.indexOf(r)),a.length>0&&h(t).unusedInput.push(a),s=s.slice(s.indexOf(r)+r.length),u+=r.length),Nr[o]?(r?h(t).empty=!1:h(t).unusedTokens.push(o),ne(o,r,t)):t._strict&&!r&&h(t).unusedTokens.push(o);h(t).charsLeftOver=l-u,s.length>0&&h(t).unusedInput.push(s),t._a[Vr]<=12&&!0===h(t).bigHour&&t._a[Vr]>0&&(h(t).bigHour=void 0),h(t).parsedDateParts=t._a.slice(0),h(t).meridiem=t._meridiem,t._a[Vr]=ft(t._locale,t._a[Vr],t._meridiem),lt(t),nt(t)}function ft(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function ht(e){var t,n,r,i,o;if(0===e._f.length)return h(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,t=g({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],ct(t),d(t)&&(o+=h(t).charsLeftOver,o+=10*h(t).unusedTokens.length,h(t).score=o,(null==r||o<r)&&(r=o,n=t));u(e,n||t)}function dt(e){if(!e._d){var t=L(e._i);e._a=s([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),lt(e)}}function pt(e){var t=new m(nt(gt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function gt(e){var n=e._i,r=e._f;return e._locale=e._locale||et(e._l),null===n||void 0===r&&""===n?p({nullInput:!0}):("string"==typeof n&&(e._i=n=e._locale.preparse(n)),v(n)?new m(nt(n)):(a(n)?e._d=n:t(r)?ht(e):r?ct(e):mt(e),d(e)||(e._d=null),e))}function mt(r){var l=r._i;i(l)?r._d=new Date(e.now()):a(l)?r._d=new Date(l.valueOf()):"string"==typeof l?ot(r):t(l)?(r._a=s(l.slice(0),function(e){return parseInt(e,10)}),lt(r)):n(l)?dt(r):o(l)?r._d=new Date(l):e.createFromInputFallback(r)}function vt(e,i,o,a,s){var l={};return!0!==o&&!1!==o||(a=o,o=void 0),(n(e)&&r(e)||t(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=o,l._i=e,l._f=i,l._strict=a,pt(l)}function yt(e,t,n,r){return vt(e,t,n,r,!1)}function bt(e,n){var r,i;if(1===n.length&&t(n[0])&&(n=n[0]),!n.length)return yt();for(r=n[0],i=1;i<n.length;++i)n[i].isValid()&&!n[i][e](r)||(r=n[i]);return r}function wt(){return bt("isBefore",[].slice.call(arguments,0))}function xt(){return bt("isAfter",[].slice.call(arguments,0))}function St(e){for(var t in e)if(-1===ki.indexOf(t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<ki.length;++r)if(e[ki[r]]){if(n)return!1;parseFloat(e[ki[r]])!==b(e[ki[r]])&&(n=!0)}return!0}function $t(){return this._isValid}function Ct(){return Ut(NaN)}function At(e){var t=L(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=St(t),this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=et(),this._bubble()}function kt(e){return e instanceof At}function _t(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Tt(e,t){V(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+W(~~(e/60),2)+t+W(~~e%60,2)})}function Et(e,t){var n=(t||"").match(e);if(null===n)return null;var r=n[n.length-1]||[],i=(r+"").match(_i)||["-",0,0],o=60*i[1]+b(i[2]);return 0===o?0:"+"===i[0]?o:-o}function Mt(t,n){var r,i;return n._isUTC?(r=n.clone(),i=(v(t)||a(t)?t.valueOf():yt(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),e.updateOffset(r,!1),r):yt(t).local()}function Dt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Pt(t,n,r){var i,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Et(zr,t)))return this}else Math.abs(t)<16&&!r&&(t*=60);return!this._isUTC&&n&&(i=Dt(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==t&&(!n||this._changeInProgress?Gt(this,Ut(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Dt(this)}function Rt(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Ot(e){return this.utcOffset(0,e)}function Nt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Dt(this),"m")),this}function Lt(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Et(Ir,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function It(e){return!!this.isValid()&&(e=e?yt(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function zt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Bt(){if(!i(this._isDSTShifted))return this._isDSTShifted;var e={};if(g(e,this),e=gt(e),e._a){var t=e._isUTC?c(e._a):yt(e._a);this._isDSTShifted=this.isValid()&&w(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ft(){return!!this.isValid()&&!this._isUTC}function jt(){return!!this.isValid()&&this._isUTC}function Ht(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Ut(e,t){var n,r,i,a=e,s=null;return kt(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:o(e)?(a={},t?a[t]=e:a.milliseconds=e):(s=Ti.exec(e))?(n="-"===s[1]?-1:1,a={y:0,d:b(s[Wr])*n,h:b(s[Vr])*n,m:b(s[qr])*n,s:b(s[Yr])*n,ms:b(_t(1e3*s[Gr]))*n}):(s=Ei.exec(e))?(n="-"===s[1]?-1:1,a={y:Wt(s[2],n),M:Wt(s[3],n),w:Wt(s[4],n),d:Wt(s[5],n),h:Wt(s[6],n),m:Wt(s[7],n),s:Wt(s[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(i=qt(yt(a.from),yt(a.to)),a={},a.ms=i.milliseconds,a.M=i.months),r=new At(a),kt(e)&&l(e,"_locale")&&(r._locale=e._locale),r}function Wt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Vt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function qt(e,t){var n;return e.isValid()&&t.isValid()?(t=Mt(t,e),e.isBefore(t)?n=Vt(e,t):(n=Vt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Yt(e,t){return function(n,r){var i,o;return null===r||isNaN(+r)||($(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=Ut(n,r),Gt(this,i,e),this}}function Gt(t,n,r,i){var o=n._milliseconds,a=_t(n._days),s=_t(n._months);t.isValid()&&(i=null==i||i,o&&t._d.setTime(t._d.valueOf()+o*r),a&&j(t,"Date",F(t,"Date")+a*r),s&&le(t,F(t,"Month")+s*r),i&&e.updateOffset(t,a||s))}function Xt(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Kt(t,n){var r=t||yt(),i=Mt(r,this).startOf("day"),o=e.calendarFormat(this,i)||"sameElse",a=n&&(C(n[o])?n[o].call(this,r):n[o]);return this.format(a||this.localeData().calendar(o,this,yt(r)))}function Zt(){return new m(this)}function Jt(e,t){var n=v(e)?e:yt(e);return!(!this.isValid()||!n.isValid())&&(t=N(i(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Qt(e,t){var n=v(e)?e:yt(e);return!(!this.isValid()||!n.isValid())&&(t=N(i(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function en(e,t,n,r){return r=r||"()",("("===r[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))}function tn(e,t){var n,r=v(e)?e:yt(e);return!(!this.isValid()||!r.isValid())&&(t=N(t||"millisecond"),"millisecond"===t?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function nn(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function rn(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function on(e,t,n){var r,i,o,a;return this.isValid()?(r=Mt(e,this),r.isValid()?(i=6e4*(r.utcOffset()-this.utcOffset()),t=N(t),"year"===t||"month"===t||"quarter"===t?(a=an(this,r),"quarter"===t?a/=3:"year"===t&&(a/=12)):(o=this-r,a="second"===t?o/1e3:"minute"===t?o/6e4:"hour"===t?o/36e5:"day"===t?(o-i)/864e5:"week"===t?(o-i)/6048e5:o),n?a:y(a)):NaN):NaN}function an(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(i,"months");return t-o<0?(n=e.clone().add(i-1,"months"),r=(t-o)/(o-n)):(n=e.clone().add(i+1,"months"),r=(t-o)/(n-o)),-(i+r)||0}function sn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ln(){if(!this.isValid())return null;var e=this.clone().utc();return e.year()<0||e.year()>9999?G(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):C(Date.prototype.toISOString)?this.toDate().toISOString():G(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function un(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)}function cn(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=G(this,t);return this.localeData().postformat(n)}function fn(e,t){return this.isValid()&&(v(e)&&e.isValid()||yt(e).isValid())?Ut({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function hn(e){return this.from(yt(),e)
}function dn(e,t){return this.isValid()&&(v(e)&&e.isValid()||yt(e).isValid())?Ut({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function pn(e){return this.to(yt(),e)}function gn(e){var t;return void 0===e?this._locale._abbr:(t=et(e),null!=t&&(this._locale=t),this)}function mn(){return this._locale}function vn(e){switch(e=N(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function yn(e){return void 0===(e=N(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function bn(){return this._d.valueOf()-6e4*(this._offset||0)}function wn(){return Math.floor(this.valueOf()/1e3)}function xn(){return new Date(this.valueOf())}function Sn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function $n(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Cn(){return this.isValid()?this.toISOString():null}function An(){return d(this)}function kn(){return u({},h(this))}function _n(){return h(this).overflow}function Tn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function En(e,t){V(0,[e,e.length],0,t)}function Mn(e){return On.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Dn(e){return On.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Pn(){return Se(this.year(),1,4)}function Rn(){var e=this.localeData()._week;return Se(this.year(),e.dow,e.doy)}function On(e,t,n,r,i){var o;return null==e?xe(this,r,i).year:(o=Se(e,r,i),t>o&&(t=o),Nn.call(this,e,t,n,r,i))}function Nn(e,t,n,r,i){var o=we(e,t,n,r,i),a=ye(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Ln(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function In(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function zn(e,t){t[Gr]=b(1e3*("0."+e))}function Bn(){return this._isUTC?"UTC":""}function Fn(){return this._isUTC?"Coordinated Universal Time":""}function jn(e){return yt(1e3*e)}function Hn(){return yt.apply(null,arguments).parseZone()}function Un(e){return e}function Wn(e,t,n,r){var i=et(),o=c().set(r,t);return i[n](o,e)}function Vn(e,t,n){if(o(e)&&(t=e,e=void 0),e=e||"",null!=t)return Wn(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Wn(e,r,n,"month");return i}function qn(e,t,n,r){"boolean"==typeof e?(o(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,o(t)&&(n=t,t=void 0),t=t||"");var i=et(),a=e?i._week.dow:0;if(null!=n)return Wn(t,(n+a)%7,r,"day");var s,l=[];for(s=0;s<7;s++)l[s]=Wn(t,(s+a)%7,r,"day");return l}function Yn(e,t){return Vn(e,t,"months")}function Gn(e,t){return Vn(e,t,"monthsShort")}function Xn(e,t,n){return qn(e,t,n,"weekdays")}function Kn(e,t,n){return qn(e,t,n,"weekdaysShort")}function Zn(e,t,n){return qn(e,t,n,"weekdaysMin")}function Jn(){var e=this._data;return this._milliseconds=Fi(this._milliseconds),this._days=Fi(this._days),this._months=Fi(this._months),e.milliseconds=Fi(e.milliseconds),e.seconds=Fi(e.seconds),e.minutes=Fi(e.minutes),e.hours=Fi(e.hours),e.months=Fi(e.months),e.years=Fi(e.years),this}function Qn(e,t,n,r){var i=Ut(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function er(e,t){return Qn(this,e,t,1)}function tr(e,t){return Qn(this,e,t,-1)}function nr(e){return e<0?Math.floor(e):Math.ceil(e)}function rr(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*nr(or(s)+a),a=0,s=0),l.milliseconds=o%1e3,e=y(o/1e3),l.seconds=e%60,t=y(e/60),l.minutes=t%60,n=y(t/60),l.hours=n%24,a+=y(n/24),i=y(ir(a)),s+=i,a-=nr(or(i)),r=y(s/12),s%=12,l.days=a,l.months=s,l.years=r,this}function ir(e){return 4800*e/146097}function or(e){return 146097*e/4800}function ar(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=N(e))||"year"===e)return t=this._days+r/864e5,n=this._months+ir(t),"month"===e?n:n/12;switch(t=this._days+Math.round(or(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function sr(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*b(this._months/12):NaN}function lr(e){return function(){return this.as(e)}}function ur(e){return e=N(e),this.isValid()?this[e+"s"]():NaN}function cr(e){return function(){return this.isValid()?this._data[e]:NaN}}function fr(){return y(this.days()/7)}function hr(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function dr(e,t,n){var r=Ut(e).abs(),i=no(r.as("s")),o=no(r.as("m")),a=no(r.as("h")),s=no(r.as("d")),l=no(r.as("M")),u=no(r.as("y")),c=i<=ro.ss&&["s",i]||i<ro.s&&["ss",i]||o<=1&&["m"]||o<ro.m&&["mm",o]||a<=1&&["h"]||a<ro.h&&["hh",a]||s<=1&&["d"]||s<ro.d&&["dd",s]||l<=1&&["M"]||l<ro.M&&["MM",l]||u<=1&&["y"]||["yy",u];return c[2]=t,c[3]=+e>0,c[4]=n,hr.apply(null,c)}function pr(e){return void 0===e?no:"function"==typeof e&&(no=e,!0)}function gr(e,t){return void 0!==ro[e]&&(void 0===t?ro[e]:(ro[e]=t,"s"===e&&(ro.ss=t-1),!0))}function mr(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=dr(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function vr(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r=io(this._milliseconds)/1e3,i=io(this._days),o=io(this._months);e=y(r/60),t=y(e/60),r%=60,e%=60,n=y(o/12),o%=12;var a=n,s=o,l=i,u=t,c=e,f=r,h=this.asSeconds();return h?(h<0?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(u||c||f?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(f?f+"S":""):"P0D"}var yr,br;br=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var wr=br,xr=e.momentProperties=[],Sr=!1,$r={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var Cr;Cr=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)l(e,t)&&n.push(t);return n};var Ar,kr=Cr,_r={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Tr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Er={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Mr={},Dr={},Pr=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Rr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Or={},Nr={},Lr=/[+-]?\d{6}/,Ir=/Z|[+-]\d\d:?\d\d/gi,zr=/Z|[+-]\d\d(?::?\d\d)?/gi,Br=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Fr={},jr={},Hr=0,Ur=1,Wr=2,Vr=3,qr=4,Yr=5,Gr=6,Xr=7,Kr=8;Ar=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};var Zr=Ar;V("M",["MM",2],"Mo",function(){return this.month()+1}),V("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),V("MMMM",0,0,function(e){return this.localeData().months(this,e)}),O("month","M"),I("month",8),K("M",/\d\d?/),K("MM",/\d\d?/,/\d\d/),K("MMM",function(e,t){return t.monthsShortRegex(e)}),K("MMMM",function(e,t){return t.monthsRegex(e)}),ee(["M","MM"],function(e,t){t[Ur]=b(e)-1}),ee(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[Ur]=i:h(n).invalidMonth=e});var Jr=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Qr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ei="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ti=Br,ni=Br;V("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),V(0,["YY",2],0,function(){return this.year()%100}),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),O("year","y"),I("year",1),K("Y",/[+-]?\d+/),K("YY",/\d\d?/,/\d\d/),K("YYYY",/\d{1,4}/,/\d{4}/),K("YYYYY",/[+-]?\d{1,6}/,Lr),K("YYYYYY",/[+-]?\d{1,6}/,Lr),ee(["YYYYY","YYYYYY"],Hr),ee("YYYY",function(t,n){n[Hr]=2===t.length?e.parseTwoDigitYear(t):b(t)}),ee("YY",function(t,n){n[Hr]=e.parseTwoDigitYear(t)}),ee("Y",function(e,t){t[Hr]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return b(e)+(b(e)>68?1900:2e3)};var ri=B("FullYear",!0);V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),O("week","w"),O("isoWeek","W"),I("week",5),I("isoWeek",5),K("w",/\d\d?/),K("ww",/\d\d?/,/\d\d/),K("W",/\d\d?/),K("WW",/\d\d?/,/\d\d/),te(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=b(e)});var ii={dow:0,doy:6};V("d",0,"do","day"),V("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),V("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),V("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),O("day","d"),O("weekday","e"),O("isoWeekday","E"),I("day",11),I("weekday",11),I("isoWeekday",11),K("d",/\d\d?/),K("e",/\d\d?/),K("E",/\d\d?/),K("dd",function(e,t){return t.weekdaysMinRegex(e)}),K("ddd",function(e,t){return t.weekdaysShortRegex(e)}),K("dddd",function(e,t){return t.weekdaysRegex(e)}),te(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:h(n).invalidWeekday=e}),te(["d","e","E"],function(e,t,n,r){t[r]=b(e)});var oi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ai="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),si="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),li=Br,ui=Br,ci=Br;V("H",["HH",2],0,"hour"),V("h",["hh",2],0,He),V("k",["kk",2],0,Ue),V("hmm",0,0,function(){return""+He.apply(this)+W(this.minutes(),2)}),V("hmmss",0,0,function(){return""+He.apply(this)+W(this.minutes(),2)+W(this.seconds(),2)}),V("Hmm",0,0,function(){return""+this.hours()+W(this.minutes(),2)}),V("Hmmss",0,0,function(){return""+this.hours()+W(this.minutes(),2)+W(this.seconds(),2)}),We("a",!0),We("A",!1),O("hour","h"),I("hour",13),K("a",Ve),K("A",Ve),K("H",/\d\d?/),K("h",/\d\d?/),K("k",/\d\d?/),K("HH",/\d\d?/,/\d\d/),K("hh",/\d\d?/,/\d\d/),K("kk",/\d\d?/,/\d\d/),K("hmm",/\d\d\d\d?/),K("hmmss",/\d\d\d\d\d\d?/),K("Hmm",/\d\d\d\d?/),K("Hmmss",/\d\d\d\d\d\d?/),ee(["H","HH"],Vr),ee(["k","kk"],function(e,t,n){var r=b(e);t[Vr]=24===r?0:r}),ee(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),ee(["h","hh"],function(e,t,n){t[Vr]=b(e),h(n).bigHour=!0}),ee("hmm",function(e,t,n){var r=e.length-2;t[Vr]=b(e.substr(0,r)),t[qr]=b(e.substr(r)),h(n).bigHour=!0}),ee("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[Vr]=b(e.substr(0,r)),t[qr]=b(e.substr(r,2)),t[Yr]=b(e.substr(i)),h(n).bigHour=!0}),ee("Hmm",function(e,t,n){var r=e.length-2;t[Vr]=b(e.substr(0,r)),t[qr]=b(e.substr(r))}),ee("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[Vr]=b(e.substr(0,r)),t[qr]=b(e.substr(r,2)),t[Yr]=b(e.substr(i))});var fi,hi=B("Hours",!0),di={calendar:_r,longDateFormat:Tr,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:Er,months:Qr,monthsShort:ei,week:ii,weekdays:oi,weekdaysMin:si,weekdaysShort:ai,meridiemParse:/[ap]\.?m?\.?/i},pi={},gi={},mi=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vi=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yi=/Z|[+-]\d\d(?::?\d\d)?/,bi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],wi=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],xi=/^\/?Date\((\-?\d+)/i,Si=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;e.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var $i=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=yt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:p()}),Ci=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=yt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:p()}),Ai=function(){return Date.now?Date.now():+new Date},ki=["year","quarter","month","week","day","hour","minute","second","millisecond"];Tt("Z",":"),Tt("ZZ",""),K("Z",zr),K("ZZ",zr),ee(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Et(zr,e)});var _i=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Ti=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ei=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Ut.fn=At.prototype,Ut.invalid=Ct;var Mi=Yt(1,"add"),Di=Yt(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Pi=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});V(0,["gg",2],0,function(){return this.weekYear()%100}),V(0,["GG",2],0,function(){return this.isoWeekYear()%100}),En("gggg","weekYear"),En("ggggg","weekYear"),En("GGGG","isoWeekYear"),En("GGGGG","isoWeekYear"),O("weekYear","gg"),O("isoWeekYear","GG"),I("weekYear",1),I("isoWeekYear",1),K("G",/[+-]?\d+/),K("g",/[+-]?\d+/),K("GG",/\d\d?/,/\d\d/),K("gg",/\d\d?/,/\d\d/),K("GGGG",/\d{1,4}/,/\d{4}/),K("gggg",/\d{1,4}/,/\d{4}/),K("GGGGG",/[+-]?\d{1,6}/,Lr),K("ggggg",/[+-]?\d{1,6}/,Lr),te(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=b(e)}),te(["gg","GG"],function(t,n,r,i){n[i]=e.parseTwoDigitYear(t)}),V("Q",0,"Qo","quarter"),O("quarter","Q"),I("quarter",7),K("Q",/\d/),ee("Q",function(e,t){t[Ur]=3*(b(e)-1)}),V("D",["DD",2],"Do","date"),O("date","D"),I("date",9),K("D",/\d\d?/),K("DD",/\d\d?/,/\d\d/),K("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),ee(["D","DD"],Wr),ee("Do",function(e,t){t[Wr]=b(e.match(/\d\d?/)[0],10)});var Ri=B("Date",!0);V("DDD",["DDDD",3],"DDDo","dayOfYear"),O("dayOfYear","DDD"),I("dayOfYear",4),K("DDD",/\d{1,3}/),K("DDDD",/\d{3}/),ee(["DDD","DDDD"],function(e,t,n){n._dayOfYear=b(e)}),V("m",["mm",2],0,"minute"),O("minute","m"),I("minute",14),K("m",/\d\d?/),K("mm",/\d\d?/,/\d\d/),ee(["m","mm"],qr);var Oi=B("Minutes",!1);V("s",["ss",2],0,"second"),O("second","s"),I("second",15),K("s",/\d\d?/),K("ss",/\d\d?/,/\d\d/),ee(["s","ss"],Yr);var Ni=B("Seconds",!1);V("S",0,0,function(){return~~(this.millisecond()/100)}),V(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,function(){return 10*this.millisecond()}),V(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),V(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),V(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),V(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),V(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),O("millisecond","ms"),I("millisecond",16),K("S",/\d{1,3}/,/\d/),K("SS",/\d{1,3}/,/\d\d/),K("SSS",/\d{1,3}/,/\d{3}/);var Li;for(Li="SSSS";Li.length<=9;Li+="S")K(Li,/\d+/);for(Li="S";Li.length<=9;Li+="S")ee(Li,zn);var Ii=B("Milliseconds",!1);V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");var zi=m.prototype;zi.add=Mi,zi.calendar=Kt,zi.clone=Zt,zi.diff=on,zi.endOf=yn,zi.format=cn,zi.from=fn,zi.fromNow=hn,zi.to=dn,zi.toNow=pn,zi.get=H,zi.invalidAt=_n,zi.isAfter=Jt,zi.isBefore=Qt,zi.isBetween=en,zi.isSame=tn,zi.isSameOrAfter=nn,zi.isSameOrBefore=rn,zi.isValid=An,zi.lang=Pi,zi.locale=gn,zi.localeData=mn,zi.max=Ci,zi.min=$i,zi.parsingFlags=kn,zi.set=U,zi.startOf=vn,zi.subtract=Di,zi.toArray=Sn,zi.toObject=$n,zi.toDate=xn,zi.toISOString=ln,zi.inspect=un,zi.toJSON=Cn,zi.toString=sn,zi.unix=wn,zi.valueOf=bn,zi.creationData=Tn,zi.year=ri,zi.isLeapYear=me,zi.weekYear=Mn,zi.isoWeekYear=Dn,zi.quarter=zi.quarters=Ln,zi.month=ue,zi.daysInMonth=ce,zi.week=zi.weeks=ke,zi.isoWeek=zi.isoWeeks=_e,zi.weeksInYear=Rn,zi.isoWeeksInYear=Pn,zi.date=Ri,zi.day=zi.days=Ne,zi.weekday=Le,zi.isoWeekday=Ie,zi.dayOfYear=In,zi.hour=zi.hours=hi,zi.minute=zi.minutes=Oi,zi.second=zi.seconds=Ni,zi.millisecond=zi.milliseconds=Ii,zi.utcOffset=Pt,zi.utc=Ot,zi.local=Nt,zi.parseZone=Lt,zi.hasAlignedHourOffset=It,zi.isDST=zt,zi.isLocal=Ft,zi.isUtcOffset=jt,zi.isUtc=Ht,zi.isUTC=Ht,zi.zoneAbbr=Bn,zi.zoneName=Fn,zi.dates=S("dates accessor is deprecated. Use date instead.",Ri),zi.months=S("months accessor is deprecated. Use month instead",ue),zi.years=S("years accessor is deprecated. Use year instead",ri),zi.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Rt),zi.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Bt);var Bi=_.prototype;Bi.calendar=T,Bi.longDateFormat=E,Bi.invalidDate=M,Bi.ordinal=D,Bi.preparse=Un,Bi.postformat=Un,Bi.relativeTime=P,Bi.pastFuture=R,Bi.set=A,Bi.months=ie,Bi.monthsShort=oe,Bi.monthsParse=se,Bi.monthsRegex=he,Bi.monthsShortRegex=fe,Bi.week=$e,Bi.firstDayOfYear=Ae,Bi.firstDayOfWeek=Ce,Bi.weekdays=Me,Bi.weekdaysMin=Pe,Bi.weekdaysShort=De,Bi.weekdaysParse=Oe,Bi.weekdaysRegex=ze,Bi.weekdaysShortRegex=Be,Bi.weekdaysMinRegex=Fe,Bi.isPM=qe,Bi.meridiem=Ye,Ze("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===b(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),e.lang=S("moment.lang is deprecated. Use moment.locale instead.",Ze),e.langData=S("moment.langData is deprecated. Use moment.localeData instead.",et);var Fi=Math.abs,ji=lr("ms"),Hi=lr("s"),Ui=lr("m"),Wi=lr("h"),Vi=lr("d"),qi=lr("w"),Yi=lr("M"),Gi=lr("y"),Xi=cr("milliseconds"),Ki=cr("seconds"),Zi=cr("minutes"),Ji=cr("hours"),Qi=cr("days"),eo=cr("months"),to=cr("years"),no=Math.round,ro={ss:44,s:45,m:45,h:22,d:26,M:11},io=Math.abs,oo=At.prototype;return oo.isValid=$t,oo.abs=Jn,oo.add=er,oo.subtract=tr,oo.as=ar,oo.asMilliseconds=ji,oo.asSeconds=Hi,oo.asMinutes=Ui,oo.asHours=Wi,oo.asDays=Vi,oo.asWeeks=qi,oo.asMonths=Yi,oo.asYears=Gi,oo.valueOf=sr,oo._bubble=rr,oo.get=ur,oo.milliseconds=Xi,oo.seconds=Ki,oo.minutes=Zi,oo.hours=Ji,oo.days=Qi,oo.weeks=fr,oo.months=eo,oo.years=to,oo.humanize=mr,oo.toISOString=vr,oo.toString=vr,oo.toJSON=vr,oo.locale=gn,oo.localeData=mn,oo.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",vr),oo.lang=Pi,V("X",0,0,"unix"),V("x",0,0,"valueOf"),K("x",/[+-]?\d+/),K("X",/[+-]?\d+(\.\d{1,3})?/),ee("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),ee("x",function(e,t,n){n._d=new Date(b(e))}),e.version="2.18.1",function(e){yr=e}(yt),e.fn=zi,e.min=wt,e.max=xt,e.now=Ai,e.utc=c,e.unix=jn,e.months=Yn,e.isDate=a,e.locale=Ze,e.invalid=p,e.duration=Ut,e.isMoment=v,e.weekdays=Xn,e.parseZone=Hn,e.localeData=et,e.isDuration=kt,e.monthsShort=Gn,e.weekdaysMin=Zn,e.defineLocale=Je,e.updateLocale=Qe,e.locales=tt,e.weekdaysShort=Kn,e.normalizeUnits=N,e.relativeTimeRounding=pr,e.relativeTimeThreshold=gr,e.calendarFormat=Xt,e.prototype=zi,e}),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["moment"],t):"object"==typeof module&&module.exports?module.exports=t(require("moment")):t(e.moment)}(this,function(e){"use strict";function t(e){return e>96?e-87:e>64?e-29:e-48}function n(e){var n,r=0,i=e.split("."),o=i[0],a=i[1]||"",s=1,l=0,u=1;for(45===e.charCodeAt(0)&&(r=1,u=-1),r;r<o.length;r++)n=t(o.charCodeAt(r)),l=60*l+n;for(r=0;r<a.length;r++)s/=60,n=t(a.charCodeAt(r)),l+=n*s;return l*u}function r(e){for(var t=0;t<e.length;t++)e[t]=n(e[t])}function i(e,t){for(var n=0;n<t;n++)e[n]=Math.round((e[n-1]||0)+6e4*e[n]);e[t-1]=1/0}function o(e,t){var n,r=[];for(n=0;n<t.length;n++)r[n]=e[t[n]];return r}function a(e){var t=e.split("|"),n=t[2].split(" "),a=t[3].split(""),s=t[4].split(" ");return r(n),r(a),r(s),i(s,a.length),{name:t[0],abbrs:o(t[1].split(" "),a),offsets:o(n,a),untils:s,population:0|t[5]}}function s(e){e&&this._set(a(e))}function l(e){var t=e.toTimeString(),n=t.match(/\([a-z ]+\)/i);n&&n[0]?(n=n[0].match(/[A-Z]/g),n=n?n.join(""):void 0):(n=t.match(/[A-Z]{3,5}/g),n=n?n[0]:void 0),"GMT"===n&&(n=void 0),this.at=+e,this.abbr=n,this.offset=e.getTimezoneOffset()}function u(e){this.zone=e,this.offsetScore=0,this.abbrScore=0}function c(e,t){for(var n,r;r=6e4*((t.at-e.at)/12e4|0);)n=new l(new Date(e.at+r)),n.offset===e.offset?e=n:t=n;return e}function f(){var e,t,n,r=(new Date).getFullYear()-2,i=new l(new Date(r,0,1)),o=[i];for(n=1;n<48;n++)t=new l(new Date(r,n,1)),t.offset!==i.offset&&(e=c(i,t),o.push(e),o.push(new l(new Date(e.at+6e4)))),i=t;for(n=0;n<4;n++)o.push(new l(new Date(r+n,0,1))),o.push(new l(new Date(r+n,6,1)));return o}function h(e,t){return e.offsetScore!==t.offsetScore?e.offsetScore-t.offsetScore:e.abbrScore!==t.abbrScore?e.abbrScore-t.abbrScore:t.zone.population-e.zone.population}function d(e,t){var n,i;for(r(t),n=0;n<t.length;n++)i=t[n],P[i]=P[i]||{},P[i][e]=!0}function p(e){var t,n,r,i=e.length,o={},a=[];for(t=0;t<i;t++){r=P[e[t].offset]||{};for(n in r)r.hasOwnProperty(n)&&(o[n]=!0)}for(t in o)o.hasOwnProperty(t)&&a.push(D[t]);return a}function g(){try{var e=Intl.DateTimeFormat().resolvedOptions().timeZone;if(e){var t=D[v(e)];if(t)return t;A("Moment Timezone found "+e+" from the Intl api, but did not have that data loaded.")}}catch(e){}var n,r,i,o=f(),a=o.length,s=p(o),l=[];for(r=0;r<s.length;r++){for(n=new u(b(s[r]),a),i=0;i<a;i++)n.scoreOffsetAt(o[i]);l.push(n)}return l.sort(h),l.length>0?l[0].zone.name:void 0}function m(e){return T&&!e||(T=g()),T}function v(e){return(e||"").toLowerCase().replace(/\//g,"_")}function y(e){var t,n,r,i;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)r=e[t].split("|"),n=r[0],i=v(n),E[i]=e[t],D[i]=n,r[5]&&d(i,r[2].split(" "))}function b(e,t){e=v(e);var n,r=E[e];return r instanceof s?r:"string"==typeof r?(r=new s(r),E[e]=r,r):M[e]&&t!==b&&(n=b(M[e],b))?(r=E[e]=new s,r._set(n),r.name=D[e],r):null}function w(){var e,t=[];for(e in D)D.hasOwnProperty(e)&&(E[e]||E[M[e]])&&D[e]&&t.push(D[e]);return t.sort()}function x(e){var t,n,r,i;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)n=e[t].split("|"),r=v(n[0]),i=v(n[1]),M[r]=i,D[r]=n[0],M[i]=r,D[i]=n[1]}function S(e){y(e.zones),x(e.links),k.dataVersion=e.version}function $(e){return $.didShowError||($.didShowError=!0,A("moment.tz.zoneExists('"+e+"') has been deprecated in favor of !moment.tz.zone('"+e+"')")),!!b(e)}function C(e){return!(!e._a||void 0!==e._tzm)}function A(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e)}function k(t){var n=Array.prototype.slice.call(arguments,0,-1),r=arguments[arguments.length-1],i=b(r),o=e.utc.apply(null,n);return i&&!e.isMoment(t)&&C(o)&&o.add(i.parse(o),"minutes"),o.tz(r),o}function _(e){return function(){return this._z?this._z.abbr(this):e.call(this)}}var T,E={},M={},D={},P={},R=e.version.split("."),O=+R[0],N=+R[1];(O<2||2===O&&N<6)&&A("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+e.version+". See momentjs.com"),s.prototype={_set:function(e){this.name=e.name,this.abbrs=e.abbrs,this.untils=e.untils,this.offsets=e.offsets,this.population=e.population},_index:function(e){var t,n=+e,r=this.untils;for(t=0;t<r.length;t++)if(n<r[t])return t},parse:function(e){var t,n,r,i,o=+e,a=this.offsets,s=this.untils,l=s.length-1;for(i=0;i<l;i++)if(t=a[i],n=a[i+1],r=a[i?i-1:i],t<n&&k.moveAmbiguousForward?t=n:t>r&&k.moveInvalidForward&&(t=r),o<s[i]-6e4*t)return a[i];return a[l]},abbr:function(e){return this.abbrs[this._index(e)]},offset:function(e){return this.offsets[this._index(e)]}},u.prototype.scoreOffsetAt=function(e){this.offsetScore+=Math.abs(this.zone.offset(e.at)-e.offset),this.zone.abbr(e.at).replace(/[^A-Z]/g,"")!==e.abbr&&this.abbrScore++},k.version="0.5.13",k.dataVersion="",k._zones=E,k._links=M,k._names=D,k.add=y,k.link=x,k.load=S,k.zone=b,k.zoneExists=$,k.guess=m,k.names=w,k.Zone=s,k.unpack=a,k.unpackBase60=n,k.needsOffset=C,k.moveInvalidForward=!0,k.moveAmbiguousForward=!1;var L=e.fn;e.tz=k,e.defaultZone=null,e.updateOffset=function(t,n){var r,i=e.defaultZone;void 0===t._z&&(i&&C(t)&&!t._isUTC&&(t._d=e.utc(t._a)._d,t.utc().add(i.parse(t),"minutes")),t._z=i),t._z&&(r=t._z.offset(t),Math.abs(r)<16&&(r/=60),void 0!==t.utcOffset?t.utcOffset(-r,n):t.zone(r,n))},L.tz=function(t){return t?(this._z=b(t),this._z?e.updateOffset(this):A("Moment Timezone has no data for "+t+". See http://momentjs.com/timezone/docs/#/data-loading/."),this):this._z?this._z.name:void 0},L.zoneName=_(L.zoneName),L.zoneAbbr=_(L.zoneAbbr),L.utc=function(e){return function(){return this._z=null,e.apply(this,arguments)}}(L.utc),e.tz.setDefault=function(t){return(O<2||2===O&&N<9)&&A("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js "+e.version+"."),e.defaultZone=t?b(t):null,e};var I=e.momentProperties;return"[object Array]"===Object.prototype.toString.call(I)?(I.push("_z"),I.push("_a")):I&&(I._z=null),S({version:"2017b",
zones:["Africa/Abidjan|GMT|0|0||48e5","Africa/Khartoum|EAT|-30|0||51e5","Africa/Algiers|CET|-10|0||26e5","Africa/Lagos|WAT|-10|0||17e6","Africa/Maputo|CAT|-20|0||26e5","Africa/Cairo|EET EEST|-20 -30|01010|1M2m0 gL0 e10 mn0|15e6","Africa/Casablanca|WET WEST|0 -10|0101010101010101010101010101010101010101010|1H3C0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uM0 e00 Dc0 11A0 s00 e00 IM0 WM0 mo0 gM0 LA0 WM0 jA0 e00 Rc0 11A0 e00 e00 U00 11A0 8o0 e00 11A0 11A0 5A0 e00 17c0 1fA0 1a00|32e5","Europe/Paris|CET CEST|-10 -20|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|11e6","Africa/Johannesburg|SAST|-20|0||84e5","Africa/Tripoli|EET CET CEST|-20 -10 -20|0120|1IlA0 TA0 1o00|11e5","Africa/Windhoek|WAST WAT|-20 -10|01010101010101010101010|1GQo0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0|32e4","America/Adak|HST HDT|a0 90|01010101010101010101010|1GIc0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|326","America/Anchorage|AKST AKDT|90 80|01010101010101010101010|1GIb0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|30e4","America/Santo_Domingo|AST|40|0||29e5","America/Araguaina|-03 -02|30 20|010|1IdD0 Lz0|14e4","America/Fortaleza|-03|30|0||34e5","America/Asuncion|-03 -04|30 40|01010101010101010101010|1GTf0 1cN0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0|28e5","America/Panama|EST|50|0||15e5","America/Bahia|-02 -03|20 30|01|1GCq0|27e5","America/Mexico_City|CST CDT|60 50|01010101010101010101010|1GQw0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0|20e6","America/Managua|CST|60|0||22e5","America/La_Paz|-04|40|0||19e5","America/Lima|-05|50|0||11e6","America/Denver|MST MDT|70 60|01010101010101010101010|1GI90 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|26e5","America/Campo_Grande|-03 -04|30 40|01010101010101010101010|1GCr0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0|77e4","America/Cancun|CST CDT EST|60 50 50|01010102|1GQw0 1nX0 14p0 1lb0 14p0 1lb0 Dd0|63e4","America/Caracas|-0430 -04|4u 40|01|1QMT0|29e5","America/Chicago|CST CDT|60 50|01010101010101010101010|1GI80 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|92e5","America/Chihuahua|MST MDT|70 60|01010101010101010101010|1GQx0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0|81e4","America/Phoenix|MST|70|0||42e5","America/Los_Angeles|PST PDT|80 70|01010101010101010101010|1GIa0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|15e6","America/New_York|EST EDT|50 40|01010101010101010101010|1GI70 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|21e6","America/Rio_Branco|-04 -05|40 50|01|1KLE0|31e4","America/Fort_Nelson|PST PDT MST|80 70 70|01010102|1GIa0 1zb0 Op0 1zb0 Op0 1zb0 Op0|39e2","America/Halifax|AST ADT|40 30|01010101010101010101010|1GI60 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|39e4","America/Godthab|-03 -02|30 20|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|17e3","America/Grand_Turk|EST EDT AST|50 40 40|010101012|1GI70 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|37e2","America/Havana|CST CDT|50 40|01010101010101010101010|1GQt0 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0|21e5","America/Metlakatla|PST AKST AKDT|80 90 80|0121212121212121|1PAa0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|14e2","America/Miquelon|-03 -02|30 20|01010101010101010101010|1GI50 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|61e2","America/Montevideo|-02 -03|20 30|01010101|1GI40 1o10 11z0 1o10 11z0 1o10 11z0|17e5","America/Noronha|-02|20|0||30e2","America/Port-au-Prince|EST EDT|50 40|010101010101010101010|1GI70 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 3iN0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|23e5","Antarctica/Palmer|-03 -04|30 40|010101010|1H3D0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0|40","America/Santiago|-03 -04|30 40|010101010101010101010|1H3D0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0|62e5","America/Sao_Paulo|-02 -03|20 30|01010101010101010101010|1GCq0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0|20e6","Atlantic/Azores|-01 +00|10 0|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|25e4","America/St_Johns|NST NDT|3u 2u|01010101010101010101010|1GI5u 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|11e4","Antarctica/Casey|+11 +08|-b0 -80|010|1GAF0 blz0|10","Antarctica/Davis|+05 +07|-50 -70|01|1GAI0|70","Pacific/Port_Moresby|+10|-a0|0||25e4","Pacific/Guadalcanal|+11|-b0|0||11e4","Asia/Tashkent|+05|-50|0||23e5","Pacific/Auckland|NZDT NZST|-d0 -c0|01010101010101010101010|1GQe0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00|14e5","Asia/Baghdad|+03|-30|0||66e5","Antarctica/Troll|+00 +02|0 -20|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|40","Asia/Dhaka|+06|-60|0||16e6","Asia/Amman|EET EEST|-20 -30|010101010101010101010|1GPy0 4bX0 Dd0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00|25e5","Asia/Kamchatka|+12|-c0|0||18e4","Asia/Baku|+04 +05|-40 -50|010101010|1GNA0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00|27e5","Asia/Bangkok|+07|-70|0||15e6","Asia/Barnaul|+07 +06|-70 -60|010|1N7v0 3rd0","Asia/Beirut|EET EEST|-20 -30|01010101010101010101010|1GNy0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0|22e5","Asia/Manila|+08|-80|0||24e6","Asia/Kolkata|IST|-5u|0||15e6","Asia/Chita|+10 +08 +09|-a0 -80 -90|012|1N7s0 3re0|33e4","Asia/Ulaanbaatar|+08 +09|-80 -90|01010|1O8G0 1cJ0 1cP0 1cJ0|12e5","Asia/Shanghai|CST|-80|0||23e6","Asia/Colombo|+0530|-5u|0||22e5","Asia/Damascus|EET EEST|-20 -30|01010101010101010101010|1GPy0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0|26e5","Asia/Dili|+09|-90|0||19e4","Asia/Dubai|+04|-40|0||39e5","Asia/Famagusta|EET EEST +03|-20 -30 -30|01010101012|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 15U0","Asia/Gaza|EET EEST|-20 -30|01010101010101010101010|1GPy0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nz0 1220 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0|18e5","Asia/Hong_Kong|HKT|-80|0||73e5","Asia/Hovd|+07 +08|-70 -80|01010|1O8H0 1cJ0 1cP0 1cJ0|81e3","Asia/Irkutsk|+09 +08|-90 -80|01|1N7t0|60e4","Europe/Istanbul|EET EEST +03|-20 -30 -30|01010101012|1GNB0 1qM0 11A0 1o00 1200 1nA0 11A0 1tA0 U00 15w0|13e6","Asia/Jakarta|WIB|-70|0||31e6","Asia/Jayapura|WIT|-90|0||26e4","Asia/Jerusalem|IST IDT|-20 -30|01010101010101010101010|1GPA0 1aL0 1eN0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0|81e4","Asia/Kabul|+0430|-4u|0||46e5","Asia/Karachi|PKT|-50|0||24e6","Asia/Kathmandu|+0545|-5J|0||12e5","Asia/Yakutsk|+10 +09|-a0 -90|01|1N7s0|28e4","Asia/Krasnoyarsk|+08 +07|-80 -70|01|1N7u0|10e5","Asia/Magadan|+12 +10 +11|-c0 -a0 -b0|012|1N7q0 3Cq0|95e3","Asia/Makassar|WITA|-80|0||15e5","Europe/Athens|EET EEST|-20 -30|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|35e5","Asia/Novosibirsk|+07 +06|-70 -60|010|1N7v0 4eN0|15e5","Asia/Omsk|+07 +06|-70 -60|01|1N7v0|12e5","Asia/Pyongyang|KST KST|-90 -8u|01|1P4D0|29e5","Asia/Rangoon|+0630|-6u|0||48e5","Asia/Sakhalin|+11 +10|-b0 -a0|010|1N7r0 3rd0|58e4","Asia/Seoul|KST|-90|0||23e6","Asia/Srednekolymsk|+12 +11|-c0 -b0|01|1N7q0|35e2","Asia/Tehran|+0330 +0430|-3u -4u|01010101010101010101010|1GLUu 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0|14e6","Asia/Tokyo|JST|-90|0||38e6","Asia/Tomsk|+07 +06|-70 -60|010|1N7v0 3Qp0|10e5","Asia/Vladivostok|+11 +10|-b0 -a0|01|1N7r0|60e4","Asia/Yekaterinburg|+06 +05|-60 -50|01|1N7w0|14e5","Europe/Lisbon|WET WEST|0 -10|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|27e5","Atlantic/Cape_Verde|-01|10|0||50e4","Australia/Sydney|AEDT AEST|-b0 -a0|01010101010101010101010|1GQg0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0|40e5","Australia/Adelaide|ACDT ACST|-au -9u|01010101010101010101010|1GQgu 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0|11e5","Australia/Brisbane|AEST|-a0|0||20e5","Australia/Darwin|ACST|-9u|0||12e4","Australia/Eucla|+0845|-8J|0||368","Australia/Lord_Howe|+11 +1030|-b0 -au|01010101010101010101010|1GQf0 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu|347","Australia/Perth|AWST|-80|0||18e5","Pacific/Easter|-05 -06|50 60|010101010101010101010|1H3D0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0|30e2","Europe/Dublin|GMT IST|0 -10|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|12e5","Pacific/Tahiti|-10|a0|0||18e4","Pacific/Niue|-11|b0|0||12e2","Etc/GMT+12|-12|c0|0|","Pacific/Galapagos|-06|60|0||25e3","Etc/GMT+7|-07|70|0|","Pacific/Pitcairn|-08|80|0||56","Pacific/Gambier|-09|90|0||125","Etc/GMT-1|+01|-10|0|","Pacific/Fakaofo|+13|-d0|0||483","Pacific/Kiritimati|+14|-e0|0||51e2","Etc/GMT-2|+02|-20|0|","Etc/UCT|UCT|0|0|","Etc/UTC|UTC|0|0|","Europe/Astrakhan|+04 +03|-40 -30|010|1N7y0 3rd0","Europe/London|GMT BST|0 -10|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|10e6","Europe/Chisinau|EET EEST|-20 -30|01010101010101010101010|1GNA0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|67e4","Europe/Kaliningrad|+03 EET|-30 -20|01|1N7z0|44e4","Europe/Volgograd|+04 +03|-40 -30|01|1N7y0|10e5","Europe/Moscow|MSK MSK|-40 -30|01|1N7y0|16e6","Europe/Saratov|+04 +03|-40 -30|010|1N7y0 5810","Europe/Simferopol|EET EEST MSK MSK|-20 -30 -40 -30|0101023|1GNB0 1qM0 11A0 1o00 11z0 1nW0|33e4","Pacific/Honolulu|HST|a0|0||37e4","MET|MET MEST|-10 -20|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0","Pacific/Chatham|+1345 +1245|-dJ -cJ|01010101010101010101010|1GQe0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00|600","Pacific/Apia|+14 +13|-e0 -d0|01010101010101010101010|1GQe0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00|37e3","Pacific/Bougainville|+10 +11|-a0 -b0|01|1NwE0|18e4","Pacific/Fiji|+13 +12|-d0 -c0|01010101010101010101010|1Goe0 1Nc0 Ao0 1Q00 xz0 1SN0 uM0 1SM0 uM0 1VA0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0 1SM0 uM0 1VA0 s00 1VA0|88e4","Pacific/Guam|ChST|-a0|0||17e4","Pacific/Marquesas|-0930|9u|0||86e2","Pacific/Pago_Pago|SST|b0|0||37e2","Pacific/Norfolk|+1130 +11|-bu -b0|01|1PoCu|25e4","Pacific/Tongatapu|+13 +14|-d0 -e0|01010101010101|1S4d0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0 1SM0 uM0 1VA0 s00 1VA0|75e3"],links:["Africa/Abidjan|Africa/Accra","Africa/Abidjan|Africa/Bamako","Africa/Abidjan|Africa/Banjul","Africa/Abidjan|Africa/Bissau","Africa/Abidjan|Africa/Conakry","Africa/Abidjan|Africa/Dakar","Africa/Abidjan|Africa/Freetown","Africa/Abidjan|Africa/Lome","Africa/Abidjan|Africa/Monrovia","Africa/Abidjan|Africa/Nouakchott","Africa/Abidjan|Africa/Ouagadougou","Africa/Abidjan|Africa/Sao_Tome","Africa/Abidjan|Africa/Timbuktu","Africa/Abidjan|America/Danmarkshavn","Africa/Abidjan|Atlantic/Reykjavik","Africa/Abidjan|Atlantic/St_Helena","Africa/Abidjan|Etc/GMT","Africa/Abidjan|Etc/GMT+0","Africa/Abidjan|Etc/GMT-0","Africa/Abidjan|Etc/GMT0","Africa/Abidjan|Etc/Greenwich","Africa/Abidjan|GMT","Africa/Abidjan|GMT+0","Africa/Abidjan|GMT-0","Africa/Abidjan|GMT0","Africa/Abidjan|Greenwich","Africa/Abidjan|Iceland","Africa/Algiers|Africa/Tunis","Africa/Cairo|Egypt","Africa/Casablanca|Africa/El_Aaiun","Africa/Johannesburg|Africa/Maseru","Africa/Johannesburg|Africa/Mbabane","Africa/Khartoum|Africa/Addis_Ababa","Africa/Khartoum|Africa/Asmara","Africa/Khartoum|Africa/Asmera","Africa/Khartoum|Africa/Dar_es_Salaam","Africa/Khartoum|Africa/Djibouti","Africa/Khartoum|Africa/Juba","Africa/Khartoum|Africa/Kampala","Africa/Khartoum|Africa/Mogadishu","Africa/Khartoum|Africa/Nairobi","Africa/Khartoum|Indian/Antananarivo","Africa/Khartoum|Indian/Comoro","Africa/Khartoum|Indian/Mayotte","Africa/Lagos|Africa/Bangui","Africa/Lagos|Africa/Brazzaville","Africa/Lagos|Africa/Douala","Africa/Lagos|Africa/Kinshasa","Africa/Lagos|Africa/Libreville","Africa/Lagos|Africa/Luanda","Africa/Lagos|Africa/Malabo","Africa/Lagos|Africa/Ndjamena","Africa/Lagos|Africa/Niamey","Africa/Lagos|Africa/Porto-Novo","Africa/Maputo|Africa/Blantyre","Africa/Maputo|Africa/Bujumbura","Africa/Maputo|Africa/Gaborone","Africa/Maputo|Africa/Harare","Africa/Maputo|Africa/Kigali","Africa/Maputo|Africa/Lubumbashi","Africa/Maputo|Africa/Lusaka","Africa/Tripoli|Libya","America/Adak|America/Atka","America/Adak|US/Aleutian","America/Anchorage|America/Juneau","America/Anchorage|America/Nome","America/Anchorage|America/Sitka","America/Anchorage|America/Yakutat","America/Anchorage|US/Alaska","America/Campo_Grande|America/Cuiaba","America/Chicago|America/Indiana/Knox","America/Chicago|America/Indiana/Tell_City","America/Chicago|America/Knox_IN","America/Chicago|America/Matamoros","America/Chicago|America/Menominee","America/Chicago|America/North_Dakota/Beulah","America/Chicago|America/North_Dakota/Center","America/Chicago|America/North_Dakota/New_Salem","America/Chicago|America/Rainy_River","America/Chicago|America/Rankin_Inlet","America/Chicago|America/Resolute","America/Chicago|America/Winnipeg","America/Chicago|CST6CDT","America/Chicago|Canada/Central","America/Chicago|US/Central","America/Chicago|US/Indiana-Starke","America/Chihuahua|America/Mazatlan","America/Chihuahua|Mexico/BajaSur","America/Denver|America/Boise","America/Denver|America/Cambridge_Bay","America/Denver|America/Edmonton","America/Denver|America/Inuvik","America/Denver|America/Ojinaga","America/Denver|America/Shiprock","America/Denver|America/Yellowknife","America/Denver|Canada/Mountain","America/Denver|MST7MDT","America/Denver|Navajo","America/Denver|US/Mountain","America/Fortaleza|America/Argentina/Buenos_Aires","America/Fortaleza|America/Argentina/Catamarca","America/Fortaleza|America/Argentina/ComodRivadavia","America/Fortaleza|America/Argentina/Cordoba","America/Fortaleza|America/Argentina/Jujuy","America/Fortaleza|America/Argentina/La_Rioja","America/Fortaleza|America/Argentina/Mendoza","America/Fortaleza|America/Argentina/Rio_Gallegos","America/Fortaleza|America/Argentina/Salta","America/Fortaleza|America/Argentina/San_Juan","America/Fortaleza|America/Argentina/San_Luis","America/Fortaleza|America/Argentina/Tucuman","America/Fortaleza|America/Argentina/Ushuaia","America/Fortaleza|America/Belem","America/Fortaleza|America/Buenos_Aires","America/Fortaleza|America/Catamarca","America/Fortaleza|America/Cayenne","America/Fortaleza|America/Cordoba","America/Fortaleza|America/Jujuy","America/Fortaleza|America/Maceio","America/Fortaleza|America/Mendoza","America/Fortaleza|America/Paramaribo","America/Fortaleza|America/Recife","America/Fortaleza|America/Rosario","America/Fortaleza|America/Santarem","America/Fortaleza|Antarctica/Rothera","America/Fortaleza|Atlantic/Stanley","America/Fortaleza|Etc/GMT+3","America/Halifax|America/Glace_Bay","America/Halifax|America/Goose_Bay","America/Halifax|America/Moncton","America/Halifax|America/Thule","America/Halifax|Atlantic/Bermuda","America/Halifax|Canada/Atlantic","America/Havana|Cuba","America/La_Paz|America/Boa_Vista","America/La_Paz|America/Guyana","America/La_Paz|America/Manaus","America/La_Paz|America/Porto_Velho","America/La_Paz|Brazil/West","America/La_Paz|Etc/GMT+4","America/Lima|America/Bogota","America/Lima|America/Guayaquil","America/Lima|Etc/GMT+5","America/Los_Angeles|America/Dawson","America/Los_Angeles|America/Ensenada","America/Los_Angeles|America/Santa_Isabel","America/Los_Angeles|America/Tijuana","America/Los_Angeles|America/Vancouver","America/Los_Angeles|America/Whitehorse","America/Los_Angeles|Canada/Pacific","America/Los_Angeles|Canada/Yukon","America/Los_Angeles|Mexico/BajaNorte","America/Los_Angeles|PST8PDT","America/Los_Angeles|US/Pacific","America/Los_Angeles|US/Pacific-New","America/Managua|America/Belize","America/Managua|America/Costa_Rica","America/Managua|America/El_Salvador","America/Managua|America/Guatemala","America/Managua|America/Regina","America/Managua|America/Swift_Current","America/Managua|America/Tegucigalpa","America/Managua|Canada/East-Saskatchewan","America/Managua|Canada/Saskatchewan","America/Mexico_City|America/Bahia_Banderas","America/Mexico_City|America/Merida","America/Mexico_City|America/Monterrey","America/Mexico_City|Mexico/General","America/New_York|America/Detroit","America/New_York|America/Fort_Wayne","America/New_York|America/Indiana/Indianapolis","America/New_York|America/Indiana/Marengo","America/New_York|America/Indiana/Petersburg","America/New_York|America/Indiana/Vevay","America/New_York|America/Indiana/Vincennes","America/New_York|America/Indiana/Winamac","America/New_York|America/Indianapolis","America/New_York|America/Iqaluit","America/New_York|America/Kentucky/Louisville","America/New_York|America/Kentucky/Monticello","America/New_York|America/Louisville","America/New_York|America/Montreal","America/New_York|America/Nassau","America/New_York|America/Nipigon","America/New_York|America/Pangnirtung","America/New_York|America/Thunder_Bay","America/New_York|America/Toronto","America/New_York|Canada/Eastern","America/New_York|EST5EDT","America/New_York|US/East-Indiana","America/New_York|US/Eastern","America/New_York|US/Michigan","America/Noronha|Atlantic/South_Georgia","America/Noronha|Brazil/DeNoronha","America/Noronha|Etc/GMT+2","America/Panama|America/Atikokan","America/Panama|America/Cayman","America/Panama|America/Coral_Harbour","America/Panama|America/Jamaica","America/Panama|EST","America/Panama|Jamaica","America/Phoenix|America/Creston","America/Phoenix|America/Dawson_Creek","America/Phoenix|America/Hermosillo","America/Phoenix|MST","America/Phoenix|US/Arizona","America/Rio_Branco|America/Eirunepe","America/Rio_Branco|America/Porto_Acre","America/Rio_Branco|Brazil/Acre","America/Santiago|Chile/Continental","America/Santo_Domingo|America/Anguilla","America/Santo_Domingo|America/Antigua","America/Santo_Domingo|America/Aruba","America/Santo_Domingo|America/Barbados","America/Santo_Domingo|America/Blanc-Sablon","America/Santo_Domingo|America/Curacao","America/Santo_Domingo|America/Dominica","America/Santo_Domingo|America/Grenada","America/Santo_Domingo|America/Guadeloupe","America/Santo_Domingo|America/Kralendijk","America/Santo_Domingo|America/Lower_Princes","America/Santo_Domingo|America/Marigot","America/Santo_Domingo|America/Martinique","America/Santo_Domingo|America/Montserrat","America/Santo_Domingo|America/Port_of_Spain","America/Santo_Domingo|America/Puerto_Rico","America/Santo_Domingo|America/St_Barthelemy","America/Santo_Domingo|America/St_Kitts","America/Santo_Domingo|America/St_Lucia","America/Santo_Domingo|America/St_Thomas","America/Santo_Domingo|America/St_Vincent","America/Santo_Domingo|America/Tortola","America/Santo_Domingo|America/Virgin","America/Sao_Paulo|Brazil/East","America/St_Johns|Canada/Newfoundland","Antarctica/Palmer|America/Punta_Arenas","Asia/Baghdad|Antarctica/Syowa","Asia/Baghdad|Asia/Aden","Asia/Baghdad|Asia/Bahrain","Asia/Baghdad|Asia/Kuwait","Asia/Baghdad|Asia/Qatar","Asia/Baghdad|Asia/Riyadh","Asia/Baghdad|Etc/GMT-3","Asia/Baghdad|Europe/Minsk","Asia/Bangkok|Asia/Ho_Chi_Minh","Asia/Bangkok|Asia/Novokuznetsk","Asia/Bangkok|Asia/Phnom_Penh","Asia/Bangkok|Asia/Saigon","Asia/Bangkok|Asia/Vientiane","Asia/Bangkok|Etc/GMT-7","Asia/Bangkok|Indian/Christmas","Asia/Dhaka|Antarctica/Vostok","Asia/Dhaka|Asia/Almaty","Asia/Dhaka|Asia/Bishkek","Asia/Dhaka|Asia/Dacca","Asia/Dhaka|Asia/Kashgar","Asia/Dhaka|Asia/Qyzylorda","Asia/Dhaka|Asia/Thimbu","Asia/Dhaka|Asia/Thimphu","Asia/Dhaka|Asia/Urumqi","Asia/Dhaka|Etc/GMT-6","Asia/Dhaka|Indian/Chagos","Asia/Dili|Etc/GMT-9","Asia/Dili|Pacific/Palau","Asia/Dubai|Asia/Muscat","Asia/Dubai|Asia/Tbilisi","Asia/Dubai|Asia/Yerevan","Asia/Dubai|Etc/GMT-4","Asia/Dubai|Europe/Samara","Asia/Dubai|Indian/Mahe","Asia/Dubai|Indian/Mauritius","Asia/Dubai|Indian/Reunion","Asia/Gaza|Asia/Hebron","Asia/Hong_Kong|Hongkong","Asia/Jakarta|Asia/Pontianak","Asia/Jerusalem|Asia/Tel_Aviv","Asia/Jerusalem|Israel","Asia/Kamchatka|Asia/Anadyr","Asia/Kamchatka|Etc/GMT-12","Asia/Kamchatka|Kwajalein","Asia/Kamchatka|Pacific/Funafuti","Asia/Kamchatka|Pacific/Kwajalein","Asia/Kamchatka|Pacific/Majuro","Asia/Kamchatka|Pacific/Nauru","Asia/Kamchatka|Pacific/Tarawa","Asia/Kamchatka|Pacific/Wake","Asia/Kamchatka|Pacific/Wallis","Asia/Kathmandu|Asia/Katmandu","Asia/Kolkata|Asia/Calcutta","Asia/Makassar|Asia/Ujung_Pandang","Asia/Manila|Asia/Brunei","Asia/Manila|Asia/Kuala_Lumpur","Asia/Manila|Asia/Kuching","Asia/Manila|Asia/Singapore","Asia/Manila|Etc/GMT-8","Asia/Manila|Singapore","Asia/Rangoon|Asia/Yangon","Asia/Rangoon|Indian/Cocos","Asia/Seoul|ROK","Asia/Shanghai|Asia/Chongqing","Asia/Shanghai|Asia/Chungking","Asia/Shanghai|Asia/Harbin","Asia/Shanghai|Asia/Macao","Asia/Shanghai|Asia/Macau","Asia/Shanghai|Asia/Taipei","Asia/Shanghai|PRC","Asia/Shanghai|ROC","Asia/Tashkent|Antarctica/Mawson","Asia/Tashkent|Asia/Aqtau","Asia/Tashkent|Asia/Aqtobe","Asia/Tashkent|Asia/Ashgabat","Asia/Tashkent|Asia/Ashkhabad","Asia/Tashkent|Asia/Atyrau","Asia/Tashkent|Asia/Dushanbe","Asia/Tashkent|Asia/Oral","Asia/Tashkent|Asia/Samarkand","Asia/Tashkent|Etc/GMT-5","Asia/Tashkent|Indian/Kerguelen","Asia/Tashkent|Indian/Maldives","Asia/Tehran|Iran","Asia/Tokyo|Japan","Asia/Ulaanbaatar|Asia/Choibalsan","Asia/Ulaanbaatar|Asia/Ulan_Bator","Asia/Vladivostok|Asia/Ust-Nera","Asia/Yakutsk|Asia/Khandyga","Atlantic/Azores|America/Scoresbysund","Atlantic/Cape_Verde|Etc/GMT+1","Australia/Adelaide|Australia/Broken_Hill","Australia/Adelaide|Australia/South","Australia/Adelaide|Australia/Yancowinna","Australia/Brisbane|Australia/Lindeman","Australia/Brisbane|Australia/Queensland","Australia/Darwin|Australia/North","Australia/Lord_Howe|Australia/LHI","Australia/Perth|Australia/West","Australia/Sydney|Australia/ACT","Australia/Sydney|Australia/Canberra","Australia/Sydney|Australia/Currie","Australia/Sydney|Australia/Hobart","Australia/Sydney|Australia/Melbourne","Australia/Sydney|Australia/NSW","Australia/Sydney|Australia/Tasmania","Australia/Sydney|Australia/Victoria","Etc/UCT|UCT","Etc/UTC|Etc/Universal","Etc/UTC|Etc/Zulu","Etc/UTC|UTC","Etc/UTC|Universal","Etc/UTC|Zulu","Europe/Astrakhan|Europe/Ulyanovsk","Europe/Athens|Asia/Nicosia","Europe/Athens|EET","Europe/Athens|Europe/Bucharest","Europe/Athens|Europe/Helsinki","Europe/Athens|Europe/Kiev","Europe/Athens|Europe/Mariehamn","Europe/Athens|Europe/Nicosia","Europe/Athens|Europe/Riga","Europe/Athens|Europe/Sofia","Europe/Athens|Europe/Tallinn","Europe/Athens|Europe/Uzhgorod","Europe/Athens|Europe/Vilnius","Europe/Athens|Europe/Zaporozhye","Europe/Chisinau|Europe/Tiraspol","Europe/Dublin|Eire","Europe/Istanbul|Asia/Istanbul","Europe/Istanbul|Turkey","Europe/Lisbon|Atlantic/Canary","Europe/Lisbon|Atlantic/Faeroe","Europe/Lisbon|Atlantic/Faroe","Europe/Lisbon|Atlantic/Madeira","Europe/Lisbon|Portugal","Europe/Lisbon|WET","Europe/London|Europe/Belfast","Europe/London|Europe/Guernsey","Europe/London|Europe/Isle_of_Man","Europe/London|Europe/Jersey","Europe/London|GB","Europe/London|GB-Eire","Europe/Moscow|W-SU","Europe/Paris|Africa/Ceuta","Europe/Paris|Arctic/Longyearbyen","Europe/Paris|Atlantic/Jan_Mayen","Europe/Paris|CET","Europe/Paris|Europe/Amsterdam","Europe/Paris|Europe/Andorra","Europe/Paris|Europe/Belgrade","Europe/Paris|Europe/Berlin","Europe/Paris|Europe/Bratislava","Europe/Paris|Europe/Brussels","Europe/Paris|Europe/Budapest","Europe/Paris|Europe/Busingen","Europe/Paris|Europe/Copenhagen","Europe/Paris|Europe/Gibraltar","Europe/Paris|Europe/Ljubljana","Europe/Paris|Europe/Luxembourg","Europe/Paris|Europe/Madrid","Europe/Paris|Europe/Malta","Europe/Paris|Europe/Monaco","Europe/Paris|Europe/Oslo","Europe/Paris|Europe/Podgorica","Europe/Paris|Europe/Prague","Europe/Paris|Europe/Rome","Europe/Paris|Europe/San_Marino","Europe/Paris|Europe/Sarajevo","Europe/Paris|Europe/Skopje","Europe/Paris|Europe/Stockholm","Europe/Paris|Europe/Tirane","Europe/Paris|Europe/Vaduz","Europe/Paris|Europe/Vatican","Europe/Paris|Europe/Vienna","Europe/Paris|Europe/Warsaw","Europe/Paris|Europe/Zagreb","Europe/Paris|Europe/Zurich","Europe/Paris|Poland","Europe/Volgograd|Europe/Kirov","Pacific/Auckland|Antarctica/McMurdo","Pacific/Auckland|Antarctica/South_Pole","Pacific/Auckland|NZ","Pacific/Chatham|NZ-CHAT","Pacific/Easter|Chile/EasterIsland","Pacific/Fakaofo|Etc/GMT-13","Pacific/Fakaofo|Pacific/Enderbury","Pacific/Galapagos|Etc/GMT+6","Pacific/Gambier|Etc/GMT+9","Pacific/Guadalcanal|Antarctica/Macquarie","Pacific/Guadalcanal|Etc/GMT-11","Pacific/Guadalcanal|Pacific/Efate","Pacific/Guadalcanal|Pacific/Kosrae","Pacific/Guadalcanal|Pacific/Noumea","Pacific/Guadalcanal|Pacific/Pohnpei","Pacific/Guadalcanal|Pacific/Ponape","Pacific/Guam|Pacific/Saipan","Pacific/Honolulu|HST","Pacific/Honolulu|Pacific/Johnston","Pacific/Honolulu|US/Hawaii","Pacific/Kiritimati|Etc/GMT-14","Pacific/Niue|Etc/GMT+11","Pacific/Pago_Pago|Pacific/Midway","Pacific/Pago_Pago|Pacific/Samoa","Pacific/Pago_Pago|US/Samoa","Pacific/Pitcairn|Etc/GMT+8","Pacific/Port_Moresby|Antarctica/DumontDUrville","Pacific/Port_Moresby|Etc/GMT-10","Pacific/Port_Moresby|Pacific/Chuuk","Pacific/Port_Moresby|Pacific/Truk","Pacific/Port_Moresby|Pacific/Yap","Pacific/Tahiti|Etc/GMT+10","Pacific/Tahiti|Pacific/Rarotonga"]}),e}),function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n||e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){(function(n,r){function i(){for(var e=(new s).getTime();h.length&&(new s).getTime()-e<100;)h.shift()();f=h.length?l(i,0):null}n.stdout=e("browser-stdout")();var o=e("./lib/mocha"),a=new o({reporter:"html"}),s=r.Date,l=r.setTimeout,u=(r.setInterval,r.clearTimeout,r.clearInterval,[]),c=r.onerror;n.removeListener=function(e,t){if("uncaughtException"==e){r.onerror=c||function(){};var n=o.utils.indexOf(u,t);-1!=n&&u.splice(n,1)}},n.on=function(e,t){"uncaughtException"==e&&(r.onerror=function(e,n,r){return t(new Error(e+" ("+n+":"+r+")")),!a.allowUncaught},u.push(t))},a.suite.removeAllListeners("pre-require");var f,h=[];o.Runner.immediately=function(e){h.push(e),f||(f=l(i,0))},a.throwError=function(e){throw o.utils.forEach(u,function(t){t(e)}),e},a.ui=function(e){return o.prototype.ui.call(this,e),this.suite.emit("pre-require",r,null,this),this},a.setup=function(e){"string"==typeof e&&(e={ui:e});for(var t in e)this[t](e[t]);return this},a.run=function(e){var t=a.options;a.globals("location");var n=o.utils.parseQuery(r.location.search||"");return n.grep&&a.grep(new RegExp(n.grep)),n.fgrep&&a.grep(n.fgrep),n.invert&&a.invert(),o.prototype.run.call(a,function(n){var i=r.document;i&&i.getElementById("mocha")&&!0!==t.noHighlighting&&o.utils.highlightTags("code"),e&&e(n)})},o.process=n,r.Mocha=o,r.mocha=a,t.exports=r}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/mocha":14,_process:58,"browser-stdout":42}],2:[function(e,t,n){t.exports=function(e){return function(){}}},{}],3:[function(e,t,n){function r(e){return"[object Array]"===o.call(e)}function i(){}n.EventEmitter=i;var o=Object.prototype.toString;i.prototype.on=function(e,t){return this.$events||(this.$events={}),this.$events[e]?r(this.$events[e])?this.$events[e].push(t):this.$events[e]=[this.$events[e],t]:this.$events[e]=t,this},i.prototype.addListener=i.prototype.on,i.prototype.once=function(e,t){function n(){r.removeListener(e,n),t.apply(this,arguments)}var r=this;return n.listener=t,this.on(e,n),this},i.prototype.removeListener=function(e,t){if(this.$events&&this.$events[e]){var n=this.$events[e];if(r(n)){for(var i=-1,o=0,a=n.length;o<a;o++)if(n[o]===t||n[o].listener&&n[o].listener===t){i=o;break}if(i<0)return this;n.splice(i,1),n.length||delete this.$events[e]}else(n===t||n.listener&&n.listener===t)&&delete this.$events[e]}return this},i.prototype.removeAllListeners=function(e){return void 0===e?(this.$events={},this):(this.$events&&this.$events[e]&&(this.$events[e]=null),this)},i.prototype.listeners=function(e){return this.$events||(this.$events={}),this.$events[e]||(this.$events[e]=[]),r(this.$events[e])||(this.$events[e]=[this.$events[e]]),this.$events[e]},i.prototype.emit=function(e){if(!this.$events)return!1;var t=this.$events[e];if(!t)return!1;var n=Array.prototype.slice.call(arguments,1);if("function"==typeof t)t.apply(this,n);else{if(!r(t))return!1;for(var i=t.slice(),o=0,a=i.length;o<a;o++)i[o].apply(this,n)}return!0}},{}],4:[function(e,t,n){function r(){this.percent=0,this.size(0),this.fontSize(11),this.font("helvetica, arial, sans-serif")}t.exports=r,r.prototype.size=function(e){return this._size=e,this},r.prototype.text=function(e){return this._text=e,this},r.prototype.fontSize=function(e){return this._fontSize=e,this},r.prototype.font=function(e){return this._font=e,this},r.prototype.update=function(e){return this.percent=e,this},r.prototype.draw=function(e){try{var t=Math.min(this.percent,100),n=this._size,r=n/2,i=r,o=r,a=r-1,s=this._fontSize;e.font=s+"px "+this._font;var l=2*Math.PI*(t/100);e.clearRect(0,0,n,n),e.strokeStyle="#9f9f9f",e.beginPath(),e.arc(i,o,a,0,l,!1),e.stroke(),e.strokeStyle="#eee",e.beginPath(),e.arc(i,o,a-1,0,l,!0),e.stroke();var u=this._text||(0|t)+"%",c=e.measureText(u).width;e.fillText(u,i-c/2+1,o+s/2-1)}catch(e){}return this}},{}],5:[function(e,t,n){(function(e){n.isatty=function(){return!0},n.getWindowSize=function(){return"innerHeight"in e?[e.innerHeight,e.innerWidth]:[640,480]}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(e,t,n){function r(){}t.exports=r,r.prototype.runnable=function(e){return arguments.length?(this.test=this._runnable=e,this):this._runnable},r.prototype.timeout=function(e){return arguments.length?(this.runnable().timeout(e),this):this.runnable().timeout()},r.prototype.enableTimeouts=function(e){return this.runnable().enableTimeouts(e),this},r.prototype.slow=function(e){return this.runnable().slow(e),this},r.prototype.skip=function(){return this.runnable().skip(),this},r.prototype.retries=function(e){return arguments.length?(this.runnable().retries(e),this):this.runnable().retries()},r.prototype.inspect=function(){return JSON.stringify(this,function(e,t){return"runnable"===e||"test"===e?void 0:t},2)}},{}],7:[function(e,t,n){function r(e,t){i.call(this,e,t),
this.type="hook"}var i=e("./runnable"),o=e("./utils").inherits;t.exports=r,o(r,i),r.prototype.error=function(e){if(!arguments.length)return e=this._error,this._error=null,e;this._error=e}},{"./runnable":35,"./utils":39}],8:[function(e,t,n){var r=e("../suite"),i=e("../test"),o=e("escape-string-regexp");t.exports=function(t){var n=[t];t.on("pre-require",function(a,s,l){var u=e("./common")(n,a);a.before=u.before,a.after=u.after,a.beforeEach=u.beforeEach,a.afterEach=u.afterEach,a.run=l.options.delay&&u.runWithSuite(t),a.describe=a.context=function(e,t){var i=r.create(n[0],e);return i.file=s,n.unshift(i),t.call(i),n.shift(),i},a.xdescribe=a.xcontext=a.describe.skip=function(e,t){var i=r.create(n[0],e);i.pending=!0,n.unshift(i),t.call(i),n.shift()},a.describe.only=function(e,t){var n=a.describe(e,t);return l.grep(n.fullTitle()),n};var c=a.it=a.specify=function(e,t){var r=n[0];r.isPending()&&(t=null);var o=new i(e,t);return o.file=s,r.addTest(o),o};a.it.only=function(e,t){var n=c(e,t),r="^"+o(n.fullTitle())+"$";return l.grep(new RegExp(r)),n},a.xit=a.xspecify=a.it.skip=function(e){a.it(e)},a.it.retries=function(e){a.retries(e)}})}},{"../suite":37,"../test":38,"./common":9,"escape-string-regexp":49}],9:[function(e,t,n){"use strict";t.exports=function(e,t){return{runWithSuite:function(e){return function(){e.run()}},before:function(t,n){e[0].beforeAll(t,n)},after:function(t,n){e[0].afterAll(t,n)},beforeEach:function(t,n){e[0].beforeEach(t,n)},afterEach:function(t,n){e[0].afterEach(t,n)},test:{skip:function(e){t.test(e)},retries:function(e){t.retries(e)}}}}},{}],10:[function(e,t,n){var r=e("../suite"),i=e("../test");t.exports=function(e){function t(e,o){var a;for(var s in e)if("function"==typeof e[s]){var l=e[s];switch(s){case"before":n[0].beforeAll(l);break;case"after":n[0].afterAll(l);break;case"beforeEach":n[0].beforeEach(l);break;case"afterEach":n[0].afterEach(l);break;default:var u=new i(s,l);u.file=o,n[0].addTest(u)}}else a=r.create(n[0],s),n.unshift(a),t(e[s],o),n.shift()}var n=[e];e.on("require",t)}},{"../suite":37,"../test":38}],11:[function(e,t,n){n.bdd=e("./bdd"),n.tdd=e("./tdd"),n.qunit=e("./qunit"),n.exports=e("./exports")},{"./bdd":8,"./exports":10,"./qunit":12,"./tdd":13}],12:[function(e,t,n){var r=e("../suite"),i=e("../test"),o=e("escape-string-regexp");t.exports=function(t){var n=[t];t.on("pre-require",function(a,s,l){var u=e("./common")(n,a);a.before=u.before,a.after=u.after,a.beforeEach=u.beforeEach,a.afterEach=u.afterEach,a.run=l.options.delay&&u.runWithSuite(t),a.suite=function(e){n.length>1&&n.shift();var t=r.create(n[0],e);return t.file=s,n.unshift(t),t},a.suite.only=function(e,t){var n=a.suite(e,t);l.grep(n.fullTitle())},a.test=function(e,t){var r=new i(e,t);return r.file=s,n[0].addTest(r),r},a.test.only=function(e,t){var n=a.test(e,t),r="^"+o(n.fullTitle())+"$";l.grep(new RegExp(r))},a.test.skip=u.test.skip,a.test.retries=u.test.retries})}},{"../suite":37,"../test":38,"./common":9,"escape-string-regexp":49}],13:[function(e,t,n){var r=e("../suite"),i=e("../test"),o=e("escape-string-regexp");t.exports=function(t){var n=[t];t.on("pre-require",function(a,s,l){var u=e("./common")(n,a);a.setup=u.beforeEach,a.teardown=u.afterEach,a.suiteSetup=u.before,a.suiteTeardown=u.after,a.run=l.options.delay&&u.runWithSuite(t),a.suite=function(e,t){var i=r.create(n[0],e);return i.file=s,n.unshift(i),t.call(i),n.shift(),i},a.suite.skip=function(e,t){var i=r.create(n[0],e);i.pending=!0,n.unshift(i),t.call(i),n.shift()},a.suite.only=function(e,t){var n=a.suite(e,t);l.grep(n.fullTitle())},a.test=function(e,t){var r=n[0];r.isPending()&&(t=null);var o=new i(e,t);return o.file=s,r.addTest(o),o},a.test.only=function(e,t){var n=a.test(e,t),r="^"+o(n.fullTitle())+"$";l.grep(new RegExp(r))},a.test.skip=u.test.skip,a.test.retries=u.test.retries})}},{"../suite":37,"../test":38,"./common":9,"escape-string-regexp":49}],14:[function(e,t,n){(function(r,i,o){function a(e){return u.join(o,"../images",e+".png")}function s(e){e=e||{},this.files=[],this.options=e,e.grep&&this.grep(new RegExp(e.grep)),e.fgrep&&this.grep(e.fgrep),this.suite=new n.Suite("",new n.Context),this.ui(e.ui),this.bail(e.bail),this.reporter(e.reporter,e.reporterOptions),void 0!==e.timeout&&null!==e.timeout&&this.timeout(e.timeout),void 0!==e.retries&&null!==e.retries&&this.retries(e.retries),this.useColors(e.useColors),null!==e.enableTimeouts&&this.enableTimeouts(e.enableTimeouts),e.slow&&this.slow(e.slow)}var l=e("escape-string-regexp"),u=e("path"),c=e("./reporters"),f=e("./utils");if(n=t.exports=s,!r.browser){var h=r.cwd();t.paths.push(h,u.join(h,"node_modules"))}n.utils=f,n.interfaces=e("./interfaces"),n.reporters=c,n.Runnable=e("./runnable"),n.Context=e("./context"),n.Runner=e("./runner"),n.Suite=e("./suite"),n.Hook=e("./hook"),n.Test=e("./test"),s.prototype.bail=function(e){return arguments.length||(e=!0),this.suite.bail(e),this},s.prototype.addFile=function(e){return this.files.push(e),this},s.prototype.reporter=function(t,n){if("function"==typeof t)this._reporter=t;else{t=t||"spec";var r;if(c[t]&&(r=c[t]),!r)try{r=e(t)}catch(e){-1!==e.message.indexOf("Cannot find module")?console.warn('"'+t+'" reporter not found'):console.warn('"'+t+'" reporter blew up with error:\n'+e.stack)}if(r||"teamcity"!==t||console.warn("The Teamcity reporter was moved to a package named mocha-teamcity-reporter (https://npmjs.org/package/mocha-teamcity-reporter)."),!r)throw new Error('invalid reporter "'+t+'"');this._reporter=r}return this.options.reporterOptions=n,this},s.prototype.ui=function(t){if(t=t||"bdd",this._ui=n.interfaces[t],!this._ui)try{this._ui=e(t)}catch(e){throw new Error('invalid interface "'+t+'"')}return this._ui=this._ui(this.suite),this.suite.on("pre-require",function(e){n.afterEach=e.afterEach||e.teardown,n.after=e.after||e.suiteTeardown,n.beforeEach=e.beforeEach||e.setup,n.before=e.before||e.suiteSetup,n.describe=e.describe||e.suite,n.it=e.it||e.test,n.setup=e.setup||e.beforeEach,n.suiteSetup=e.suiteSetup||e.before,n.suiteTeardown=e.suiteTeardown||e.after,n.suite=e.suite||e.describe,n.teardown=e.teardown||e.afterEach,n.test=e.test||e.it,n.run=e.run}),this},s.prototype.loadFiles=function(t){var n=this,r=this.suite;this.files.forEach(function(t){t=u.resolve(t),r.emit("pre-require",i,t,n),r.emit("require",e(t),t,n),r.emit("post-require",i,t,n)}),t&&t()},s.prototype._growl=function(t,n){var r=e("growl");t.on("end",function(){var e=n.stats;if(e.failures){var i=e.failures+" of "+t.total+" tests failed";r(i,{name:"mocha",title:"Failed",image:a("error")})}else r(e.passes+" tests passed in "+e.duration+"ms",{name:"mocha",title:"Passed",image:a("ok")})})},s.prototype.grep=function(e){return this.options.grep="string"==typeof e?new RegExp(l(e)):e,this},s.prototype.invert=function(){return this.options.invert=!0,this},s.prototype.ignoreLeaks=function(e){return this.options.ignoreLeaks=Boolean(e),this},s.prototype.checkLeaks=function(){return this.options.ignoreLeaks=!1,this},s.prototype.fullTrace=function(){return this.options.fullStackTrace=!0,this},s.prototype.growl=function(){return this.options.growl=!0,this},s.prototype.globals=function(e){return this.options.globals=(this.options.globals||[]).concat(e),this},s.prototype.useColors=function(e){return void 0!==e&&(this.options.useColors=e),this},s.prototype.useInlineDiffs=function(e){return this.options.useInlineDiffs=void 0!==e&&e,this},s.prototype.timeout=function(e){return this.suite.timeout(e),this},s.prototype.retries=function(e){return this.suite.retries(e),this},s.prototype.slow=function(e){return this.suite.slow(e),this},s.prototype.enableTimeouts=function(e){return this.suite.enableTimeouts(!arguments.length||void 0===e||e),this},s.prototype.asyncOnly=function(){return this.options.asyncOnly=!0,this},s.prototype.noHighlighting=function(){return this.options.noHighlighting=!0,this},s.prototype.allowUncaught=function(){return this.options.allowUncaught=!0,this},s.prototype.delay=function(){return this.options.delay=!0,this},s.prototype.run=function(e){function t(t){a.done?a.done(t,e):e&&e(t)}this.files.length&&this.loadFiles();var r=this.suite,i=this.options;i.files=this.files;var o=new n.Runner(r,i.delay),a=new this._reporter(o,i);return o.ignoreLeaks=!1!==i.ignoreLeaks,o.fullStackTrace=i.fullStackTrace,o.asyncOnly=i.asyncOnly,o.allowUncaught=i.allowUncaught,i.grep&&o.grep(i.grep,i.invert),i.globals&&o.globals(i.globals),i.growl&&this._growl(o,a),void 0!==i.useColors&&(n.reporters.Base.useColors=i.useColors),n.reporters.Base.inlineDiffs=i.useInlineDiffs,o.run(t)}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},"/lib")},{"./context":6,"./hook":7,"./interfaces":11,"./reporters":22,"./runnable":35,"./runner":36,"./suite":37,"./test":38,"./utils":39,_process:58,"escape-string-regexp":49,growl:51,path:43}],15:[function(e,t,n){function r(e){var t=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"y":return n*f;case"days":case"day":case"d":return n*c;case"hours":case"hour":case"h":return n*u;case"minutes":case"minute":case"m":return n*l;case"seconds":case"second":case"s":return n*s;case"ms":return n}}}function i(e){return e>=c?Math.round(e/c)+"d":e>=u?Math.round(e/u)+"h":e>=l?Math.round(e/l)+"m":e>=s?Math.round(e/s)+"s":e+"ms"}function o(e){return a(e,c,"day")||a(e,u,"hour")||a(e,l,"minute")||a(e,s,"second")||e+" ms"}function a(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var s=1e3,l=60*s,u=60*l,c=24*u,f=365.25*c;t.exports=function(e,t){return t=t||{},"string"==typeof e?r(e):t.long?o(e):i(e)}},{}],16:[function(e,t,n){function r(e){this.message=e}t.exports=r},{}],17:[function(e,t,n){(function(r,i){function o(e){var t=this.stats={suites:0,tests:0,passes:0,pending:0,failures:0},n=this.failures=[];e&&(this.runner=e,e.stats=t,e.on("start",function(){t.start=new y}),e.on("suite",function(e){t.suites=t.suites||0,e.root||t.suites++}),e.on("test end",function(){t.tests=t.tests||0,t.tests++}),e.on("pass",function(e){t.passes=t.passes||0,e.duration>e.slow()?e.speed="slow":e.duration>e.slow()/2?e.speed="medium":e.speed="fast",t.passes++}),e.on("fail",function(e,r){t.failures=t.failures||0,t.failures++,e.err=r,n.push(e)}),e.on("end",function(){t.end=new y,t.duration=new y-t.start}),e.on("pending",function(){t.pending++}))}function a(e,t){return e=String(e),Array(t-e.length+1).join(" ")+e}function s(e,t){var n=u(e,"WordsWithSpace",t),r=n.split("\n");if(r.length>4){var i=String(r.length).length;n=r.map(function(e,t){return a(++t,i)+" | "+e}).join("\n")}return n="\n"+w("diff removed","actual")+" "+w("diff added","expected")+"\n\n"+n+"\n",n=n.replace(/^/gm,"      ")}function l(e,t){function n(e){return t&&(e=c(e)),"+"===e[0]?i+f("diff added",e):"-"===e[0]?i+f("diff removed",e):e.match(/\@\@/)?null:e.match(/\\ No newline/)?null:i+e}function r(e){return void 0!==e&&null!==e}var i="      ",o=p.createPatch("string",e.actual,e.expected),a=o.split("\n").splice(4);return"\n      "+f("diff added","+ expected")+" "+f("diff removed","- actual")+"\n\n"+a.map(n).filter(r).join("\n")}function u(e,t,n){var r=n?c(e.actual):e.actual,i=n?c(e.expected):e.expected;return p["diff"+t](r,i).map(function(e){return e.added?f("diff added",e.value):e.removed?f("diff removed",e.value):e.value}).join("")}function c(e){return e.replace(/\t/g,"<tab>").replace(/\r/g,"<CR>").replace(/\n/g,"<LF>\n")}function f(e,t){return t.split("\n").map(function(t){return w(e,t)}).join("\n")}function h(e,t){return x.call(e)===x.call(t)}var d=e("tty"),p=e("diff"),g=e("../ms"),m=e("../utils"),v=r.browser?null:e("supports-color");n=t.exports=o;var y=i.Date,b=(i.setTimeout,i.setInterval,i.clearTimeout,i.clearInterval,d.isatty(1)&&d.isatty(2));n.useColors=!r.browser&&(v||void 0!==r.env.MOCHA_COLORS),n.inlineDiffs=!1,n.colors={pass:90,fail:31,"bright pass":92,"bright fail":91,"bright yellow":93,pending:36,suite:0,"error title":0,"error message":31,"error stack":90,checkmark:32,fast:90,medium:33,slow:31,green:32,light:90,"diff gutter":90,"diff added":32,"diff removed":31},n.symbols={ok:"âœ“",err:"âœ–",dot:"â€¤"},"win32"===r.platform&&(n.symbols.ok="âˆš",n.symbols.err="Ã—",n.symbols.dot=".");var w=n.color=function(e,t){return n.useColors?"["+n.colors[e]+"m"+t+"[0m":String(t)};n.window={width:75},b&&(n.window.width=r.stdout.getWindowSize?r.stdout.getWindowSize(1)[0]:d.getWindowSize()[1]),n.cursor={hide:function(){b&&r.stdout.write("[?25l")},show:function(){b&&r.stdout.write("[?25h")},deleteLine:function(){b&&r.stdout.write("[2K")},beginningOfLine:function(){b&&r.stdout.write("[0G")},CR:function(){b?(n.cursor.deleteLine(),n.cursor.beginningOfLine()):r.stdout.write("\r")}},n.list=function(e){console.log(),e.forEach(function(e,t){var r,i,o=w("error title","  %s) %s:\n")+w("error message","     %s")+w("error stack","\n%s\n"),a=e.err;i=a.message&&"function"==typeof a.message.toString?a.message+"":"function"==typeof a.inspect?a.inspect()+"":"";var u=a.stack||i,c=u.indexOf(i),f=a.actual,d=a.expected,p=!0;if(-1===c?r=i:(c+=i.length,r=u.slice(0,c),u=u.slice(c+1)),a.uncaught&&(r="Uncaught "+r),!1!==a.showDiff&&h(f,d)&&void 0!==d){p=!1,m.isString(f)&&m.isString(d)||(a.actual=f=m.stringify(f),a.expected=d=m.stringify(d)),o=w("error title","  %s) %s:\n%s")+w("error stack","\n%s\n");var g=i.match(/^([^:]+): expected/);r="\n      "+w("error message",g?g[1]:r),n.inlineDiffs?r+=s(a,p):r+=l(a,p)}u=u.replace(/^/gm,"  "),console.log(o,t+1,e.fullTitle(),r,u)})},o.prototype.epilogue=function(){var e,t=this.stats;console.log(),e=w("bright pass"," ")+w("green"," %d passing")+w("light"," (%s)"),console.log(e,t.passes||0,g(t.duration)),t.pending&&(e=w("pending"," ")+w("pending"," %d pending"),console.log(e,t.pending)),t.failures&&(e=w("fail","  %d failing"),console.log(e,t.failures),o.list(this.failures),console.log()),console.log()};var x=Object.prototype.toString}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../ms":15,"../utils":39,_process:58,diff:48,"supports-color":43,tty:5}],18:[function(e,t,n){function r(e){function t(){return Array(n).join("  ")}i.call(this,e);var n=2;e.on("suite",function(e){e.root||(++n,console.log('%s<section class="suite">',t()),++n,console.log("%s<h1>%s</h1>",t(),o.escape(e.title)),console.log("%s<dl>",t()))}),e.on("suite end",function(e){e.root||(console.log("%s</dl>",t()),--n,console.log("%s</section>",t()),--n)}),e.on("pass",function(e){console.log("%s  <dt>%s</dt>",t(),o.escape(e.title));var n=o.escape(o.clean(e.body));console.log("%s  <dd><pre><code>%s</code></pre></dd>",t(),n)}),e.on("fail",function(e,n){console.log('%s  <dt class="error">%s</dt>',t(),o.escape(e.title));var r=o.escape(o.clean(e.fn.body));console.log('%s  <dd class="error"><pre><code>%s</code></pre></dd>',t(),r),console.log('%s  <dd class="error">%s</dd>',t(),o.escape(n))})}var i=e("./base"),o=e("../utils");t.exports=r},{"../utils":39,"./base":17}],19:[function(e,t,n){(function(r){function i(e){o.call(this,e);var t=this,n=.75*o.window.width|0,i=-1;e.on("start",function(){r.stdout.write("\n")}),e.on("pending",function(){++i%n==0&&r.stdout.write("\n  "),r.stdout.write(s("pending",o.symbols.dot))}),e.on("pass",function(e){++i%n==0&&r.stdout.write("\n  "),"slow"===e.speed?r.stdout.write(s("bright yellow",o.symbols.dot)):r.stdout.write(s(e.speed,o.symbols.dot))}),e.on("fail",function(){++i%n==0&&r.stdout.write("\n  "),r.stdout.write(s("fail",o.symbols.dot))}),e.on("end",function(){console.log(),t.epilogue()})}var o=e("./base"),a=e("../utils").inherits,s=o.color;n=t.exports=i,a(i,o)}).call(this,e("_process"))},{"../utils":39,"./base":17,_process:58}],20:[function(e,t,n){(function(r,i){function o(t){var n=e("jade"),o=u(i,"/templates/coverage.jade"),c=l(o,"utf8"),f=n.compile(c,{filename:o}),h=this;s.call(this,t,!1),t.on("end",function(){r.stdout.write(f({cov:h.cov,coverageClass:a}))})}function a(e){return e>=75?"high":e>=50?"medium":e>=25?"low":"terrible"}var s=e("./json-cov"),l=e("fs").readFileSync,u=e("path").join;n=t.exports=o}).call(this,e("_process"),"/lib/reporters")},{"./json-cov":23,_process:58,fs:43,jade:43,path:43}],21:[function(e,t,n){(function(r){function i(e){function t(e){_[0]&&_[0].appendChild(e)}function n(){var e=d.tests/this.total*100|0;r&&r.update(e).draw(i);var t=new v-d.start;c(w,d.passes),c(S,d.failures),c(C,(t/1e3).toFixed(2))}h.call(this,e);var r,i,o=this,d=this.stats,g=s(y),b=g.getElementsByTagName("li"),w=b[1].getElementsByTagName("em")[0],x=b[1].getElementsByTagName("a")[0],S=b[2].getElementsByTagName("em")[0],$=b[2].getElementsByTagName("a")[0],C=b[3].getElementsByTagName("em")[0],A=g.getElementsByTagName("canvas")[0],k=s('<ul id="mocha-report"></ul>'),_=[k],T=document.getElementById("mocha");if(A.getContext){var E=window.devicePixelRatio||1;A.style.width=A.width,A.style.height=A.height,A.width*=E,A.height*=E,i=A.getContext("2d"),i.scale(E,E),r=new p}if(!T)return a("#mocha div missing, add it to your document");f(x,"click",function(e){e.preventDefault(),u();var t=/pass/.test(k.className)?"":" pass";k.className=k.className.replace(/fail|pass/g,"")+t,k.className.trim()&&l("test pass")}),f($,"click",function(e){e.preventDefault(),u();var t=/fail/.test(k.className)?"":" fail";k.className=k.className.replace(/fail|pass/g,"")+t,k.className.trim()&&l("test fail")}),T.appendChild(g),T.appendChild(k),r&&r.size(40),e.on("suite",function(e){if(!e.root){var t=o.suiteURL(e),n=s('<li class="suite"><h1><a href="%s">%s</a></h1></li>',t,m(e.title));_[0].appendChild(n),_.unshift(document.createElement("ul")),n.appendChild(_[0])}}),e.on("suite end",function(e){e.root||_.shift()}),e.on("pass",function(e){var r=o.testURL(e),i=s('<li class="test pass %e"><h2>%e<span class="duration">%ems</span> <a href="%s" class="replay">â€£</a></h2></li>',e.speed,e.title,e.duration,r);o.addCodeToggle(i,e.body),t(i),n()}),e.on("fail",function(e){var r,i=s('<li class="test fail"><h2>%e <a href="%e" class="replay">â€£</a></h2></li>',e.title,o.testURL(e)),a=e.err.toString();if("[object Error]"===a&&(a=e.err.message),e.err.stack){var l=e.err.stack.indexOf(e.err.message);r=-1===l?e.err.stack:e.err.stack.substr(e.err.message.length+l)}else e.err.sourceURL&&void 0!==e.err.line&&(r="\n("+e.err.sourceURL+":"+e.err.line+")");r=r||"",e.err.htmlMessage&&r?i.appendChild(s('<div class="html-error">%s\n<pre class="error">%e</pre></div>',e.err.htmlMessage,r)):e.err.htmlMessage?i.appendChild(s('<div class="html-error">%s</div>',e.err.htmlMessage)):i.appendChild(s('<pre class="error">%e%e</pre>',a,r)),o.addCodeToggle(i,e.body),t(i),n()}),e.on("pending",function(e){t(s('<li class="test pass pending"><h2>%e</h2></li>',e.title)),n()})}function o(e){var t=window.location.search;return t&&(t=t.replace(/[?&]grep=[^&\s]*/g,"").replace(/^&/,"?")),window.location.pathname+(t?t+"&":"?")+"grep="+encodeURIComponent(g(e))}function a(e){document.body.appendChild(s('<div id="mocha-error">%s</div>',e))}function s(e){var t=arguments,n=document.createElement("div"),r=1;return n.innerHTML=e.replace(/%([se])/g,function(e,n){switch(n){case"s":return String(t[r++]);case"e":return m(t[r++])}}),n.firstChild}function l(e){for(var t=document.getElementsByClassName("suite"),n=0;n<t.length;n++){t[n].getElementsByClassName(e).length||(t[n].className+=" hidden")}}function u(){for(var e=document.getElementsByClassName("suite hidden"),t=0;t<e.length;++t)e[t].className=e[t].className.replace("suite hidden","suite")}function c(e,t){e.textContent?e.textContent=t:e.innerText=t}function f(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}var h=e("./base"),d=e("../utils"),p=e("../browser/progress"),g=e("escape-string-regexp"),m=d.escape,v=r.Date;r.setTimeout,r.setInterval,r.clearTimeout,r.clearInterval;n=t.exports=i;var y='<ul id="mocha-stats"><li class="progress"><canvas width="40" height="40"></canvas></li><li class="passes"><a href="javascript:void(0);">passes:</a> <em>0</em></li><li class="failures"><a href="javascript:void(0);">failures:</a> <em>0</em></li><li class="duration">duration: <em>0</em>s</li></ul>';i.prototype.suiteURL=function(e){return o(e.fullTitle())},i.prototype.testURL=function(e){return o(e.fullTitle())},i.prototype.addCodeToggle=function(e,t){f(e.getElementsByTagName("h2")[0],"click",function(){n.style.display="none"===n.style.display?"block":"none"});var n=s("<pre><code>%e</code></pre>",d.clean(t));e.appendChild(n),n.style.display="none"}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../browser/progress":4,"../utils":39,"./base":17,"escape-string-regexp":49}],22:[function(e,t,n){n.Base=n.base=e("./base"),n.Dot=n.dot=e("./dot"),n.Doc=n.doc=e("./doc"),n.TAP=n.tap=e("./tap"),n.JSON=n.json=e("./json"),n.HTML=n.html=e("./html"),n.List=n.list=e("./list"),n.Min=n.min=e("./min"),n.Spec=n.spec=e("./spec"),n.Nyan=n.nyan=e("./nyan"),n.XUnit=n.xunit=e("./xunit"),n.Markdown=n.markdown=e("./markdown"),n.Progress=n.progress=e("./progress"),n.Landing=n.landing=e("./landing"),n.JSONCov=n["json-cov"]=e("./json-cov"),n.HTMLCov=n["html-cov"]=e("./html-cov"),n.JSONStream=n["json-stream"]=e("./json-stream")},{"./base":17,"./doc":18,"./dot":19,"./html":21,"./html-cov":20,"./json":25,"./json-cov":23,"./json-stream":24,"./landing":26,"./list":27,"./markdown":28,"./min":29,"./nyan":30,"./progress":31,"./spec":32,"./tap":33,"./xunit":34}],23:[function(e,t,n){(function(r,i){function o(e,t){u.call(this,e),t=1===arguments.length||t;var n=this,o=[],s=[],c=[];e.on("test end",function(e){o.push(e)}),e.on("pass",function(e){c.push(e)}),e.on("fail",function(e){s.push(e)}),e.on("end",function(){var e=i._$jscoverage||{},u=n.cov=a(e);u.stats=n.stats,u.tests=o.map(l),u.failures=s.map(l),u.passes=c.map(l),t&&r.stdout.write(JSON.stringify(u,null,2))})}function a(e){var t={instrumentation:"node-jscoverage",sloc:0,hits:0,misses:0,coverage:0,files:[]};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=s(n,e[n]);t.files.push(r),t.hits+=r.hits,t.misses+=r.misses,t.sloc+=r.sloc}return t.files.sort(function(e,t){return e.filename.localeCompare(t.filename)}),t.sloc>0&&(t.coverage=t.hits/t.sloc*100),t}function s(e,t){var n={filename:e,coverage:0,hits:0,misses:0,sloc:0,source:{}};return t.source.forEach(function(e,r){r++,0===t[r]?(n.misses++,n.sloc++):void 0!==t[r]&&(n.hits++,n.sloc++),n.source[r]={source:e,coverage:void 0===t[r]?"":t[r]}}),n.coverage=n.hits/n.sloc*100,n}function l(e){return{duration:e.duration,currentRetry:e.currentRetry(),fullTitle:e.fullTitle(),title:e.title}}var u=e("./base");n=t.exports=o}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./base":17,_process:58}],24:[function(e,t,n){(function(r){function i(e){a.call(this,e);var t=this,n=e.total;e.on("start",function(){console.log(JSON.stringify(["start",{total:n}]))}),e.on("pass",function(e){console.log(JSON.stringify(["pass",o(e)]))}),e.on("fail",function(e,t){e=o(e),e.err=t.message,e.stack=t.stack||null,console.log(JSON.stringify(["fail",e]))}),e.on("end",function(){r.stdout.write(JSON.stringify(["end",t.stats]))})}function o(e){return{title:e.title,fullTitle:e.fullTitle(),duration:e.duration,currentRetry:e.currentRetry()}}var a=e("./base");n=t.exports=i}).call(this,e("_process"))},{"./base":17,_process:58}],25:[function(e,t,n){(function(r){function i(e){s.call(this,e);var t=this,n=[],i=[],a=[],l=[];e.on("test end",function(e){n.push(e)}),e.on("pass",function(e){l.push(e)}),e.on("fail",function(e){a.push(e)}),e.on("pending",function(e){i.push(e)}),e.on("end",function(){var s={stats:t.stats,tests:n.map(o),pending:i.map(o),failures:a.map(o),passes:l.map(o)};e.testResults=s,r.stdout.write(JSON.stringify(s,null,2))})}function o(e){return{title:e.title,fullTitle:e.fullTitle(),duration:e.duration,currentRetry:e.currentRetry(),err:a(e.err||{})}}function a(e){var t={};return Object.getOwnPropertyNames(e).forEach(function(n){t[n]=e[n]},e),t}var s=e("./base");n=t.exports=i}).call(this,e("_process"))},{"./base":17,_process:58}],26:[function(e,t,n){(function(r){function i(e){function t(){var e=Array(i).join("-");return"  "+l("runway",e)}o.call(this,e);var n=this,i=.75*o.window.width|0,a=e.total,u=r.stdout,c=l("plane","âœˆ"),f=-1,h=0;e.on("start",function(){u.write("\n\n\n  "),s.hide()}),e.on("test end",function(e){var n=-1===f?i*++h/a|0:f;"failed"===e.state&&(c=l("plane crash","âœˆ"),f=n),u.write("["+(i+1)+"D[2A"),u.write(t()),u.write("\n  "),u.write(l("runway",Array(n).join("â‹…"))),u.write(c),u.write(l("runway",Array(i-n).join("â‹…")+"\n")),u.write(t()),u.write("[0m")}),e.on("end",function(){s.show(),console.log(),n.epilogue()})}var o=e("./base"),a=e("../utils").inherits,s=o.cursor,l=o.color;n=t.exports=i,o.colors.plane=0,o.colors["plane crash"]=31,o.colors.runway=90,a(i,o)}).call(this,e("_process"))},{"../utils":39,"./base":17,_process:58}],27:[function(e,t,n){(function(r){function i(e){o.call(this,e);var t=this,n=0;e.on("start",function(){console.log()}),e.on("test",function(e){r.stdout.write(s("pass","    "+e.fullTitle()+": "))}),e.on("pending",function(e){var t=s("checkmark","  -")+s("pending"," %s");console.log(t,e.fullTitle())}),e.on("pass",function(e){var t=s("checkmark","  "+o.symbols.dot)+s("pass"," %s: ")+s(e.speed,"%dms");l.CR(),console.log(t,e.fullTitle(),e.duration)}),e.on("fail",function(e){l.CR(),console.log(s("fail","  %d) %s"),++n,e.fullTitle())}),e.on("end",t.epilogue.bind(t))}var o=e("./base"),a=e("../utils").inherits,s=o.color,l=o.cursor;n=t.exports=i,a(i,o)}).call(this,e("_process"))},{"../utils":39,"./base":17,_process:58}],28:[function(e,t,n){(function(r){function i(e){function t(e){return Array(u).join("#")+" "+e}function n(e,t){var r=t,i=s+e.title;return t=t[i]=t[i]||{suite:e},e.suites.forEach(function(e){n(e,t)}),r}function i(e,t){++t;var n,r="";for(var o in e)"suite"!==o&&(o!==s&&(n=" - ["+o.substring(1)+"]",n+="(#"+a.slug(e[o].suite.fullTitle())+")\n",r+=Array(t).join("  ")+n),r+=i(e[o],t));return r}function l(e){return i(n(e,{}),0)}o.call(this,e);var u=0,c="";l(e.suite),e.on("suite",function(e){++u;var n=a.slug(e.fullTitle());c+='<a name="'+n+'"></a>\n',c+=t(e.title)+"\n"}),e.on("suite end",function(){--u}),e.on("pass",function(e){var t=a.clean(e.body);c+=e.title+".\n",c+="\n```js\n",c+=t+"\n",c+="```\n\n"}),e.on("end",function(){r.stdout.write("# TOC\n"),r.stdout.write(l(e.suite)),r.stdout.write(c)})}var o=e("./base"),a=e("../utils"),s="$";n=t.exports=i}).call(this,e("_process"))},{"../utils":39,"./base":17,_process:58}],29:[function(e,t,n){(function(r){function i(e){o.call(this,e),e.on("start",function(){r.stdout.write("[2J"),r.stdout.write("[1;3H")}),e.on("end",this.epilogue.bind(this))}var o=e("./base"),a=e("../utils").inherits;n=t.exports=i,a(i,o)}).call(this,e("_process"))},{"../utils":39,"./base":17,_process:58}],30:[function(e,t,n){(function(r){function i(e){a.call(this,e);var t=this,n=.75*a.window.width|0,r=this.nyanCatWidth=11;this.colorIndex=0,this.numberOfLines=4,this.rainbowColors=t.generateColors(),this.scoreboardWidth=5,this.tick=0,this.trajectories=[[],[],[],[]],this.trajectoryWidthMax=n-r,e.on("start",function(){a.cursor.hide(),t.draw()}),e.on("pending",function(){t.draw()}),e.on("pass",function(){t.draw()}),e.on("fail",function(){t.draw()}),e.on("end",function(){a.cursor.show();for(var e=0;e<t.numberOfLines;e++)o("\n");t.epilogue()})}function o(e){r.stdout.write(e)}var a=e("./base"),s=e("../utils").inherits;n=t.exports=i,s(i,a),i.prototype.draw=function(){this.appendRainbow(),this.drawScoreboard(),this.drawRainbow(),this.drawNyanCat(),this.tick=!this.tick},i.prototype.drawScoreboard=function(){function e(e,t){o(" "),o(a.color(e,t)),o("\n")}var t=this.stats;e("green",t.passes),e("fail",t.failures),e("pending",t.pending),o("\n"),this.cursorUp(this.numberOfLines)},i.prototype.appendRainbow=function(){for(var e=this.tick?"_":"-",t=this.rainbowify(e),n=0;n<this.numberOfLines;n++){var r=this.trajectories[n];r.length>=this.trajectoryWidthMax&&r.shift(),r.push(t)}},i.prototype.drawRainbow=function(){var e=this;this.trajectories.forEach(function(t){o("["+e.scoreboardWidth+"C"),o(t.join("")),o("\n")}),this.cursorUp(this.numberOfLines)},i.prototype.drawNyanCat=function(){var e=this,t=this.scoreboardWidth+this.trajectories[0].length,n="["+t+"C",r="";o(n),o("_,------,"),o("\n"),o(n),r=e.tick?"  ":"   ",o("_|"+r+"/\\_/\\ "),o("\n"),o(n),r=e.tick?"_":"__",o((e.tick?"~":"^")+"|"+r+this.face()+" "),o("\n"),o(n),r=e.tick?" ":"  ",o(r+'""  "" '),o("\n"),this.cursorUp(this.numberOfLines)},i.prototype.face=function(){var e=this.stats;return e.failures?"( x .x)":e.pending?"( o .o)":e.passes?"( ^ .^)":"( - .-)"},i.prototype.cursorUp=function(e){o("["+e+"A")},i.prototype.cursorDown=function(e){o("["+e+"B")},i.prototype.generateColors=function(){for(var e=[],t=0;t<42;t++){var n=Math.floor(Math.PI/3),r=t*(1/6),i=Math.floor(3*Math.sin(r)+3),o=Math.floor(3*Math.sin(r+2*n)+3),a=Math.floor(3*Math.sin(r+4*n)+3);e.push(36*i+6*o+a+16)}return e},i.prototype.rainbowify=function(e){if(!a.useColors)return e;var t=this.rainbowColors[this.colorIndex%this.rainbowColors.length];return this.colorIndex+=1,"[38;5;"+t+"m"+e+"[0m"}}).call(this,e("_process"))},{"../utils":39,"./base":17,_process:58}],31:[function(e,t,n){(function(r){function i(e,t){o.call(this,e);var n=this,i=.5*o.window.width|0,a=e.total,u=0,c=-1;t=t||{},t.open=t.open||"[",t.complete=t.complete||"â–¬",t.incomplete=t.incomplete||o.symbols.dot,t.close=t.close||"]",t.verbose=!1,e.on("start",function(){console.log(),l.hide()}),e.on("test end",function(){u++;var e=u/a,n=i*e|0,o=i-n;(n!==c||t.verbose)&&(c=n,l.CR(),r.stdout.write("[J"),r.stdout.write(s("progress","  "+t.open)),r.stdout.write(Array(n).join(t.complete)),r.stdout.write(Array(o).join(t.incomplete)),r.stdout.write(s("progress",t.close)),t.verbose&&r.stdout.write(s("progress"," "+u+" of "+a)))}),e.on("end",function(){l.show(),console.log(),n.epilogue()})}var o=e("./base"),a=e("../utils").inherits,s=o.color,l=o.cursor;n=t.exports=i,o.colors.progress=90,a(i,o)}).call(this,e("_process"))},{"../utils":39,"./base":17,_process:58}],32:[function(e,t,n){function r(e){function t(){return Array(r).join("  ")}i.call(this,e);var n=this,r=0,o=0;e.on("start",function(){console.log()}),e.on("suite",function(e){++r,console.log(a("suite","%s%s"),t(),e.title)}),e.on("suite end",function(){1===--r&&console.log()}),e.on("pending",function(e){var n=t()+a("pending","  - %s");console.log(n,e.title)}),e.on("pass",function(e){var n;"fast"===e.speed?(n=t()+a("checkmark","  "+i.symbols.ok)+a("pass"," %s"),s.CR(),console.log(n,e.title)):(n=t()+a("checkmark","  "+i.symbols.ok)+a("pass"," %s")+a(e.speed," (%dms)"),s.CR(),console.log(n,e.title,e.duration))}),e.on("fail",function(e){s.CR(),console.log(t()+a("fail","  %d) %s"),++o,e.title)}),e.on("end",n.epilogue.bind(n))}var i=e("./base"),o=e("../utils").inherits,a=i.color,s=i.cursor;t.exports=r,o(r,i)},{"../utils":39,"./base":17}],33:[function(e,t,n){function r(e){o.call(this,e);var t=1,n=0,r=0;e.on("start",function(){var t=e.grepTotal(e.suite);console.log("%d..%d",1,t)}),e.on("test end",function(){++t}),e.on("pending",function(e){console.log("ok %d %s # SKIP -",t,i(e))}),e.on("pass",function(e){n++,console.log("ok %d %s",t,i(e))}),e.on("fail",function(e,n){r++,console.log("not ok %d %s",t,i(e)),n.stack&&console.log(n.stack.replace(/^/gm,"  "))}),e.on("end",function(){console.log("# tests "+(n+r)),console.log("# pass "+n),console.log("# fail "+r)})}function i(e){return e.fullTitle().replace(/#/g,"")}var o=e("./base");t.exports=r},{"./base":17}],34:[function(e,t,n){(function(r,i){function o(e,t){s.call(this,e);var n=this.stats,r=[],i=this;if(t.reporterOptions&&t.reporterOptions.output){if(!c.createWriteStream)throw new Error("file output not supported in browser");h.sync(d.dirname(t.reporterOptions.output)),i.fileStream=c.createWriteStream(t.reporterOptions.output)}
e.on("pending",function(e){r.push(e)}),e.on("pass",function(e){r.push(e)}),e.on("fail",function(e){r.push(e)}),e.on("end",function(){i.write(a("testsuite",{name:"Mocha Tests",tests:n.tests,failures:n.failures,errors:n.failures,skipped:n.tests-n.failures-n.passes,timestamp:(new p).toUTCString(),time:n.duration/1e3||0},!1)),r.forEach(function(e){i.test(e)}),i.write("</testsuite>")})}function a(e,t,n,r){var i,o=n?"/>":">",a=[];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.push(s+'="'+f(t[s])+'"');return i="<"+e+(a.length?" "+a.join(" "):"")+o,r&&(i+=r+"</"+e+o),i}var s=e("./base"),l=e("../utils"),u=l.inherits,c=e("fs"),f=l.escape,h=e("mkdirp"),d=e("path"),p=i.Date;i.setTimeout,i.setInterval,i.clearTimeout,i.clearInterval;n=t.exports=o,u(o,s),o.prototype.done=function(e,t){this.fileStream?this.fileStream.end(function(){t(e)}):t(e)},o.prototype.write=function(e){this.fileStream?this.fileStream.write(e+"\n"):"object"==typeof r&&r.stdout?r.stdout.write(e+"\n"):console.log(e)},o.prototype.test=function(e){var t={classname:e.parent.fullTitle(),name:e.title,time:e.duration/1e3||0};if("failed"===e.state){var n=e.err;this.write(a("testcase",t,!1,a("failure",{},!1,f(n.message)+"\n"+f(n.stack))))}else e.isPending()?this.write(a("testcase",t,!1,a("skipped",{},!0))):this.write(a("testcase",t,!0))}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils":39,"./base":17,_process:58,fs:43,mkdirp:55,path:43}],35:[function(e,t,n){(function(n){function r(e,t){this.title=e,this.fn=t,this.body=(t||"").toString(),this.async=t&&t.length,this.sync=!this.async,this._timeout=2e3,this._slow=75,this._enableTimeouts=!0,this.timedOut=!1,this._trace=new Error("done() called multiple times"),this._retries=-1,this._currentRetry=0,this.pending=!1}var i=e("events").EventEmitter,o=e("./pending"),a=e("debug")("mocha:runnable"),s=e("./ms"),l=e("./utils"),u=l.inherits,c=n.Date,f=n.setTimeout,h=(n.setInterval,n.clearTimeout),d=(n.clearInterval,Object.prototype.toString);t.exports=r,u(r,i),r.prototype.timeout=function(e){return arguments.length?(0===e&&(this._enableTimeouts=!1),"string"==typeof e&&(e=s(e)),a("timeout %d",e),this._timeout=e,this.timer&&this.resetTimeout(),this):this._timeout},r.prototype.slow=function(e){return arguments.length?("string"==typeof e&&(e=s(e)),a("timeout %d",e),this._slow=e,this):this._slow},r.prototype.enableTimeouts=function(e){return arguments.length?(a("enableTimeouts %s",e),this._enableTimeouts=e,this):this._enableTimeouts},r.prototype.skip=function(){throw new o},r.prototype.isPending=function(){return this.pending||this.parent&&this.parent.isPending()},r.prototype.retries=function(e){if(!arguments.length)return this._retries;this._retries=e},r.prototype.currentRetry=function(e){if(!arguments.length)return this._currentRetry;this._currentRetry=e},r.prototype.fullTitle=function(){return this.parent.fullTitle()+" "+this.title},r.prototype.clearTimeout=function(){h(this.timer)},r.prototype.inspect=function(){return JSON.stringify(this,function(e,t){if("_"!==e[0])return"parent"===e?"#<Suite>":"ctx"===e?"#<Context>":t},2)},r.prototype.resetTimeout=function(){var e=this,t=this.timeout()||1e9;this._enableTimeouts&&(this.clearTimeout(),this.timer=f(function(){e._enableTimeouts&&(e.callback(new Error("timeout of "+t+"ms exceeded. Ensure the done() callback is being called in this test.")),e.timedOut=!0)},t))},r.prototype.globals=function(e){if(!arguments.length)return this._allowedGlobals;this._allowedGlobals=e},r.prototype.run=function(e){function t(e){a||(a=!0,s.emit("error",e||new Error("done() called multiple times; stacktrace may be inaccurate")))}function n(n){var r=s.timeout();if(!s.timedOut){if(o)return t(n||s._trace);s.clearTimeout(),s.duration=new c-u,o=!0,!n&&s.duration>r&&s._enableTimeouts&&(n=new Error("timeout of "+r+"ms exceeded. Ensure the done() callback is being called in this test.")),e(n)}}function r(e){var t=e.call(f);if(t&&"function"==typeof t.then)s.resetTimeout(),t.then(function(){return n(),null},function(e){n(e||new Error("Promise rejected with no or falsy reason"))});else{if(s.asyncOnly)return n(new Error("--async-only option in use without declaring `done()` or returning a promise"));n()}}function i(e){e.call(f,function(e){return e instanceof Error||"[object Error]"===d.call(e)?n(e):e?n("[object Object]"===Object.prototype.toString.call(e)?new Error("done() invoked with non-Error: "+JSON.stringify(e)):new Error("done() invoked with non-Error: "+e)):void n()})}var o,a,s=this,u=new c,f=this.ctx;if(f&&f.runnable&&f.runnable(this),this.callback=n,this.async){if(this.resetTimeout(),this.allowUncaught)return i(this.fn);try{i(this.fn)}catch(e){n(l.getError(e))}}else{if(this.allowUncaught)return r(this.fn),void n();try{this.isPending()?n():r(this.fn)}catch(e){n(l.getError(e))}}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ms":15,"./pending":16,"./utils":39,debug:2,events:3}],36:[function(e,t,n){(function(n,r){function i(e,t){var n=this;this._globals=[],this._abort=!1,this._delay=t,this.suite=e,this.started=!1,this.total=e.total(),this.failures=0,this.on("test end",function(e){n.checkGlobals(e)}),this.on("hook end",function(e){n.checkGlobals(e)}),this._defaultGrep=/.*/,this.grep(this._defaultGrep),this.globals(this.globalProps().concat(s()))}function o(e){function t(e){for(var t=0;t<e.length;t++)delete e[t].fn}x(e._beforeAll)&&t(e._beforeAll),x(e._beforeEach)&&t(e._beforeEach),x(e._afterAll)&&t(e._afterAll),x(e._afterEach)&&t(e._afterEach);for(var n=0;n<e.tests.length;n++)delete e.tests[n].fn}function a(e,t){return p(t,function(t){return!/^d+/.test(t)&&((!r.navigator||!/^getInterface/.test(t))&&((!r.navigator||!/^\d+/.test(t))&&(!/^mocha-/.test(t)&&!(p(e,function(e){return~e.indexOf("*")?0===t.indexOf(e.split("*")[0]):t===e}).length||r.navigator&&"onerror"===t))))})}function s(){if("object"==typeof n&&"string"==typeof n.version){var e=n.version.split(".");if(c.reduce(e,function(e,t){return e<<8|t})<2315)return["errno"]}return[]}var l=e("events").EventEmitter,u=e("./pending"),c=e("./utils"),f=c.inherits,h=e("debug")("mocha:runner"),d=e("./runnable"),p=c.filter,g=c.indexOf,m=c.keys,v=c.stackTraceFilter(),y=c.stringify,b=c.type,w=c.undefinedError,x=c.isArray,S=["setTimeout","clearTimeout","setInterval","clearInterval","XMLHttpRequest","Date","setImmediate","clearImmediate"];t.exports=i,i.immediately=r.setImmediate||n.nextTick,f(i,l),i.prototype.grep=function(e,t){return h("grep %s",e),this._grep=e,this._invert=t,this.total=this.grepTotal(this.suite),this},i.prototype.grepTotal=function(e){var t=this,n=0;return e.eachTest(function(e){var r=t._grep.test(e.fullTitle());t._invert&&(r=!r),r&&n++}),n},i.prototype.globalProps=function(){for(var e=m(r),t=0;t<S.length;++t)~g(e,S[t])||e.push(S[t]);return e},i.prototype.globals=function(e){return arguments.length?(h("globals %j",e),this._globals=this._globals.concat(e),this):this._globals},i.prototype.checkGlobals=function(e){if(!this.ignoreLeaks){var t,n=this._globals,r=this.globalProps();e&&(n=n.concat(e._allowedGlobals||[])),this.prevGlobalsLength!==r.length&&(this.prevGlobalsLength=r.length,t=a(n,r),this._globals=this._globals.concat(t),t.length>1?this.fail(e,new Error("global leaks detected: "+t.join(", "))):t.length&&this.fail(e,new Error("global leak detected: "+t[0])))}},i.prototype.fail=function(e,t){++this.failures,e.state="failed",t instanceof Error||t&&"string"==typeof t.message||(t=new Error("the "+b(t)+" "+y(t)+" was thrown, throw an Error :)")),t.stack=this.fullStackTrace||!t.stack?t.stack:v(t.stack),this.emit("fail",e,t)},i.prototype.failHook=function(e,t){e.ctx&&e.ctx.currentTest&&(e.originalTitle=e.originalTitle||e.title,e.title=e.originalTitle+' for "'+e.ctx.currentTest.title+'"'),this.fail(e,t),this.suite.bail()&&this.emit("end")},i.prototype.hook=function(e,t){function n(e){var i=o[e];if(!i)return t();a.currentRunnable=i,i.ctx.currentTest=a.test,a.emit("hook",i),i.listeners("error").length||i.on("error",function(e){a.failHook(i,e)}),i.run(function(o){var s=i.error();if(s&&a.fail(a.test,s),o){if(!(o instanceof u))return a.failHook(i,o),t(o);r.pending=!0}a.emit("hook end",i),delete i.ctx.currentTest,n(++e)})}var r=this.suite,o=r["_"+e],a=this;i.immediately(function(){n(0)})},i.prototype.hooks=function(e,t,n){function r(a){if(i.suite=a,!a)return i.suite=o,n();i.hook(e,function(e){if(e){var a=i.suite;return i.suite=o,n(e,a)}r(t.pop())})}var i=this,o=this.suite;r(t.pop())},i.prototype.hookUp=function(e,t){var n=[this.suite].concat(this.parents()).reverse();this.hooks(e,n,t)},i.prototype.hookDown=function(e,t){var n=[this.suite].concat(this.parents());this.hooks(e,n,t)},i.prototype.parents=function(){for(var e=this.suite,t=[];e.parent;)e=e.parent,t.push(e);return t},i.prototype.runTest=function(e){var t=this,n=this.test;if(this.asyncOnly&&(n.asyncOnly=!0),this.allowUncaught)return n.allowUncaught=!0,n.run(e);try{n.on("error",function(e){t.fail(n,e)}),n.run(e)}catch(t){e(t)}},i.prototype.runTests=function(e,t){function n(e,r,i){var o=a.suite;a.suite=i?r.parent:r,a.suite?a.hookUp("afterEach",function(e,i){if(a.suite=o,e)return n(e,i,!0);t(r)}):(a.suite=o,t(r))}function r(l,c){if(a.failures&&e._bail)return t();if(a._abort)return t();if(l)return n(l,c,!0);if(!(o=s.shift()))return t();var f=a._grep.test(o.fullTitle());return a._invert&&(f=!f),f?o.isPending()?(a.emit("pending",o),a.emit("test end",o),r()):(a.emit("test",a.test=o),void a.hookDown("beforeEach",function(t,i){return e.isPending()?(a.emit("pending",o),a.emit("test end",o),r()):t?n(t,i,!1):(a.currentRunnable=a.test,void a.runTest(function(e){if(o=a.test,e){var t=o.currentRetry();if(e instanceof u)o.pending=!0,a.emit("pending",o);else{if(t<o.retries()){var n=o.clone();return n.currentRetry(t+1),s.unshift(n),a.hookUp("afterEach",r)}a.fail(o,e)}return a.emit("test end",o),e instanceof u?r():a.hookUp("afterEach",r)}o.state="passed",a.emit("pass",o),a.emit("test end",o),a.hookUp("afterEach",r)}))})):void(a._grep!==a._defaultGrep?i.immediately(r):r())}var o,a=this,s=e.tests.slice();this.next=r,this.hookErr=n,r()},i.prototype.runSuite=function(e,t){function n(t){if(t)return t===e?r():r(t);if(a._abort)return r();var s=e.suites[o++];if(!s)return r();a._grep!==a._defaultGrep?i.immediately(function(){a.runSuite(s,n)}):a.runSuite(s,n)}function r(r){a.suite=e,a.nextSuite=n,l?t(r):(l=!0,delete a.test,a.hook("afterAll",function(){a.emit("suite end",e),t(r)}))}var o=0,a=this,s=this.grepTotal(e),l=!1;if(h("run suite %s",e.fullTitle()),!s||a.failures&&e._bail)return t();this.emit("suite",this.suite=e),this.nextSuite=n,this.hook("beforeAll",function(t){if(t)return r();a.runTests(e,n)})},i.prototype.uncaught=function(e){e?h("uncaught exception %s",e!==function(){return this}.call(e)?e:e.message||e):(h("uncaught undefined exception"),e=w()),e.uncaught=!0;var t=this.currentRunnable;if(!t)return t=new d("Uncaught error outside test suite"),t.parent=this.suite,void(this.started?this.fail(t,e):(this.emit("start"),this.fail(t,e),this.emit("end")));if(t.clearTimeout(),!t.state){if(this.fail(t,e),"test"===t.type)return this.emit("test end",t),void this.hookUp("afterEach",this.next);if("hook"===t.type){var n=this.suite;return t.fullTitle().indexOf("after each")>-1?this.hookErr(e,n,!0):t.fullTitle().indexOf("before each")>-1?this.hookErr(e,n,!1):this.nextSuite(n)}this.emit("end")}},i.prototype.run=function(e){function t(e){i.uncaught(e)}function r(){i.started=!0,i.emit("start"),i.runSuite(a,function(){h("finished running"),i.emit("end")})}var i=this,a=this.suite;return e=e||function(){},h("start"),this.on("suite end",o),this.on("end",function(){h("end"),n.removeListener("uncaughtException",t),e(i.failures)}),n.on("uncaughtException",t),this._delay?(this.emit("waiting",a),a.once("run",r)):r(),this},i.prototype.abort=function(){return h("aborting"),this._abort=!0,this}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./pending":16,"./runnable":35,"./utils":39,_process:58,debug:2,events:3}],37:[function(e,t,n){function r(e,t){function n(){}this.title=e,n.prototype=t,this.ctx=new n,this.suites=[],this.tests=[],this.pending=!1,this._beforeEach=[],this._beforeAll=[],this._afterEach=[],this._afterAll=[],this.root=!e,this._timeout=2e3,this._enableTimeouts=!0,this._slow=75,this._bail=!1,this._retries=-1,this.delayed=!1}var i=e("events").EventEmitter,o=e("./hook"),a=e("./utils"),s=a.inherits,l=e("debug")("mocha:suite"),u=e("./ms");n=t.exports=r,n.create=function(e,t){var n=new r(t,e.ctx);return n.parent=e,t=n.fullTitle(),e.addSuite(n),n},s(r,i),r.prototype.clone=function(){var e=new r(this.title);return l("clone"),e.ctx=this.ctx,e.timeout(this.timeout()),e.retries(this.retries()),e.enableTimeouts(this.enableTimeouts()),e.slow(this.slow()),e.bail(this.bail()),e},r.prototype.timeout=function(e){return arguments.length?("0"===e.toString()&&(this._enableTimeouts=!1),"string"==typeof e&&(e=u(e)),l("timeout %d",e),this._timeout=parseInt(e,10),this):this._timeout},r.prototype.retries=function(e){return arguments.length?(l("retries %d",e),this._retries=parseInt(e,10)||0,this):this._retries},r.prototype.enableTimeouts=function(e){return arguments.length?(l("enableTimeouts %s",e),this._enableTimeouts=e,this):this._enableTimeouts},r.prototype.slow=function(e){return arguments.length?("string"==typeof e&&(e=u(e)),l("slow %d",e),this._slow=e,this):this._slow},r.prototype.bail=function(e){return arguments.length?(l("bail %s",e),this._bail=e,this):this._bail},r.prototype.isPending=function(){return this.pending||this.parent&&this.parent.isPending()},r.prototype.beforeAll=function(e,t){if(this.isPending())return this;"function"==typeof e&&(t=e,e=t.name),e='"before all" hook'+(e?": "+e:"");var n=new o(e,t);return n.parent=this,n.timeout(this.timeout()),n.retries(this.retries()),n.enableTimeouts(this.enableTimeouts()),n.slow(this.slow()),n.ctx=this.ctx,this._beforeAll.push(n),this.emit("beforeAll",n),this},r.prototype.afterAll=function(e,t){if(this.isPending())return this;"function"==typeof e&&(t=e,e=t.name),e='"after all" hook'+(e?": "+e:"");var n=new o(e,t);return n.parent=this,n.timeout(this.timeout()),n.retries(this.retries()),n.enableTimeouts(this.enableTimeouts()),n.slow(this.slow()),n.ctx=this.ctx,this._afterAll.push(n),this.emit("afterAll",n),this},r.prototype.beforeEach=function(e,t){if(this.isPending())return this;"function"==typeof e&&(t=e,e=t.name),e='"before each" hook'+(e?": "+e:"");var n=new o(e,t);return n.parent=this,n.timeout(this.timeout()),n.retries(this.retries()),n.enableTimeouts(this.enableTimeouts()),n.slow(this.slow()),n.ctx=this.ctx,this._beforeEach.push(n),this.emit("beforeEach",n),this},r.prototype.afterEach=function(e,t){if(this.isPending())return this;"function"==typeof e&&(t=e,e=t.name),e='"after each" hook'+(e?": "+e:"");var n=new o(e,t);return n.parent=this,n.timeout(this.timeout()),n.retries(this.retries()),n.enableTimeouts(this.enableTimeouts()),n.slow(this.slow()),n.ctx=this.ctx,this._afterEach.push(n),this.emit("afterEach",n),this},r.prototype.addSuite=function(e){return e.parent=this,e.timeout(this.timeout()),e.retries(this.retries()),e.enableTimeouts(this.enableTimeouts()),e.slow(this.slow()),e.bail(this.bail()),this.suites.push(e),this.emit("suite",e),this},r.prototype.addTest=function(e){return e.parent=this,e.timeout(this.timeout()),e.retries(this.retries()),e.enableTimeouts(this.enableTimeouts()),e.slow(this.slow()),e.ctx=this.ctx,this.tests.push(e),this.emit("test",e),this},r.prototype.fullTitle=function(){if(this.parent){var e=this.parent.fullTitle();if(e)return e+" "+this.title}return this.title},r.prototype.total=function(){return a.reduce(this.suites,function(e,t){return e+t.total()},0)+this.tests.length},r.prototype.eachTest=function(e){return a.forEach(this.tests,e),a.forEach(this.suites,function(t){t.eachTest(e)}),this},r.prototype.run=function(){this.root&&this.emit("run")}},{"./hook":7,"./ms":15,"./utils":39,debug:2,events:3}],38:[function(e,t,n){function r(e,t){i.call(this,e,t),this.pending=!t,this.type="test"}var i=e("./runnable"),o=e("./utils").inherits;t.exports=r,o(r,i),r.prototype.clone=function(){var e=new r(this.title,this.fn);return e.timeout(this.timeout()),e.slow(this.slow()),e.enableTimeouts(this.enableTimeouts()),e.retries(this.retries()),e.currentRetry(this.currentRetry()),e.globals(this.globals()),e.parent=this.parent,e.file=this.file,e.ctx=this.ctx,e}},{"./runnable":35,"./utils":39}],39:[function(e,t,n){(function(t,r){function i(e){return!~v.indexOf(e)}function o(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\/\/(.*)/gm,'<span class="comment">//$1</span>').replace(/('.*?')/gm,'<span class="string">$1</span>').replace(/(\d+\.\d+)/gm,'<span class="number">$1</span>').replace(/(\d+)/gm,'<span class="number">$1</span>').replace(/\bnew[ \t]+(\w+)/gm,'<span class="keyword">new</span> <span class="init">$1</span>').replace(/\b(function|new|throw|return|var|if|else)\b/gm,'<span class="keyword">$1</span>')}function a(e,t){switch(t=t||n.type(e)){case"function":return"[Function]";case"object":return"{}";case"array":return"[]";default:return e.toString()}}function s(e,t,r){function i(e,t){return new Array(t).join(e)}function o(e){switch(n.type(e)){case"null":case"undefined":e="["+e+"]";break;case"array":case"object":e=s(e,t,r+1);break;case"boolean":case"regexp":case"symbol":case"number":e=0===e&&1/e==-1/0?"-0":e.toString();break;case"date":var i;i=isNaN(e.getTime())?e.toString():e.toISOString?e.toISOString():m(e),e="[Date: "+i+"]";break;case"buffer":var o=e.toJSON();o=o.data&&o.type?o.data:o,e="[Buffer: "+s(o,2,r+1)+"]";break;default:e="[Function]"===e||"[Circular]"===e?e:JSON.stringify(e)}return e}if(void 0===t)return o(e);r=r||1;var a=t*r,l=y(e)?"[":"{",u=y(e)?"]":"}",c="number"==typeof e.length?e.length:n.keys(e).length;for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(--c,l+="\n "+i(" ",a)+(y(e)?"":'"'+f+'": ')+o(e[f])+(c?",":""));return l+(1!==l.length?"\n"+i(" ",--a)+u:u)}var l=e("path").basename,u=e("debug")("mocha:watch"),c=e("fs").existsSync||e("path").existsSync,f=e("glob"),h=e("path").join,d=e("fs").readdirSync,p=e("fs").statSync,g=e("fs").watchFile,m=e("to-iso-string"),v=["node_modules",".git"];n.inherits=e("util").inherits,n.escape=function(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},n.forEach=function(e,t,n){for(var r=0,i=e.length;r<i;r++)t.call(n,e[r],r)},n.isString=function(e){return"string"==typeof e},n.map=function(e,t,n){for(var r=[],i=0,o=e.length;i<o;i++)r.push(t.call(n,e[i],i,e));return r},n.indexOf=function(e,t,n){for(var r=n||0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1},n.reduce=function(e,t,n){for(var r=n,i=0,o=e.length;i<o;i++)r=t(r,e[i],i,e);return r},n.filter=function(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];t(o,r,e)&&n.push(o)}return n},n.keys="function"==typeof Object.keys?Object.keys:function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t},n.watch=function(e,t){var n={interval:100};e.forEach(function(e){u("file %s",e),g(e,n,function(n,r){r.mtime<n.mtime&&t(e)})})};var y="function"==typeof Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};n.isArray=y,void 0!==r&&r.prototype&&(r.prototype.toJSON=r.prototype.toJSON||function(){return Array.prototype.slice.call(this,0)}),n.files=function(e,t,r){r=r||[],t=t||["js"];var o=new RegExp("\\.("+t.join("|")+")$");return d(e).filter(i).forEach(function(i){i=h(e,i),p(i).isDirectory()?n.files(i,t,r):i.match(o)&&r.push(i)}),r},n.slug=function(e){return e.toLowerCase().replace(/ +/g,"-").replace(/[^-\w]/g,"")},n.clean=function(e){e=e.replace(/\r\n?|[\n\u2028\u2029]/g,"\n").replace(/^\uFEFF/,"").replace(/^function *\(.*\)\s*\{|\(.*\) *=> *\{?/,"").replace(/\s+\}$/,"");var t=e.match(/^\n?( *)/)[1].length,r=e.match(/^\n?(\t*)/)[1].length,i=new RegExp("^\n?"+(r?"\t":" ")+"{"+(r||t)+"}","gm");return e=e.replace(i,""),n.trim(e)},n.trim=function(e){return e.replace(/^\s+|\s+$/g,"")},n.parseQuery=function(e){return n.reduce(e.replace("?","").split("&"),function(e,t){var n=t.indexOf("="),r=t.slice(0,n),i=t.slice(++n);return e[r]=decodeURIComponent(i),e},{})},n.highlightTags=function(e){for(var t=document.getElementById("mocha").getElementsByTagName(e),n=0,r=t.length;n<r;++n)t[n].innerHTML=o(t[n].innerHTML)},n.type=function(e){return void 0===e?"undefined":null===e?"null":void 0!==r&&r.isBuffer(e)?"buffer":Object.prototype.toString.call(e).replace(/^\[.+\s(.+?)\]$/,"$1").toLowerCase()},n.stringify=function(e){var t=n.type(e);if(!~n.indexOf(["object","array","function"],t)){if("buffer"!==t)return s(e);var r=e.toJSON();return s(r.data&&r.type?r.data:r,2).replace(/,(\n|$)/g,"$1")}for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i))return s(n.canonicalize(e),2).replace(/,(\n|$)/g,"$1");return a(e,t)},n.isBuffer=function(e){return void 0!==r&&r.isBuffer(e)},n.canonicalize=function(e,t){function r(e,n){t.push(e),n(),t.pop()}var i,o,s=n.type(e);if(t=t||[],-1!==n.indexOf(t,e))return"[Circular]";switch(s){case"undefined":case"buffer":case"null":i=e;break;case"array":r(e,function(){i=n.map(e,function(e){return n.canonicalize(e,t)})});break;case"function":for(o in e){i={};break}if(!i){i=a(e,s);break}case"object":i=i||{},r(e,function(){n.forEach(n.keys(e).sort(),function(r){i[r]=n.canonicalize(e[r],t)})});break;case"date":case"number":case"regexp":case"boolean":case"symbol":i=e;break;default:i=e+""}return i},n.lookupFiles=function e(t,n,r){var i=[],o=new RegExp("\\.("+n.join("|")+")$");if(!c(t)){if(!c(t+".js")){if(i=f.sync(t),!i.length)throw new Error("cannot resolve path (or pattern) '"+t+"'");return i}t+=".js"}try{if(p(t).isFile())return t}catch(e){return}return d(t).forEach(function(a){a=h(t,a);try{var s=p(a);if(s.isDirectory())return void(r&&(i=i.concat(e(a,n,r))))}catch(e){return}s.isFile()&&o.test(a)&&"."!==l(a)[0]&&i.push(a)}),i},n.undefinedError=function(){return new Error("Caught undefined error, did you throw without specifying what?")},n.getError=function(e){return e||n.undefinedError()},n.stackTraceFilter=function(){function e(e){return~e.indexOf("node_modules"+i+"mocha"+i)||~e.indexOf("components"+i+"mochajs"+i)||~e.indexOf("components"+i+"mocha"+i)||~e.indexOf(i+"mocha.js")}function r(e){return~e.indexOf("(timers.js:")||~e.indexOf("(events.js:")||~e.indexOf("(node.js:")||~e.indexOf("(module.js:")||~e.indexOf("GeneratorFunctionPrototype.next (native)")||!1}var i="/",o="undefined"==typeof document?{node:!0}:{browser:!0},a=o.node?t.cwd()+i:("undefined"==typeof location?window.location:location).href.replace(/\/[^\/]*$/,"/");return function(t){return t=t.split("\n"),t=n.reduce(t,function(t,n){return e(n)?t:o.node&&r(n)?t:(/\(?.+:\d+:\d+\)?$/.test(n)&&(n=n.replace(a,"")),t.push(n),t)},[]),t.join("\n")}}}).call(this,e("_process"),e("buffer").Buffer)},{_process:58,buffer:45,debug:2,fs:43,glob:43,path:43,"to-iso-string":72,util:75}],40:[function(e,t,n){"use strict";function r(e){var t,n,r,i,o,a,s=e.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o="="===e[s-2]?2:"="===e[s-1]?1:0,a=new u(3*s/4-o),r=o>0?s-4:s;var c=0;for(t=0,n=0;t<r;t+=4,n+=3)i=l[e.charCodeAt(t)]<<18|l[e.charCodeAt(t+1)]<<12|l[e.charCodeAt(t+2)]<<6|l[e.charCodeAt(t+3)],a[c++]=i>>16&255,a[c++]=i>>8&255,a[c++]=255&i;return 2===o?(i=l[e.charCodeAt(t)]<<2|l[e.charCodeAt(t+1)]>>4,a[c++]=255&i):1===o&&(i=l[e.charCodeAt(t)]<<10|l[e.charCodeAt(t+1)]<<4|l[e.charCodeAt(t+2)]>>2,a[c++]=i>>8&255,a[c++]=255&i),a}function i(e){return s[e>>18&63]+s[e>>12&63]+s[e>>6&63]+s[63&e]}function o(e,t,n){for(var r,o=[],a=t;a<n;a+=3)r=(e[a]<<16)+(e[a+1]<<8)+e[a+2],o.push(i(r));return o.join("")}function a(e){for(var t,n=e.length,r=n%3,i="",a=[],l=0,u=n-r;l<u;l+=16383)a.push(o(e,l,l+16383>u?u:l+16383));return 1===r?(t=e[n-1],i+=s[t>>2],i+=s[t<<4&63],i+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],i+=s[t>>10],i+=s[t>>4&63],i+=s[t<<2&63],i+="="),a.push(i),a.join("")}n.toByteArray=r,n.fromByteArray=a;var s=[],l=[],u="undefined"!=typeof Uint8Array?Uint8Array:Array;!function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,n=e.length;t<n;++t)s[t]=e[t],l[e.charCodeAt(t)]=t;l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63}()},{}],41:[function(e,t,n){},{}],42:[function(e,t,n){(function(n){function r(e){if(!(this instanceof r))return new r(e);e=e||{},i.call(this,e),this.label=void 0!==e.label?e.label:"stdout"}var i=e("stream").Writable,o=e("util").inherits;t.exports=r,o(r,i),r.prototype._write=function(e,t,r){var i=e.toString?e.toString():e;!1===this.label?console.log(i):console.log(this.label+":",i),n.nextTick(r)}}).call(this,e("_process"))},{_process:58,stream:59,util:75}],43:[function(e,t,n){arguments[4][41][0].apply(n,arguments)},{dup:41}],44:[function(e,t,n){(function(t){"use strict";var r=e("buffer"),i=r.Buffer,o=r.SlowBuffer,a=r.kMaxLength||2147483647;n.alloc=function(e,t,n){if("function"==typeof i.alloc)return i.alloc(e,t,n);if("number"==typeof n)throw new TypeError("encoding must not be number");if("number"!=typeof e)throw new TypeError("size must be a number");if(e>a)throw new RangeError("size is too large");var r=n,o=t;void 0===o&&(r=void 0,o=0);var s=new i(e);if("string"==typeof o)for(var l=new i(o,r),u=l.length,c=-1;++c<e;)s[c]=l[c%u];else s.fill(o);return s},n.allocUnsafe=function(e){if("function"==typeof i.allocUnsafe)return i.allocUnsafe(e);if("number"!=typeof e)throw new TypeError("size must be a number");if(e>a)throw new RangeError("size is too large");return new i(e)},n.from=function(e,n,r){if("function"==typeof i.from&&(!t.Uint8Array||Uint8Array.from!==i.from))return i.from(e,n,r);if("number"==typeof e)throw new TypeError('"value" argument must not be a number');if("string"==typeof e)return new i(e,n);if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer){var o=n;if(1===arguments.length)return new i(e);void 0===o&&(o=0);var a=r;if(void 0===a&&(a=e.byteLength-o),o>=e.byteLength)throw new RangeError("'offset' is out of bounds");if(a>e.byteLength-o)throw new RangeError("'length' is out of bounds");return new i(e.slice(o,o+a))}if(i.isBuffer(e)){var s=new i(e.length);return e.copy(s,0,0,e.length),s}if(e){if(Array.isArray(e)||"undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return new i(e);if("Buffer"===e.type&&Array.isArray(e.data))return new i(e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},n.allocUnsafeSlow=function(e){if("function"==typeof i.allocUnsafeSlow)return i.allocUnsafeSlow(e);if("number"!=typeof e)throw new TypeError("size must be a number");if(e>=a)throw new RangeError("size is too large");return new o(e)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{buffer:45}],45:[function(e,t,n){(function(t){"use strict";function r(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e,t){if(r()<t)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=o.prototype):(null===e&&(e=new o(t)),e.length=t),e}function o(e,t,n){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return a(this,e,t,n)}function a(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?h(e,t,n,r):"string"==typeof t?c(e,t,n):d(e,t)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number')}function l(e,t,n,r){return s(t),t<=0?i(e,t):void 0!==n?"string"==typeof r?i(e,t).fill(n,r):i(e,t).fill(n):i(e,t)}function u(e,t){if(s(t),e=i(e,t<0?0:0|p(t)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;n++)e[n]=0;return e}function c(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!o.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');return e=i(e,0|m(t,n)),e.write(t,n),e}function f(e,t){var n=0|p(t.length);e=i(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),o.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=o.prototype):e=f(e,t),e}function d(e,t){if(o.isBuffer(t)){var n=0|p(t.length);return e=i(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||G(t.length)?i(e,0):f(e,t);if("Buffer"===t.type&&Z(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function g(e){return+e!=e&&(e=0),o.alloc(+e)}function m(e,t){if(o.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":case void 0:return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(e).length;default:if(r)return U(e).length;t=(""+t).toLowerCase(),r=!0}}function v(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return D(this,t,n);case"utf8":case"utf-8":return _(this,t,n);case"ascii":return E(this,t,n);case"binary":return M(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r){function i(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}var o=1,a=e.length,s=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,a/=2,s/=2,n/=2}for(var l=-1,u=0;n+u<a;u++)if(i(e,n+u)===i(t,-1===l?0:u-l)){if(-1===l&&(l=u),u-l+1===s)return(n+l)*o}else-1!==l&&(u-=u-l),l=-1;return-1}function w(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new Error("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;a++){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function x(e,t,n,r){return Y(U(t,e.length-n),e,n,r)}function S(e,t,n,r){return Y(W(t),e,n,r)}function $(e,t,n,r){return S(e,t,n,r)}function C(e,t,n,r){return Y(q(t),e,n,r)}function A(e,t,n,r){return Y(V(t,e.length-n),e,n,r)}function k(e,t,n){return 0===t&&n===e.length?X.fromByteArray(e):X.fromByteArray(e.slice(t,n))}function _(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=n){var l,u,c,f;switch(s){case 1:o<128&&(a=o);break;case 2:l=e[i+1],128==(192&l)&&(f=(31&o)<<6|63&l)>127&&(a=f);break;case 3:l=e[i+1],u=e[i+2],128==(192&l)&&128==(192&u)&&(f=(15&o)<<12|(63&l)<<6|63&u)>2047&&(f<55296||f>57343)&&(a=f);break;case 4:l=e[i+1],u=e[i+2],c=e[i+3],128==(192&l)&&128==(192&u)&&128==(192&c)&&(f=(15&o)<<18|(63&l)<<12|(63&u)<<6|63&c)>65535&&f<1114112&&(a=f)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return T(r)}function T(e){var t=e.length
;if(t<=J)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=J));return n}function E(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;i++)r+=String.fromCharCode(127&e[i]);return r}function M(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;i++)r+=String.fromCharCode(e[i]);return r}function D(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;o++)i+=H(e[o]);return i}function P(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,n,r,i,a){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function N(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;i++)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function L(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;i++)e[n+i]=t>>>8*(r?i:3-i)&255}function I(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function z(e,t,n,r,i){return i||I(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),K.write(e,t,n,r,23,4),n+4}function B(e,t,n,r,i){return i||I(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),K.write(e,t,n,r,52,8),n+8}function F(e){if(e=j(e).replace(Q,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function j(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function H(e){return e<16?"0"+e.toString(16):e.toString(16)}function U(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],a=0;a<r;a++){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function W(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}function V(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);a++)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function q(e){return X.toByteArray(F(e))}function Y(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);i++)t[i+n]=e[i];return i}function G(e){return e!==e}var X=e("base64-js"),K=e("ieee754"),Z=e("isarray");n.Buffer=o,n.SlowBuffer=g,n.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.foo=function(){return 42},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),n.kMaxLength=r(),o.poolSize=8192,o._augment=function(e){return e.__proto__=o.prototype,e},o.from=function(e,t,n){return a(null,e,t,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(e,t,n){return l(null,e,t,n)},o.allocUnsafe=function(e){return u(null,e)},o.allocUnsafeSlow=function(e){return u(null,e)},o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Z(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;n++)t+=e[n].length;var r=o.allocUnsafe(t),i=0;for(n=0;n<e.length;n++){var a=e[n];if(!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},o.byteLength=m,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},o.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?_(this,0,e):v.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e,t,n,r,i){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var a=i-r,s=n-t,l=Math.min(a,s),u=this.slice(r,i),c=e.slice(t,n),f=0;f<l;++f)if(u[f]!==c[f]){a=u[f],s=c[f];break}return a<s?-1:s<a?1:0},o.prototype.indexOf=function(e,t,n){if("string"==typeof t?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t>>=0,0===this.length)return-1;if(t>=this.length)return-1;if(t<0&&(t=Math.max(this.length+t,0)),"string"==typeof e&&(e=o.from(e,n)),o.isBuffer(e))return 0===e.length?-1:b(this,e,t,n);if("number"==typeof e)return o.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,t):b(this,[e],t,n);throw new TypeError("val must be string, number or Buffer")},o.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},o.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":return S(this,e,t,n);case"binary":return $(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var J=4096;o.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r;if(o.TYPED_ARRAY_SUPPORT)r=this.subarray(e,t),r.__proto__=o.prototype;else{var i=t-e;r=new o(i,void 0);for(var a=0;a<i;a++)r[a]=this[a+e]}return r},o.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},o.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},o.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},o.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),K.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),K.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),K.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),K.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){O(this,e,t,n,Math.pow(2,8*n)-1,0)}var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},o.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){O(this,e,t,n,Math.pow(2,8*n)-1,0)}var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},o.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},o.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);O(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);O(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},o.prototype.writeFloatLE=function(e,t,n){return z(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return z(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,a=r-n;if(this===e&&n<t&&t<r)for(i=a-1;i>=0;i--)e[i+t]=this[i+n];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<a;i++)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},o.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var a;if("number"==typeof e)for(a=t;a<n;a++)this[a]=e;else{var s=o.isBuffer(e)?e:U(new o(e,r).toString()),l=s.length;for(a=0;a<n-t;a++)this[a+t]=s[a%l]}return this};var Q=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":40,ieee754:52,isarray:46}],46:[function(e,t,n){var r={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},{}],47:[function(e,t,n){(function(e){function t(e){return Array.isArray?Array.isArray(e):"[object Array]"===m(e)}function r(e){return"boolean"==typeof e}function i(e){return null===e}function o(e){return null==e}function a(e){return"number"==typeof e}function s(e){return"string"==typeof e}function l(e){return"symbol"==typeof e}function u(e){return void 0===e}function c(e){return"[object RegExp]"===m(e)}function f(e){return"object"==typeof e&&null!==e}function h(e){return"[object Date]"===m(e)}function d(e){return"[object Error]"===m(e)||e instanceof Error}function p(e){return"function"==typeof e}function g(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function m(e){return Object.prototype.toString.call(e)}n.isArray=t,n.isBoolean=r,n.isNull=i,n.isNullOrUndefined=o,n.isNumber=a,n.isString=s,n.isSymbol=l,n.isUndefined=u,n.isRegExp=c,n.isObject=f,n.isDate=h,n.isError=d,n.isFunction=p,n.isPrimitive=g,n.isBuffer=e.isBuffer}).call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":54}],48:[function(e,t,n){!function(e,n){function r(e,t,n){if(Array.prototype.map)return Array.prototype.map.call(e,t,n);for(var r=new Array(e.length),i=0,o=e.length;i<o;i++)r[i]=t.call(n,e[i],i,e);return r}function i(e){return{newPos:e.newPos,components:e.components.slice(0)}}function o(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t}function a(e){var t=e;return t=t.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=t.replace(/"/g,"&quot;")}function s(e,t,n){t=t||[],n=n||[];var r;for(r=0;r<t.length;r+=1)if(t[r]===e)return n[r];var i;if("[object Array]"===c.call(e)){for(t.push(e),i=new Array(e.length),n.push(i),r=0;r<e.length;r+=1)i[r]=s(e[r],t,n);t.pop(),n.pop()}else if("object"==typeof e&&null!==e){t.push(e),i={},n.push(i);var o,a=[];for(o in e)a.push(o);for(a.sort(),r=0;r<a.length;r+=1)o=a[r],i[o]=s(e[o],t,n);t.pop(),n.pop()}else i=e;return i}function l(e,t,n,i){for(var o=0,a=e.length,s=0,l=0;o<a;o++){var u=e[o];if(u.removed){if(u.value=n.slice(l,l+u.count).join(""),l+=u.count,o&&e[o-1].added){var c=e[o-1];e[o-1]=e[o],e[o]=c}}else{if(!u.added&&i){var f=t.slice(s,s+u.count);f=r(f,function(e,t){var r=n[l+t];return r.length>e.length?r:e}),u.value=f.join("")}else u.value=t.slice(s,s+u.count).join("");s+=u.count,u.added||(l+=u.count)}}return e}function u(e){this.ignoreWhitespace=e}var c=Object.prototype.toString;u.prototype={diff:function(e,t,r){function o(e){return r?(setTimeout(function(){r(n,e)},0),!0):e}function a(){for(var r=-1*f;r<=f;r+=2){var a,h=d[r-1],p=d[r+1],g=(p?p.newPos:0)-r;h&&(d[r-1]=n);var m=h&&h.newPos+1<u,v=p&&0<=g&&g<c;if(m||v){if(!m||v&&h.newPos<p.newPos?(a=i(p),s.pushComponent(a.components,n,!0)):(a=h,a.newPos++,s.pushComponent(a.components,!0,n)),g=s.extractCommon(a,t,e,r),a.newPos+1>=u&&g+1>=c)return o(l(a.components,t,e,s.useLongestToken));d[r]=a}else d[r]=n}f++}var s=this;if(t===e)return o([{value:t}]);if(!t)return o([{value:e,removed:!0}]);if(!e)return o([{value:t,added:!0}]);t=this.tokenize(t),e=this.tokenize(e);var u=t.length,c=e.length,f=1,h=u+c,d=[{newPos:-1,components:[]}],p=this.extractCommon(d[0],t,e,0);if(d[0].newPos+1>=u&&p+1>=c)return o([{value:t.join("")}]);if(r)!function e(){setTimeout(function(){if(f>h)return r();a()||e()},0)}();else for(;f<=h;){var g=a();if(g)return g}},pushComponent:function(e,t,n){var r=e[e.length-1];r&&r.added===t&&r.removed===n?e[e.length-1]={count:r.count+1,added:t,removed:n}:e.push({count:1,added:t,removed:n})},extractCommon:function(e,t,n,r){for(var i=t.length,o=n.length,a=e.newPos,s=a-r,l=0;a+1<i&&s+1<o&&this.equals(t[a+1],n[s+1]);)a++,s++,l++;return l&&e.components.push({count:l}),e.newPos=a,s},equals:function(e,t){var n=/\S/;return e===t||this.ignoreWhitespace&&!n.test(e)&&!n.test(t)},tokenize:function(e){return e.split("")}};var f=new u,h=new u(!0),d=new u;h.tokenize=d.tokenize=function(e){return o(e.split(/(\s+|\b)/))};var p=new u(!0);p.tokenize=function(e){return o(e.split(/([{}:;,]|\s+)/))};var g=new u,m=new u;m.ignoreTrim=!0,g.tokenize=m.tokenize=function(e){for(var t=[],n=e.split(/^/m),r=0;r<n.length;r++){var i=n[r],o=n[r-1],a=o&&o[o.length-1];"\n"===i&&"\r"===a?t[t.length-1]=t[t.length-1].slice(0,-1)+"\r\n":(this.ignoreTrim&&(i=i.trim(),r<n.length-1&&(i+="\n")),t.push(i))}return t};var v=new u;v.tokenize=function(e){var t=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var r=0;r<n.length;r++){var i=n[r];r%2?t[t.length-1]+=i:t.push(i)}return t};var y=new u;y.tokenize=function(e){return o(e.split(/(\S.+?[.!?])(?=\s+|$)/))};var b=new u;b.useLongestToken=!0,b.tokenize=g.tokenize,b.equals=function(e,t){return g.equals(e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};var w={Diff:u,diffChars:function(e,t,n){return f.diff(e,t,n)},diffWords:function(e,t,n){return h.diff(e,t,n)},diffWordsWithSpace:function(e,t,n){return d.diff(e,t,n)},diffLines:function(e,t,n){return g.diff(e,t,n)},diffTrimmedLines:function(e,t,n){return m.diff(e,t,n)},diffSentences:function(e,t,n){return y.diff(e,t,n)},diffCss:function(e,t,n){return p.diff(e,t,n)},diffJson:function(e,t,r){return b.diff("string"==typeof e?e:JSON.stringify(s(e),n,"  "),"string"==typeof t?t:JSON.stringify(s(t),n,"  "),r)},createTwoFilesPatch:function(e,t,n,i,o,a){function s(e){return r(e,function(e){return" "+e})}function l(e,t,n){var r=c[c.length-2],i=t===c.length-2,o=t===c.length-3&&n.added!==r.added;/\n$/.test(n.value)||!i&&!o||e.push("\\ No newline at end of file")}var u=[];e==t&&u.push("Index: "+e),u.push("==================================================================="),u.push("--- "+e+(void 0===o?"":"\t"+o)),u.push("+++ "+t+(void 0===a?"":"\t"+a));var c=v.diff(n,i);c.push({value:"",lines:[]});for(var f=0,h=0,d=[],p=1,g=1,m=0;m<c.length;m++){var y=c[m],b=y.lines||y.value.replace(/\n$/,"").split("\n");if(y.lines=b,y.added||y.removed){if(!f){var w=c[m-1];f=p,h=g,w&&(d=s(w.lines.slice(-4)),f-=d.length,h-=d.length)}d.push.apply(d,r(b,function(e){return(y.added?"+":"-")+e})),l(d,m,y),y.added?g+=b.length:p+=b.length}else{if(f)if(b.length<=8&&m<c.length-2)d.push.apply(d,s(b));else{var x=Math.min(b.length,4);u.push("@@ -"+f+","+(p-f+x)+" +"+h+","+(g-h+x)+" @@"),u.push.apply(u,d),u.push.apply(u,s(b.slice(0,x))),b.length<=4&&l(u,m,y),f=0,h=0,d=[]}p+=b.length,g+=b.length}}return u.join("\n")+"\n"},createPatch:function(e,t,n,r,i){return w.createTwoFilesPatch(e,e,t,n,r,i)},applyPatch:function(e,t){for(var n=t.split("\n"),r=[],i=0,o=!1,a=!1;i<n.length&&!/^@@/.test(n[i]);)i++;for(;i<n.length;i++)if("@"===n[i][0]){var s=n[i].split(/@@ -(\d+),(\d+) \+(\d+),(\d+) @@/);r.unshift({start:s[3],oldlength:+s[2],removed:[],newlength:s[4],added:[]})}else"+"===n[i][0]?r[0].added.push(n[i].substr(1)):"-"===n[i][0]?r[0].removed.push(n[i].substr(1)):" "===n[i][0]?(r[0].added.push(n[i].substr(1)),r[0].removed.push(n[i].substr(1))):"\\"===n[i][0]&&("+"===n[i-1][0]?o=!0:"-"===n[i-1][0]&&(a=!0));var l=e.split("\n");for(i=r.length-1;i>=0;i--){for(var u=r[i],c=0;c<u.oldlength;c++)if(l[u.start-1+c]!==u.removed[c])return!1;Array.prototype.splice.apply(l,[u.start-1,u.oldlength].concat(u.added))}if(o)for(;!l[l.length-1];)l.pop();else a&&l.push("");return l.join("\n")},convertChangesToXML:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];r.added?t.push("<ins>"):r.removed&&t.push("<del>"),t.push(a(r.value)),r.added?t.push("</ins>"):r.removed&&t.push("</del>")}return t.join("")},convertChangesToDMP:function(e){for(var t,n,r=[],i=0;i<e.length;i++)t=e[i],n=t.added?1:t.removed?-1:0,r.push([n,t.value]);return r},canonicalize:s};void 0!==t&&t.exports?t.exports=w:"function"==typeof define&&define.amd?define([],function(){return w}):void 0===e.JsDiff&&(e.JsDiff=w)}(this)},{}],49:[function(e,t,n){"use strict";t.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")}},{}],50:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function o(e){return"number"==typeof e}function a(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,o,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],s(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(a(n))for(o=Array.prototype.slice.call(arguments,1),u=n.slice(),r=u.length,l=0;l<r;l++)u[l].apply(this,o);return!0},r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,o,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(s=o;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},{}],51:[function(e,t,n){(function(r){function i(e){for(var t,n=r.env.PATH.split(":"),i=0,o=n.length;i<o;++i)if(t=u.join(n[i],e),c(t))return t}function o(e,t,n){var r,i,t=t||{},n=n||function(){};if(t.exec&&(a={type:"Custom",pkg:t.exec,range:[]}),!a)return n(new Error("growl not supported on this platform"));if(i=[a.pkg],r=t.image)switch(a.type){case"Darwin-Growl":var o,l=u.extname(r).substr(1);o=o||"icns"==l&&"iconpath",o=o||/^[A-Z]/.test(r)&&"appIcon",o=o||/^png|gif|jpe?g$/.test(l)&&"image",o=o||l&&(r=l)&&"icon",o=o||"icon",i.push("--"+o,h(r));break;case"Darwin-NotificationCenter":i.push(a.icon,h(r));break;case"Linux":i.push(a.icon,h(r)),t.sticky||i.push("--hint=int:transient:1");break;case"Windows":i.push(a.icon+h(r))}if(t.sticky&&i.push(a.sticky),t.priority){var c=t.priority+"";a.priority.range.indexOf(c);~a.priority.range.indexOf(c)&&i.push(a.priority,t.priority)}switch(t.sound&&"Darwin-NotificationCenter"===a.type&&i.push(a.sound,t.sound),t.name&&"Darwin-Growl"===a.type&&i.push("--name",t.name),a.type){case"Darwin-Growl":i.push(a.msg),i.push(h(e).replace(/\\n/g,"\n")),t.title&&i.push(h(t.title));break;case"Darwin-NotificationCenter":i.push(a.msg);var f=h(e),d=f.replace(/\\n/g,"\n");i.push(d),t.title&&(i.push(a.title),i.push(h(t.title))),t.subtitle&&(i.push(a.subtitle),i.push(h(t.subtitle))),t.url&&(i.push(a.url),i.push(h(t.url)));break;case"Linux-Growl":i.push(a.msg),i.push(h(e).replace(/\\n/g,"\n")),t.title&&i.push(h(t.title)),a.host&&i.push(a.host.cmd,a.host.hostname);break;case"Linux":t.title?(i.push(h(t.title)),i.push(a.msg),i.push(h(e).replace(/\\n/g,"\n"))):i.push(h(e).replace(/\\n/g,"\n"));break;case"Windows":i.push(h(e).replace(/\\n/g,"\n")),t.title&&i.push(a.title+h(t.title)),t.url&&i.push(a.url+h(t.url));break;case"Custom":i[0]=function(n){var r=t.title?t.title+": "+e:e,o=n.replace(/(^|[^%])%s/g,"$1"+h(r));return o===n&&i.push(h(r)),o}(i[0])}s(i.join(" "),n)}var a,s=e("child_process").exec,l=e("fs"),u=e("path"),c=l.existsSync||u.existsSync,f=e("os"),h=JSON.stringify;switch(f.type()){case"Darwin":a=i("terminal-notifier")?{type:"Darwin-NotificationCenter",pkg:"terminal-notifier",msg:"-message",title:"-title",subtitle:"-subtitle",icon:"-appIcon",sound:"-sound",url:"-open",priority:{cmd:"-execute",range:[]}}:{type:"Darwin-Growl",pkg:"growlnotify",msg:"-m",sticky:"--sticky",priority:{cmd:"--priority",range:[-2,-1,0,1,2,"Very Low","Moderate","Normal","High","Emergency"]}};break;case"Linux":a=i("growl")?{type:"Linux-Growl",pkg:"growl",msg:"-m",title:"-title",subtitle:"-subtitle",host:{cmd:"-H",hostname:"192.168.33.1"}}:{type:"Linux",pkg:"notify-send",msg:"",sticky:"-t 0",icon:"-i",priority:{cmd:"-u",range:["low","normal","critical"]}};break;case"Windows_NT":a={type:"Windows",pkg:"growlnotify",msg:"",sticky:"/s:true",title:"/t:",icon:"/i:",url:"/cu:",priority:{cmd:"/p:",range:[-2,-1,0,1,2]}}}n=t.exports=o,n.version="1.4.1"}).call(this,e("_process"))},{_process:58,child_process:43,fs:43,os:56,path:43}],52:[function(e,t,n){n.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,f=n?i-1:0,h=n?-1:1,d=e[t+f];for(f+=h,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+e[t+f],f+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+f],f+=h,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=u}return(d?-1:1)*a*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,f=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),t+=a+f>=1?h/l:h*Math.pow(2,1-f),t*l>=2&&(a++,l/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*l-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+d]=255&a,d+=p,a/=256,u-=8);e[n+d-p]|=128*g}},{}],53:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],54:[function(e,t,n){t.exports=function(e){return!(null==e||!(e._isBuffer||e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)))}},{}],55:[function(e,t,n){(function(n){function r(e,t,s,l){"function"==typeof t?(s=t,t={}):t&&"object"==typeof t||(t={mode:t});var u=t.mode,c=t.fs||o;void 0===u&&(u=a&~n.umask()),l||(l=null);var f=s||function(){};e=i.resolve(e),c.mkdir(e,u,function(n){if(!n)return l=l||e,f(null,l);switch(n.code){case"ENOENT":r(i.dirname(e),t,function(n,i){n?f(n,i):r(e,t,f,i)});break;default:c.stat(e,function(e,t){e||!t.isDirectory()?f(n,l):f(null,l)})}})}var i=e("path"),o=e("fs"),a=parseInt("0777",8);t.exports=r.mkdirp=r.mkdirP=r,r.sync=function e(t,r,s){r&&"object"==typeof r||(r={mode:r});var l=r.mode,u=r.fs||o;void 0===l&&(l=a&~n.umask()),s||(s=null),t=i.resolve(t);try{u.mkdirSync(t,l),s=s||t}catch(n){switch(n.code){case"ENOENT":s=e(i.dirname(t),r,s),e(t,r,s);break;default:var c;try{c=u.statSync(t)}catch(e){throw n}if(!c.isDirectory())throw n}}return s}}).call(this,e("_process"))},{_process:58,fs:43,path:43}],56:[function(e,t,n){n.endianness=function(){return"LE"},n.hostname=function(){return"undefined"!=typeof location?location.hostname:""},n.loadavg=function(){return[]},n.uptime=function(){return 0},n.freemem=function(){return Number.MAX_VALUE},n.totalmem=function(){return Number.MAX_VALUE},n.cpus=function(){return[]},n.type=function(){return"Browser"},n.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},n.networkInterfaces=n.getNetworkInterfaces=function(){return{}},n.arch=function(){return"javascript"},n.platform=function(){return"browser"},n.tmpdir=n.tmpDir=function(){return"/tmp"},n.EOL="\n"},{}],57:[function(e,t,n){(function(e){"use strict";function n(t,n,r,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,r)});case 4:
return e.nextTick(function(){t.call(null,n,r,i)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return e.nextTick(function(){t.apply(null,o)})}}!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports=n:t.exports=e.nextTick}).call(this,e("_process"))},{_process:58}],58:[function(e,t,n){function r(){c&&s&&(c=!1,s.length?u=s.concat(u):f=-1,u.length&&i())}function i(){if(!c){var e=setTimeout(r);c=!0;for(var t=u.length;t;){for(s=u,u=[];++f<t;)s&&s[f].run();f=-1,t=u.length}s=null,c=!1,clearTimeout(e)}}function o(e,t){this.fun=e,this.array=t}function a(){}var s,l=t.exports={},u=[],c=!1,f=-1;l.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new o(e,t)),1!==u.length||c||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=a,l.addListener=a,l.once=a,l.off=a,l.removeListener=a,l.removeAllListeners=a,l.emit=a,l.binding=function(e){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],59:[function(e,t,n){function r(){i.call(this)}t.exports=r;var i=e("events").EventEmitter;e("inherits")(r,i),r.Readable=e("readable-stream/readable.js"),r.Writable=e("readable-stream/writable.js"),r.Duplex=e("readable-stream/duplex.js"),r.Transform=e("readable-stream/transform.js"),r.PassThrough=e("readable-stream/passthrough.js"),r.Stream=r,r.prototype.pipe=function(e,t){function n(t){e.writable&&!1===e.write(t)&&u.pause&&u.pause()}function r(){u.readable&&u.resume&&u.resume()}function o(){c||(c=!0,e.end())}function a(){c||(c=!0,"function"==typeof e.destroy&&e.destroy())}function s(e){if(l(),0===i.listenerCount(this,"error"))throw e}function l(){u.removeListener("data",n),e.removeListener("drain",r),u.removeListener("end",o),u.removeListener("close",a),u.removeListener("error",s),e.removeListener("error",s),u.removeListener("end",l),u.removeListener("close",l),e.removeListener("close",l)}var u=this;u.on("data",n),e.on("drain",r),e._isStdio||t&&!1===t.end||(u.on("end",o),u.on("close",a));var c=!1;return u.on("error",s),e.on("error",s),u.on("end",l),u.on("close",l),e.on("close",l),e.emit("pipe",u),e}},{events:50,inherits:53,"readable-stream/duplex.js":61,"readable-stream/passthrough.js":67,"readable-stream/readable.js":68,"readable-stream/transform.js":69,"readable-stream/writable.js":70}],60:[function(e,t,n){arguments[4][46][0].apply(n,arguments)},{dup:46}],61:[function(e,t,n){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":62}],62:[function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);u.call(this,e),c.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",i)}function i(){this.allowHalfOpen||this._writableState.ended||s(o,this)}function o(e){e.end()}var a=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};t.exports=r;var s=e("process-nextick-args"),l=e("core-util-is");l.inherits=e("inherits");var u=e("./_stream_readable"),c=e("./_stream_writable");l.inherits(r,u);for(var f=a(c.prototype),h=0;h<f.length;h++){var d=f[h];r.prototype[d]||(r.prototype[d]=c.prototype[d])}},{"./_stream_readable":64,"./_stream_writable":66,"core-util-is":47,inherits:53,"process-nextick-args":57}],63:[function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);i.call(this,e)}t.exports=r;var i=e("./_stream_transform"),o=e("core-util-is");o.inherits=e("inherits"),o.inherits(r,i),r.prototype._transform=function(e,t,n){n(null,e)}},{"./_stream_transform":65,"core-util-is":47,inherits:53}],64:[function(e,t,n){(function(n){"use strict";function r(e,t,n){if(z)return e.prependListener(t,n);e._events&&e._events[t]?_(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function i(t,n){I=I||e("./_stream_duplex"),t=t||{},this.objectMode=!!t.objectMode,n instanceof I&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var r=t.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(L||(L=e("string_decoder/").StringDecoder),this.decoder=new L(t.encoding),this.encoding=t.encoding)}function o(t){if(I=I||e("./_stream_duplex"),!(this instanceof o))return new o(t);this._readableState=new i(t,this),this.readable=!0,t&&"function"==typeof t.read&&(this._read=t.read),T.call(this)}function a(e,t,n,r,i){var o=c(t,n);if(o)e.emit("error",o);else if(null===n)t.reading=!1,f(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!i){var a=new Error("stream.push() after EOF");e.emit("error",a)}else if(t.endEmitted&&i){var l=new Error("stream.unshift() after end event");e.emit("error",l)}else{var u;!t.decoder||i||r||(n=t.decoder.write(n),u=!t.objectMode&&0===n.length),i||(t.reading=!1),u||(t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&h(e))),p(e,t)}else i||(t.reading=!1);return s(t)}function s(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function l(e){return e>=B?e=B:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function u(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:null===e||isNaN(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:e<=0?0:(e>t.highWaterMark&&(t.highWaterMark=l(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function c(e,t){var n=null;return D.isBuffer(t)||"string"==typeof t||null===t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function f(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,h(e)}}function h(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(N("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?k(d,e):d(e))}function d(e){N("emit readable"),e.emit("readable"),w(e)}function p(e,t){t.readingMore||(t.readingMore=!0,k(g,e,t))}function g(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(N("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function m(e){return function(){var t=e._readableState;N("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&M(e,"data")&&(t.flowing=!0,w(e))}}function v(e){N("readable nexttick read 0"),e.read(0)}function y(e,t){t.resumeScheduled||(t.resumeScheduled=!0,k(b,e,t))}function b(e,t){t.reading||(N("resume read 0"),e.read(0)),t.resumeScheduled=!1,e.emit("resume"),w(e),t.flowing&&!t.reading&&e.read(0)}function w(e){var t=e._readableState;if(N("flow",t.flowing),t.flowing)do{var n=e.read()}while(null!==n&&t.flowing)}function x(e,t){var n,r=t.buffer,i=t.length,o=!!t.decoder,a=!!t.objectMode;if(0===r.length)return null;if(0===i)n=null;else if(a)n=r.shift();else if(!e||e>=i)n=o?r.join(""):1===r.length?r[0]:D.concat(r,i),r.length=0;else if(e<r[0].length){var s=r[0];n=s.slice(0,e),r[0]=s.slice(e)}else if(e===r[0].length)n=r.shift();else{n=o?"":P.allocUnsafe(e);for(var l=0,u=0,c=r.length;u<c&&l<e;u++){var f=r[0],h=Math.min(e-l,f.length);o?n+=f.slice(0,h):f.copy(n,l,0,h),h<f.length?r[0]=f.slice(h):r.shift(),l+=h}}return n}function S(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,k($,t,e))}function $(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function C(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}function A(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}t.exports=o;var k=e("process-nextick-args"),_=e("isarray");o.ReadableState=i;var T,E=e("events").EventEmitter,M=function(e,t){return e.listeners(t).length};!function(){try{T=e("stream")}catch(e){}finally{T||(T=e("events").EventEmitter)}}();var D=e("buffer").Buffer,P=e("buffer-shims"),R=e("core-util-is");R.inherits=e("inherits");var O=e("util"),N=void 0;N=O&&O.debuglog?O.debuglog("stream"):function(){};var L;R.inherits(o,T);var I,I,z="function"==typeof E.prototype.prependListener;o.prototype.push=function(e,t){var n=this._readableState;return n.objectMode||"string"!=typeof e||(t=t||n.defaultEncoding)!==n.encoding&&(e=P.from(e,t),t=""),a(this,n,e,t,!1)},o.prototype.unshift=function(e){return a(this,this._readableState,e,"",!0)},o.prototype.isPaused=function(){return!1===this._readableState.flowing},o.prototype.setEncoding=function(t){return L||(L=e("string_decoder/").StringDecoder),this._readableState.decoder=new L(t),this._readableState.encoding=t,this};var B=8388608;o.prototype.read=function(e){N("read",e);var t=this._readableState,n=e;if(("number"!=typeof e||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return N("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?S(this):h(this),null;if(0===(e=u(e,t))&&t.ended)return 0===t.length&&S(this),null;var r=t.needReadable;N("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&(r=!0,N("length less than watermark",r)),(t.ended||t.reading)&&(r=!1,N("reading or ended",r)),r&&(N("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),r&&!t.reading&&(e=u(n,t));var i;return i=e>0?x(e,t):null,null===i&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),n!==e&&t.ended&&0===t.length&&S(this),null!==i&&this.emit("data",i),i},o.prototype._read=function(e){this.emit("error",new Error("not implemented"))},o.prototype.pipe=function(e,t){function i(e){N("onunpipe"),e===h&&a()}function o(){N("onend"),e.end()}function a(){N("cleanup"),e.removeListener("close",u),e.removeListener("finish",c),e.removeListener("drain",v),e.removeListener("error",l),e.removeListener("unpipe",i),h.removeListener("end",o),h.removeListener("end",a),h.removeListener("data",s),y=!0,!d.awaitDrain||e._writableState&&!e._writableState.needDrain||v()}function s(t){N("ondata"),!1===e.write(t)&&((1===d.pipesCount&&d.pipes===e||d.pipesCount>1&&-1!==A(d.pipes,e))&&!y&&(N("false write response, pause",h._readableState.awaitDrain),h._readableState.awaitDrain++),h.pause())}function l(t){N("onerror",t),f(),e.removeListener("error",l),0===M(e,"error")&&e.emit("error",t)}function u(){e.removeListener("finish",c),f()}function c(){N("onfinish"),e.removeListener("close",u),f()}function f(){N("unpipe"),h.unpipe(e)}var h=this,d=this._readableState;switch(d.pipesCount){case 0:d.pipes=e;break;case 1:d.pipes=[d.pipes,e];break;default:d.pipes.push(e)}d.pipesCount+=1,N("pipe count=%d opts=%j",d.pipesCount,t);var p=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr,g=p?o:a;d.endEmitted?k(g):h.once("end",g),e.on("unpipe",i);var v=m(h);e.on("drain",v);var y=!1;return h.on("data",s),r(e,"error",l),e.once("close",u),e.once("finish",c),e.emit("pipe",h),d.flowing||(N("pipe resume"),h.resume()),e},o.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<r;i++)n[i].emit("unpipe",this);return this}var o=A(t.pipes,e);return-1===o?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},o.prototype.on=function(e,t){var n=T.prototype.on.call(this,e,t);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&!this._readableState.endEmitted){var r=this._readableState;r.readableListening||(r.readableListening=!0,r.emittedReadable=!1,r.needReadable=!0,r.reading?r.length&&h(this):k(v,this))}return n},o.prototype.addListener=o.prototype.on,o.prototype.resume=function(){var e=this._readableState;return e.flowing||(N("resume"),e.flowing=!0,y(this,e)),this},o.prototype.pause=function(){return N("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(N("pause"),this._readableState.flowing=!1,this.emit("pause")),this},o.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;e.on("end",function(){if(N("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(i){if(N("wrapped data"),t.decoder&&(i=t.decoder.write(i)),(!t.objectMode||null!==i&&void 0!==i)&&(t.objectMode||i&&i.length)){r.push(i)||(n=!0,e.pause())}});for(var i in e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));return C(["error","close","destroy","pause","resume"],function(t){e.on(t,r.emit.bind(r,t))}),r._read=function(t){N("wrapped _read",t),n&&(n=!1,e.resume())},r},o._fromList=x}).call(this,e("_process"))},{"./_stream_duplex":62,_process:58,buffer:45,"buffer-shims":44,"core-util-is":47,events:50,inherits:53,isarray:60,"process-nextick-args":57,"string_decoder/":71,util:41}],65:[function(e,t,n){"use strict";function r(e){this.afterTransform=function(t,n){return i(e,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function i(e,t,n){var r=e._transformState;r.transforming=!1;var i=r.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,null!==n&&void 0!==n&&e.push(n),i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);s.call(this,e),this._transformState=new r(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(e){a(t,e)}):a(t)})}function a(e,t){if(t)return e.emit("error",t);var n=e._writableState,r=e._transformState;if(n.length)throw new Error("Calling transform done when ws.length != 0");if(r.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}t.exports=o;var s=e("./_stream_duplex"),l=e("core-util-is");l.inherits=e("inherits"),l.inherits(o,s),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,s.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("Not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0}},{"./_stream_duplex":62,"core-util-is":47,inherits:53}],66:[function(e,t,n){(function(n){"use strict";function r(){}function i(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function o(t,n){M=M||e("./_stream_duplex"),t=t||{},this.objectMode=!!t.objectMode,n instanceof M&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var o=!1===t.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){p(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new S(this)}function a(t){if(M=M||e("./_stream_duplex"),!(this instanceof a||this instanceof M))return new a(t);this._writableState=new o(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev)),k.call(this)}function s(e,t){var n=new Error("write after end");e.emit("error",n),$(t,n)}function l(e,t,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):T.isBuffer(n)||"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),$(r,o),i=!1),i}function u(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=E.from(t,n)),t}function c(e,t,n,r,o){n=u(t,n,r),T.isBuffer(n)&&(r="buffer");var a=t.objectMode?1:n.length;t.length+=a;var s=t.length<t.highWaterMark;if(s||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest=new i(n,r,o),l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else f(e,t,!1,a,n,r,o);return s}function f(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function h(e,t,n,r,i){--t.pendingcb,n?$(i,r):i(r),e._writableState.errorEmitted=!0,e.emit("error",r)}function d(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function p(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(d(n),t)h(e,n,r,t,i);else{var o=y(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||v(e,n),r?C(g,e,n,o,i):g(e,n,o,i)}}function g(e,t,n,r){n||m(e,t),t.pendingcb--,r(),w(e,t)}function m(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function v(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var a=0;n;)i[a]=n,n=n.next,a+=1;f(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new S(t)}else{for(;n;){var s=n.chunk,l=n.encoding,u=n.callback;if(f(e,t,!1,t.objectMode?1:s.length,s,l,u),n=n.next,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=n,t.bufferProcessing=!1}function y(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function b(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function w(e,t){var n=y(t);return n&&(0===t.pendingcb?(b(e,t),t.finished=!0,e.emit("finish")):b(e,t)),n}function x(e,t,n){t.ending=!0,w(e,t),n&&(t.finished?$(n):e.once("finish",n)),t.ended=!0,e.writable=!1}function S(e){var t=this;this.next=null,this.entry=null,this.finish=function(n){var r=t.entry;for(t.entry=null;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}}t.exports=a;var $=e("process-nextick-args"),C=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?setImmediate:$;a.WritableState=o;var A=e("core-util-is");A.inherits=e("inherits");var k,_={deprecate:e("util-deprecate")};!function(){try{k=e("stream")}catch(e){}finally{k||(k=e("events").EventEmitter)}}();var T=e("buffer").Buffer,E=e("buffer-shims");A.inherits(a,k);var M;o.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(o.prototype,"buffer",{get:_.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(e){}}();var M;a.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},a.prototype.write=function(e,t,n){var i=this._writableState,o=!1;return"function"==typeof t&&(n=t,t=null),T.isBuffer(e)?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=r),i.ended?s(this,n):l(this,i,e,n)&&(i.pendingcb++,o=c(this,i,e,t,n)),o},a.prototype.cork=function(){this._writableState.corked++},a.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||v(this,e))},a.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},a.prototype._write=function(e,t,n){n(new Error("not implemented"))},a.prototype._writev=null,a.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||x(this,r,n)}}).call(this,e("_process"))},{"./_stream_duplex":62,_process:58,buffer:45,"buffer-shims":44,"core-util-is":47,events:50,inherits:53,"process-nextick-args":57,"util-deprecate":73}],67:[function(e,t,n){t.exports=e("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":63}],68:[function(e,t,n){(function(r){var i=function(){try{return e("stream")}catch(e){}}();n=t.exports=e("./lib/_stream_readable.js"),n.Stream=i||n,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js"),!r.browser&&"disable"===r.env.READABLE_STREAM&&i&&(t.exports=i)}).call(this,e("_process"))},{"./lib/_stream_duplex.js":62,"./lib/_stream_passthrough.js":63,"./lib/_stream_readable.js":64,"./lib/_stream_transform.js":65,"./lib/_stream_writable.js":66,_process:58}],69:[function(e,t,n){t.exports=e("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":65}],70:[function(e,t,n){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":66}],71:[function(e,t,n){function r(e){if(e&&!l(e))throw new Error("Unknown encoding: "+e)}function i(e){return e.toString(this.encoding)}function o(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function a(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var s=e("buffer").Buffer,l=s.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},u=n.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),r(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=o;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=a;break;default:return void(this.write=i)}this.charBuffer=new s(6),this.charReceived=0,this.charLength=0};u.prototype.write=function(e){for(var t="";this.charLength;){var n=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";e=e.slice(n,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var r=t.charCodeAt(t.length-1);if(!(r>=55296&&r<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var i=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,i),i-=this.charReceived),t+=e.toString(this.encoding,0,i);var i=t.length-1,r=t.charCodeAt(i);if(r>=55296&&r<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,i)}return t},u.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var n=e[e.length-t];if(1==t&&n>>5==6){this.charLength=2;break}if(t<=2&&n>>4==14){this.charLength=3;break}if(t<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=t},u.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;t+=r.slice(0,n).toString(i)}return t}},{buffer:45}],72:[function(e,t,n){function r(e){return e.getUTCFullYear()+"-"+i(e.getUTCMonth()+1)+"-"+i(e.getUTCDate())+"T"+i(e.getUTCHours())+":"+i(e.getUTCMinutes())+":"+i(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}function i(e){var t=e.toString();return 1===t.length?"0"+t:t}t.exports=r},{}],73:[function(e,t,n){(function(e){function n(e,t){function n(){if(!i){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}if(r("noDeprecation"))return e;var i=!1;return n}function r(t){try{if(!e.localStorage)return!1}catch(e){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],74:[function(e,t,n){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],75:[function(e,t,n){(function(t,r){function i(e,t){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),g(t)?r.showHidden=t:t&&n._extend(r,t),x(r.showHidden)&&(r.showHidden=!1),x(r.depth)&&(r.depth=2),x(r.colors)&&(r.colors=!1),x(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),l(r,e,r.depth)}function o(e,t){var n=i.styles[t];return n?"["+i.colors[n][0]+"m"+e+"["+i.colors[n][1]+"m":e}function a(e,t){return e}function s(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function l(e,t,r){if(e.customInspect&&t&&k(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(r,e);return b(i)||(i=l(e,i,r)),i}var o=u(e,t);if(o)return o;var a=Object.keys(t),g=s(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),A(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return c(t);if(0===a.length){if(k(t)){var m=t.name?": "+t.name:"";return e.stylize("[Function"+m+"]","special")}if(S(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(C(t))return e.stylize(Date.prototype.toString.call(t),"date");if(A(t))return c(t)}var v="",y=!1,w=["{","}"];if(p(t)&&(y=!0,w=["[","]"]),k(t)){v=" [Function"+(t.name?": "+t.name:"")+"]"}if(S(t)&&(v=" "+RegExp.prototype.toString.call(t)),C(t)&&(v=" "+Date.prototype.toUTCString.call(t)),A(t)&&(v=" "+c(t)),0===a.length&&(!y||0==t.length))return w[0]+v+w[1];if(r<0)return S(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var x;return x=y?f(e,t,r,g,a):a.map(function(n){return h(e,t,r,g,n,y)}),e.seen.pop(),d(x,v,w)}function u(e,t){if(x(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return y(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)D(t,String(a))?o.push(h(e,t,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(e,t,n,r,i,!0))}),o}function h(e,t,n,r,i,o){var a,s,u;if(u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},u.get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),D(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=m(n)?l(e,u.value,null):l(e,u.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=e.stylize("[Circular]","special")),x(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function d(e,t,n){var r=0;return e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function p(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function m(e){return null===e}function v(e){return null==e}function y(e){return"number"==typeof e}function b(e){return"string"==typeof e}function w(e){return"symbol"==typeof e}function x(e){return void 0===e}function S(e){return $(e)&&"[object RegExp]"===T(e)}function $(e){return"object"==typeof e&&null!==e}function C(e){return $(e)&&"[object Date]"===T(e)}function A(e){return $(e)&&("[object Error]"===T(e)||e instanceof Error)}function k(e){return"function"==typeof e}function _(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function T(e){return Object.prototype.toString.call(e)}function E(e){return e<10?"0"+e.toString(10):e.toString(10)}function M(){var e=new Date,t=[E(e.getHours()),E(e.getMinutes()),E(e.getSeconds())].join(":");return[e.getDate(),O[e.getMonth()],t].join(" ")}function D(e,t){return Object.prototype.hasOwnProperty.call(e,t)}n.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,o=r.length,a=String(e).replace(/%[sdj%]/g,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),s=r[n];n<o;s=r[++n])m(s)||!$(s)?a+=" "+s:a+=" "+i(s);return a},n.deprecate=function(e,i){function o(){if(!a){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),a=!0}return e.apply(this,arguments)}if(x(r.process))return function(){return n.deprecate(e,i).apply(this,arguments)};if(!0===t.noDeprecation)return e;var a=!1;return o};var P,R={};n.debuglog=function(e){if(x(P)&&(P=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!R[e])if(new RegExp("\\b"+e+"\\b","i").test(P)){var r=t.pid;R[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else R[e]=function(){};return R[e]},n.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=p,n.isBoolean=g,n.isNull=m,n.isNullOrUndefined=v,n.isNumber=y,n.isString=b,n.isSymbol=w,n.isUndefined=x,n.isRegExp=S,n.isObject=$,n.isDate=C,n.isError=A,n.isFunction=k,n.isPrimitive=_,n.isBuffer=e("./support/isBuffer");var O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",M(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!$(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":74,_process:58,inherits:53}]},{},[1]),
!window.XMLHttpRequest||window.FileAPI&&FileAPI.shouldLoad||(window.XMLHttpRequest.prototype.setRequestHeader=function(e){return function(t,n){if("__setXHR_"===t){var r=n(this);r instanceof Function&&r(this)}else e.apply(this,arguments)}}(window.XMLHttpRequest.prototype.setRequestHeader));var ngFileUpload=angular.module("ngFileUpload",[]);ngFileUpload.version="12.2.13",ngFileUpload.service("UploadBase",["$http","$q","$timeout",function(e,t,n){function r(r){function i(e){u.notify&&u.notify(e),c.progressFunc&&n(function(){c.progressFunc(e)})}function s(e){return null!=r._start&&a?{loaded:e.loaded+r._start,total:r._file&&r._file.size||e.total,type:e.type,config:r,lengthComputable:!0,target:e.target}:e}function l(){e(r).then(function(e){if(a&&r._chunkSize&&!r._finished&&r._file){var t=r._file&&r._file.size||0;i({loaded:Math.min(r._end,t),total:t,config:r,type:"progress"}),o.upload(r,!0)}else r._finished&&delete r._finished,u.resolve(e)},function(e){u.reject(e)},function(e){u.notify(e)})}r.method=r.method||"POST",r.headers=r.headers||{};var u=r._deferred=r._deferred||t.defer(),c=u.promise;return r.disableProgress||(r.headers.__setXHR_=function(){return function(e){e&&e.upload&&e.upload.addEventListener&&(r.__XHR=e,r.xhrFn&&r.xhrFn(e),e.upload.addEventListener("progress",function(e){e.config=r,i(s(e))},!1),e.upload.addEventListener("load",function(e){e.lengthComputable&&(e.config=r,i(s(e)))},!1))}}),a?r._chunkSize&&r._end&&!r._finished?(r._start=r._end,r._end+=r._chunkSize,l()):r.resumeSizeUrl?e.get(r.resumeSizeUrl).then(function(e){r.resumeSizeResponseReader?r._start=r.resumeSizeResponseReader(e.data):r._start=parseInt((null==e.data.size?e.data:e.data.size).toString()),r._chunkSize&&(r._end=r._start+r._chunkSize),l()},function(e){throw e}):r.resumeSize?r.resumeSize().then(function(e){r._start=e,r._chunkSize&&(r._end=r._start+r._chunkSize),l()},function(e){throw e}):(r._chunkSize&&(r._start=0,r._end=r._start+r._chunkSize),l()):l(),c.success=function(e){return c.then(function(t){e(t.data,t.status,t.headers,r)}),c},c.error=function(e){return c.then(null,function(t){e(t.data,t.status,t.headers,r)}),c},c.progress=function(e){return c.progressFunc=e,c.then(null,null,function(t){e(t)}),c},c.abort=c.pause=function(){return r.__XHR&&n(function(){r.__XHR.abort()}),c},c.xhr=function(e){return r.xhrFn=function(t){return function(){t&&t.apply(c,arguments),e.apply(c,arguments)}}(r.xhrFn),c},o.promisesCount++,c.finally&&c.finally instanceof Function&&c.finally(function(){o.promisesCount--}),c}function i(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var o=this;o.promisesCount=0,this.isResumeSupported=function(){return window.Blob&&window.Blob.prototype.slice};var a=this.isResumeSupported();this.isUploadInProgress=function(){return o.promisesCount>0},this.rename=function(e,t){return e.ngfName=t,e},this.jsonBlob=function(e){null==e||angular.isString(e)||(e=JSON.stringify(e));var t=new window.Blob([e],{type:"application/json"});return t._ngfBlob=!0,t},this.json=function(e){return angular.toJson(e)},this.isFile=function(e){return null!=e&&(e instanceof window.Blob||e.flashId&&e.name&&e.size)},this.upload=function(e,t){function n(t,n){if(t._ngfBlob)return t;if(e._file=e._file||t,null!=e._start&&a){e._end&&e._end>=t.size&&(e._finished=!0,e._end=t.size);var r=t.slice(e._start,e._end||t.size);return r.name=t.name,r.ngfName=t.ngfName,e._chunkSize&&(n.append("_chunkSize",e._chunkSize),n.append("_currentChunkSize",e._end-e._start),n.append("_chunkNumber",Math.floor(e._start/e._chunkSize)),n.append("_totalSize",e._file.size)),r}return t}function s(t,r,i){if(void 0!==r)if(angular.isDate(r)&&(r=r.toISOString()),angular.isString(r))t.append(i,r);else if(o.isFile(r)){var a=n(r,t),l=i.split(",");l[1]&&(a.ngfName=l[1].replace(/^\s+|\s+$/g,""),i=l[0]),e._fileKey=e._fileKey||i,t.append(i,a,a.ngfName||a.name)}else if(angular.isObject(r)){if(r.$$ngfCircularDetection)throw"ngFileUpload: Circular reference in config.data. Make sure specified data for Upload.upload() has no circular reference: "+i;r.$$ngfCircularDetection=!0;try{for(var u in r)if(r.hasOwnProperty(u)&&"$$ngfCircularDetection"!==u){var c=null==e.objectKey?"[i]":e.objectKey;r.length&&parseInt(u)>-1&&(c=null==e.arrayKey?c:e.arrayKey),s(t,r[u],i+c.replace(/[ik]/g,u))}}finally{delete r.$$ngfCircularDetection}}else t.append(i,r)}return t||(e=i(e)),e._isDigested||(e._isDigested=!0,function(){e._chunkSize=o.translateScalars(e.resumeChunkSize),e._chunkSize=e._chunkSize?parseInt(e._chunkSize.toString()):null,e.headers=e.headers||{},e.headers["Content-Type"]=void 0,e.transformRequest=e.transformRequest?angular.isArray(e.transformRequest)?e.transformRequest:[e.transformRequest]:[],e.transformRequest.push(function(t){var n,r=new window.FormData;t=t||e.fields||{},e.file&&(t.file=e.file);for(n in t)if(t.hasOwnProperty(n)){var i=t[n];e.formDataAppender?e.formDataAppender(r,n,i):s(r,i,n)}return r})}()),r(e)},this.http=function(t){return t=i(t),t.transformRequest=t.transformRequest||function(t){return window.ArrayBuffer&&t instanceof window.ArrayBuffer||t instanceof window.Blob?t:e.defaults.transformRequest[0].apply(this,arguments)},t._chunkSize=o.translateScalars(t.resumeChunkSize),t._chunkSize=t._chunkSize?parseInt(t._chunkSize.toString()):null,r(t)},this.translateScalars=function(e){if(angular.isString(e)){if(e.search(/kb/i)===e.length-2)return parseFloat(1024*e.substring(0,e.length-2));if(e.search(/mb/i)===e.length-2)return parseFloat(1048576*e.substring(0,e.length-2));if(e.search(/gb/i)===e.length-2)return parseFloat(1073741824*e.substring(0,e.length-2));if(e.search(/b/i)===e.length-1)return parseFloat(e.substring(0,e.length-1));if(e.search(/s/i)===e.length-1)return parseFloat(e.substring(0,e.length-1));if(e.search(/m/i)===e.length-1)return parseFloat(60*e.substring(0,e.length-1));if(e.search(/h/i)===e.length-1)return parseFloat(3600*e.substring(0,e.length-1))}return e},this.urlToBlob=function(n){var r=t.defer();return e({url:n,method:"get",responseType:"arraybuffer"}).then(function(e){var t=new Uint8Array(e.data),i=e.headers("content-type")||"image/WebP",o=new window.Blob([t],{type:i}),a=n.match(/.*\/(.+?)(\?.*)?$/);a.length>1&&(o.name=a[1]),r.resolve(o)},function(e){r.reject(e)}),r.promise},this.setDefaults=function(e){this.defaults=e||{}},this.defaults={},this.version=ngFileUpload.version}]),ngFileUpload.service("Upload",["$parse","$timeout","$compile","$q","UploadExif",function(e,t,n,r,i){function o(e,t,n){var i=[l.emptyPromise()];return angular.forEach(e,function(r,o){0===r.type.indexOf("image/jpeg")&&l.attrGetter("ngfFixOrientation",t,n,{$file:r})&&i.push(l.happyPromise(l.applyExifRotation(r),r).then(function(t){e.splice(o,1,t)}))}),r.all(i)}function a(e,t,n,i){var o=l.attrGetter("ngfResize",t,n);if(!o||!l.isResizeSupported()||!e.length)return l.emptyPromise();if(o instanceof Function){var a=r.defer();return o(e).then(function(r){s(r,e,t,n,i).then(function(e){a.resolve(e)},function(e){a.reject(e)})},function(e){a.reject(e)})}return s(o,e,t,n,i)}function s(e,t,n,i,o){for(var a=[l.emptyPromise()],s=0;s<t.length;s++)!function(r,s){if(0===r.type.indexOf("image")){if(e.pattern&&!l.validatePattern(r,e.pattern))return;e.resizeIf=function(e,t){return l.attrGetter("ngfResizeIf",n,i,{$width:e,$height:t,$file:r})};var u=l.resize(r,e);a.push(u),u.then(function(e){t.splice(s,1,e)},function(e){r.$error="resize",(r.$errorMessages=r.$errorMessages||{}).resize=!0,r.$errorParam=(e?(e.message?e.message:e)+": ":"")+(r&&r.name),o.$ngfValidations.push({name:"resize",valid:!1}),l.applyModelValidation(o,t)})}}(t[s],s);return r.all(a)}var l=i;return l.getAttrWithDefaults=function(e,t){if(null!=e[t])return e[t];var n=l.defaults[t];return null==n?n:angular.isString(n)?n:JSON.stringify(n)},l.attrGetter=function(t,n,r,i){var o=this.getAttrWithDefaults(n,t);if(!r)return o;try{return i?e(o)(r,i):e(o)(r)}catch(e){if(t.search(/min|max|pattern/i))return o;throw e}},l.shouldUpdateOn=function(e,t,n){var r=l.attrGetter("ngfModelOptions",t,n);return!r||!r.updateOn||r.updateOn.split(" ").indexOf(e)>-1},l.emptyPromise=function(){var e=r.defer(),n=arguments;return t(function(){e.resolve.apply(e,n)}),e.promise},l.rejectPromise=function(){var e=r.defer(),n=arguments;return t(function(){e.reject.apply(e,n)}),e.promise},l.happyPromise=function(e,n){var i=r.defer();return e.then(function(e){i.resolve(e)},function(e){t(function(){throw e}),i.resolve(n)}),i.promise},l.updateModel=function(n,r,i,s,u,c,f){function h(o,a,u,f,h){r.$$ngfPrevValidFiles=o,r.$$ngfPrevInvalidFiles=a;var d=o&&o.length?o[0]:null,p=a&&a.length?a[0]:null;n&&(l.applyModelValidation(n,o),n.$setViewValue(h?d:o)),s&&e(s)(i,{$files:o,$file:d,$newFiles:u,$duplicateFiles:f,$invalidFiles:a,$invalidFile:p,$event:c});var g=l.attrGetter("ngfModelInvalid",r);g&&t(function(){e(g).assign(i,h?p:a)}),t(function(){})}function d(){function e(){t(function(){h(w?g.concat(b):b,w?m.concat(y):y,u,v,x)},$&&$.debounce?$.debounce.change||$.debounce:0)}var o=S?p:b;a(o,r,i,n).then(function(){S?l.validate(p,w?g.length:0,n,r,i).then(function(t){b=t.validsFiles,y=t.invalidsFiles,e()}):e()},function(){for(var t=0;t<o.length;t++){var n=o[t];if("resize"===n.$error){var r=b.indexOf(n);r>-1&&(b.splice(r,1),y.push(n)),e()}}})}var p,g,m,v=[],y=[],b=[];g=r.$$ngfPrevValidFiles||[],m=r.$$ngfPrevInvalidFiles||[],n&&n.$modelValue&&(g=function(e){return angular.isArray(e)?e:[e]}(n.$modelValue));var w=l.attrGetter("ngfKeep",r,i);p=(u||[]).slice(0),"distinct"!==w&&!0!==l.attrGetter("ngfKeepDistinct",r,i)||function(){function e(e,t){return e.name===t.name&&(e.$ngfOrigSize||e.size)===(t.$ngfOrigSize||t.size)&&e.type===t.type}if(u){p=[],v=[];for(var t=0;t<u.length;t++)!function(t){var n;for(n=0;n<g.length;n++)if(e(t,g[n]))return!0;for(n=0;n<m.length;n++)if(e(t,m[n]))return!0;return!1}(u[t])?p.push(u[t]):v.push(u[t])}}();var x=!w&&!l.attrGetter("ngfMultiple",r,i)&&!l.attrGetter("multiple",r);if(!w||p.length){l.attrGetter("ngfBeforeModelChange",r,i,{$files:u,$file:u&&u.length?u[0]:null,$newFiles:p,$duplicateFiles:v,$event:c});var S=l.attrGetter("ngfValidateAfterResize",r,i),$=l.attrGetter("ngfModelOptions",r,i);l.validate(p,w?g.length:0,n,r,i).then(function(e){f?h(p,[],u,v,x):($&&$.allowInvalid||S?b=p:(b=e.validFiles,y=e.invalidFiles),l.attrGetter("ngfFixOrientation",r,i)&&l.isExifSupported()?o(b,r,i).then(function(){d()}):d())})}},l}]),ngFileUpload.directive("ngfSelect",["$parse","$timeout","$compile","Upload",function(e,t,n,r){function i(e){var t=e.match(/Android[^\d]*(\d+)\.(\d+)/);if(t&&t.length>2){var n=r.defaults.androidFixMinorVersion||4;return parseInt(t[1])<4||parseInt(t[1])===n&&parseInt(t[2])<n}return-1===e.indexOf("Chrome")&&/.*Windows.*Safari.*/.test(e)}function o(e,t,n,r,o,s,l,u){function c(){return"input"===t[0].tagName.toLowerCase()&&n.type&&"file"===n.type.toLowerCase()}function f(){return y("ngfChange")||y("ngfSelect")}function h(t){if(u.shouldUpdateOn("change",n,e)){var i=t.__files_||t.target&&t.target.files,o=[];if(!i)return;for(var a=0;a<i.length;a++)o.push(i[a]);u.updateModel(r,n,e,f(),o.length?o:null,t)}}function d(e,r){function i(t){e.attr("id","ngf-"+t),r.attr("id","ngf-label-"+t)}for(var o=0;o<t[0].attributes.length;o++){var a=t[0].attributes[o];"type"!==a.name&&"class"!==a.name&&"style"!==a.name&&("id"===a.name?(i(a.value),b.push(n.$observe("id",i))):e.attr(a.name,a.value||"required"!==a.name&&"multiple"!==a.name?a.value:a.name))}}function p(n){if(t.attr("disabled"))return!1;if(!y("ngfSelectDisabled",e)){var r=g(n);if(null!=r)return r;m(n);try{c()||document.body.contains(S[0])||(a.push({el:t,ref:S.parent()}),document.body.appendChild(S.parent()[0]),S.bind("change",h))}catch(e){}return i(navigator.userAgent)?setTimeout(function(){S[0].click()},0):S[0].click(),!1}}function g(e){var t=e.changedTouches||e.originalEvent&&e.originalEvent.changedTouches;if(t){if("touchstart"===e.type)return x=t[0].clientX,w=t[0].clientY,!0;if("touchend"===e.type){var n=t[0].clientX,r=t[0].clientY;if(Math.abs(n-x)>20||Math.abs(r-w)>20)return e.stopPropagation(),e.preventDefault(),!1}return!0}}function m(t){u.shouldUpdateOn("click",n,e)&&S.val()&&(S.val(null),u.updateModel(r,n,e,f(),null,t,!0))}function v(e){if(S&&!S.attr("__ngf_ie10_Fix_")){if(!S[0].parentNode)return void(S=null);e.preventDefault(),e.stopPropagation(),S.unbind("click");var t=S.clone();return S.replaceWith(t),S=t,S.attr("__ngf_ie10_Fix_","true"),S.bind("change",h),S.bind("click",v),S[0].click(),!1}S.removeAttr("__ngf_ie10_Fix_")}var y=function(e,t){return u.attrGetter(e,n,t)};u.registerModelChangeValidator(r,n,e);var b=[];y("ngfMultiple")&&b.push(e.$watch(y("ngfMultiple"),function(){S.attr("multiple",y("ngfMultiple",e))})),y("ngfCapture")&&b.push(e.$watch(y("ngfCapture"),function(){S.attr("capture",y("ngfCapture",e))})),y("ngfAccept")&&b.push(e.$watch(y("ngfAccept"),function(){S.attr("accept",y("ngfAccept",e))})),b.push(n.$observe("accept",function(){S.attr("accept",y("accept"))}));var w=0,x=0,S=t;c()||(S=function(){if(c())return t;var e=angular.element('<input type="file">'),n=angular.element("<label>upload</label>");return n.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1"),d(e,n),a.push({el:t,ref:n}),document.body.appendChild(n.append(e)[0]),e}()),S.bind("change",h),c()?t.bind("click",m):t.bind("click touchstart touchend",p),-1!==navigator.appVersion.indexOf("MSIE 10")&&S.bind("click",v),r&&r.$formatters.push(function(e){return null!=e&&0!==e.length||S.val()&&S.val(null),e}),e.$on("$destroy",function(){c()||S.parent().remove(),angular.forEach(b,function(e){e()})}),s(function(){for(var e=0;e<a.length;e++){var t=a[e];document.body.contains(t.el[0])||(a.splice(e,1),t.ref.remove())}}),window.FileAPI&&window.FileAPI.ngfFixIE&&window.FileAPI.ngfFixIE(t,S,h)}var a=[];return{restrict:"AEC",require:"?ngModel",link:function(i,a,s,l){o(i,a,s,l,e,t,n,r)}}}]),function(){function e(e){return"img"===e.tagName.toLowerCase()?"image":"audio"===e.tagName.toLowerCase()?"audio":"video"===e.tagName.toLowerCase()?"video":/./}function t(t,n,r,i,o,a,s,l){function u(e){var a=t.attrGetter("ngfNoObjectUrl",o,r);t.dataUrl(e,a).finally(function(){n(function(){var t=(a?e.$ngfDataUrl:e.$ngfBlobUrl)||e.$ngfDataUrl;l?i.css("background-image","url('"+(t||"")+"')"):i.attr("src",t),t?i.removeClass("ng-hide"):i.addClass("ng-hide")})})}n(function(){var n=r.$watch(o[a],function(n){var c=s;if("ngfThumbnail"===a&&(c||(c={width:i[0].naturalWidth||i[0].clientWidth,height:i[0].naturalHeight||i[0].clientHeight}),0===c.width&&window.getComputedStyle)){var f=getComputedStyle(i[0]);f.width&&f.width.indexOf("px")>-1&&f.height&&f.height.indexOf("px")>-1&&(c={width:parseInt(f.width.slice(0,-2)),height:parseInt(f.height.slice(0,-2))})}if(angular.isString(n))return i.removeClass("ng-hide"),l?i.css("background-image","url('"+n+"')"):i.attr("src",n);!n||!n.type||0!==n.type.search(e(i[0]))||l&&0!==n.type.indexOf("image")?i.addClass("ng-hide"):c&&t.isResizeSupported()?(c.resizeIf=function(e,i){return t.attrGetter("ngfResizeIf",o,r,{$width:e,$height:i,$file:n})},t.resize(n,c).then(function(e){u(e)},function(e){throw e})):u(n)});r.$on("$destroy",function(){n()})})}ngFileUpload.service("UploadDataUrl",["UploadBase","$timeout","$q",function(e,t,n){var r=e;return r.base64DataUrl=function(e){if(angular.isArray(e)){var t=n.defer(),i=0;return angular.forEach(e,function(n){r.dataUrl(n,!0).finally(function(){if(++i===e.length){var n=[];angular.forEach(e,function(e){n.push(e.$ngfDataUrl)}),t.resolve(n,e)}})}),t.promise}return r.dataUrl(e,!0)},r.dataUrl=function(e,i){if(!e)return r.emptyPromise(e,e);if(i&&null!=e.$ngfDataUrl||!i&&null!=e.$ngfBlobUrl)return r.emptyPromise(i?e.$ngfDataUrl:e.$ngfBlobUrl,e);var o=i?e.$$ngfDataUrlPromise:e.$$ngfBlobUrlPromise;if(o)return o;var a=n.defer();return t(function(){if(window.FileReader&&e&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 8")||e.size<2e4)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 9")||e.size<4e6)){var n=window.URL||window.webkitURL;if(n&&n.createObjectURL&&!i){var o;try{o=n.createObjectURL(e)}catch(n){return void t(function(){e.$ngfBlobUrl="",a.reject()})}t(function(){if(e.$ngfBlobUrl=o,o){a.resolve(o,e),r.blobUrls=r.blobUrls||[],r.blobUrlsTotalSize=r.blobUrlsTotalSize||0,r.blobUrls.push({url:o,size:e.size}),r.blobUrlsTotalSize+=e.size||0;for(var t=r.defaults.blobUrlsMaxMemory||268435456,i=r.defaults.blobUrlsMaxQueueSize||200;(r.blobUrlsTotalSize>t||r.blobUrls.length>i)&&r.blobUrls.length>1;){var s=r.blobUrls.splice(0,1)[0];n.revokeObjectURL(s.url),r.blobUrlsTotalSize-=s.size}}})}else{var s=new FileReader;s.onload=function(n){t(function(){e.$ngfDataUrl=n.target.result,a.resolve(n.target.result,e),t(function(){delete e.$ngfDataUrl},1e3)})},s.onerror=function(){t(function(){e.$ngfDataUrl="",a.reject()})},s.readAsDataURL(e)}}else t(function(){e[i?"$ngfDataUrl":"$ngfBlobUrl"]="",a.reject()})}),o=i?e.$$ngfDataUrlPromise=a.promise:e.$$ngfBlobUrlPromise=a.promise,o.finally(function(){delete e[i?"$$ngfDataUrlPromise":"$$ngfBlobUrlPromise"]}),o},r}]),ngFileUpload.directive("ngfSrc",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(r,i,o){t(e,n,r,i,o,"ngfSrc",e.attrGetter("ngfResize",o,r),!1)}}}]),ngFileUpload.directive("ngfBackground",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(r,i,o){t(e,n,r,i,o,"ngfBackground",e.attrGetter("ngfResize",o,r),!0)}}}]),ngFileUpload.directive("ngfThumbnail",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(r,i,o){var a=e.attrGetter("ngfSize",o,r);t(e,n,r,i,o,"ngfThumbnail",a,e.attrGetter("ngfAsBackground",o,r))}}}]),ngFileUpload.config(["$compileProvider",function(e){e.imgSrcSanitizationWhitelist&&e.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/),e.aHrefSanitizationWhitelist&&e.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/)}]),ngFileUpload.filter("ngfDataUrl",["UploadDataUrl","$sce",function(e,t){return function(n,r,i){if(angular.isString(n))return t.trustAsResourceUrl(n);var o=n&&((r?n.$ngfDataUrl:n.$ngfBlobUrl)||n.$ngfDataUrl);return n&&!o?(!n.$ngfDataUrlFilterInProgress&&angular.isObject(n)&&(n.$ngfDataUrlFilterInProgress=!0,e.dataUrl(n,r)),""):(n&&delete n.$ngfDataUrlFilterInProgress,(n&&o?i?t.trustAsResourceUrl(o):o:n)||"")}}])}(),ngFileUpload.service("UploadValidate",["UploadDataUrl","$q","$timeout",function(e,t,n){function r(e){var t="",n=[];if(e.length>2&&"/"===e[0]&&"/"===e[e.length-1])t=e.substring(1,e.length-1);else{var i=e.split(",");if(i.length>1)for(var o=0;o<i.length;o++){var a=r(i[o]);a.regexp?(t+="("+a.regexp+")",o<i.length-1&&(t+="|")):n=n.concat(a.excludes)}else 0===e.indexOf("!")?n.push("^((?!"+r(e.substring(1)).regexp+").)*$"):(0===e.indexOf(".")&&(e="*"+e),t="^"+e.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$",t=t.replace(/\\\*/g,".*").replace(/\\\?/g,"."))}return{regexp:t,excludes:n}}function i(e,t){null==t||e.$dirty||(e.$setDirty?e.$setDirty():e.$dirty=!0)}var o=e;return o.validatePattern=function(e,t){if(!t)return!0;var n=r(t),i=!0;if(n.regexp&&n.regexp.length){var o=new RegExp(n.regexp,"i");i=null!=e.type&&o.test(e.type)||null!=e.name&&o.test(e.name)}for(var a=n.excludes.length;a--;){var s=new RegExp(n.excludes[a],"i");i=i&&(null==e.type||s.test(e.type))&&(null==e.name||s.test(e.name))}return i},o.ratioToFloat=function(e){var t=e.toString(),n=t.search(/[x:]/i);return t=n>-1?parseFloat(t.substring(0,n))/parseFloat(t.substring(n+1)):parseFloat(t)},o.registerModelChangeValidator=function(e,t,n){e&&e.$formatters.push(function(r){if(e.$dirty){var i=r;r&&!angular.isArray(r)&&(i=[r]),o.validate(i,0,e,t,n).then(function(){o.applyModelValidation(e,i)})}return r})},o.applyModelValidation=function(e,t){i(e,t),angular.forEach(e.$ngfValidations,function(t){e.$setValidity(t.name,t.valid)})},o.getValidationAttr=function(e,t,n,r,i){var a="ngf"+n[0].toUpperCase()+n.substr(1),s=o.attrGetter(a,e,t,{$file:i});if(null==s&&(s=o.attrGetter("ngfValidate",e,t,{$file:i}))){var l=(r||n).split(".");s=s[l[0]],l.length>1&&(s=s&&s[l[1]])}return s},o.validate=function(e,n,r,i,a){function s(t,n,s){if(e){for(var l=e.length,u=null;l--;){var d=e[l];if(d){var p=o.getValidationAttr(i,a,t,n,d);null!=p&&(s(d,p,l)||(-1===c.indexOf(t)?(d.$error=t,(d.$errorMessages=d.$errorMessages||{})[t]=!0,d.$errorParam=p,-1===h.indexOf(d)&&h.push(d),f||e.splice(l,1),u=!1):e.splice(l,1)))}}null!==u&&r.$ngfValidations.push({name:t,valid:u})}}function l(n,s,l,d,p){function g(t,r,i){function o(o){if(o())if(-1===c.indexOf(n)){if(r.$error=n,(r.$errorMessages=r.$errorMessages||{})[n]=!0,r.$errorParam=i,-1===h.indexOf(r)&&h.push(r),!f){var a=e.indexOf(r);a>-1&&e.splice(a,1)}t.resolve(!1)}else{var s=e.indexOf(r);s>-1&&e.splice(s,1),t.resolve(!0)}else t.resolve(!0)}null!=i?d(r,i).then(function(e){o(function(){return!p(e,i)})},function(){o(function(){return u("ngfValidateForce",{$file:r})})}):t.resolve(!0)}var m=[o.emptyPromise(!0)];e&&(e=void 0===e.length?[e]:e,angular.forEach(e,function(e){var r=t.defer();if(m.push(r.promise),l&&(null==e.type||0!==e.type.search(l)))return void r.resolve(!0);"dimensions"===n&&null!=o.attrGetter("ngfDimensions",i)?o.imageDimensions(e).then(function(t){g(r,e,u("ngfDimensions",{$file:e,$width:t.width,$height:t.height}))},function(){r.resolve(!1)}):"duration"===n&&null!=o.attrGetter("ngfDuration",i)?o.mediaDuration(e).then(function(t){g(r,e,u("ngfDuration",{$file:e,$duration:t}))},function(){r.resolve(!1)}):g(r,e,o.getValidationAttr(i,a,n,s,e))}));var v=t.defer();return t.all(m).then(function(e){for(var t=!0,i=0;i<e.length;i++)if(!e[i]){t=!1;break}r.$ngfValidations.push({name:n,valid:t}),v.resolve(t)}),v.promise}r=r||{},r.$ngfValidations=r.$ngfValidations||[],angular.forEach(r.$ngfValidations,function(e){e.valid=!0});var u=function(e,t){return o.attrGetter(e,i,a,t)},c=(o.attrGetter("ngfIgnoreInvalid",i,a)||"").split(" "),f=o.attrGetter("ngfRunAllValidations",i,a);if(null==e||0===e.length)return o.emptyPromise({validFiles:e,invalidFiles:[]});e=void 0===e.length?[e]:e.slice(0);var h=[];s("pattern",null,o.validatePattern),s("minSize","size.min",function(e,t){return e.size+.1>=o.translateScalars(t)}),s("maxSize","size.max",function(e,t){return e.size-.1<=o.translateScalars(t)});var d=0;if(s("maxTotalSize",null,function(t,n){return!((d+=t.size)>o.translateScalars(n))||(e.splice(0,e.length),!1)}),s("validateFn",null,function(e,t){return!0===t||null===t||""===t}),!e.length)return o.emptyPromise({validFiles:[],invalidFiles:h});var p=t.defer(),g=[];return g.push(l("maxHeight","height.max",/image/,this.imageDimensions,function(e,t){return e.height<=t})),g.push(l("minHeight","height.min",/image/,this.imageDimensions,function(e,t){return e.height>=t})),g.push(l("maxWidth","width.max",/image/,this.imageDimensions,function(e,t){return e.width<=t})),g.push(l("minWidth","width.min",/image/,this.imageDimensions,function(e,t){return e.width>=t})),g.push(l("dimensions",null,/image/,function(e,t){return o.emptyPromise(t)},function(e){return e})),g.push(l("ratio",null,/image/,this.imageDimensions,function(e,t){for(var n=t.toString().split(","),r=!1,i=0;i<n.length;i++)Math.abs(e.width/e.height-o.ratioToFloat(n[i]))<.01&&(r=!0);return r})),g.push(l("maxRatio","ratio.max",/image/,this.imageDimensions,function(e,t){return e.width/e.height-o.ratioToFloat(t)<1e-4})),g.push(l("minRatio","ratio.min",/image/,this.imageDimensions,function(e,t){return e.width/e.height-o.ratioToFloat(t)>-1e-4})),g.push(l("maxDuration","duration.max",/audio|video/,this.mediaDuration,function(e,t){return e<=o.translateScalars(t)})),g.push(l("minDuration","duration.min",/audio|video/,this.mediaDuration,function(e,t){return e>=o.translateScalars(t)})),g.push(l("duration",null,/audio|video/,function(e,t){return o.emptyPromise(t)},function(e){return e})),g.push(l("validateAsyncFn",null,null,function(e,t){return t},function(e){return!0===e||null===e||""===e})),t.all(g).then(function(){if(f)for(var t=0;t<e.length;t++){var r=e[t];r.$error&&e.splice(t--,1)}f=!1,s("maxFiles",null,function(e,t,r){return n+r<t}),p.resolve({validFiles:e,invalidFiles:h})}),p.promise},o.imageDimensions=function(e){if(e.$ngfWidth&&e.$ngfHeight){var r=t.defer();return n(function(){r.resolve({width:e.$ngfWidth,height:e.$ngfHeight})}),r.promise}if(e.$ngfDimensionPromise)return e.$ngfDimensionPromise;var i=t.defer();return n(function(){if(0!==e.type.indexOf("image"))return void i.reject("not image");o.dataUrl(e).then(function(t){function r(){var t=s[0].naturalWidth||s[0].clientWidth,n=s[0].naturalHeight||s[0].clientHeight;s.remove(),e.$ngfWidth=t,e.$ngfHeight=n,i.resolve({width:t,height:n})}function o(){s.remove(),i.reject("load error")}function a(){n(function(){s[0].parentNode&&(s[0].clientWidth?r():l++>10?o():a())},1e3)}var s=angular.element("<img>").attr("src",t).css("visibility","hidden").css("position","fixed").css("max-width","none !important").css("max-height","none !important");s.on("load",r),s.on("error",o);var l=0;a(),angular.element(document.getElementsByTagName("body")[0]).append(s)},function(){i.reject("load error")})}),e.$ngfDimensionPromise=i.promise,e.$ngfDimensionPromise.finally(function(){delete e.$ngfDimensionPromise}),e.$ngfDimensionPromise},o.mediaDuration=function(e){if(e.$ngfDuration){var r=t.defer();return n(function(){r.resolve(e.$ngfDuration)}),r.promise}if(e.$ngfDurationPromise)return e.$ngfDurationPromise;var i=t.defer();return n(function(){if(0!==e.type.indexOf("audio")&&0!==e.type.indexOf("video"))return void i.reject("not media");o.dataUrl(e).then(function(t){function r(){var t=s[0].duration;e.$ngfDuration=t,s.remove(),i.resolve(t)}function o(){s.remove(),i.reject("load error")}function a(){n(function(){s[0].parentNode&&(s[0].duration?r():l>10?o():a())},1e3)}var s=angular.element(0===e.type.indexOf("audio")?"<audio>":"<video>").attr("src",t).css("visibility","none").css("position","fixed");s.on("loadedmetadata",r),s.on("error",o);var l=0;a(),angular.element(document.body).append(s)},function(){i.reject("load error")})}),e.$ngfDurationPromise=i.promise,e.$ngfDurationPromise.finally(function(){delete e.$ngfDurationPromise}),e.$ngfDurationPromise},o}]),ngFileUpload.service("UploadResize",["UploadValidate","$q",function(e,t){var n=e,r=function(e,t,n,r,i){var o=i?Math.max(n/e,r/t):Math.min(n/e,r/t);return{width:e*o,height:t*o,marginX:e*o-n,marginY:t*o-r}},i=function(e,i,o,a,s,l,u,c){var f=t.defer(),h=document.createElement("canvas"),d=document.createElement("img");return d.setAttribute("style","visibility:hidden;position:fixed;z-index:-100000"),document.body.appendChild(d),d.onload=function(){var e=d.width,t=d.height;if(d.parentNode.removeChild(d),null!=c&&!1===c(e,t))return void f.reject("resizeIf");try{if(l){var p=n.ratioToFloat(l);e/t<p?(i=e,o=i/p):(o=t,i=o*p)}i||(i=e),o||(o=t);var g=r(e,t,i,o,u);h.width=Math.min(g.width,i),h.height=Math.min(g.height,o);h.getContext("2d").drawImage(d,Math.min(0,-g.marginX/2),Math.min(0,-g.marginY/2),g.width,g.height),f.resolve(h.toDataURL(s||"image/WebP",a||.934))}catch(e){f.reject(e)}},d.onerror=function(){d.parentNode.removeChild(d),f.reject()},d.src=e,f.promise};return n.dataUrltoBlob=function(e,t,n){for(var r=e.split(","),i=r[0].match(/:(.*?);/)[1],o=atob(r[1]),a=o.length,s=new Uint8Array(a);a--;)s[a]=o.charCodeAt(a);var l=new window.Blob([s],{type:i});return l.name=t,l.$ngfOrigSize=n,l},n.isResizeSupported=function(){var e=document.createElement("canvas");return window.atob&&e.getContext&&e.getContext("2d")&&window.Blob},n.isResizeSupported()&&Object.defineProperty(window.Blob.prototype,"name",{get:function(){return this.$ngfName},set:function(e){this.$ngfName=e},configurable:!0}),n.resize=function(e,r){if(0!==e.type.indexOf("image"))return n.emptyPromise(e);var o=t.defer();return n.dataUrl(e,!0).then(function(t){i(t,r.width,r.height,r.quality,r.type||e.type,r.ratio,r.centerCrop,r.resizeIf).then(function(i){if("image/jpeg"===e.type&&!1!==r.restoreExif)try{i=n.restoreExif(t,i)}catch(e){setTimeout(function(){throw e},1)}try{var a=n.dataUrltoBlob(i,e.name,e.size);o.resolve(a)}catch(e){o.reject(e)}},function(t){"resizeIf"===t&&o.resolve(e),o.reject(t)})},function(e){o.reject(e)}),o.promise},n}]),function(){function e(e,n,r,i,o,a,s,l,u,c){function f(){return n.attr("disabled")||y("ngfDropDisabled",e)}function h(t,n,r){if(t){var i;try{i=t&&t.getData&&t.getData("text/html")}catch(e){}m(t.items,t.files,!1!==y("ngfAllowDir",e),y("multiple")||y("ngfMultiple",e)).then(function(e){e.length?d(e,n):p(r,i).then(function(e){d(e,n)})})}}function d(t,n){l.updateModel(i,r,e,y("ngfChange")||y("ngfDrop"),t,n)}function p(t,n){if(!l.shouldUpdateOn(t,r,e)||"string"!=typeof n)return l.rejectPromise([]);var i=[];n.replace(/<(img src|img [^>]* src) *=\"([^\"]*)\"/gi,function(e,t,n){i.push(n)});var o=[],a=[];if(i.length){angular.forEach(i,function(e){o.push(l.urlToBlob(e).then(function(e){a.push(e)}))});var s=c.defer();return c.all(o).then(function(){s.resolve(a)},function(e){s.reject(e)}),s.promise}return l.emptyPromise()}function g(e,t,n,r){var i=y("ngfDragOverClass",e,{$event:n}),o="dragover";if(angular.isString(i))o=i;else if(i&&(i.delay&&(S=i.delay),i.accept||i.reject)){var a=n.dataTransfer.items;if(null!=a&&a.length)for(var s=i.pattern||y("ngfPattern",e,{$event:n}),u=a.length;u--;){if(!l.validatePattern(a[u],s)){o=i.reject;break}o=i.accept}else o=i.accept}r(o)}function m(t,n,i,o){function a(e,t){var n=c.defer();if(null!=e)if(e.isDirectory){var r=[l.emptyPromise()];if(h){var i={type:"directory"};i.name=i.path=(t||"")+e.name,d.push(i)}var o=e.createReader(),s=[],g=function(){o.readEntries(function(i){try{i.length?(s=s.concat(Array.prototype.slice.call(i||[],0)),g()):(angular.forEach(s.slice(0),function(n){d.length<=u&&p<=f&&r.push(a(n,(t||"")+e.name+"/"))}),c.all(r).then(function(){n.resolve()},function(e){n.reject(e)}))}catch(e){n.reject(e)}},function(e){n.reject(e)})};g()}else e.file(function(e){try{e.path=(t||"")+e.name,h&&(e=l.rename(e,e.path)),d.push(e),p+=e.size,n.resolve()}catch(e){n.reject(e)}},function(e){n.reject(e)});return n.promise}var u=l.getValidationAttr(r,e,"maxFiles");null==u&&(u=Number.MAX_VALUE);var f=l.getValidationAttr(r,e,"maxTotalSize");null==f&&(f=Number.MAX_VALUE);var h=y("ngfIncludeDir",e),d=[],p=0,g=[l.emptyPromise()];if(t&&t.length>0&&"file:"!==s.location.protocol)for(var m=0;m<t.length;m++){if(t[m].webkitGetAsEntry&&t[m].webkitGetAsEntry()&&t[m].webkitGetAsEntry().isDirectory){var v=t[m].webkitGetAsEntry();if(v.isDirectory&&!i)continue;null!=v&&g.push(a(v))}else{var b=t[m].getAsFile();null!=b&&(d.push(b),p+=b.size)}if(d.length>u||p>f||!o&&d.length>0)break}else if(null!=n)for(var w=0;w<n.length;w++){var x=n.item(w);if((x.type||x.size>0)&&(d.push(x),p+=x.size),d.length>u||p>f||!o&&d.length>0)break}var S=c.defer();return c.all(g).then(function(){if(o||h||!d.length)S.resolve(d);else{for(var e=0;d[e]&&"directory"===d[e].type;)e++;S.resolve([d[e]])}},function(e){S.reject(e)}),S.promise}var v=t(),y=function(e,t,n){return l.attrGetter(e,r,t,n)};if(y("dropAvailable")&&a(function(){e[y("dropAvailable")]?e[y("dropAvailable")].value=v:e[y("dropAvailable")]=v}),!v)return void(!0===y("ngfHideOnDropNotAvailable",e)&&n.css("display","none"));null==y("ngfSelect")&&l.registerModelChangeValidator(i,r,e);var b,w=null,x=o(y("ngfStopPropagation")),S=1;n[0].addEventListener("dragover",function(t){if(!f()&&l.shouldUpdateOn("drop",r,e)){if(t.preventDefault(),x(e)&&t.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var i=t.dataTransfer.effectAllowed;t.dataTransfer.dropEffect="move"===i||"linkMove"===i?"move":"copy"}a.cancel(w),b||(b="C",g(e,r,t,function(r){b=r,n.addClass(b),y("ngfDrag",e,{$isDragging:!0,$class:b,$event:t})}))}},!1),n[0].addEventListener("dragenter",function(t){!f()&&l.shouldUpdateOn("drop",r,e)&&(t.preventDefault(),x(e)&&t.stopPropagation())},!1),n[0].addEventListener("dragleave",function(t){!f()&&l.shouldUpdateOn("drop",r,e)&&(t.preventDefault(),
x(e)&&t.stopPropagation(),w=a(function(){b&&n.removeClass(b),b=null,y("ngfDrag",e,{$isDragging:!1,$event:t})},S||100))},!1),n[0].addEventListener("drop",function(t){!f()&&l.shouldUpdateOn("drop",r,e)&&(t.preventDefault(),x(e)&&t.stopPropagation(),b&&n.removeClass(b),b=null,h(t.dataTransfer,t,"dropUrl"))},!1),n[0].addEventListener("paste",function(t){navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&y("ngfEnableFirefoxPaste",e)&&t.preventDefault(),!f()&&l.shouldUpdateOn("paste",r,e)&&h(t.clipboardData||t.originalEvent.clipboardData,t,"pasteUrl")},!1),navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&y("ngfEnableFirefoxPaste",e)&&(n.attr("contenteditable",!0),n.on("keypress",function(e){e.metaKey||e.ctrlKey||e.preventDefault()}))}function t(){var e=document.createElement("div");return"draggable"in e&&"ondrop"in e&&!/Edge\/12./i.test(navigator.userAgent)}ngFileUpload.directive("ngfDrop",["$parse","$timeout","$window","Upload","$http","$q",function(t,n,r,i,o,a){return{restrict:"AEC",require:"?ngModel",link:function(s,l,u,c){e(s,l,u,c,t,n,r,i,o,a)}}}]),ngFileUpload.directive("ngfNoFileDrop",function(){return function(e,n){t()&&n.css("display","none")}}),ngFileUpload.directive("ngfDropAvailable",["$parse","$timeout","Upload",function(e,n,r){return function(i,o,a){if(t()){var s=e(r.attrGetter("ngfDropAvailable",a));n(function(){s(i),s.assign&&s.assign(i,!0)})}}}])}(),ngFileUpload.service("UploadExif",["UploadResize","$q",function(e,t){function n(e,t,n,r){switch(t){case 2:return e.transform(-1,0,0,1,n,0);case 3:return e.transform(-1,0,0,-1,n,r);case 4:return e.transform(1,0,0,-1,0,r);case 5:return e.transform(0,1,1,0,0,0);case 6:return e.transform(0,1,-1,0,r,0);case 7:return e.transform(0,-1,-1,0,r,n);case 8:return e.transform(0,-1,1,0,0,n)}}function r(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=0;i<r;i++)t+=String.fromCharCode(n[i]);return window.btoa(t)}var i=e;return i.isExifSupported=function(){return window.FileReader&&(new FileReader).readAsArrayBuffer&&i.isResizeSupported()},i.readOrientation=function(e){var n=t.defer(),r=new FileReader,i=e.slice?e.slice(0,65536):e;return r.readAsArrayBuffer(i),r.onerror=function(e){return n.reject(e)},r.onload=function(e){var t={orientation:1},r=new DataView(this.result);if(65496!==r.getUint16(0,!1))return n.resolve(t);for(var i=r.byteLength,o=2;o<i;){var a=r.getUint16(o,!1);if(o+=2,65505===a){if(1165519206!==r.getUint32(o+=2,!1))return n.resolve(t);var s=18761===r.getUint16(o+=6,!1);o+=r.getUint32(o+4,s);var l=r.getUint16(o,s);o+=2;for(var u=0;u<l;u++)if(274===r.getUint16(o+12*u,s)){var c=r.getUint16(o+12*u+8,s);return c>=2&&c<=8&&(r.setUint16(o+12*u+8,1,s),t.fixedArrayBuffer=e.target.result),t.orientation=c,n.resolve(t)}}else{if(65280!=(65280&a))break;o+=r.getUint16(o,!1)}}return n.resolve(t)},n.promise},i.applyExifRotation=function(e){if(0!==e.type.indexOf("image/jpeg"))return i.emptyPromise(e);var o=t.defer();return i.readOrientation(e).then(function(t){if(t.orientation<2||t.orientation>8)return o.resolve(e);i.dataUrl(e,!0).then(function(a){var s=document.createElement("canvas"),l=document.createElement("img");l.onload=function(){try{s.width=t.orientation>4?l.height:l.width,s.height=t.orientation>4?l.width:l.height;var a=s.getContext("2d");n(a,t.orientation,l.width,l.height),a.drawImage(l,0,0);var u=s.toDataURL(e.type||"image/WebP",.934);u=i.restoreExif(r(t.fixedArrayBuffer),u);var c=i.dataUrltoBlob(u,e.name);o.resolve(c)}catch(e){return o.reject(e)}},l.onerror=function(){o.reject()},l.src=a},function(e){o.reject(e)})},function(e){o.reject(e)}),o.promise},i.restoreExif=function(e,t){var n={};return n.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n.encode64=function(e){var t,n,r,i,o,a="",s="",l="",u=0;do{t=e[u++],n=e[u++],s=e[u++],r=t>>2,i=(3&t)<<4|n>>4,o=(15&n)<<2|s>>6,l=63&s,isNaN(n)?o=l=64:isNaN(s)&&(l=64),a=a+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(i)+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(l),t=n=s="",r=i=o=l=""}while(u<e.length);return a},n.restore=function(e,t){e.match("data:image/jpeg;base64,")&&(e=e.replace("data:image/jpeg;base64,",""));var n=this.decode64(e),r=this.slice2Segments(n),i=this.exifManipulation(t,r);return"data:image/jpeg;base64,"+this.encode64(i)},n.exifManipulation=function(e,t){var n=this.getExifArray(t),r=this.insertExif(e,n);return new Uint8Array(r)},n.getExifArray=function(e){for(var t,n=0;n<e.length;n++)if(t=e[n],255===t[0]&225===t[1])return t;return[]},n.insertExif=function(e,t){var n=e.replace("data:image/jpeg;base64,",""),r=this.decode64(n),i=r.indexOf(255,3),o=r.slice(0,i),a=r.slice(i),s=o;return s=s.concat(t),s=s.concat(a)},n.slice2Segments=function(e){for(var t=0,n=[];;){if(255===e[t]&218===e[t+1])break;if(255===e[t]&216===e[t+1])t+=2;else{var r=256*e[t+2]+e[t+3],i=t+r+2,o=e.slice(t,i);n.push(o),t=i}if(t>e.length)break}return n},n.decode64=function(e){var t,n,r,i,o,a="",s="",l=0,u=[];/[^A-Za-z0-9\+\/\=]/g.exec(e)&&console.log("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, NaNExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{r=this.KEY_STR.indexOf(e.charAt(l++)),i=this.KEY_STR.indexOf(e.charAt(l++)),o=this.KEY_STR.indexOf(e.charAt(l++)),s=this.KEY_STR.indexOf(e.charAt(l++)),t=r<<2|i>>4,n=(15&i)<<4|o>>2,a=(3&o)<<6|s,u.push(t),64!==o&&u.push(n),64!==s&&u.push(a),t=n=a="",r=i=o=s=""}while(l<e.length);return u},n.restore(e,t)},i}]),function(e,t){"undefined"!=typeof module&&module.exports?(t("undefined"==typeof angular?require("angular"):angular),module.exports="ngDialog"):"function"==typeof define&&define.amd?define(["angular"],t):t(e.angular)}(this,function(e){"use strict";var t=e.module("ngDialog",[]),n=e.element,r=e.isDefined,i=(document.body||document.documentElement).style,o=r(i.animation)||r(i.WebkitAnimation)||r(i.MozAnimation)||r(i.MsAnimation)||r(i.OAnimation),a="animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend",s={html:!1,body:!1},l={},u=[],c=!1,f=!1;return t.provider("ngDialog",function(){var t=this.defaults={className:"ngdialog-theme-default",appendClassName:"",disableAnimation:!1,plain:!1,showClose:!0,closeByDocument:!0,closeByEscape:!0,closeByNavigation:!1,appendTo:!1,preCloseCallback:!1,overlay:!0,cache:!0,trapFocus:!0,preserveFocus:!0,ariaAuto:!0,ariaRole:null,ariaLabelledById:null,ariaLabelledBySelector:null,ariaDescribedById:null,ariaDescribedBySelector:null,bodyClassName:"ngdialog-open",width:null,height:null};this.setForceHtmlReload=function(e){s.html=e||!1},this.setForceBodyReload=function(e){s.body=e||!1},this.setDefaults=function(n){e.extend(t,n)},this.setOpenOnePerName=function(e){f=e||!1};var r,i=0,h=0,d={};this.$get=["$document","$templateCache","$compile","$q","$http","$rootScope","$timeout","$window","$controller","$injector",function(p,g,m,v,y,b,w,x,S,$){var C=[],A={onDocumentKeydown:function(e){27===e.keyCode&&k.close("$escape")},activate:function(e){e.data("$ngDialogOptions").trapFocus&&(e.on("keydown",A.onTrapFocusKeydown),C.body.on("keydown",A.onTrapFocusKeydown))},deactivate:function(e){e.off("keydown",A.onTrapFocusKeydown),C.body.off("keydown",A.onTrapFocusKeydown)},deactivateAll:function(t){e.forEach(t,function(t){var n=e.element(t);A.deactivate(n)})},setBodyPadding:function(e){var t=parseInt(C.body.css("padding-right")||0,10);C.body.css("padding-right",t+e+"px"),C.body.data("ng-dialog-original-padding",t),b.$broadcast("ngDialog.setPadding",e)},resetBodyPadding:function(){var e=C.body.data("ng-dialog-original-padding");e?C.body.css("padding-right",e+"px"):C.body.css("padding-right",""),b.$broadcast("ngDialog.setPadding",0)},performCloseDialog:function(e,t){var n=e.data("$ngDialogOptions"),i=e.attr("id"),s=l[i];if(s){if(void 0!==x.Hammer){var f=s.hammerTime;f.off("tap",r),f.destroy&&f.destroy(),delete s.hammerTime}else e.unbind("click");1===h&&C.body.unbind("keydown",A.onDocumentKeydown),e.hasClass("ngdialog-closing")||(h-=1);var p=e.data("$ngDialogPreviousFocus");p&&p.focus&&p.focus(),b.$broadcast("ngDialog.closing",e,t),h=h<0?0:h,o&&!n.disableAnimation?(s.$destroy(),e.unbind(a).bind(a,function(){A.closeDialogElement(e,t)}).addClass("ngdialog-closing")):(s.$destroy(),A.closeDialogElement(e,t)),d[i]&&(d[i].resolve({id:i,value:t,$dialog:e,remainingDialogs:h}),delete d[i]),l[i]&&delete l[i],u.splice(u.indexOf(i),1),u.length||(C.body.unbind("keydown",A.onDocumentKeydown),c=!1)}},closeDialogElement:function(e,t){var n=e.data("$ngDialogOptions");e.remove(),0===h&&(C.html.removeClass(n.bodyClassName),C.body.removeClass(n.bodyClassName),A.resetBodyPadding()),b.$broadcast("ngDialog.closed",e,t)},closeDialog:function(t,n){var r=t.data("$ngDialogPreCloseCallback");if(r&&e.isFunction(r)){var i=r.call(t,n);if(e.isObject(i))i.closePromise?i.closePromise.then(function(){A.performCloseDialog(t,n)},function(){return!1}):i.then(function(){A.performCloseDialog(t,n)},function(){return!1});else{if(!1===i)return!1;A.performCloseDialog(t,n)}}else A.performCloseDialog(t,n)},onTrapFocusKeydown:function(t){var n,r=e.element(t.currentTarget);if(r.hasClass("ngdialog"))n=r;else if(null===(n=A.getActiveDialog()))return;var i=9===t.keyCode,o=!0===t.shiftKey;i&&A.handleTab(n,t,o)},handleTab:function(e,t,n){var r=A.getFocusableElements(e);if(0===r.length)return void(document.activeElement&&document.activeElement.blur&&document.activeElement.blur());var i=document.activeElement,o=Array.prototype.indexOf.call(r,i),a=-1===o,s=0===o,l=o===r.length-1,u=!1;n?(a||s)&&(r[r.length-1].focus(),u=!0):(a||l)&&(r[0].focus(),u=!0),u&&(t.preventDefault(),t.stopPropagation())},autoFocus:function(e){var t=e[0],r=t.querySelector("*[autofocus]");if(null===r||(r.focus(),document.activeElement!==r)){var i=A.getFocusableElements(e);if(i.length>0)return void i[0].focus();var o=A.filterVisibleElements(t.querySelectorAll("h1,h2,h3,h4,h5,h6,p,span"));if(o.length>0){var a=o[0];n(a).attr("tabindex","-1").css("outline","0"),a.focus()}}},getFocusableElements:function(e){var t=e[0],n=t.querySelectorAll("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]"),r=A.filterTabbableElements(n);return A.filterVisibleElements(r)},filterTabbableElements:function(e){for(var t=[],r=0;r<e.length;r++){var i=e[r];"-1"!==n(i).attr("tabindex")&&t.push(i)}return t},filterVisibleElements:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];(r.offsetWidth>0||r.offsetHeight>0)&&t.push(r)}return t},getActiveDialog:function(){var e=document.querySelectorAll(".ngdialog");return 0===e.length?null:n(e[e.length-1])},applyAriaAttributes:function(e,t){if(t.ariaAuto){if(!t.ariaRole){var n=A.getFocusableElements(e).length>0?"dialog":"alertdialog";t.ariaRole=n}t.ariaLabelledBySelector||(t.ariaLabelledBySelector="h1,h2,h3,h4,h5,h6"),t.ariaDescribedBySelector||(t.ariaDescribedBySelector="article,section,p")}t.ariaRole&&e.attr("role",t.ariaRole),A.applyAriaAttribute(e,"aria-labelledby",t.ariaLabelledById,t.ariaLabelledBySelector),A.applyAriaAttribute(e,"aria-describedby",t.ariaDescribedById,t.ariaDescribedBySelector)},applyAriaAttribute:function(e,t,r,i){if(r&&e.attr(t,r),i){var o=e.attr("id"),a=e[0].querySelector(i);if(!a)return;var s=o+"-"+t;return n(a).attr("id",s),e.attr(t,s),s}},detectUIRouter:function(){try{return e.module("ui.router"),!0}catch(e){return!1}},getRouterLocationEventName:function(){return A.detectUIRouter()?"$stateChangeStart":"$locationChangeStart"}},k={__PRIVATE__:A,open:function(o){function a(t,n){var n=n||{};return n.headers=n.headers||{},e.extend(n.headers,{Accept:"text/html"}),b.$broadcast("ngDialog.templateLoading",t),y.get(t,n).then(function(e){return b.$broadcast("ngDialog.templateLoaded",t),e.data||""})}var s=null;if(o=o||{},!(f&&o.name&&(s=o.name.toLowerCase().replace(/\s/g,"-")+"-dialog",this.isOpen(s)))){var p=e.copy(t),_=++i;s=s||"ngdialog"+_,u.push(s),void 0!==p.data&&(void 0===o.data&&(o.data={}),o.data=e.merge(e.copy(p.data),o.data)),e.extend(p,o);var T;d[s]=T=v.defer();var E;l[s]=E=e.isObject(p.scope)?p.scope.$new():b.$new();var M,D,P,R=e.extend({},p.resolve);return e.forEach(R,function(t,n){R[n]=e.isString(t)?$.get(t):$.invoke(t,null,null,n)}),v.all({template:function(t){return t?e.isString(t)&&p.plain?t:"boolean"!=typeof p.cache||p.cache?a(t,{cache:g}):a(t,{cache:!1}):"Empty template"}(p.template||p.templateUrl),locals:v.all(R)}).then(function(t){var i=t.template,o=t.locals;p.showClose&&(i+='<div class="ngdialog-close"></div>');var a=p.overlay?"":" ngdialog-no-overlay";if(M=n('<div id="'+s+'" class="ngdialog'+a+'"></div>'),M.html(p.overlay?'<div class="ngdialog-overlay"></div><div class="ngdialog-content" role="document">'+i+"</div>":'<div class="ngdialog-content" role="document">'+i+"</div>"),M.data("$ngDialogOptions",p),E.ngDialogId=s,p.data&&e.isString(p.data)){var l=p.data.replace(/^\s*/,"")[0];E.ngDialogData="{"===l||"["===l?e.fromJson(p.data):new String(p.data),E.ngDialogData.ngDialogId=s}else p.data&&e.isObject(p.data)&&(E.ngDialogData=p.data,E.ngDialogData.ngDialogId=s);if(p.className&&M.addClass(p.className),p.appendClassName&&M.addClass(p.appendClassName),p.width&&(P=M[0].querySelector(".ngdialog-content"),e.isString(p.width)?P.style.width=p.width:P.style.width=p.width+"px"),p.height&&(P=M[0].querySelector(".ngdialog-content"),e.isString(p.height)?P.style.height=p.height:P.style.height=p.height+"px"),p.disableAnimation&&M.addClass("ngdialog-disabled-animation"),D=p.appendTo&&e.isString(p.appendTo)?e.element(document.querySelector(p.appendTo)):C.body,A.applyAriaAttributes(M,p),p.preCloseCallback){var u;e.isFunction(p.preCloseCallback)?u=p.preCloseCallback:e.isString(p.preCloseCallback)&&E&&(e.isFunction(E[p.preCloseCallback])?u=E[p.preCloseCallback]:E.$parent&&e.isFunction(E.$parent[p.preCloseCallback])?u=E.$parent[p.preCloseCallback]:b&&e.isFunction(b[p.preCloseCallback])&&(u=b[p.preCloseCallback])),u&&M.data("$ngDialogPreCloseCallback",u)}if(E.closeThisDialog=function(e){A.closeDialog(M,e)},p.controller&&(e.isString(p.controller)||e.isArray(p.controller)||e.isFunction(p.controller))){var f;p.controllerAs&&e.isString(p.controllerAs)&&(f=p.controllerAs);var d=S(p.controller,e.extend(o,{$scope:E,$element:M}),!0,f);p.bindToController&&e.extend(d.instance,{ngDialogId:E.ngDialogId,ngDialogData:E.ngDialogData,closeThisDialog:E.closeThisDialog,confirm:E.confirm}),"function"==typeof d?M.data("$ngDialogControllerController",d()):M.data("$ngDialogControllerController",d)}if(w(function(){var e=document.querySelectorAll(".ngdialog");A.deactivateAll(e),m(M)(E);var t=x.innerWidth-C.body.prop("clientWidth");C.html.addClass(p.bodyClassName),C.body.addClass(p.bodyClassName);var n=t-(x.innerWidth-C.body.prop("clientWidth"));n>0&&A.setBodyPadding(n),D.append(M),A.activate(M),p.trapFocus&&A.autoFocus(M),p.name?b.$broadcast("ngDialog.opened",{dialog:M,name:p.name}):b.$broadcast("ngDialog.opened",M)}),c||(C.body.bind("keydown",A.onDocumentKeydown),c=!0),p.closeByNavigation){var g=A.getRouterLocationEventName();b.$on(g,function(e){!1===A.closeDialog(M)&&e.preventDefault()})}if(p.preserveFocus&&M.data("$ngDialogPreviousFocus",document.activeElement),r=function(e){var t=!!p.closeByDocument&&n(e.target).hasClass("ngdialog-overlay"),r=n(e.target).hasClass("ngdialog-close");(t||r)&&k.close(M.attr("id"),r?"$closeButton":"$document")},void 0!==x.Hammer){(E.hammerTime=x.Hammer(M[0])).on("tap",r)}else M.bind("click",r);return h+=1,k}),{id:s,closePromise:T.promise,close:function(e){A.closeDialog(M,e)}}}},openConfirm:function(r){var i=v.defer(),o=e.copy(t);r=r||{},void 0!==o.data&&(void 0===r.data&&(r.data={}),r.data=e.merge(e.copy(o.data),r.data)),e.extend(o,r),o.scope=e.isObject(o.scope)?o.scope.$new():b.$new(),o.scope.confirm=function(e){i.resolve(e);var t=n(document.getElementById(a.id));A.performCloseDialog(t,e)};var a=k.open(o);if(a)return a.closePromise.then(function(e){return e?i.reject(e.value):i.reject()}),i.promise},isOpen:function(e){return n(document.getElementById(e)).length>0},close:function(e,t){var r=n(document.getElementById(e));if(r.length)A.closeDialog(r,t);else if("$escape"===e){var i=u[u.length-1];r=n(document.getElementById(i)),r.data("$ngDialogOptions").closeByEscape&&A.closeDialog(r,"$escape")}else k.closeAll(t);return k},closeAll:function(e){for(var t=document.querySelectorAll(".ngdialog"),r=t.length-1;r>=0;r--){var i=t[r];A.closeDialog(n(i),e)}},getOpenDialogs:function(){return u},getDefaults:function(){return t}};return e.forEach(["html","body"],function(e){if(C[e]=p.find(e),s[e]){var t=A.getRouterLocationEventName();b.$on(t,function(){C[e]=p.find(e)})}}),k}]}),t.directive("ngDialog",["ngDialog",function(t){return{restrict:"A",scope:{ngDialogScope:"="},link:function(n,r,i){r.on("click",function(r){r.preventDefault();var o=e.isDefined(n.ngDialogScope)?n.ngDialogScope:"noScope";e.isDefined(i.ngDialogClosePrevious)&&t.close(i.ngDialogClosePrevious);var a=t.getDefaults();t.open({template:i.ngDialog,className:i.ngDialogClass||a.className,appendClassName:i.ngDialogAppendClass,controller:i.ngDialogController,controllerAs:i.ngDialogControllerAs,bindToController:i.ngDialogBindToController,disableAnimation:i.ngDialogDisableAnimation,scope:o,data:i.ngDialogData,showClose:"false"!==i.ngDialogShowClose&&("true"===i.ngDialogShowClose||a.showClose),closeByDocument:"false"!==i.ngDialogCloseByDocument&&("true"===i.ngDialogCloseByDocument||a.closeByDocument),closeByEscape:"false"!==i.ngDialogCloseByEscape&&("true"===i.ngDialogCloseByEscape||a.closeByEscape),overlay:"false"!==i.ngDialogOverlay&&("true"===i.ngDialogOverlay||a.overlay),preCloseCallback:i.ngDialogPreCloseCallback||a.preCloseCallback,bodyClassName:i.ngDialogBodyClass||a.bodyClassName})})}}}]),t}),function(e,t,n){"use strict";t.module("ngBusy.interceptor",[]).provider("busyInterceptor",function(){this.$get=["$rootScope","$q",function(e,t){function n(){i=o=0}function r(t){t.config.notBusy||(e.$broadcast("busy.end",{url:t.config.url,name:t.config.name,remaining:i-++o}),o>=i&&n())}var i=0,o=0;return{outstanding:function(){return i-o},request:function(n){return n.notBusy||(e.$broadcast("busy.begin",{url:n.url,name:n.name}),i++),n||t.when(n)},response:function(e){return r(e),e},responseError:function(e){return r(e),t.reject(e)}}}]}).config(["$httpProvider",function(e){e.interceptors.push("busyInterceptor")}]),t.module("ngBusy.busy",[]).directive("busy",["$parse","$timeout",function(e,n){return{restrict:"A",tranclude:!0,scope:{},controller:["$scope",function(e){this.setBusyMessageElement=function(t){e.busyMessageElement=t}}],link:function(r,i,o){o.$observe("busy",function(e){r.busyMessage=e}),o.$observe("busyWhenUrl",function(e){r.busyWhenUrl=e}),o.$observe("busyWhenName",function(e){r.busyWhenName=e}),o.$observe("busyAddClasses",function(e){r.busyAddClasses=e}),o.$observe("busyRemoveClasses",function(e){r.busyRemoveClasses=e}),o.$observe("busyDisabled",function(n){var i=e(n)(r);r.busyDisabled=!t.isDefined(i)||i}),o.$observe("notBusyWhenUrl",function(e){r.notBusyWhenUrl=e}),o.$observe("notBusyWhenName",function(e){r.notBusyWhenName=e}),o.$observe("notBusyAddClasses",function(e){r.notBusyAddClasses=e}),o.$observe("notBusyRemoveClasses",function(e){r.notBusyRemoveClasses=e}),o.$observe("notBusyDisabled",function(n){var i=e(n)(r);r.notBusyDisabled=!!t.isDefined(i)&&i}),r.isBusyFor=function(e,t){var n;return r[n=t?"busyWhenName":"notBusyWhenName"]?!!e.name&&!!e.name.match(r[n]):r[n=t?"busyWhenUrl":"notBusyWhenUrl"]?!!e.url&&!!e.url.match(r[n]):!0===t||e.remaining<=0},r.$on("busy.begin",function(e,t){if(!r.busy&&r.isBusyFor(t,!0)){r.originalContent=i.html(),r.busyDisabled&&n(function(){i.attr("disabled",!0)});var o=r.busyMessageElement?r.busyMessageElement.clone():null;(o||r.busyMessage)&&i.html("").append(o||r.busyMessage),i.removeClass(r.busyRemoveClasses).addClass(r.busyAddClasses),r.busy=!0}}),r.$on("busy.end",function(e,t){r.busy&&r.isBusyFor(t)&&(r.originalContent&&i.html(r.originalContent),i.attr("disabled",!0===r.notBusyDisabled),i.removeClass(r.notBusyRemoveClasses).addClass(r.notBusyAddClasses),r.busy=!1)})}}}]).directive("busyMessage",function(){return{restrict:"AE",transclude:!0,require:"^busy",template:"",replace:!0,compile:function(e,t,n){return function(e,t,r,i){i.setBusyMessageElement(n(e,function(){}))}}}}),t.module("ngBusy",["ngBusy.interceptor","ngBusy.busy"])}(window,window.angular),function(){function e(e,t){return e.set(t[0],t[1]),e}function t(e,t){return e.add(t),e}function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function r(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function i(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function o(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function a(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function s(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function l(e,t){return!!(null==e?0:e.length)&&b(e,t,0)>-1}function u(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function c(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function f(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function h(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function d(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function p(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function g(e){return e.split("")}function m(e){return e.match(Pt)||[]}function v(e,t,n){var r;return n(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function y(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function b(e,t,n){return t===t?q(e,t,n):y(e,x,n)}function w(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function x(e){return e!==e}function S(e,t){var n=null==e?0:e.length;return n?_(e,t)/n:Me}function $(e){return function(t){return null==t?Q:t[e]}}function C(e){return function(t){return null==e?Q:e[t]}}function A(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function k(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function _(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);o!==Q&&(n=n===Q?o:n+o)}return n}function T(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function E(e,t){return c(t,function(t){return[t,e[t]]})}function M(e){return function(t){return e(t)}}function D(e,t){return c(t,function(t){return e[t]})}function P(e,t){return e.has(t)}function R(e,t){for(var n=-1,r=e.length;++n<r&&b(t,e[n],0)>-1;);return n}function O(e,t){for(var n=e.length;n--&&b(t,e[n],0)>-1;);return n}function N(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}function L(e){return"\\"+bn[e]}function I(e,t){return null==e?Q:e[t]}function z(e){return cn.test(e)}function B(e){return fn.test(e)}function F(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function j(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function H(e,t){return function(n){return e(t(n))}}function U(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==oe||(e[n]=oe,o[i++]=n)}return o}function W(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function V(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function q(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function Y(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}function G(e){return z(e)?K(e):Ln(e)}function X(e){return z(e)?Z(e):g(e)}function K(e){for(var t=ln.lastIndex=0;ln.test(e);)++t;return t}function Z(e){return e.match(ln)||[]}function J(e){return e.match(un)||[]}var Q,ee=200,te="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ne="Expected a function",re="__lodash_hash_undefined__",ie=500,oe="__lodash_placeholder__",ae=1,se=2,le=4,ue=1,ce=2,fe=1,he=2,de=4,pe=8,ge=16,me=32,ve=64,ye=128,be=256,we=512,xe=30,Se="...",$e=800,Ce=16,Ae=1,ke=2,_e=1/0,Te=9007199254740991,Ee=1.7976931348623157e308,Me=NaN,De=4294967295,Pe=De-1,Re=De>>>1,Oe=[["ary",ye],["bind",fe],["bindKey",he],["curry",pe],["curryRight",ge],["flip",we],["partial",me],["partialRight",ve],["rearg",be]],Ne="[object Arguments]",Le="[object Array]",Ie="[object AsyncFunction]",ze="[object Boolean]",Be="[object Date]",Fe="[object DOMException]",je="[object Error]",He="[object Function]",Ue="[object GeneratorFunction]",We="[object Map]",Ve="[object Number]",qe="[object Null]",Ye="[object Object]",Ge="[object Proxy]",Xe="[object RegExp]",Ke="[object Set]",Ze="[object String]",Je="[object Symbol]",Qe="[object Undefined]",et="[object WeakMap]",tt="[object WeakSet]",nt="[object ArrayBuffer]",rt="[object DataView]",it="[object Float32Array]",ot="[object Float64Array]",at="[object Int8Array]",st="[object Int16Array]",lt="[object Int32Array]",ut="[object Uint8Array]",ct="[object Uint8ClampedArray]",ft="[object Uint16Array]",ht="[object Uint32Array]",dt=/\b__p \+= '';/g,pt=/\b(__p \+=) '' \+/g,gt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,mt=/&(?:amp|lt|gt|quot|#39);/g,vt=/[&<>"']/g,yt=RegExp(mt.source),bt=RegExp(vt.source),wt=/<%=([\s\S]+?)%>/g,xt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,St=/^\w*$/,$t=/^\./,Ct=/[\\^$.*+?()[\]{}|]/g,At=RegExp(Ct.source),kt=/^\s+|\s+$/g,_t=/^\s+/,Tt=/\s+$/,Et=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Mt=/\{\n\/\* \[wrapped with (.+)\] \*/,Dt=/,? & /,Pt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Rt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ot=/\w*$/,Nt=/^[-+]0x[0-9a-f]+$/i,Lt=/^0b[01]+$/i,It=/^\[object .+?Constructor\]$/,zt=/^0o[0-7]+$/i,Bt=/^(?:0|[1-9]\d*)$/,Ft=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,jt=/($^)/,Ht=/['\n\r\u2028\u2029\\]/g,Ut="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Wt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Vt="["+Wt+"]",qt="["+Ut+"]",Yt="[a-z\\xdf-\\xf6\\xf8-\\xff]",Gt="[^\\ud800-\\udfff"+Wt+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Xt="\\ud83c[\\udffb-\\udfff]",Kt="(?:\\ud83c[\\udde6-\\uddff]){2}",Zt="[\\ud800-\\udbff][\\udc00-\\udfff]",Jt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Qt="(?:"+Yt+"|"+Gt+")",en="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",tn="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",Kt,Zt].join("|")+")[\\ufe0e\\ufe0f]?"+en+")*",nn="[\\ufe0e\\ufe0f]?"+en+tn,rn="(?:"+["[\\u2700-\\u27bf]",Kt,Zt].join("|")+")"+nn,on="(?:"+["[^\\ud800-\\udfff]"+qt+"?",qt,Kt,Zt,"[\\ud800-\\udfff]"].join("|")+")",an=RegExp("['â€™]","g"),sn=RegExp(qt,"g"),ln=RegExp(Xt+"(?="+Xt+")|"+on+nn,"g"),un=RegExp([Jt+"?"+Yt+"+(?:['â€™](?:d|ll|m|re|s|t|ve))?(?="+[Vt,Jt,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['â€™](?:D|LL|M|RE|S|T|VE))?(?="+[Vt,Jt+Qt,"$"].join("|")+")",Jt+"?"+Qt+"+(?:['â€™](?:d|ll|m|re|s|t|ve))?",Jt+"+(?:['â€™](?:D|LL|M|RE|S|T|VE))?","\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)","\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)","\\d+",rn].join("|"),"g"),cn=RegExp("[\\u200d\\ud800-\\udfff"+Ut+"\\ufe0e\\ufe0f]"),fn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,hn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],dn=-1,pn={};pn[it]=pn[ot]=pn[at]=pn[st]=pn[lt]=pn[ut]=pn[ct]=pn[ft]=pn[ht]=!0,pn[Ne]=pn[Le]=pn[nt]=pn[ze]=pn[rt]=pn[Be]=pn[je]=pn[He]=pn[We]=pn[Ve]=pn[Ye]=pn[Xe]=pn[Ke]=pn[Ze]=pn[et]=!1;var gn={};gn[Ne]=gn[Le]=gn[nt]=gn[rt]=gn[ze]=gn[Be]=gn[it]=gn[ot]=gn[at]=gn[st]=gn[lt]=gn[We]=gn[Ve]=gn[Ye]=gn[Xe]=gn[Ke]=gn[Ze]=gn[Je]=gn[ut]=gn[ct]=gn[ft]=gn[ht]=!0,gn[je]=gn[He]=gn[et]=!1;var mn={"Ã€":"A","Ã":"A","Ã‚":"A","Ãƒ":"A","Ã„":"A","Ã…":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã‡":"C","Ã§":"c","Ã":"D","Ã°":"d","Ãˆ":"E","Ã‰":"E","ÃŠ":"E","Ã‹":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","ÃŒ":"I","Ã":"I","ÃŽ":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã‘":"N","Ã±":"n","Ã’":"O","Ã“":"O","Ã”":"O","Ã•":"O","Ã–":"O","Ã˜":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã™":"U","Ãš":"U","Ã›":"U","Ãœ":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã†":"Ae","Ã¦":"ae","Ãž":"Th","Ã¾":"th","ÃŸ":"ss","Ä€":"A","Ä‚":"A","Ä„":"A","Ä":"a","Äƒ":"a","Ä…":"a","Ä†":"C","Äˆ":"C","ÄŠ":"C","ÄŒ":"C","Ä‡":"c","Ä‰":"c","Ä‹":"c","Ä":"c","ÄŽ":"D","Ä":"D","Ä":"d","Ä‘":"d","Ä’":"E","Ä”":"E","Ä–":"E","Ä˜":"E","Äš":"E","Ä“":"e","Ä•":"e","Ä—":"e","Ä™":"e","Ä›":"e","Äœ":"G","Äž":"G","Ä ":"G","Ä¢":"G","Ä":"g","ÄŸ":"g","Ä¡":"g","Ä£":"g","Ä¤":"H","Ä¦":"H","Ä¥":"h","Ä§":"h","Ä¨":"I","Äª":"I","Ä¬":"I","Ä®":"I","Ä°":"I","Ä©":"i","Ä«":"i","Ä­":"i","Ä¯":"i","Ä±":"i","Ä´":"J","Äµ":"j","Ä¶":"K","Ä·":"k","Ä¸":"k","Ä¹":"L","Ä»":"L","Ä½":"L","Ä¿":"L","Å":"L","Äº":"l","Ä¼":"l","Ä¾":"l","Å€":"l","Å‚":"l","Åƒ":"N","Å…":"N","Å‡":"N","ÅŠ":"N","Å„":"n","Å†":"n","Åˆ":"n","Å‹":"n","ÅŒ":"O","ÅŽ":"O","Å":"O","Å":"o","Å":"o","Å‘":"o","Å”":"R","Å–":"R","Å˜":"R","Å•":"r","Å—":"r","Å™":"r","Åš":"S","Åœ":"S","Åž":"S","Å ":"S","Å›":"s","Å":"s","ÅŸ":"s","Å¡":"s","Å¢":"T","Å¤":"T","Å¦":"T","Å£":"t","Å¥":"t","Å§":"t","Å¨":"U","Åª":"U","Å¬":"U","Å®":"U","Å°":"U","Å²":"U","Å©":"u","Å«":"u","Å­":"u","Å¯":"u","Å±":"u","Å³":"u","Å´":"W","Åµ":"w","Å¶":"Y","Å·":"y","Å¸":"Y","Å¹":"Z","Å»":"Z","Å½":"Z","Åº":"z","Å¼":"z","Å¾":"z","Ä²":"IJ","Ä³":"ij","Å’":"Oe","Å“":"oe","Å‰":"'n","Å¿":"s"},vn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},yn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},bn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},wn=parseFloat,xn=parseInt,Sn="object"==typeof global&&global&&global.Object===Object&&global,$n="object"==typeof self&&self&&self.Object===Object&&self,Cn=Sn||$n||Function("return this")(),An="object"==typeof exports&&exports&&!exports.nodeType&&exports,kn=An&&"object"==typeof module&&module&&!module.nodeType&&module,_n=kn&&kn.exports===An,Tn=_n&&Sn.process,En=function(){try{return Tn&&Tn.binding&&Tn.binding("util")}catch(e){}}(),Mn=En&&En.isArrayBuffer,Dn=En&&En.isDate,Pn=En&&En.isMap,Rn=En&&En.isRegExp,On=En&&En.isSet,Nn=En&&En.isTypedArray,Ln=$("length"),In=C(mn),zn=C(vn),Bn=C(yn),Fn=function g(C){function q(e){if(tl(e)&&!dh(e)&&!(e instanceof Pt)){if(e instanceof Z)return e;if(hc.call(e,"__wrapped__"))return Jo(e)}return new Z(e)}function K(){}function Z(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=Q}function Pt(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=De,this.__views__=[]}function Ut(){var e=new Pt(this.__wrapped__);return e.__actions__=Ri(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ri(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ri(this.__views__),e}function Wt(){if(this.__filtered__){var e=new Pt(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Vt(){var e=this.__wrapped__.value(),t=this.__dir__,n=dh(e),r=t<0,i=n?e.length:0,o=$o(0,i,this.__views__),a=o.start,s=o.end,l=s-a,u=r?s:a-1,c=this.__iteratees__,f=c.length,h=0,d=Hc(l,this.__takeCount__);if(!n||!r&&i==l&&d==l)return pi(e,this.__actions__);var p=[];e:for(;l--&&h<d;){u+=t;for(var g=-1,m=e[u];++g<f;){
var v=c[g],y=v.iteratee,b=v.type,w=y(m);if(b==ke)m=w;else if(!w){if(b==Ae)continue e;break e}}p[h++]=m}return p}function qt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yt(){this.__data__=Jc?Jc(null):{},this.size=0}function Gt(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Xt(e){var t=this.__data__;if(Jc){var n=t[e];return n===re?Q:n}return hc.call(t,e)?t[e]:Q}function Kt(e){var t=this.__data__;return Jc?t[e]!==Q:hc.call(t,e)}function Zt(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Jc&&t===Q?re:t,this}function Jt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Qt(){this.__data__=[],this.size=0}function en(e){var t=this.__data__,n=qn(t,e);return!(n<0)&&(n==t.length-1?t.pop():kc.call(t,n,1),--this.size,!0)}function tn(e){var t=this.__data__,n=qn(t,e);return n<0?Q:t[n][1]}function nn(e){return qn(this.__data__,e)>-1}function rn(e,t){var n=this.__data__,r=qn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function on(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ln(){this.size=0,this.__data__={hash:new qt,map:new(Gc||Jt),string:new qt}}function un(e){var t=bo(this,e).delete(e);return this.size-=t?1:0,t}function cn(e){return bo(this,e).get(e)}function fn(e){return bo(this,e).has(e)}function mn(e,t){var n=bo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function vn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new on;++t<n;)this.add(e[t])}function yn(e){return this.__data__.set(e,re),this}function bn(e){return this.__data__.has(e)}function Sn(e){var t=this.__data__=new Jt(e);this.size=t.size}function $n(){this.__data__=new Jt,this.size=0}function An(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function kn(e){return this.__data__.get(e)}function Tn(e){return this.__data__.has(e)}function En(e,t){var n=this.__data__;if(n instanceof Jt){var r=n.__data__;if(!Gc||r.length<ee-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new on(r)}return n.set(e,t),this.size=n.size,this}function Ln(e,t){var n=dh(e),r=!n&&hh(e),i=!n&&!r&&gh(e),o=!n&&!r&&!i&&wh(e),a=n||r||i||o,s=a?T(e.length,oc):[],l=s.length;for(var u in e)!t&&!hc.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Do(u,l))||s.push(u);return s}function jn(e){var t=e.length;return t?e[Xr(0,t-1)]:Q}function Hn(e,t){return Go(Ri(e),Jn(t,0,e.length))}function Un(e){return Go(Ri(e))}function Wn(e,t,n){(n===Q||js(e[t],n))&&(n!==Q||t in e)||Kn(e,t,n)}function Vn(e,t,n){var r=e[t];hc.call(e,t)&&js(r,n)&&(n!==Q||t in e)||Kn(e,t,n)}function qn(e,t){for(var n=e.length;n--;)if(js(e[n][0],t))return n;return-1}function Yn(e,t,n,r){return ff(e,function(e,i,o){t(r,e,n(e),o)}),r}function Gn(e,t){return e&&Oi(t,Ll(t),e)}function Xn(e,t){return e&&Oi(t,Il(t),e)}function Kn(e,t,n){"__proto__"==t&&Mc?Mc(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Zn(e,t){for(var n=-1,r=t.length,i=Ju(r),o=null==e;++n<r;)i[n]=o?Q:Rl(e,t[n]);return i}function Jn(e,t,n){return e===e&&(n!==Q&&(e=e<=n?e:n),t!==Q&&(e=e>=t?e:t)),e}function Qn(e,t,n,r,o,a){var s,l=t&ae,u=t&se,c=t&le;if(n&&(s=o?n(e,r,o,a):n(e)),s!==Q)return s;if(!el(e))return e;var f=dh(e);if(f){if(s=ko(e),!l)return Ri(e,s)}else{var h=$f(e),d=h==He||h==Ue;if(gh(e))return xi(e,l);if(h==Ye||h==Ne||d&&!o){if(s=u||d?{}:_o(e),!l)return u?Li(e,Xn(s,e)):Ni(e,Gn(s,e))}else{if(!gn[h])return o?e:{};s=To(e,h,Qn,l)}}a||(a=new Sn);var p=a.get(e);if(p)return p;a.set(e,s);var g=c?u?go:po:u?Il:Ll,m=f?Q:g(e);return i(m||e,function(r,i){m&&(i=r,r=e[i]),Vn(s,i,Qn(r,t,n,i,e,a))}),s}function er(e){var t=Ll(e);return function(n){return tr(n,e,t)}}function tr(e,t,n){var r=n.length;if(null==e)return!r;for(e=rc(e);r--;){var i=n[r],o=t[i],a=e[i];if(a===Q&&!(i in e)||!o(a))return!1}return!0}function nr(e,t,n){if("function"!=typeof e)throw new ac(ne);return kf(function(){e.apply(Q,n)},t)}function rr(e,t,n,r){var i=-1,o=l,a=!0,s=e.length,f=[],h=t.length;if(!s)return f;n&&(t=c(t,M(n))),r?(o=u,a=!1):t.length>=ee&&(o=P,a=!1,t=new vn(t));e:for(;++i<s;){var d=e[i],p=null==n?d:n(d);if(d=r||0!==d?d:0,a&&p===p){for(var g=h;g--;)if(t[g]===p)continue e;f.push(d)}else o(t,p,r)||f.push(d)}return f}function ir(e,t){var n=!0;return ff(e,function(e,r,i){return n=!!t(e,r,i)}),n}function or(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(s===Q?a===a&&!hl(a):n(a,s)))var s=a,l=o}return l}function ar(e,t,n,r){var i=e.length;for(n=yl(n),n<0&&(n=-n>i?0:i+n),r=r===Q||r>i?i:yl(r),r<0&&(r+=i),r=n>r?0:bl(r);n<r;)e[n++]=t;return e}function sr(e,t){var n=[];return ff(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function lr(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=Mo),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?lr(s,t-1,n,r,i):f(i,s):r||(i[i.length]=s)}return i}function ur(e,t){return e&&df(e,t,Ll)}function cr(e,t){return e&&pf(e,t,Ll)}function fr(e,t){return s(t,function(t){return Zs(e[t])})}function hr(e,t){t=bi(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[Xo(t[n++])];return n&&n==r?e:Q}function dr(e,t,n){var r=t(e);return dh(e)?r:f(r,n(e))}function pr(e){return null==e?e===Q?Qe:qe:Ec&&Ec in rc(e)?So(e):Ho(e)}function gr(e,t){return e>t}function mr(e,t){return null!=e&&hc.call(e,t)}function vr(e,t){return null!=e&&t in rc(e)}function yr(e,t,n){return e>=Hc(t,n)&&e<jc(t,n)}function br(e,t,n){for(var r=n?u:l,i=e[0].length,o=e.length,a=o,s=Ju(o),f=1/0,h=[];a--;){var d=e[a];a&&t&&(d=c(d,M(t))),f=Hc(d.length,f),s[a]=!n&&(t||i>=120&&d.length>=120)?new vn(a&&d):Q}d=e[0];var p=-1,g=s[0];e:for(;++p<i&&h.length<f;){var m=d[p],v=t?t(m):m;if(m=n||0!==m?m:0,!(g?P(g,v):r(h,v,n))){for(a=o;--a;){var y=s[a];if(!(y?P(y,v):r(e[a],v,n)))continue e}g&&g.push(v),h.push(m)}}return h}function wr(e,t,n,r){return ur(e,function(e,i,o){t(r,n(e),i,o)}),r}function xr(e,t,r){t=bi(t,e),e=Wo(e,t);var i=null==e?e:e[Xo(va(t))];return null==i?Q:n(i,e,r)}function Sr(e){return tl(e)&&pr(e)==Ne}function $r(e){return tl(e)&&pr(e)==nt}function Cr(e){return tl(e)&&pr(e)==Be}function Ar(e,t,n,r,i){return e===t||(null==e||null==t||!tl(e)&&!tl(t)?e!==e&&t!==t:kr(e,t,n,r,Ar,i))}function kr(e,t,n,r,i,o){var a=dh(e),s=dh(t),l=a?Le:$f(e),u=s?Le:$f(t);l=l==Ne?Ye:l,u=u==Ne?Ye:u;var c=l==Ye,f=u==Ye,h=l==u;if(h&&gh(e)){if(!gh(t))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new Sn),a||wh(e)?uo(e,t,n,r,i,o):co(e,t,l,n,r,i,o);if(!(n&ue)){var d=c&&hc.call(e,"__wrapped__"),p=f&&hc.call(t,"__wrapped__");if(d||p){var g=d?e.value():e,m=p?t.value():t;return o||(o=new Sn),i(g,m,n,r,o)}}return!!h&&(o||(o=new Sn),fo(e,t,n,r,i,o))}function _r(e){return tl(e)&&$f(e)==We}function Tr(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=rc(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){s=n[i];var l=s[0],u=e[l],c=s[1];if(a&&s[2]){if(u===Q&&!(l in e))return!1}else{var f=new Sn;if(r)var h=r(u,c,l,e,t,f);if(!(h===Q?Ar(c,u,ue|ce,r,f):h))return!1}}return!0}function Er(e){return!(!el(e)||Lo(e))&&(Zs(e)?yc:It).test(Ko(e))}function Mr(e){return tl(e)&&pr(e)==Xe}function Dr(e){return tl(e)&&$f(e)==Ke}function Pr(e){return tl(e)&&Qs(e.length)&&!!pn[pr(e)]}function Rr(e){return"function"==typeof e?e:null==e?ku:"object"==typeof e?dh(e)?Br(e[0],e[1]):zr(e):Ou(e)}function Or(e){if(!Io(e))return Fc(e);var t=[];for(var n in rc(e))hc.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Nr(e){if(!el(e))return jo(e);var t=Io(e),n=[];for(var r in e)("constructor"!=r||!t&&hc.call(e,r))&&n.push(r);return n}function Lr(e,t){return e<t}function Ir(e,t){var n=-1,r=Hs(e)?Ju(e.length):[];return ff(e,function(e,i,o){r[++n]=t(e,i,o)}),r}function zr(e){var t=wo(e);return 1==t.length&&t[0][2]?Bo(t[0][0],t[0][1]):function(n){return n===e||Tr(n,e,t)}}function Br(e,t){return Ro(e)&&zo(t)?Bo(Xo(e),t):function(n){var r=Rl(n,e);return r===Q&&r===t?Nl(n,e):Ar(t,r,ue|ce)}}function Fr(e,t,n,r,i){e!==t&&df(t,function(o,a){if(el(o))i||(i=new Sn),jr(e,t,a,n,Fr,r,i);else{var s=r?r(e[a],o,a+"",e,t,i):Q;s===Q&&(s=o),Wn(e,a,s)}},Il)}function jr(e,t,n,r,i,o,a){var s=e[n],l=t[n],u=a.get(l);if(u)return void Wn(e,n,u);var c=o?o(s,l,n+"",e,t,a):Q,f=c===Q;if(f){var h=dh(l),d=!h&&gh(l),p=!h&&!d&&wh(l);c=l,h||d||p?dh(s)?c=s:Us(s)?c=Ri(s):d?(f=!1,c=xi(l,!0)):p?(f=!1,c=Ti(l,!0)):c=[]:ul(l)||hh(l)?(c=s,hh(s)?c=xl(s):(!el(s)||r&&Zs(s))&&(c=_o(l))):f=!1}f&&(a.set(l,c),i(c,l,r,o,a),a.delete(l)),Wn(e,n,c)}function Hr(e,t){var n=e.length;if(n)return t+=t<0?n:0,Do(t,n)?e[t]:Q}function Ur(e,t,n){var r=-1;return t=c(t.length?t:[ku],M(yo())),k(Ir(e,function(e,n,i){return{criteria:c(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return Mi(e,t,n)})}function Wr(e,t){return Vr(e,t,function(t,n){return Nl(e,n)})}function Vr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=hr(e,a);n(s,a)&&ti(o,bi(a,e),s)}return o}function qr(e){return function(t){return hr(t,e)}}function Yr(e,t,n,r){var i=r?w:b,o=-1,a=t.length,s=e;for(e===t&&(t=Ri(t)),n&&(s=c(e,M(n)));++o<a;)for(var l=0,u=t[o],f=n?n(u):u;(l=i(s,f,l,r))>-1;)s!==e&&kc.call(s,l,1),kc.call(e,l,1);return e}function Gr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;Do(i)?kc.call(e,i,1):fi(e,i)}}return e}function Xr(e,t){return e+Nc(Vc()*(t-e+1))}function Kr(e,t,n,r){for(var i=-1,o=jc(Oc((t-e)/(n||1)),0),a=Ju(o);o--;)a[r?o:++i]=e,e+=n;return a}function Zr(e,t){var n="";if(!e||t<1||t>Te)return n;do{t%2&&(n+=e),(t=Nc(t/2))&&(e+=e)}while(t);return n}function Jr(e,t){return _f(Uo(e,t,ku),e+"")}function Qr(e){return jn(Xl(e))}function ei(e,t){var n=Xl(e);return Go(n,Jn(t,0,n.length))}function ti(e,t,n,r){if(!el(e))return e;t=bi(t,e);for(var i=-1,o=t.length,a=o-1,s=e;null!=s&&++i<o;){var l=Xo(t[i]),u=n;if(i!=a){var c=s[l];u=r?r(c,l,s):Q,u===Q&&(u=el(c)?c:Do(t[i+1])?[]:{})}Vn(s,l,u),s=s[l]}return e}function ni(e){return Go(Xl(e))}function ri(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Ju(i);++r<i;)o[r]=e[r+t];return o}function ii(e,t){var n;return ff(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}function oi(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=Re){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!hl(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return ai(e,t,ku,n)}function ai(e,t,n,r){t=n(t);for(var i=0,o=null==e?0:e.length,a=t!==t,s=null===t,l=hl(t),u=t===Q;i<o;){var c=Nc((i+o)/2),f=n(e[c]),h=f!==Q,d=null===f,p=f===f,g=hl(f);if(a)var m=r||p;else m=u?p&&(r||h):s?p&&h&&(r||!d):l?p&&h&&!d&&(r||!g):!d&&!g&&(r?f<=t:f<t);m?i=c+1:o=c}return Hc(o,Pe)}function si(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!js(s,l)){var l=s;o[i++]=0===a?0:a}}return o}function li(e){return"number"==typeof e?e:hl(e)?Me:+e}function ui(e){if("string"==typeof e)return e;if(dh(e))return c(e,ui)+"";if(hl(e))return uf?uf.call(e):"";var t=e+"";return"0"==t&&1/e==-_e?"-0":t}function ci(e,t,n){var r=-1,i=l,o=e.length,a=!0,s=[],c=s;if(n)a=!1,i=u;else if(o>=ee){var f=t?null:bf(e);if(f)return W(f);a=!1,i=P,c=new vn}else c=t?[]:s;e:for(;++r<o;){var h=e[r],d=t?t(h):h;if(h=n||0!==h?h:0,a&&d===d){for(var p=c.length;p--;)if(c[p]===d)continue e;t&&c.push(d),s.push(h)}else i(c,d,n)||(c!==s&&c.push(d),s.push(h))}return s}function fi(e,t){return t=bi(t,e),null==(e=Wo(e,t))||delete e[Xo(va(t))]}function hi(e,t,n,r){return ti(e,t,n(hr(e,t)),r)}function di(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ri(e,r?0:o,r?o+1:i):ri(e,r?o+1:0,r?i:o)}function pi(e,t){var n=e;return n instanceof Pt&&(n=n.value()),h(t,function(e,t){return t.func.apply(t.thisArg,f([e],t.args))},n)}function gi(e,t,n){var r=e.length;if(r<2)return r?ci(e[0]):[];for(var i=-1,o=Ju(r);++i<r;)for(var a=e[i],s=-1;++s<r;)s!=i&&(o[i]=rr(o[i]||a,e[s],t,n));return ci(lr(o,1),t,n)}function mi(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var s=r<o?t[r]:Q;n(a,e[r],s)}return a}function vi(e){return Us(e)?e:[]}function yi(e){return"function"==typeof e?e:ku}function bi(e,t){return dh(e)?e:Ro(e,t)?[e]:Tf($l(e))}function wi(e,t,n){var r=e.length;return n=n===Q?r:n,!t&&n>=r?e:ri(e,t,n)}function xi(e,t){if(t)return e.slice();var n=e.length,r=Sc?Sc(n):new e.constructor(n);return e.copy(r),r}function Si(e){var t=new e.constructor(e.byteLength);return new xc(t).set(new xc(e)),t}function $i(e,t){var n=t?Si(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function Ci(t,n,r){return h(n?r(j(t),ae):j(t),e,new t.constructor)}function Ai(e){var t=new e.constructor(e.source,Ot.exec(e));return t.lastIndex=e.lastIndex,t}function ki(e,n,r){return h(n?r(W(e),ae):W(e),t,new e.constructor)}function _i(e){return lf?rc(lf.call(e)):{}}function Ti(e,t){var n=t?Si(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ei(e,t){if(e!==t){var n=e!==Q,r=null===e,i=e===e,o=hl(e),a=t!==Q,s=null===t,l=t===t,u=hl(t);if(!s&&!u&&!o&&e>t||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&e<t||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}function Mi(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var l=Ei(i[r],o[r]);if(l){if(r>=s)return l;return l*("desc"==n[r]?-1:1)}}return e.index-t.index}function Di(e,t,n,r){for(var i=-1,o=e.length,a=n.length,s=-1,l=t.length,u=jc(o-a,0),c=Ju(l+u),f=!r;++s<l;)c[s]=t[s];for(;++i<a;)(f||i<o)&&(c[n[i]]=e[i]);for(;u--;)c[s++]=e[i++];return c}function Pi(e,t,n,r){for(var i=-1,o=e.length,a=-1,s=n.length,l=-1,u=t.length,c=jc(o-s,0),f=Ju(c+u),h=!r;++i<c;)f[i]=e[i];for(var d=i;++l<u;)f[d+l]=t[l];for(;++a<s;)(h||i<o)&&(f[d+n[a]]=e[i++]);return f}function Ri(e,t){var n=-1,r=e.length;for(t||(t=Ju(r));++n<r;)t[n]=e[n];return t}function Oi(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=r?r(n[s],e[s],s,n,e):Q;l===Q&&(l=e[s]),i?Kn(n,s,l):Vn(n,s,l)}return n}function Ni(e,t){return Oi(e,xf(e),t)}function Li(e,t){return Oi(e,Sf(e),t)}function Ii(e,t){return function(n,i){var o=dh(n)?r:Yn,a=t?t():{};return o(n,e,yo(i,2),a)}}function zi(e){return Jr(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:Q,a=i>2?n[2]:Q;for(o=e.length>3&&"function"==typeof o?(i--,o):Q,a&&Po(n[0],n[1],a)&&(o=i<3?Q:o,i=1),t=rc(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t})}function Bi(e,t){return function(n,r){if(null==n)return n;if(!Hs(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=rc(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Fi(e){return function(t,n,r){for(var i=-1,o=rc(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}function ji(e,t,n){function r(){return(this&&this!==Cn&&this instanceof r?o:e).apply(i?n:this,arguments)}var i=t&fe,o=Wi(e);return r}function Hi(e){return function(t){t=$l(t);var n=z(t)?X(t):Q,r=n?n[0]:t.charAt(0),i=n?wi(n,1).join(""):t.slice(1);return r[e]()+i}}function Ui(e){return function(t){return h(xu(tu(t).replace(an,"")),e,"")}}function Wi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=cf(e.prototype),r=e.apply(n,t);return el(r)?r:n}}function Vi(e,t,r){function i(){for(var a=arguments.length,s=Ju(a),l=a,u=vo(i);l--;)s[l]=arguments[l];var c=a<3&&s[0]!==u&&s[a-1]!==u?[]:U(s,u);return(a-=c.length)<r?no(e,t,Gi,i.placeholder,Q,s,c,Q,Q,r-a):n(this&&this!==Cn&&this instanceof i?o:e,this,s)}var o=Wi(e);return i}function qi(e){return function(t,n,r){var i=rc(t);if(!Hs(t)){var o=yo(n,3);t=Ll(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:Q}}function Yi(e){return ho(function(t){var n=t.length,r=n,i=Z.prototype.thru;for(e&&t.reverse();r--;){var o=t[r];if("function"!=typeof o)throw new ac(ne);if(i&&!a&&"wrapper"==mo(o))var a=new Z([],!0)}for(r=a?r:n;++r<n;){o=t[r];var s=mo(o),l="wrapper"==s?wf(o):Q;a=l&&No(l[0])&&l[1]==(ye|pe|me|be)&&!l[4].length&&1==l[9]?a[mo(l[0])].apply(a,l[3]):1==o.length&&No(o)?a[s]():a.thru(o)}return function(){var e=arguments,r=e[0];if(a&&1==e.length&&dh(r))return a.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}})}function Gi(e,t,n,r,i,o,a,s,l,u){function c(){for(var v=arguments.length,y=Ju(v),b=v;b--;)y[b]=arguments[b];if(p)var w=vo(c),x=N(y,w);if(r&&(y=Di(y,r,i,p)),o&&(y=Pi(y,o,a,p)),v-=x,p&&v<u){var S=U(y,w);return no(e,t,Gi,c.placeholder,n,y,S,s,l,u-v)}var $=h?n:this,C=d?$[e]:e;return v=y.length,s?y=Vo(y,s):g&&v>1&&y.reverse(),f&&l<v&&(y.length=l),this&&this!==Cn&&this instanceof c&&(C=m||Wi(C)),C.apply($,y)}var f=t&ye,h=t&fe,d=t&he,p=t&(pe|ge),g=t&we,m=d?Q:Wi(e);return c}function Xi(e,t){return function(n,r){return wr(n,e,t(r),{})}}function Ki(e,t){return function(n,r){var i;if(n===Q&&r===Q)return t;if(n!==Q&&(i=n),r!==Q){if(i===Q)return r;"string"==typeof n||"string"==typeof r?(n=ui(n),r=ui(r)):(n=li(n),r=li(r)),i=e(n,r)}return i}}function Zi(e){return ho(function(t){return t=c(t,M(yo())),Jr(function(r){var i=this;return e(t,function(e){return n(e,i,r)})})})}function Ji(e,t){t=t===Q?" ":ui(t);var n=t.length;if(n<2)return n?Zr(t,e):t;var r=Zr(t,Oc(e/G(t)));return z(t)?wi(X(r),0,e).join(""):r.slice(0,e)}function Qi(e,t,r,i){function o(){for(var t=-1,l=arguments.length,u=-1,c=i.length,f=Ju(c+l),h=this&&this!==Cn&&this instanceof o?s:e;++u<c;)f[u]=i[u];for(;l--;)f[u++]=arguments[++t];return n(h,a?r:this,f)}var a=t&fe,s=Wi(e);return o}function eo(e){return function(t,n,r){return r&&"number"!=typeof r&&Po(t,n,r)&&(n=r=Q),t=vl(t),n===Q?(n=t,t=0):n=vl(n),r=r===Q?t<n?1:-1:vl(r),Kr(t,n,r,e)}}function to(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=wl(t),n=wl(n)),e(t,n)}}function no(e,t,n,r,i,o,a,s,l,u){var c=t&pe,f=c?a:Q,h=c?Q:a,d=c?o:Q,p=c?Q:o;t|=c?me:ve,(t&=~(c?ve:me))&de||(t&=~(fe|he));var g=[e,t,i,d,f,p,h,s,l,u],m=n.apply(Q,g);return No(e)&&Af(m,g),m.placeholder=r,qo(m,e,t)}function ro(e){var t=nc[e];return function(e,n){if(e=wl(e),n=null==n?0:Hc(yl(n),292)){var r=($l(e)+"e").split("e");return r=($l(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return t(e)}}function io(e){return function(t){var n=$f(t);return n==We?j(t):n==Ke?V(t):E(t,e(t))}}function oo(e,t,n,r,i,o,a,s){var l=t&he;if(!l&&"function"!=typeof e)throw new ac(ne);var u=r?r.length:0;if(u||(t&=~(me|ve),r=i=Q),a=a===Q?a:jc(yl(a),0),s=s===Q?s:yl(s),u-=i?i.length:0,t&ve){var c=r,f=i;r=i=Q}var h=l?Q:wf(e),d=[e,t,n,r,i,c,f,o,a,s];if(h&&Fo(d,h),e=d[0],t=d[1],n=d[2],r=d[3],i=d[4],s=d[9]=d[9]===Q?l?0:e.length:jc(d[9]-u,0),!s&&t&(pe|ge)&&(t&=~(pe|ge)),t&&t!=fe)p=t==pe||t==ge?Vi(e,t,s):t!=me&&t!=(fe|me)||i.length?Gi.apply(Q,d):Qi(e,t,n,r);else var p=ji(e,t,n);return qo((h?gf:Af)(p,d),e,t)}function ao(e,t,n,r){return e===Q||js(e,uc[n])&&!hc.call(r,n)?t:e}function so(e,t,n,r,i,o){return el(e)&&el(t)&&(o.set(t,e),Fr(e,t,Q,so,o),o.delete(t)),e}function lo(e){return ul(e)?Q:e}function uo(e,t,n,r,i,o){var a=n&ue,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(e);if(u&&o.get(t))return u==t;var c=-1,f=!0,h=n&ce?new vn:Q;for(o.set(e,t),o.set(t,e);++c<s;){var d=e[c],g=t[c];if(r)var m=a?r(g,d,c,t,e,o):r(d,g,c,e,t,o);if(m!==Q){if(m)continue;f=!1;break}if(h){if(!p(t,function(e,t){if(!P(h,t)&&(d===e||i(d,e,n,r,o)))return h.push(t)})){f=!1;break}}else if(d!==g&&!i(d,g,n,r,o)){f=!1;break}}return o.delete(e),o.delete(t),f}function co(e,t,n,r,i,o,a){switch(n){case rt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case nt:return!(e.byteLength!=t.byteLength||!o(new xc(e),new xc(t)));case ze:case Be:case Ve:return js(+e,+t);case je:return e.name==t.name&&e.message==t.message;case Xe:case Ze:return e==t+"";case We:var s=j;case Ke:var l=r&ue;if(s||(s=W),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;r|=ce,a.set(e,t);var c=uo(s(e),s(t),r,i,o,a);return a.delete(e),c;case Je:if(lf)return lf.call(e)==lf.call(t)}return!1}function fo(e,t,n,r,i,o){var a=n&ue,s=po(e),l=s.length;if(l!=po(t).length&&!a)return!1;for(var u=l;u--;){var c=s[u];if(!(a?c in t:hc.call(t,c)))return!1}var f=o.get(e);if(f&&o.get(t))return f==t;var h=!0;o.set(e,t),o.set(t,e);for(var d=a;++u<l;){c=s[u];var p=e[c],g=t[c];if(r)var m=a?r(g,p,c,t,e,o):r(p,g,c,e,t,o);if(!(m===Q?p===g||i(p,g,n,r,o):m)){h=!1;break}d||(d="constructor"==c)}if(h&&!d){var v=e.constructor,y=t.constructor;v!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y)&&(h=!1)}return o.delete(e),o.delete(t),h}function ho(e){return _f(Uo(e,Q,ua),e+"")}function po(e){return dr(e,Ll,xf)}function go(e){return dr(e,Il,Sf)}function mo(e){for(var t=e.name+"",n=ef[t],r=hc.call(ef,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function vo(e){return(hc.call(q,"placeholder")?q:e).placeholder}function yo(){var e=q.iteratee||_u;return e=e===_u?Rr:e,arguments.length?e(arguments[0],arguments[1]):e}function bo(e,t){var n=e.__data__;return Oo(t)?n["string"==typeof t?"string":"hash"]:n.map}function wo(e){for(var t=Ll(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,zo(i)]}return t}function xo(e,t){var n=I(e,t);return Er(n)?n:Q}function So(e){var t=hc.call(e,Ec),n=e[Ec];try{e[Ec]=Q;var r=!0}catch(e){}var i=gc.call(e);return r&&(t?e[Ec]=n:delete e[Ec]),i}function $o(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Hc(t,e+a);break;case"takeRight":e=jc(e,t-a)}}return{start:e,end:t}}function Co(e){var t=e.match(Mt);return t?t[1].split(Dt):[]}function Ao(e,t,n){t=bi(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var a=Xo(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Qs(i)&&Do(a,i)&&(dh(e)||hh(e))}function ko(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&hc.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function _o(e){return"function"!=typeof e.constructor||Io(e)?{}:cf($c(e))}function To(e,t,n,r){var i=e.constructor;switch(t){case nt:return Si(e);case ze:case Be:return new i(+e);case rt:return $i(e,r);case it:case ot:case at:case st:case lt:case ut:case ct:case ft:case ht:return Ti(e,r);case We:return Ci(e,r,n);case Ve:case Ze:return new i(e);case Xe:return Ai(e);case Ke:return ki(e,r,n);case Je:return _i(e)}}function Eo(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Et,"{\n/* [wrapped with "+t+"] */\n")}function Mo(e){return dh(e)||hh(e)||!!(_c&&e&&e[_c])}function Do(e,t){return!!(t=null==t?Te:t)&&("number"==typeof e||Bt.test(e))&&e>-1&&e%1==0&&e<t}function Po(e,t,n){if(!el(n))return!1;var r=typeof t;return!!("number"==r?Hs(n)&&Do(t,n.length):"string"==r&&t in n)&&js(n[t],e)}function Ro(e,t){if(dh(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!hl(e))||(St.test(e)||!xt.test(e)||null!=t&&e in rc(t))}function Oo(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function No(e){var t=mo(e),n=q[t];if("function"!=typeof n||!(t in Pt.prototype))return!1;if(e===n)return!0;var r=wf(n);return!!r&&e===r[0]}function Lo(e){return!!pc&&pc in e}function Io(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||uc)}function zo(e){return e===e&&!el(e)}function Bo(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==Q||e in rc(n)))}}function Fo(e,t){var n=e[1],r=t[1],i=n|r,o=i<(fe|he|ye),a=r==ye&&n==pe||r==ye&&n==be&&e[7].length<=t[8]||r==(ye|be)&&t[7].length<=t[8]&&n==pe;if(!o&&!a)return e;r&fe&&(e[2]=t[2],i|=n&fe?0:de);var s=t[3];if(s){var l=e[3];e[3]=l?Di(l,s,t[4]):s,e[4]=l?U(e[3],oe):t[4]}return s=t[5],s&&(l=e[5],e[5]=l?Pi(l,s,t[6]):s,e[6]=l?U(e[5],oe):t[6]),s=t[7],s&&(e[7]=s),r&ye&&(e[8]=null==e[8]?t[8]:Hc(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function jo(e){var t=[];if(null!=e)for(var n in rc(e))t.push(n);return t}function Ho(e){return gc.call(e)}function Uo(e,t,r){return t=jc(t===Q?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=jc(i.length-t,0),s=Ju(a);++o<a;)s[o]=i[t+o];o=-1;for(var l=Ju(t+1);++o<t;)l[o]=i[o];return l[t]=r(s),n(e,this,l)}}function Wo(e,t){return t.length<2?e:hr(e,ri(t,0,-1))}function Vo(e,t){for(var n=e.length,r=Hc(t.length,n),i=Ri(e);r--;){var o=t[r];e[r]=Do(o,n)?i[o]:Q}return e}function qo(e,t,n){var r=t+"";return _f(e,Eo(r,Zo(Co(r),n)))}function Yo(e){var t=0,n=0;return function(){var r=Uc(),i=Ce-(r-n);if(n=r,i>0){if(++t>=$e)return arguments[0]}else t=0;return e.apply(Q,arguments)}}function Go(e,t){var n=-1,r=e.length,i=r-1;for(t=t===Q?r:t;++n<t;){var o=Xr(n,i),a=e[o];e[o]=e[n],e[n]=a}return e.length=t,e}function Xo(e){if("string"==typeof e||hl(e))return e;var t=e+"";return"0"==t&&1/e==-_e?"-0":t}function Ko(e){if(null!=e){try{return fc.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Zo(e,t){return i(Oe,function(n){var r="_."+n[0];t&n[1]&&!l(e,r)&&e.push(r)}),e.sort()}function Jo(e){if(e instanceof Pt)return e.clone();var t=new Z(e.__wrapped__,e.__chain__);return t.__actions__=Ri(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Qo(e,t,n){t=(n?Po(e,t,n):t===Q)?1:jc(yl(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var i=0,o=0,a=Ju(Oc(r/t));i<r;)a[o++]=ri(e,i,i+=t);return a}function ea(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i}function ta(){var e=arguments.length;if(!e)return[];for(var t=Ju(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return f(dh(n)?Ri(n):[n],lr(t,1))}function na(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===Q?1:yl(t),ri(e,t<0?0:t,r)):[]}function ra(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===Q?1:yl(t),t=r-t,ri(e,0,t<0?0:t)):[]}function ia(e,t){return e&&e.length?di(e,yo(t,3),!0,!0):[]}function oa(e,t){return e&&e.length?di(e,yo(t,3),!0):[]}function aa(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&Po(e,t,n)&&(n=0,r=i),ar(e,t,n,r)):[]}function sa(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:yl(n);return i<0&&(i=jc(r+i,0)),y(e,yo(t,3),i)}function la(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==Q&&(i=yl(n),i=n<0?jc(r+i,0):Hc(i,r-1)),y(e,yo(t,3),i,!0)}function ua(e){return(null==e?0:e.length)?lr(e,1):[]}function ca(e){return(null==e?0:e.length)?lr(e,_e):[]}function fa(e,t){return(null==e?0:e.length)?(t=t===Q?1:yl(t),lr(e,t)):[]}function ha(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}function da(e){return e&&e.length?e[0]:Q}function pa(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:yl(n);return i<0&&(i=jc(r+i,0)),b(e,t,i)}function ga(e){return(null==e?0:e.length)?ri(e,0,-1):[]}function ma(e,t){return null==e?"":Bc.call(e,t)}function va(e){var t=null==e?0:e.length;return t?e[t-1]:Q}function ya(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==Q&&(i=yl(n),i=i<0?jc(r+i,0):Hc(i,r-1)),t===t?Y(e,t,i):y(e,x,i,!0)}function ba(e,t){return e&&e.length?Hr(e,yl(t)):Q}function wa(e,t){return e&&e.length&&t&&t.length?Yr(e,t):e}function xa(e,t,n){return e&&e.length&&t&&t.length?Yr(e,t,yo(n,2)):e}function Sa(e,t,n){return e&&e.length&&t&&t.length?Yr(e,t,Q,n):e}function $a(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=yo(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Gr(e,i),n}function Ca(e){return null==e?e:qc.call(e)}function Aa(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Po(e,t,n)?(t=0,n=r):(t=null==t?0:yl(t),n=n===Q?r:yl(n)),ri(e,t,n)):[]}function ka(e,t){return oi(e,t)}function _a(e,t,n){return ai(e,t,yo(n,2))}function Ta(e,t){var n=null==e?0:e.length;if(n){var r=oi(e,t);if(r<n&&js(e[r],t))return r}return-1}function Ea(e,t){return oi(e,t,!0)}function Ma(e,t,n){return ai(e,t,yo(n,2),!0)}function Da(e,t){if(null==e?0:e.length){var n=oi(e,t,!0)-1;if(js(e[n],t))return n}return-1}function Pa(e){return e&&e.length?si(e):[]}function Ra(e,t){return e&&e.length?si(e,yo(t,2)):[]}function Oa(e){var t=null==e?0:e.length;return t?ri(e,1,t):[]}function Na(e,t,n){return e&&e.length?(t=n||t===Q?1:yl(t),ri(e,0,t<0?0:t)):[]}function La(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===Q?1:yl(t),t=r-t,ri(e,t<0?0:t,r)):[]}function Ia(e,t){return e&&e.length?di(e,yo(t,3),!1,!0):[]}function za(e,t){return e&&e.length?di(e,yo(t,3)):[]}function Ba(e){return e&&e.length?ci(e):[]}function Fa(e,t){return e&&e.length?ci(e,yo(t,2)):[]}function ja(e,t){return t="function"==typeof t?t:Q,e&&e.length?ci(e,Q,t):[]}function Ha(e){if(!e||!e.length)return[];var t=0;return e=s(e,function(e){if(Us(e))return t=jc(e.length,t),!0}),T(t,function(t){return c(e,$(t))})}function Ua(e,t){if(!e||!e.length)return[];var r=Ha(e);return null==t?r:c(r,function(e){return n(t,Q,e)})}function Wa(e,t){return mi(e||[],t||[],Vn)}function Va(e,t){return mi(e||[],t||[],ti)}function qa(e){var t=q(e);return t.__chain__=!0,t}function Ya(e,t){return t(e),e}function Ga(e,t){return t(e)}function Xa(){return qa(this)}function Ka(){return new Z(this.value(),this.__chain__)}function Za(){this.__values__===Q&&(this.__values__=ml(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?Q:this.__values__[this.__index__++]}}function Ja(){return this}function Qa(e){for(var t,n=this;n instanceof K;){var r=Jo(n);r.__index__=0,r.__values__=Q,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t}function es(){var e=this.__wrapped__;if(e instanceof Pt){var t=e;return this.__actions__.length&&(t=new Pt(this)),t=t.reverse(),t.__actions__.push({func:Ga,args:[Ca],thisArg:Q}),new Z(t,this.__chain__)}return this.thru(Ca)}function ts(){return pi(this.__wrapped__,this.__actions__)}function ns(e,t,n){var r=dh(e)?a:ir;return n&&Po(e,t,n)&&(t=Q),r(e,yo(t,3))}function rs(e,t){return(dh(e)?s:sr)(e,yo(t,3))}function is(e,t){return lr(cs(e,t),1)}function os(e,t){return lr(cs(e,t),_e)}function as(e,t,n){return n=n===Q?1:yl(n),lr(cs(e,t),n)}function ss(e,t){return(dh(e)?i:ff)(e,yo(t,3))}function ls(e,t){return(dh(e)?o:hf)(e,yo(t,3))}function us(e,t,n,r){e=Hs(e)?e:Xl(e),n=n&&!r?yl(n):0;var i=e.length;return n<0&&(n=jc(i+n,0)),fl(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&b(e,t,n)>-1}function cs(e,t){return(dh(e)?c:Ir)(e,yo(t,3))}function fs(e,t,n,r){return null==e?[]:(dh(t)||(t=null==t?[]:[t]),n=r?Q:n,dh(n)||(n=null==n?[]:[n]),Ur(e,t,n))}function hs(e,t,n){var r=dh(e)?h:A,i=arguments.length<3;return r(e,yo(t,4),n,i,ff)}function ds(e,t,n){var r=dh(e)?d:A,i=arguments.length<3;return r(e,yo(t,4),n,i,hf)}function ps(e,t){return(dh(e)?s:sr)(e,Ts(yo(t,3)))}function gs(e){return(dh(e)?jn:Qr)(e)}function ms(e,t,n){return t=(n?Po(e,t,n):t===Q)?1:yl(t),(dh(e)?Hn:ei)(e,t)}function vs(e){return(dh(e)?Un:ni)(e)}function ys(e){if(null==e)return 0;if(Hs(e))return fl(e)?G(e):e.length;var t=$f(e);return t==We||t==Ke?e.size:Or(e).length}function bs(e,t,n){var r=dh(e)?p:ii;return n&&Po(e,t,n)&&(t=Q),r(e,yo(t,3))}function ws(e,t){if("function"!=typeof t)throw new ac(ne);return e=yl(e),function(){if(--e<1)return t.apply(this,arguments)}}function xs(e,t,n){return t=n?Q:t,t=e&&null==t?e.length:t,oo(e,ye,Q,Q,Q,Q,t)}function Ss(e,t){var n;if("function"!=typeof t)throw new ac(ne);return e=yl(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=Q),n}}function $s(e,t,n){t=n?Q:t;var r=oo(e,pe,Q,Q,Q,Q,Q,t);return r.placeholder=$s.placeholder,r}function Cs(e,t,n){t=n?Q:t;var r=oo(e,ge,Q,Q,Q,Q,Q,t);return r.placeholder=Cs.placeholder,r}function As(e,t,n){function r(t){var n=h,r=d;return h=d=Q,y=t,g=e.apply(r,n)}function i(e){return y=e,m=kf(s,t),b?r(e):g}function o(e){var n=e-v,r=e-y,i=t-n;return w?Hc(i,p-r):i}function a(e){var n=e-v,r=e-y;return v===Q||n>=t||n<0||w&&r>=p}function s(){var e=th();if(a(e))return l(e);m=kf(s,o(e))}function l(e){return m=Q,x&&h?r(e):(h=d=Q,g)}function u(){m!==Q&&yf(m),y=0,h=v=d=m=Q}function c(){return m===Q?g:l(th())}function f(){var e=th(),n=a(e);if(h=arguments,d=this,v=e,n){if(m===Q)return i(v)
;if(w)return m=kf(s,t),r(v)}return m===Q&&(m=kf(s,t)),g}var h,d,p,g,m,v,y=0,b=!1,w=!1,x=!0;if("function"!=typeof e)throw new ac(ne);return t=wl(t)||0,el(n)&&(b=!!n.leading,w="maxWait"in n,p=w?jc(wl(n.maxWait)||0,t):p,x="trailing"in n?!!n.trailing:x),f.cancel=u,f.flush=c,f}function ks(e){return oo(e,we)}function _s(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ac(ne);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(_s.Cache||on),n}function Ts(e){if("function"!=typeof e)throw new ac(ne);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Es(e){return Ss(2,e)}function Ms(e,t){if("function"!=typeof e)throw new ac(ne);return t=t===Q?t:yl(t),Jr(e,t)}function Ds(e,t){if("function"!=typeof e)throw new ac(ne);return t=null==t?0:jc(yl(t),0),Jr(function(r){var i=r[t],o=wi(r,0,t);return i&&f(o,i),n(e,this,o)})}function Ps(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new ac(ne);return el(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),As(e,t,{leading:r,maxWait:t,trailing:i})}function Rs(e){return xs(e,1)}function Os(e,t){return sh(yi(t),e)}function Ns(){if(!arguments.length)return[];var e=arguments[0];return dh(e)?e:[e]}function Ls(e){return Qn(e,le)}function Is(e,t){return t="function"==typeof t?t:Q,Qn(e,le,t)}function zs(e){return Qn(e,ae|le)}function Bs(e,t){return t="function"==typeof t?t:Q,Qn(e,ae|le,t)}function Fs(e,t){return null==t||tr(e,t,Ll(t))}function js(e,t){return e===t||e!==e&&t!==t}function Hs(e){return null!=e&&Qs(e.length)&&!Zs(e)}function Us(e){return tl(e)&&Hs(e)}function Ws(e){return!0===e||!1===e||tl(e)&&pr(e)==ze}function Vs(e){return tl(e)&&1===e.nodeType&&!ul(e)}function qs(e){if(null==e)return!0;if(Hs(e)&&(dh(e)||"string"==typeof e||"function"==typeof e.splice||gh(e)||wh(e)||hh(e)))return!e.length;var t=$f(e);if(t==We||t==Ke)return!e.size;if(Io(e))return!Or(e).length;for(var n in e)if(hc.call(e,n))return!1;return!0}function Ys(e,t){return Ar(e,t)}function Gs(e,t,n){n="function"==typeof n?n:Q;var r=n?n(e,t):Q;return r===Q?Ar(e,t,Q,n):!!r}function Xs(e){if(!tl(e))return!1;var t=pr(e);return t==je||t==Fe||"string"==typeof e.message&&"string"==typeof e.name&&!ul(e)}function Ks(e){return"number"==typeof e&&zc(e)}function Zs(e){if(!el(e))return!1;var t=pr(e);return t==He||t==Ue||t==Ie||t==Ge}function Js(e){return"number"==typeof e&&e==yl(e)}function Qs(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Te}function el(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function tl(e){return null!=e&&"object"==typeof e}function nl(e,t){return e===t||Tr(e,t,wo(t))}function rl(e,t,n){return n="function"==typeof n?n:Q,Tr(e,t,wo(t),n)}function il(e){return ll(e)&&e!=+e}function ol(e){if(Cf(e))throw new ec(te);return Er(e)}function al(e){return null===e}function sl(e){return null==e}function ll(e){return"number"==typeof e||tl(e)&&pr(e)==Ve}function ul(e){if(!tl(e)||pr(e)!=Ye)return!1;var t=$c(e);if(null===t)return!0;var n=hc.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&fc.call(n)==mc}function cl(e){return Js(e)&&e>=-Te&&e<=Te}function fl(e){return"string"==typeof e||!dh(e)&&tl(e)&&pr(e)==Ze}function hl(e){return"symbol"==typeof e||tl(e)&&pr(e)==Je}function dl(e){return e===Q}function pl(e){return tl(e)&&$f(e)==et}function gl(e){return tl(e)&&pr(e)==tt}function ml(e){if(!e)return[];if(Hs(e))return fl(e)?X(e):Ri(e);if(Tc&&e[Tc])return F(e[Tc]());var t=$f(e);return(t==We?j:t==Ke?W:Xl)(e)}function vl(e){if(!e)return 0===e?e:0;if((e=wl(e))===_e||e===-_e){return(e<0?-1:1)*Ee}return e===e?e:0}function yl(e){var t=vl(e),n=t%1;return t===t?n?t-n:t:0}function bl(e){return e?Jn(yl(e),0,De):0}function wl(e){if("number"==typeof e)return e;if(hl(e))return Me;if(el(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=el(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(kt,"");var n=Lt.test(e);return n||zt.test(e)?xn(e.slice(2),n?2:8):Nt.test(e)?Me:+e}function xl(e){return Oi(e,Il(e))}function Sl(e){return e?Jn(yl(e),-Te,Te):0===e?e:0}function $l(e){return null==e?"":ui(e)}function Cl(e,t){var n=cf(e);return null==t?n:Gn(n,t)}function Al(e,t){return v(e,yo(t,3),ur)}function kl(e,t){return v(e,yo(t,3),cr)}function _l(e,t){return null==e?e:df(e,yo(t,3),Il)}function Tl(e,t){return null==e?e:pf(e,yo(t,3),Il)}function El(e,t){return e&&ur(e,yo(t,3))}function Ml(e,t){return e&&cr(e,yo(t,3))}function Dl(e){return null==e?[]:fr(e,Ll(e))}function Pl(e){return null==e?[]:fr(e,Il(e))}function Rl(e,t,n){var r=null==e?Q:hr(e,t);return r===Q?n:r}function Ol(e,t){return null!=e&&Ao(e,t,mr)}function Nl(e,t){return null!=e&&Ao(e,t,vr)}function Ll(e){return Hs(e)?Ln(e):Or(e)}function Il(e){return Hs(e)?Ln(e,!0):Nr(e)}function zl(e,t){var n={};return t=yo(t,3),ur(e,function(e,r,i){Kn(n,t(e,r,i),e)}),n}function Bl(e,t){var n={};return t=yo(t,3),ur(e,function(e,r,i){Kn(n,r,t(e,r,i))}),n}function Fl(e,t){return jl(e,Ts(yo(t)))}function jl(e,t){if(null==e)return{};var n=c(go(e),function(e){return[e]});return t=yo(t),Vr(e,n,function(e,n){return t(e,n[0])})}function Hl(e,t,n){t=bi(t,e);var r=-1,i=t.length;for(i||(i=1,e=Q);++r<i;){var o=null==e?Q:e[Xo(t[r])];o===Q&&(r=i,o=n),e=Zs(o)?o.call(e):o}return e}function Ul(e,t,n){return null==e?e:ti(e,t,n)}function Wl(e,t,n,r){return r="function"==typeof r?r:Q,null==e?e:ti(e,t,n,r)}function Vl(e,t,n){var r=dh(e),o=r||gh(e)||wh(e);if(t=yo(t,4),null==n){var a=e&&e.constructor;n=o?r?new a:[]:el(e)&&Zs(a)?cf($c(e)):{}}return(o?i:ur)(e,function(e,r,i){return t(n,e,r,i)}),n}function ql(e,t){return null==e||fi(e,t)}function Yl(e,t,n){return null==e?e:hi(e,t,yi(n))}function Gl(e,t,n,r){return r="function"==typeof r?r:Q,null==e?e:hi(e,t,yi(n),r)}function Xl(e){return null==e?[]:D(e,Ll(e))}function Kl(e){return null==e?[]:D(e,Il(e))}function Zl(e,t,n){return n===Q&&(n=t,t=Q),n!==Q&&(n=wl(n),n=n===n?n:0),t!==Q&&(t=wl(t),t=t===t?t:0),Jn(wl(e),t,n)}function Jl(e,t,n){return t=vl(t),n===Q?(n=t,t=0):n=vl(n),e=wl(e),yr(e,t,n)}function Ql(e,t,n){if(n&&"boolean"!=typeof n&&Po(e,t,n)&&(t=n=Q),n===Q&&("boolean"==typeof t?(n=t,t=Q):"boolean"==typeof e&&(n=e,e=Q)),e===Q&&t===Q?(e=0,t=1):(e=vl(e),t===Q?(t=e,e=0):t=vl(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=Vc();return Hc(e+i*(t-e+wn("1e-"+((i+"").length-1))),t)}return Xr(e,t)}function eu(e){return qh($l(e).toLowerCase())}function tu(e){return(e=$l(e))&&e.replace(Ft,In).replace(sn,"")}function nu(e,t,n){e=$l(e),t=ui(t);var r=e.length;n=n===Q?r:Jn(yl(n),0,r);var i=n;return(n-=t.length)>=0&&e.slice(n,i)==t}function ru(e){return e=$l(e),e&&bt.test(e)?e.replace(vt,zn):e}function iu(e){return e=$l(e),e&&At.test(e)?e.replace(Ct,"\\$&"):e}function ou(e,t,n){e=$l(e),t=yl(t);var r=t?G(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Ji(Nc(i),n)+e+Ji(Oc(i),n)}function au(e,t,n){e=$l(e),t=yl(t);var r=t?G(e):0;return t&&r<t?e+Ji(t-r,n):e}function su(e,t,n){e=$l(e),t=yl(t);var r=t?G(e):0;return t&&r<t?Ji(t-r,n)+e:e}function lu(e,t,n){return n||null==t?t=0:t&&(t=+t),Wc($l(e).replace(_t,""),t||0)}function uu(e,t,n){return t=(n?Po(e,t,n):t===Q)?1:yl(t),Zr($l(e),t)}function cu(){var e=arguments,t=$l(e[0]);return e.length<3?t:t.replace(e[1],e[2])}function fu(e,t,n){return n&&"number"!=typeof n&&Po(e,t,n)&&(t=n=Q),(n=n===Q?De:n>>>0)?(e=$l(e),e&&("string"==typeof t||null!=t&&!yh(t))&&!(t=ui(t))&&z(e)?wi(X(e),0,n):e.split(t,n)):[]}function hu(e,t,n){return e=$l(e),n=null==n?0:Jn(yl(n),0,e.length),t=ui(t),e.slice(n,n+t.length)==t}function du(e,t,n){var r=q.templateSettings;n&&Po(e,t,n)&&(t=Q),e=$l(e),t=Ah({},t,r,ao);var i,o,a=Ah({},t.imports,r.imports,ao),s=Ll(a),l=D(a,s),u=0,c=t.interpolate||jt,f="__p += '",h=ic((t.escape||jt).source+"|"+c.source+"|"+(c===wt?Rt:jt).source+"|"+(t.evaluate||jt).source+"|$","g"),d="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++dn+"]")+"\n";e.replace(h,function(t,n,r,a,s,l){return r||(r=a),f+=e.slice(u,l).replace(Ht,L),n&&(i=!0,f+="' +\n__e("+n+") +\n'"),s&&(o=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+t.length,t}),f+="';\n";var p=t.variable;p||(f="with (obj) {\n"+f+"\n}\n"),f=(o?f.replace(dt,""):f).replace(pt,"$1").replace(gt,"$1;"),f="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=Yh(function(){return tc(s,d+"return "+f).apply(Q,l)});if(g.source=f,Xs(g))throw g;return g}function pu(e){return $l(e).toLowerCase()}function gu(e){return $l(e).toUpperCase()}function mu(e,t,n){if((e=$l(e))&&(n||t===Q))return e.replace(kt,"");if(!e||!(t=ui(t)))return e;var r=X(e),i=X(t);return wi(r,R(r,i),O(r,i)+1).join("")}function vu(e,t,n){if((e=$l(e))&&(n||t===Q))return e.replace(Tt,"");if(!e||!(t=ui(t)))return e;var r=X(e);return wi(r,0,O(r,X(t))+1).join("")}function yu(e,t,n){if((e=$l(e))&&(n||t===Q))return e.replace(_t,"");if(!e||!(t=ui(t)))return e;var r=X(e);return wi(r,R(r,X(t))).join("")}function bu(e,t){var n=xe,r=Se;if(el(t)){var i="separator"in t?t.separator:i;n="length"in t?yl(t.length):n,r="omission"in t?ui(t.omission):r}e=$l(e);var o=e.length;if(z(e)){var a=X(e);o=a.length}if(n>=o)return e;var s=n-G(r);if(s<1)return r;var l=a?wi(a,0,s).join(""):e.slice(0,s);if(i===Q)return l+r;if(a&&(s+=l.length-s),yh(i)){if(e.slice(s).search(i)){var u,c=l;for(i.global||(i=ic(i.source,$l(Ot.exec(i))+"g")),i.lastIndex=0;u=i.exec(c);)var f=u.index;l=l.slice(0,f===Q?s:f)}}else if(e.indexOf(ui(i),s)!=s){var h=l.lastIndexOf(i);h>-1&&(l=l.slice(0,h))}return l+r}function wu(e){return e=$l(e),e&&yt.test(e)?e.replace(mt,Bn):e}function xu(e,t,n){return e=$l(e),t=n?Q:t,t===Q?B(e)?J(e):m(e):e.match(t)||[]}function Su(e){var t=null==e?0:e.length,r=yo();return e=t?c(e,function(e){if("function"!=typeof e[1])throw new ac(ne);return[r(e[0]),e[1]]}):[],Jr(function(r){for(var i=-1;++i<t;){var o=e[i];if(n(o[0],this,r))return n(o[1],this,r)}})}function $u(e){return er(Qn(e,ae))}function Cu(e){return function(){return e}}function Au(e,t){return null==e||e!==e?t:e}function ku(e){return e}function _u(e){return Rr("function"==typeof e?e:Qn(e,ae))}function Tu(e){return zr(Qn(e,ae))}function Eu(e,t){return Br(e,Qn(t,ae))}function Mu(e,t,n){var r=Ll(t),o=fr(t,r);null!=n||el(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=fr(t,Ll(t)));var a=!(el(n)&&"chain"in n&&!n.chain),s=Zs(e);return i(o,function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__);return(n.__actions__=Ri(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,f([this.value()],arguments))})}),e}function Du(){return Cn._===this&&(Cn._=vc),this}function Pu(){}function Ru(e){return e=yl(e),Jr(function(t){return Hr(t,e)})}function Ou(e){return Ro(e)?$(Xo(e)):qr(e)}function Nu(e){return function(t){return null==e?Q:hr(e,t)}}function Lu(){return[]}function Iu(){return!1}function zu(){return{}}function Bu(){return""}function Fu(){return!0}function ju(e,t){if((e=yl(e))<1||e>Te)return[];var n=De,r=Hc(e,De);t=yo(t),e-=De;for(var i=T(r,t);++n<e;)t(n);return i}function Hu(e){return dh(e)?c(e,Xo):hl(e)?[e]:Ri(Tf($l(e)))}function Uu(e){var t=++dc;return $l(e)+t}function Wu(e){return e&&e.length?or(e,ku,gr):Q}function Vu(e,t){return e&&e.length?or(e,yo(t,2),gr):Q}function qu(e){return S(e,ku)}function Yu(e,t){return S(e,yo(t,2))}function Gu(e){return e&&e.length?or(e,ku,Lr):Q}function Xu(e,t){return e&&e.length?or(e,yo(t,2),Lr):Q}function Ku(e){return e&&e.length?_(e,ku):0}function Zu(e,t){return e&&e.length?_(e,yo(t,2)):0}C=null==C?Cn:Fn.defaults(Cn.Object(),C,Fn.pick(Cn,hn));var Ju=C.Array,Qu=C.Date,ec=C.Error,tc=C.Function,nc=C.Math,rc=C.Object,ic=C.RegExp,oc=C.String,ac=C.TypeError,sc=Ju.prototype,lc=tc.prototype,uc=rc.prototype,cc=C["__core-js_shared__"],fc=lc.toString,hc=uc.hasOwnProperty,dc=0,pc=function(){var e=/[^.]+$/.exec(cc&&cc.keys&&cc.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),gc=uc.toString,mc=fc.call(rc),vc=Cn._,yc=ic("^"+fc.call(hc).replace(Ct,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),bc=_n?C.Buffer:Q,wc=C.Symbol,xc=C.Uint8Array,Sc=bc?bc.allocUnsafe:Q,$c=H(rc.getPrototypeOf,rc),Cc=rc.create,Ac=uc.propertyIsEnumerable,kc=sc.splice,_c=wc?wc.isConcatSpreadable:Q,Tc=wc?wc.iterator:Q,Ec=wc?wc.toStringTag:Q,Mc=function(){try{var e=xo(rc,"defineProperty");return e({},"",{}),e}catch(e){}}(),Dc=C.clearTimeout!==Cn.clearTimeout&&C.clearTimeout,Pc=Qu&&Qu.now!==Cn.Date.now&&Qu.now,Rc=C.setTimeout!==Cn.setTimeout&&C.setTimeout,Oc=nc.ceil,Nc=nc.floor,Lc=rc.getOwnPropertySymbols,Ic=bc?bc.isBuffer:Q,zc=C.isFinite,Bc=sc.join,Fc=H(rc.keys,rc),jc=nc.max,Hc=nc.min,Uc=Qu.now,Wc=C.parseInt,Vc=nc.random,qc=sc.reverse,Yc=xo(C,"DataView"),Gc=xo(C,"Map"),Xc=xo(C,"Promise"),Kc=xo(C,"Set"),Zc=xo(C,"WeakMap"),Jc=xo(rc,"create"),Qc=Zc&&new Zc,ef={},tf=Ko(Yc),nf=Ko(Gc),rf=Ko(Xc),of=Ko(Kc),af=Ko(Zc),sf=wc?wc.prototype:Q,lf=sf?sf.valueOf:Q,uf=sf?sf.toString:Q,cf=function(){function e(){}return function(t){if(!el(t))return{};if(Cc)return Cc(t);e.prototype=t;var n=new e;return e.prototype=Q,n}}();q.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:wt,variable:"",imports:{_:q}},q.prototype=K.prototype,q.prototype.constructor=q,Z.prototype=cf(K.prototype),Z.prototype.constructor=Z,Pt.prototype=cf(K.prototype),Pt.prototype.constructor=Pt,qt.prototype.clear=Yt,qt.prototype.delete=Gt,qt.prototype.get=Xt,qt.prototype.has=Kt,qt.prototype.set=Zt,Jt.prototype.clear=Qt,Jt.prototype.delete=en,Jt.prototype.get=tn,Jt.prototype.has=nn,Jt.prototype.set=rn,on.prototype.clear=ln,on.prototype.delete=un,on.prototype.get=cn,on.prototype.has=fn,on.prototype.set=mn,vn.prototype.add=vn.prototype.push=yn,vn.prototype.has=bn,Sn.prototype.clear=$n,Sn.prototype.delete=An,Sn.prototype.get=kn,Sn.prototype.has=Tn,Sn.prototype.set=En;var ff=Bi(ur),hf=Bi(cr,!0),df=Fi(),pf=Fi(!0),gf=Qc?function(e,t){return Qc.set(e,t),e}:ku,mf=Mc?function(e,t){return Mc(e,"toString",{configurable:!0,enumerable:!1,value:Cu(t),writable:!0})}:ku,vf=Jr,yf=Dc||function(e){return Cn.clearTimeout(e)},bf=Kc&&1/W(new Kc([,-0]))[1]==_e?function(e){return new Kc(e)}:Pu,wf=Qc?function(e){return Qc.get(e)}:Pu,xf=Lc?function(e){return null==e?[]:(e=rc(e),s(Lc(e),function(t){return Ac.call(e,t)}))}:Lu,Sf=Lc?function(e){for(var t=[];e;)f(t,xf(e)),e=$c(e);return t}:Lu,$f=pr;(Yc&&$f(new Yc(new ArrayBuffer(1)))!=rt||Gc&&$f(new Gc)!=We||Xc&&"[object Promise]"!=$f(Xc.resolve())||Kc&&$f(new Kc)!=Ke||Zc&&$f(new Zc)!=et)&&($f=function(e){var t=pr(e),n=t==Ye?e.constructor:Q,r=n?Ko(n):"";if(r)switch(r){case tf:return rt;case nf:return We;case rf:return"[object Promise]";case of:return Ke;case af:return et}return t});var Cf=cc?Zs:Iu,Af=Yo(gf),kf=Rc||function(e,t){return Cn.setTimeout(e,t)},_f=Yo(mf),Tf=function(e){var t=_s(e,function(e){return n.size===ie&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return $t.test(e)&&t.push(""),e.replace(/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,function(e,n,r,i){t.push(r?i.replace(/\\(\\)?/g,"$1"):n||e)}),t}),Ef=Jr(function(e,t){return Us(e)?rr(e,lr(t,1,Us,!0)):[]}),Mf=Jr(function(e,t){var n=va(t);return Us(n)&&(n=Q),Us(e)?rr(e,lr(t,1,Us,!0),yo(n,2)):[]}),Df=Jr(function(e,t){var n=va(t);return Us(n)&&(n=Q),Us(e)?rr(e,lr(t,1,Us,!0),Q,n):[]}),Pf=Jr(function(e){var t=c(e,vi);return t.length&&t[0]===e[0]?br(t):[]}),Rf=Jr(function(e){var t=va(e),n=c(e,vi);return t===va(n)?t=Q:n.pop(),n.length&&n[0]===e[0]?br(n,yo(t,2)):[]}),Of=Jr(function(e){var t=va(e),n=c(e,vi);return t="function"==typeof t?t:Q,t&&n.pop(),n.length&&n[0]===e[0]?br(n,Q,t):[]}),Nf=Jr(wa),Lf=ho(function(e,t){var n=null==e?0:e.length,r=Zn(e,t);return Gr(e,c(t,function(e){return Do(e,n)?+e:e}).sort(Ei)),r}),If=Jr(function(e){return ci(lr(e,1,Us,!0))}),zf=Jr(function(e){var t=va(e);return Us(t)&&(t=Q),ci(lr(e,1,Us,!0),yo(t,2))}),Bf=Jr(function(e){var t=va(e);return t="function"==typeof t?t:Q,ci(lr(e,1,Us,!0),Q,t)}),Ff=Jr(function(e,t){return Us(e)?rr(e,t):[]}),jf=Jr(function(e){return gi(s(e,Us))}),Hf=Jr(function(e){var t=va(e);return Us(t)&&(t=Q),gi(s(e,Us),yo(t,2))}),Uf=Jr(function(e){var t=va(e);return t="function"==typeof t?t:Q,gi(s(e,Us),Q,t)}),Wf=Jr(Ha),Vf=Jr(function(e){var t=e.length,n=t>1?e[t-1]:Q;return n="function"==typeof n?(e.pop(),n):Q,Ua(e,n)}),qf=ho(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return Zn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Pt&&Do(n)?(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:Ga,args:[i],thisArg:Q}),new Z(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(Q),e})):this.thru(i)}),Yf=Ii(function(e,t,n){hc.call(e,n)?++e[n]:Kn(e,n,1)}),Gf=qi(sa),Xf=qi(la),Kf=Ii(function(e,t,n){hc.call(e,n)?e[n].push(t):Kn(e,n,[t])}),Zf=Jr(function(e,t,r){var i=-1,o="function"==typeof t,a=Hs(e)?Ju(e.length):[];return ff(e,function(e){a[++i]=o?n(t,e,r):xr(e,t,r)}),a}),Jf=Ii(function(e,t,n){Kn(e,n,t)}),Qf=Ii(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),eh=Jr(function(e,t){if(null==e)return[];var n=t.length;return n>1&&Po(e,t[0],t[1])?t=[]:n>2&&Po(t[0],t[1],t[2])&&(t=[t[0]]),Ur(e,lr(t,1),[])}),th=Pc||function(){return Cn.Date.now()},nh=Jr(function(e,t,n){var r=fe;if(n.length){var i=U(n,vo(nh));r|=me}return oo(e,r,t,n,i)}),rh=Jr(function(e,t,n){var r=fe|he;if(n.length){var i=U(n,vo(rh));r|=me}return oo(t,r,e,n,i)}),ih=Jr(function(e,t){return nr(e,1,t)}),oh=Jr(function(e,t,n){return nr(e,wl(t)||0,n)});_s.Cache=on;var ah=vf(function(e,t){t=1==t.length&&dh(t[0])?c(t[0],M(yo())):c(lr(t,1),M(yo()));var r=t.length;return Jr(function(i){for(var o=-1,a=Hc(i.length,r);++o<a;)i[o]=t[o].call(this,i[o]);return n(e,this,i)})}),sh=Jr(function(e,t){var n=U(t,vo(sh));return oo(e,me,Q,t,n)}),lh=Jr(function(e,t){var n=U(t,vo(lh));return oo(e,ve,Q,t,n)}),uh=ho(function(e,t){return oo(e,be,Q,Q,Q,t)}),ch=to(gr),fh=to(function(e,t){return e>=t}),hh=Sr(function(){return arguments}())?Sr:function(e){return tl(e)&&hc.call(e,"callee")&&!Ac.call(e,"callee")},dh=Ju.isArray,ph=Mn?M(Mn):$r,gh=Ic||Iu,mh=Dn?M(Dn):Cr,vh=Pn?M(Pn):_r,yh=Rn?M(Rn):Mr,bh=On?M(On):Dr,wh=Nn?M(Nn):Pr,xh=to(Lr),Sh=to(function(e,t){return e<=t}),$h=zi(function(e,t){if(Io(t)||Hs(t))return void Oi(t,Ll(t),e);for(var n in t)hc.call(t,n)&&Vn(e,n,t[n])}),Ch=zi(function(e,t){Oi(t,Il(t),e)}),Ah=zi(function(e,t,n,r){Oi(t,Il(t),e,r)}),kh=zi(function(e,t,n,r){Oi(t,Ll(t),e,r)}),_h=ho(Zn),Th=Jr(function(e){return e.push(Q,ao),n(Ah,Q,e)}),Eh=Jr(function(e){return e.push(Q,so),n(Oh,Q,e)}),Mh=Xi(function(e,t,n){e[t]=n},Cu(ku)),Dh=Xi(function(e,t,n){hc.call(e,t)?e[t].push(n):e[t]=[n]},yo),Ph=Jr(xr),Rh=zi(function(e,t,n){Fr(e,t,n)}),Oh=zi(function(e,t,n,r){Fr(e,t,n,r)}),Nh=ho(function(e,t){var n={};if(null==e)return n;var r=!1;t=c(t,function(t){return t=bi(t,e),r||(r=t.length>1),t}),Oi(e,go(e),n),r&&(n=Qn(n,ae|se|le,lo));for(var i=t.length;i--;)fi(n,t[i]);return n}),Lh=ho(function(e,t){return null==e?{}:Wr(e,t)}),Ih=io(Ll),zh=io(Il),Bh=Ui(function(e,t,n){return t=t.toLowerCase(),e+(n?eu(t):t)}),Fh=Ui(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),jh=Ui(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Hh=Hi("toLowerCase"),Uh=Ui(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Wh=Ui(function(e,t,n){return e+(n?" ":"")+qh(t)}),Vh=Ui(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),qh=Hi("toUpperCase"),Yh=Jr(function(e,t){try{return n(e,Q,t)}catch(e){return Xs(e)?e:new ec(e)}}),Gh=ho(function(e,t){return i(t,function(t){t=Xo(t),Kn(e,t,nh(e[t],e))}),e}),Xh=Yi(),Kh=Yi(!0),Zh=Jr(function(e,t){return function(n){return xr(n,e,t)}}),Jh=Jr(function(e,t){return function(n){return xr(e,n,t)}}),Qh=Zi(c),ed=Zi(a),td=Zi(p),nd=eo(),rd=eo(!0),id=Ki(function(e,t){return e+t},0),od=ro("ceil"),ad=Ki(function(e,t){return e/t},1),sd=ro("floor"),ld=Ki(function(e,t){return e*t},1),ud=ro("round"),cd=Ki(function(e,t){return e-t},0);return q.after=ws,q.ary=xs,q.assign=$h,q.assignIn=Ch,q.assignInWith=Ah,q.assignWith=kh,q.at=_h,q.before=Ss,q.bind=nh,q.bindAll=Gh,q.bindKey=rh,q.castArray=Ns,q.chain=qa,q.chunk=Qo,q.compact=ea,q.concat=ta,q.cond=Su,q.conforms=$u,q.constant=Cu,q.countBy=Yf,q.create=Cl,q.curry=$s,q.curryRight=Cs,q.debounce=As,q.defaults=Th,q.defaultsDeep=Eh,q.defer=ih,q.delay=oh,q.difference=Ef,q.differenceBy=Mf,q.differenceWith=Df,q.drop=na,q.dropRight=ra,q.dropRightWhile=ia,q.dropWhile=oa,q.fill=aa,q.filter=rs,q.flatMap=is,q.flatMapDeep=os,q.flatMapDepth=as,q.flatten=ua,q.flattenDeep=ca,q.flattenDepth=fa,q.flip=ks,q.flow=Xh,q.flowRight=Kh,q.fromPairs=ha,q.functions=Dl,q.functionsIn=Pl,q.groupBy=Kf,q.initial=ga,q.intersection=Pf,q.intersectionBy=Rf,q.intersectionWith=Of,q.invert=Mh,q.invertBy=Dh,q.invokeMap=Zf,q.iteratee=_u,q.keyBy=Jf,q.keys=Ll,q.keysIn=Il,q.map=cs,q.mapKeys=zl,q.mapValues=Bl,q.matches=Tu,q.matchesProperty=Eu,q.memoize=_s,q.merge=Rh,q.mergeWith=Oh,q.method=Zh,q.methodOf=Jh,q.mixin=Mu,q.negate=Ts,q.nthArg=Ru,q.omit=Nh,q.omitBy=Fl,q.once=Es,q.orderBy=fs,q.over=Qh,q.overArgs=ah,q.overEvery=ed,q.overSome=td,q.partial=sh,q.partialRight=lh,q.partition=Qf,q.pick=Lh,q.pickBy=jl,q.property=Ou,q.propertyOf=Nu,q.pull=Nf,q.pullAll=wa,q.pullAllBy=xa,q.pullAllWith=Sa,q.pullAt=Lf,q.range=nd,q.rangeRight=rd,q.rearg=uh,q.reject=ps,q.remove=$a,q.rest=Ms,q.reverse=Ca,q.sampleSize=ms,q.set=Ul,q.setWith=Wl,q.shuffle=vs,q.slice=Aa,q.sortBy=eh,q.sortedUniq=Pa,q.sortedUniqBy=Ra,q.split=fu,q.spread=Ds,q.tail=Oa,q.take=Na,q.takeRight=La,q.takeRightWhile=Ia,q.takeWhile=za,q.tap=Ya,q.throttle=Ps,q.thru=Ga,q.toArray=ml,q.toPairs=Ih,q.toPairsIn=zh,q.toPath=Hu,q.toPlainObject=xl,q.transform=Vl,q.unary=Rs,q.union=If,q.unionBy=zf,q.unionWith=Bf,q.uniq=Ba,q.uniqBy=Fa,q.uniqWith=ja,q.unset=ql,q.unzip=Ha,q.unzipWith=Ua,q.update=Yl,q.updateWith=Gl,q.values=Xl,q.valuesIn=Kl,q.without=Ff,q.words=xu,q.wrap=Os,q.xor=jf,q.xorBy=Hf,q.xorWith=Uf,q.zip=Wf,q.zipObject=Wa,q.zipObjectDeep=Va,q.zipWith=Vf,q.entries=Ih,q.entriesIn=zh,q.extend=Ch,q.extendWith=Ah,Mu(q,q),q.add=id,q.attempt=Yh,q.camelCase=Bh,q.capitalize=eu,q.ceil=od,q.clamp=Zl,q.clone=Ls,q.cloneDeep=zs,q.cloneDeepWith=Bs,q.cloneWith=Is,q.conformsTo=Fs,q.deburr=tu,q.defaultTo=Au,q.divide=ad,q.endsWith=nu,q.eq=js,q.escape=ru,q.escapeRegExp=iu,q.every=ns,q.find=Gf,q.findIndex=sa,q.findKey=Al,q.findLast=Xf,q.findLastIndex=la,q.findLastKey=kl,q.floor=sd,q.forEach=ss,q.forEachRight=ls,q.forIn=_l,q.forInRight=Tl,q.forOwn=El,q.forOwnRight=Ml,q.get=Rl,q.gt=ch,q.gte=fh,q.has=Ol,q.hasIn=Nl,q.head=da,q.identity=ku,q.includes=us,q.indexOf=pa,q.inRange=Jl,q.invoke=Ph,q.isArguments=hh,q.isArray=dh,q.isArrayBuffer=ph,q.isArrayLike=Hs,q.isArrayLikeObject=Us,q.isBoolean=Ws,q.isBuffer=gh,q.isDate=mh,q.isElement=Vs,q.isEmpty=qs,q.isEqual=Ys,q.isEqualWith=Gs,q.isError=Xs,q.isFinite=Ks,q.isFunction=Zs,q.isInteger=Js,q.isLength=Qs,q.isMap=vh,q.isMatch=nl,q.isMatchWith=rl,q.isNaN=il,q.isNative=ol,q.isNil=sl,q.isNull=al,q.isNumber=ll,q.isObject=el,q.isObjectLike=tl,q.isPlainObject=ul,q.isRegExp=yh,q.isSafeInteger=cl,q.isSet=bh,q.isString=fl,q.isSymbol=hl,q.isTypedArray=wh,q.isUndefined=dl,q.isWeakMap=pl,q.isWeakSet=gl,q.join=ma,q.kebabCase=Fh,q.last=va,q.lastIndexOf=ya,q.lowerCase=jh,q.lowerFirst=Hh,q.lt=xh,q.lte=Sh,q.max=Wu,q.maxBy=Vu,q.mean=qu,q.meanBy=Yu,q.min=Gu,q.minBy=Xu,q.stubArray=Lu,q.stubFalse=Iu,q.stubObject=zu,q.stubString=Bu,q.stubTrue=Fu,q.multiply=ld,q.nth=ba,q.noConflict=Du,q.noop=Pu,q.now=th,q.pad=ou,q.padEnd=au,q.padStart=su,q.parseInt=lu,q.random=Ql,q.reduce=hs,q.reduceRight=ds,q.repeat=uu,q.replace=cu,q.result=Hl,q.round=ud,q.runInContext=g,q.sample=gs,q.size=ys,q.snakeCase=Uh,q.some=bs,q.sortedIndex=ka,q.sortedIndexBy=_a,q.sortedIndexOf=Ta,q.sortedLastIndex=Ea,q.sortedLastIndexBy=Ma,q.sortedLastIndexOf=Da,q.startCase=Wh,q.startsWith=hu,q.subtract=cd,q.sum=Ku,q.sumBy=Zu,q.template=du,q.times=ju,q.toFinite=vl,q.toInteger=yl,q.toLength=bl,q.toLower=pu,q.toNumber=wl,q.toSafeInteger=Sl,q.toString=$l,q.toUpper=gu,q.trim=mu,q.trimEnd=vu,q.trimStart=yu,q.truncate=bu,q.unescape=wu,q.uniqueId=Uu,q.upperCase=Vh,q.upperFirst=qh,q.each=ss,q.eachRight=ls,q.first=da,Mu(q,function(){var e={};return ur(q,function(t,n){hc.call(q.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),q.VERSION="4.17.4",i(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){q[e].placeholder=q}),i(["drop","take"],function(e,t){Pt.prototype[e]=function(n){n=n===Q?1:jc(yl(n),0);var r=this.__filtered__&&!t?new Pt(this):this.clone();return r.__filtered__?r.__takeCount__=Hc(n,r.__takeCount__):r.__views__.push({size:Hc(n,De),type:e+(r.__dir__<0?"Right":"")}),r},Pt.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),i(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==Ae||3==n;Pt.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:yo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),i(["head","last"],function(e,t){var n="take"+(t?"Right":"");Pt.prototype[e]=function(){return this[n](1).value()[0]}}),i(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");Pt.prototype[e]=function(){return this.__filtered__?new Pt(this):this[n](1)}}),Pt.prototype.compact=function(){return this.filter(ku)},Pt.prototype.find=function(e){return this.filter(e).head()},Pt.prototype.findLast=function(e){return this.reverse().find(e)},Pt.prototype.invokeMap=Jr(function(e,t){return"function"==typeof e?new Pt(this):this.map(function(n){return xr(n,e,t)})}),Pt.prototype.reject=function(e){return this.filter(Ts(yo(e)))},Pt.prototype.slice=function(e,t){e=yl(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Pt(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==Q&&(t=yl(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},Pt.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Pt.prototype.toArray=function(){return this.take(De)},ur(Pt.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=q[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);i&&(q.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,s=t instanceof Pt,l=a[0],u=s||dh(t),c=function(e){var t=i.apply(q,f([e],a));return r&&h?t[0]:t};u&&n&&"function"==typeof l&&1!=l.length&&(s=u=!1);var h=this.__chain__,d=!!this.__actions__.length,p=o&&!h,g=s&&!d;if(!o&&u){t=g?t:new Pt(this);var m=e.apply(t,a);return m.__actions__.push({func:Ga,args:[c],thisArg:Q}),new Z(m,h)}return p&&g?e.apply(this,a):(m=this.thru(c),p?r?m.value()[0]:m.value():m)})}),i(["pop","push","shift","sort","splice","unshift"],function(e){var t=sc[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);q.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(dh(i)?i:[],e)}return this[n](function(n){return t.apply(dh(n)?n:[],e)})}}),ur(Pt.prototype,function(e,t){var n=q[t];if(n){var r=n.name+"";(ef[r]||(ef[r]=[])).push({name:t,func:n})}}),ef[Gi(Q,he).name]=[{name:"wrapper",func:Q}],Pt.prototype.clone=Ut,Pt.prototype.reverse=Wt,Pt.prototype.value=Vt,q.prototype.at=qf,q.prototype.chain=Xa,q.prototype.commit=Ka,q.prototype.next=Za,q.prototype.plant=Qa,q.prototype.reverse=es,q.prototype.toJSON=q.prototype.valueOf=q.prototype.value=ts,q.prototype.first=q.prototype.head,Tc&&(q.prototype[Tc]=Ja),q}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Cn._=Fn,define(function(){return Fn})):kn?((kn.exports=Fn)._=Fn,An._=Fn):Cn._=Fn}.call(this),function(e,t){"function"==typeof define&&define.amd?define(["lodash","angular"],t):"object"==typeof module&&module.exports?module.exports=t(require("lodash"),require("angular")):t(e._,e.angular)}(this,function(e,t){var n=t.module("restangular",[]);return n.provider("Restangular",function(){var n={};n.init=function(n,r){function i(t,n,r,i){var o={};return e.each(e.keys(i),function(a){var s=i[a];s.params=e.extend({},s.params,t.defaultRequestParams[s.method.toLowerCase()]),e.isEmpty(s.params)&&delete s.params,t.isSafe(s.method)?o[a]=function(){return n(e.extend(s,{url:r}))}:o[a]=function(t){return n(e.extend(s,{url:r,data:t}))}}),o}n.configuration=r;var o=["get","head","options","trace","getlist"];r.isSafe=function(t){return e.includes(o,t.toLowerCase())};var a=/^https?:\/\//i;r.isAbsoluteUrl=function(t){return e.isUndefined(r.absoluteUrl)||e.isNull(r.absoluteUrl)?t&&a.test(t):r.absoluteUrl},r.absoluteUrl=!!e.isUndefined(r.absoluteUrl)||r.absoluteUrl,n.setSelfLinkAbsoluteUrl=function(e){r.absoluteUrl=e},r.baseUrl=e.isUndefined(r.baseUrl)?"":r.baseUrl,n.setBaseUrl=function(e){return r.baseUrl=/\/$/.test(e)?e.substring(0,e.length-1):e,this},r.extraFields=r.extraFields||[],n.setExtraFields=function(e){return r.extraFields=e,this},r.defaultHttpFields=r.defaultHttpFields||{},n.setDefaultHttpFields=function(e){return r.defaultHttpFields=e,this},r.plainByDefault=r.plainByDefault||!1,n.setPlainByDefault=function(e){return r.plainByDefault=!0===e,this},r.withHttpValues=function(t,n){return e.defaults(n,t,r.defaultHttpFields)},r.encodeIds=!!e.isUndefined(r.encodeIds)||r.encodeIds,n.setEncodeIds=function(e){r.encodeIds=e},r.defaultRequestParams=r.defaultRequestParams||{get:{},post:{},put:{},remove:{},common:{}},n.setDefaultRequestParams=function(t,n){var i=[],o=n||t;return e.isUndefined(n)?i.push("common"):e.isArray(t)?i=t:i.push(t),e.each(i,function(e){r.defaultRequestParams[e]=o}),this},n.requestParams=r.defaultRequestParams,r.defaultHeaders=r.defaultHeaders||{},n.setDefaultHeaders=function(e){return r.defaultHeaders=e,n.defaultHeaders=r.defaultHeaders,this},n.defaultHeaders=r.defaultHeaders,r.methodOverriders=r.methodOverriders||[],n.setMethodOverriders=function(t){var n=e.extend([],t);return r.isOverridenMethod("delete",n)&&n.push("remove"),r.methodOverriders=n,this},r.jsonp=!e.isUndefined(r.jsonp)&&r.jsonp,n.setJsonp=function(e){r.jsonp=e},r.isOverridenMethod=function(t,n){var i=n||r.methodOverriders;return!e.isUndefined(e.find(i,function(e){return e.toLowerCase()===t.toLowerCase()}))},r.urlCreator=r.urlCreator||"path",n.setUrlCreator=function(t){if(!e.has(r.urlCreatorFactory,t))throw new Error("URL Path selected isn't valid");return r.urlCreator=t,this},r.restangularFields=r.restangularFields||{id:"id",route:"route",parentResource:"parentResource",restangularCollection:"restangularCollection",cannonicalId:"__cannonicalId",etag:"restangularEtag",selfLink:"href",get:"get",getList:"getList",put:"put",post:"post",remove:"remove",head:"head",trace:"trace",options:"options",patch:"patch",getRestangularUrl:"getRestangularUrl",getRequestedUrl:"getRequestedUrl",putElement:"putElement",addRestangularMethod:"addRestangularMethod",getParentList:"getParentList",clone:"clone",ids:"ids",httpConfig:"_$httpConfig",reqParams:"reqParams",one:"one",all:"all",several:"several",oneUrl:"oneUrl",allUrl:"allUrl",customPUT:"customPUT",customPATCH:"customPATCH",customPOST:"customPOST",customDELETE:"customDELETE",customGET:"customGET",customGETLIST:"customGETLIST",customOperation:"customOperation",doPUT:"doPUT",doPATCH:"doPATCH",doPOST:"doPOST",doDELETE:"doDELETE",doGET:"doGET",doGETLIST:"doGETLIST",fromServer:"fromServer",withConfig:"withConfig",withHttpConfig:"withHttpConfig",singleOne:"singleOne",plain:"plain",save:"save",restangularized:"restangularized"},n.setRestangularFields=function(t){return r.restangularFields=e.extend(r.restangularFields,t),this},r.isRestangularized=function(e){return!!e[r.restangularFields.restangularized]},r.setFieldToElem=function(t,n,r){var i=t.split("."),o=n;return e.each(e.initial(i),function(e){o[e]={},o=o[e]}),o[e.last(i)]=r,this},r.getFieldFromElem=function(n,r){var i=n.split("."),o=r;return e.each(i,function(e){o&&(o=o[e])}),t.copy(o)},r.setIdToElem=function(e,t){return r.setFieldToElem(r.restangularFields.id,e,t),this},r.getIdFromElem=function(e){
return r.getFieldFromElem(r.restangularFields.id,e)},r.isValidId=function(t){return""!==t&&!e.isUndefined(t)&&!e.isNull(t)},r.setUrlToElem=function(e,t){return r.setFieldToElem(r.restangularFields.selfLink,e,t),this},r.getUrlFromElem=function(e){return r.getFieldFromElem(r.restangularFields.selfLink,e)},r.useCannonicalId=!e.isUndefined(r.useCannonicalId)&&r.useCannonicalId,n.setUseCannonicalId=function(e){return r.useCannonicalId=e,this},r.getCannonicalIdFromElem=function(e){var t=e[r.restangularFields.cannonicalId];return r.isValidId(t)?t:r.getIdFromElem(e)},r.responseInterceptors=r.responseInterceptors||[],r.defaultResponseInterceptor=function(e){return e},r.responseExtractor=function(n,i,o,a,s,l){var u=t.copy(r.responseInterceptors);u.push(r.defaultResponseInterceptor);var c=n;return e.each(u,function(e){c=e(c,i,o,a,s,l)}),c},n.addResponseInterceptor=function(e){return r.responseInterceptors.push(e),this},r.errorInterceptors=r.errorInterceptors||[],n.addErrorInterceptor=function(e){return r.errorInterceptors.push(e),this},n.setResponseInterceptor=n.addResponseInterceptor,n.setResponseExtractor=n.addResponseInterceptor,n.setErrorInterceptor=n.addErrorInterceptor,r.requestInterceptors=r.requestInterceptors||[],r.defaultInterceptor=function(e,t,n,r,i,o,a){return{element:e,headers:i,params:o,httpConfig:a}},r.fullRequestInterceptor=function(n,i,o,a,s,l,u){var c=t.copy(r.requestInterceptors),f=r.defaultInterceptor(n,i,o,a,s,l,u);return e.reduce(c,function(t,n){return e.extend(t,n(t.element,i,o,a,t.headers,t.params,t.httpConfig))},f)},n.addRequestInterceptor=function(e){return r.requestInterceptors.push(function(t,n,r,i,o,a,s){return{headers:o,params:a,element:e(t,n,r,i),httpConfig:s}}),this},n.setRequestInterceptor=n.addRequestInterceptor,n.addFullRequestInterceptor=function(e){return r.requestInterceptors.push(e),this},n.setFullRequestInterceptor=n.addFullRequestInterceptor,r.onBeforeElemRestangularized=r.onBeforeElemRestangularized||function(e){return e},n.setOnBeforeElemRestangularized=function(e){return r.onBeforeElemRestangularized=e,this},n.setRestangularizePromiseInterceptor=function(e){return r.restangularizePromiseInterceptor=e,this},r.onElemRestangularized=r.onElemRestangularized||function(e){return e},n.setOnElemRestangularized=function(e){return r.onElemRestangularized=e,this},r.shouldSaveParent=r.shouldSaveParent||function(){return!0},n.setParentless=function(t){return e.isArray(t)?r.shouldSaveParent=function(n){return!e.includes(t,n)}:e.isBoolean(t)&&(r.shouldSaveParent=function(){return!t}),this},r.suffix=e.isUndefined(r.suffix)?null:r.suffix,n.setRequestSuffix=function(e){return r.suffix=e,this},r.transformers=r.transformers||{},r.matchTransformers=r.matchTransformers||[],n.addElementTransformer=function(t,i,o){var a=null,s=null;2===arguments.length?s=i:(s=o,a=i);var l=function(t,n){return e.isNull(a)||t===a?s(n):n};return e.isRegExp(t)?r.matchTransformers.push({regexp:t,transformer:l}):(r.transformers[t]||(r.transformers[t]=[]),r.transformers[t].push(l)),n},n.extendCollection=function(e,t){return n.addElementTransformer(e,!0,t)},n.extendModel=function(e,t){return n.addElementTransformer(e,!1,t)},r.transformElem=function(t,n,i,o,a){if(!a&&!r.transformLocalElements&&!t[r.restangularFields.fromServer])return t;var s=t,l=r.matchTransformers;l&&e.each(l,function(e){e.regexp.test(i)&&(s=e.transformer(n,s))});var u=r.transformers[i];return u&&e.each(u,function(e){s=e(n,s)}),r.onElemRestangularized(s,n,i,o)},r.transformLocalElements=!e.isUndefined(r.transformLocalElements)&&r.transformLocalElements,n.setTransformOnlyServerElements=function(e){r.transformLocalElements=!e},r.fullResponse=!e.isUndefined(r.fullResponse)&&r.fullResponse,n.setFullResponse=function(e){return r.fullResponse=e,this},r.urlCreatorFactory={};var s=function(){};s.prototype.setConfig=function(e){return this.config=e,this},s.prototype.parentsArray=function(e){for(var t=[];e;)t.push(e),e=e[this.config.restangularFields.parentResource];return t.reverse()},s.prototype.resource=function(t,n,o,a,s,l,u,c){var f=e.defaults(s||{},this.config.defaultRequestParams.common),h=e.defaults(a||{},this.config.defaultHeaders);u&&(r.isSafe(c)?h["If-None-Match"]=u:h["If-Match"]=u);var d=this.base(t);if(l||0===l){var p="";/\/$/.test(d)||(p+="/"),p+=l,d+=p}return this.config.suffix&&-1===d.indexOf(this.config.suffix,d.length-this.config.suffix.length)&&!this.config.getUrlFromElem(t)&&(d+=this.config.suffix),t[this.config.restangularFields.httpConfig]=void 0,i(this.config,n,d,{getList:this.config.withHttpValues(o,{method:"GET",params:f,headers:h}),get:this.config.withHttpValues(o,{method:"GET",params:f,headers:h}),jsonp:this.config.withHttpValues(o,{method:"jsonp",params:f,headers:h}),put:this.config.withHttpValues(o,{method:"PUT",params:f,headers:h}),post:this.config.withHttpValues(o,{method:"POST",params:f,headers:h}),remove:this.config.withHttpValues(o,{method:"DELETE",params:f,headers:h}),head:this.config.withHttpValues(o,{method:"HEAD",params:f,headers:h}),trace:this.config.withHttpValues(o,{method:"TRACE",params:f,headers:h}),options:this.config.withHttpValues(o,{method:"OPTIONS",params:f,headers:h}),patch:this.config.withHttpValues(o,{method:"PATCH",params:f,headers:h})})};var l=function(){};l.prototype=new s,l.prototype.normalizeUrl=function(e){var t=/((?:http[s]?:)?\/\/)?(.*)?/.exec(e);return t[2]=t[2].replace(/[\\\/]+/g,"/"),void 0!==t[1]?t[1]+t[2]:t[2]},l.prototype.base=function(t){var n=this;return e.reduce(this.parentsArray(t),function(e,t){var i,o=n.config.getUrlFromElem(t);if(o){if(n.config.isAbsoluteUrl(o))return o;i=o}else if(i=t[n.config.restangularFields.route],t[n.config.restangularFields.restangularCollection]){var a=t[n.config.restangularFields.ids];a&&(i+="/"+a.join(","))}else{var s;s=n.config.useCannonicalId?n.config.getCannonicalIdFromElem(t):n.config.getIdFromElem(t),r.isValidId(s)&&!t.singleOne&&(i+="/"+(n.config.encodeIds?encodeURIComponent(s):s))}return e=e.replace(/\/$/,"")+"/"+i,n.normalizeUrl(e)},this.config.baseUrl)},l.prototype.fetchUrl=function(e,t){var n=this.base(e);return t&&(n+="/"+t),n},l.prototype.fetchRequestedUrl=function(e,n){function i(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort()}function o(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}var a=this.fetchUrl(e,n),s=e[r.restangularFields.reqParams];if(!s)return a+(this.config.suffix||"");var l=[];return function(e,t,n){for(var r=i(e),o=0;o<r.length;o++)t.call(n,e[r[o]],r[o])}(s,function(e,n){null!==e&&void 0!==e&&(t.isArray(e)||(e=[e]),t.forEach(e,function(e){t.isObject(e)&&(e=t.toJson(e)),l.push(o(n)+"="+o(e))}))}),a+(this.config.suffix||"")+(-1===a.indexOf("?")?"?":"&")+l.join("&")},r.urlCreatorFactory.path=l};var r={};n.init(this,r),this.$get=["$http","$q",function(i,o){function a(r){function s(t,n,i,o,a){if(n[r.restangularFields.route]=i,n[r.restangularFields.getRestangularUrl]=e.bind(U.fetchUrl,U,n),n[r.restangularFields.getRequestedUrl]=e.bind(U.fetchRequestedUrl,U,n),n[r.restangularFields.addRestangularMethod]=e.bind(B,n),n[r.restangularFields.clone]=e.bind(b,n,n),n[r.restangularFields.reqParams]=e.isEmpty(o)?null:o,n[r.restangularFields.withHttpConfig]=e.bind(_,n),n[r.restangularFields.plain]=e.bind(v,n,n),n[r.restangularFields.restangularized]=!0,n[r.restangularFields.one]=e.bind(l,n,n),n[r.restangularFields.all]=e.bind(u,n,n),n[r.restangularFields.several]=e.bind(c,n,n),n[r.restangularFields.oneUrl]=e.bind(f,n,n),n[r.restangularFields.allUrl]=e.bind(h,n,n),n[r.restangularFields.fromServer]=!!a,t&&r.shouldSaveParent(i)){var s=r.getIdFromElem(t),d=r.getUrlFromElem(t),p=e.union(e.values(e.pick(r.restangularFields,["route","singleOne","parentResource"])),r.extraFields),g=e.pick(t,p);r.isValidId(s)&&r.setIdToElem(g,s,i),r.isValidId(d)&&r.setUrlToElem(g,d,i),n[r.restangularFields.parentResource]=g}else n[r.restangularFields.parentResource]=null;return n}function l(t,n,i,o){var a;if(e.isNumber(n)||e.isNumber(t))throw a="You're creating a Restangular entity with the number ",a+="instead of the route or the parent. For example, you can't call .one(12).",new Error(a);if(e.isUndefined(n))throw a="You're creating a Restangular entity either without the path. ",a+="For example you can't call .one(). Please check if your arguments are valid.",new Error(a);var s={};return r.setIdToElem(s,i,n),r.setFieldToElem(r.restangularFields.singleOne,s,o),w(t,s,n,!1)}function u(e,t){return x(e,[],t,!1)}function c(e,t){var n=[];return n[r.restangularFields.ids]=Array.prototype.splice.call(arguments,2),x(e,n,t,!1)}function f(e,t,n){if(!t)throw new Error("Route is mandatory when creating new Restangular objects.");var i={};return r.setUrlToElem(i,n,t),w(e,i,t,!1)}function h(e,t,n){if(!t)throw new Error("Route is mandatory when creating new Restangular objects.");var i={};return r.setUrlToElem(i,n,t),x(e,i,t,!1)}function d(t,n,i){return t.call=e.bind(p,t),t.get=e.bind(g,t),t[r.restangularFields.restangularCollection]=n,n&&(t.push=e.bind(p,t,"push")),t.$object=i,r.restangularizePromiseInterceptor&&r.restangularizePromiseInterceptor(t),t}function p(e){var t=o.defer(),n=arguments,i={};return this.then(function(r){var o=Array.prototype.slice.call(n,1);r[e].apply(r,o),i=r,t.resolve(r)}),d(t.promise,this[r.restangularFields.restangularCollection],i)}function g(e){var t=o.defer(),n={};return this.then(function(r){n=r[e],t.resolve(n)}),d(t.promise,this[r.restangularFields.restangularCollection],n)}function m(t,n,i,o){if(e.extend(o,i),r.fullResponse)return t.resolve(e.extend(n,{data:i}));t.resolve(i)}function v(t){if(e.isArray(t)){var n=[];return e.each(t,function(e){n.push(r.isRestangularized(e)?v(e):e)}),n}return e.omit(t,e.values(e.omit(r.restangularFields,"id")))}function y(t){t[r.restangularFields.customOperation]=e.bind(z,t);var n={get:z,delete:z};e.each(["put","patch","post"],function(t){n[t]=function(t,n,r,i,o){return e.bind(z,this)(t,r,i,o,n)}}),e.each(n,function(n,r){var i="delete"===r?"remove":r;e.each(["do","custom"],function(o){t[o+r.toUpperCase()]=e.bind(n,t,i)})}),t[r.restangularFields.customGETLIST]=e.bind(k,t),t[r.restangularFields.doGETLIST]=t[r.restangularFields.customGETLIST]}function b(n){var i=t.copy(n);return e.isArray(n)?x(n[r.restangularFields.parentResource],i,n[r.restangularFields.route],n[r.restangularFields.fromServer],n[r.restangularFields.reqParams]):w(n[r.restangularFields.parentResource],i,n[r.restangularFields.route],n[r.restangularFields.fromServer],n[r.restangularFields.restangularCollection],n[r.restangularFields.reqParams])}function w(t,n,i,o,a,l){var u=r.onBeforeElemRestangularized(n,!1,i),c=s(t,u,i,l,o);return r.useCannonicalId&&(c[r.restangularFields.cannonicalId]=r.getIdFromElem(c)),a&&(c[r.restangularFields.getParentList]=function(){return a}),c[r.restangularFields.restangularCollection]=!1,c[r.restangularFields.get]=e.bind(M,c),c[r.restangularFields.getList]=e.bind(k,c),c[r.restangularFields.put]=e.bind(P,c),c[r.restangularFields.post]=e.bind(R,c),c[r.restangularFields.remove]=e.bind(D,c),c[r.restangularFields.head]=e.bind(O,c),c[r.restangularFields.trace]=e.bind(N,c),c[r.restangularFields.options]=e.bind(L,c),c[r.restangularFields.patch]=e.bind(I,c),c[r.restangularFields.save]=e.bind(T,c),y(c),r.transformElem(c,!1,i,H,!0)}function x(t,n,i,o,a){var l=r.onBeforeElemRestangularized(n,!0,i),u=s(t,l,i,a,o);return u[r.restangularFields.restangularCollection]=!0,u[r.restangularFields.post]=e.bind(R,u,null),u[r.restangularFields.remove]=e.bind(D,u),u[r.restangularFields.head]=e.bind(O,u),u[r.restangularFields.trace]=e.bind(N,u),u[r.restangularFields.putElement]=e.bind(C,u),u[r.restangularFields.options]=e.bind(L,u),u[r.restangularFields.patch]=e.bind(I,u),u[r.restangularFields.get]=e.bind($,u),u[r.restangularFields.getList]=e.bind(k,u,null),y(u),r.transformElem(u,!0,i,H,!0)}function S(t,n,r,i){var o=x(t,n,r,i);return e.each(o,function(e){e&&w(t,e,r,i)}),o}function $(e,t,n){return this.customGET(e.toString(),t,n)}function C(e,t,n){var i=this,a=this[e],s=o.defer(),l=[];return l=r.transformElem(l,!0,a[r.restangularFields.route],H),a.put(t,n).then(function(t){var n=b(i);n[e]=t,l=n,s.resolve(n)},function(e){s.reject(e)}),d(s.promise,!0,l)}function A(e,t,n,i,o,a){var s=r.responseExtractor(e,t,n,i,o,a),l=o.headers("ETag");return s&&l&&(s[r.restangularFields.etag]=l),s}function k(t,n,a){var s=this,l=o.defer(),u=U.fetchUrl(this,t),c=t||s[r.restangularFields.route],f=r.fullRequestInterceptor(null,"getList",c,u,a||{},n||{},this[r.restangularFields.httpConfig]||{}),h=[];h=r.transformElem(h,!0,c,H);var p="getList";r.jsonp&&(p="jsonp");var g=function(n){var i=n.data,o=n.config.params,a=A(i,"getList",c,u,n,l);if((e.isUndefined(a)||""===a)&&(a=[]),!e.isArray(a))throw new Error("Response for getList SHOULD be an array and not an object or something else");if(!0===r.plainByDefault)return m(l,n,a,h);var f=e.map(a,function(e){return s[r.restangularFields.restangularCollection]?w(s[r.restangularFields.parentResource],e,s[r.restangularFields.route],!0,a):w(s,e,t,!0,a)});f=e.extend(a,f),s[r.restangularFields.restangularCollection]?m(l,n,x(s[r.restangularFields.parentResource],f,s[r.restangularFields.route],!0,o),h):m(l,n,x(s,f,t,!0,o),h)};return U.resource(this,i,f.httpConfig,f.headers,f.params,t,this[r.restangularFields.etag],"getList")[p]().then(g,function(t){304===t.status&&s[r.restangularFields.restangularCollection]?m(l,t,s,h):e.every(r.errorInterceptors,function(e){return!1!==e(t,l,g)})&&l.reject(t)}),d(l.promise,!0,h)}function _(e){return this[r.restangularFields.httpConfig]=e,this}function T(t,n){return this[r.restangularFields.fromServer]?this[r.restangularFields.put](t,n):e.bind(E,this)("post",void 0,t,void 0,n)}function E(t,n,a,s,l){var u=this,c=o.defer(),f=a||{},h=n||this[r.restangularFields.route],p=U.fetchUrl(this,n),g=s||this,y=g[r.restangularFields.etag]||("post"!==t?this[r.restangularFields.etag]:null);e.isObject(g)&&r.isRestangularized(g)&&(g=v(g));var b=r.fullRequestInterceptor(g,t,h,p,l||{},f||{},this[r.restangularFields.httpConfig]||{}),x={};x=r.transformElem(x,!1,h,H);var S=function(e){var n=e.data,i=e.config.params,o=A(n,t,h,p,e,c);if(null!==o&&void 0!==o&&""!==o){var a;if(!0===r.plainByDefault)return m(c,e,o,x);"post"!==t||u[r.restangularFields.restangularCollection]?(a=w(u[r.restangularFields.parentResource],o,u[r.restangularFields.route],!0,null,i),a[r.restangularFields.singleOne]=u[r.restangularFields.singleOne],m(c,e,a,x)):(a=w(u[r.restangularFields.parentResource],o,h,!0,null,i),m(c,e,a,x))}else m(c,e,void 0,x)},$=function(n){304===n.status&&r.isSafe(t)?m(c,n,u,x):e.every(r.errorInterceptors,function(e){return!1!==e(n,c,S)})&&c.reject(n)},C=t,k=e.extend({},b.headers),_=r.isOverridenMethod(t);return _?(C="post",k=e.extend(k,{"X-HTTP-Method-Override":"remove"===t?"DELETE":t.toUpperCase()})):r.jsonp&&"get"===C&&(C="jsonp"),r.isSafe(t)?_?U.resource(this,i,b.httpConfig,k,b.params,n,y,C)[C]({}).then(S,$):U.resource(this,i,b.httpConfig,k,b.params,n,y,C)[C]().then(S,$):U.resource(this,i,b.httpConfig,k,b.params,n,y,C)[C](b.element).then(S,$),d(c.promise,!1,x)}function M(t,n){return e.bind(E,this)("get",void 0,t,void 0,n)}function D(t,n){return e.bind(E,this)("remove",void 0,t,void 0,n)}function P(t,n){return e.bind(E,this)("put",void 0,t,void 0,n)}function R(t,n,r,i){return e.bind(E,this)("post",t,r,n,i)}function O(t,n){return e.bind(E,this)("head",void 0,t,void 0,n)}function N(t,n){return e.bind(E,this)("trace",void 0,t,void 0,n)}function L(t,n){return e.bind(E,this)("options",void 0,t,void 0,n)}function I(t,n,r){return e.bind(E,this)("patch",void 0,n,t,r)}function z(t,n,r,i,o){return e.bind(E,this)(t,n,r,o,i)}function B(t,n,i,o,a,s){var l;l="getList"===n?e.bind(k,this,i):e.bind(z,this,n,i);var u=function(t,n,r){var i=e.defaults({params:t,headers:n,elem:r},{params:o,headers:a,elem:s});return l(i.params,i.headers,i.elem)};r.isSafe(n)?this[t]=u:this[t]=function(e,t,n){return u(t,n,e)}}function F(i){var o=t.copy(e.omit(r,"configuration"));return n.init(o,o),i(o),a(o)}function j(t,n){var i=e.values(r.restangularFields),o={},a=(n||H).all(t);o.one=e.bind(l,n||H,n,t),o.post=e.bind(a.post,a),o.getList=e.bind(a.getList,a),o.withHttpConfig=e.bind(a.withHttpConfig,a),o.get=e.bind(a.get,a);for(var s in a)a.hasOwnProperty(s)&&e.isFunction(a[s])&&!e.includes(i,s)&&(o[s]=e.bind(a[s],a));return o}var H={},U=new r.urlCreatorFactory[r.urlCreator];return U.setConfig(r),n.init(H,r),H.copy=e.bind(b,H),H.service=e.bind(j,H),H.withConfig=e.bind(F,H),H.one=e.bind(l,H,null),H.all=e.bind(u,H,null),H.several=e.bind(c,H,null),H.oneUrl=e.bind(f,H,null),H.allUrl=e.bind(h,H,null),H.stripRestangular=e.bind(v,H),H.restangularizeElement=e.bind(w,H),H.restangularizeCollection=e.bind(S,H),H}return a(r)}]}),n.name}),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="satellizer"),function(e,t,n){"use strict";e.location.origin||(e.location.origin=e.location.protocol+"//"+e.location.hostname+(e.location.port?":"+e.location.port:"")),t.module("satellizer",[]).constant("SatellizerConfig",{httpInterceptor:function(){return!0},withCredentials:!1,tokenRoot:null,baseUrl:"/",loginUrl:"/auth/login",signupUrl:"/auth/signup",unlinkUrl:"/auth/unlink",tokenName:"token",tokenPrefix:"satellizer",authHeader:"Authorization",authToken:"Bearer",storageType:"localStorage",providers:{facebook:{name:"facebook",url:"/auth/facebook",authorizationEndpoint:"https://www.facebook.com/v2.5/dialog/oauth",redirectUri:e.location.origin+"/",requiredUrlParams:["display","scope"],scope:["email"],scopeDelimiter:",",display:"popup",oauthType:"2.0",popupOptions:{width:580,height:400}},google:{name:"google",url:"/auth/google",authorizationEndpoint:"https://accounts.google.com/o/oauth2/auth",redirectUri:e.location.origin,requiredUrlParams:["scope"],optionalUrlParams:["display","state"],scope:["profile","email"],scopePrefix:"openid",scopeDelimiter:" ",display:"popup",oauthType:"2.0",popupOptions:{width:452,height:633},state:function(){var e=Math.random().toString(36).substr(2);return encodeURIComponent(e)}},github:{name:"github",url:"/auth/github",authorizationEndpoint:"https://github.com/login/oauth/authorize",redirectUri:e.location.origin,optionalUrlParams:["scope"],scope:["user:email"],scopeDelimiter:" ",oauthType:"2.0",popupOptions:{width:1020,height:618}},instagram:{name:"instagram",url:"/auth/instagram",authorizationEndpoint:"https://api.instagram.com/oauth/authorize",redirectUri:e.location.origin,requiredUrlParams:["scope"],scope:["basic"],scopeDelimiter:"+",oauthType:"2.0"},linkedin:{name:"linkedin",url:"/auth/linkedin",authorizationEndpoint:"https://www.linkedin.com/uas/oauth2/authorization",redirectUri:e.location.origin,requiredUrlParams:["state"],scope:["r_emailaddress"],scopeDelimiter:" ",state:"STATE",oauthType:"2.0",popupOptions:{width:527,height:582}},twitter:{name:"twitter",url:"/auth/twitter",authorizationEndpoint:"https://api.twitter.com/oauth/authenticate",redirectUri:e.location.origin,oauthType:"1.0",popupOptions:{width:495,height:645}},twitch:{name:"twitch",url:"/auth/twitch",authorizationEndpoint:"https://api.twitch.tv/kraken/oauth2/authorize",redirectUri:e.location.origin,requiredUrlParams:["scope"],scope:["user_read"],scopeDelimiter:" ",display:"popup",oauthType:"2.0",popupOptions:{width:500,height:560}},live:{name:"live",url:"/auth/live",authorizationEndpoint:"https://login.live.com/oauth20_authorize.srf",redirectUri:e.location.origin,requiredUrlParams:["display","scope"],scope:["wl.emails"],scopeDelimiter:" ",display:"popup",oauthType:"2.0",popupOptions:{width:500,height:560}},yahoo:{name:"yahoo",url:"/auth/yahoo",authorizationEndpoint:"https://api.login.yahoo.com/oauth2/request_auth",redirectUri:e.location.origin,scope:[],scopeDelimiter:",",oauthType:"2.0",popupOptions:{width:559,height:519}},bitbucket:{name:"bitbucket",url:"/auth/bitbucket",authorizationEndpoint:"https://bitbucket.org/site/oauth2/authorize",redirectUri:e.location.origin+"/",requiredUrlParams:["scope"],scope:["email"],scopeDelimiter:" ",oauthType:"2.0",popupOptions:{width:1028,height:529}}}}).provider("$auth",["SatellizerConfig",function(e){Object.defineProperties(this,{httpInterceptor:{get:function(){return e.httpInterceptor},set:function(t){e.httpInterceptor="function"==typeof t?t:function(){return t}}},baseUrl:{get:function(){return e.baseUrl},set:function(t){e.baseUrl=t}},loginUrl:{get:function(){return e.loginUrl},set:function(t){e.loginUrl=t}},signupUrl:{get:function(){return e.signupUrl},set:function(t){e.signupUrl=t}},tokenRoot:{get:function(){return e.tokenRoot},set:function(t){e.tokenRoot=t}},tokenName:{get:function(){return e.tokenName},set:function(t){e.tokenName=t}},tokenPrefix:{get:function(){return e.tokenPrefix},set:function(t){e.tokenPrefix=t}},unlinkUrl:{get:function(){return e.unlinkUrl},set:function(t){e.unlinkUrl=t}},authHeader:{get:function(){return e.authHeader},set:function(t){e.authHeader=t}},authToken:{get:function(){return e.authToken},set:function(t){e.authToken=t}},withCredentials:{get:function(){return e.withCredentials},set:function(t){e.withCredentials=t}},storageType:{get:function(){return e.storageType},set:function(t){e.storageType=t}}}),t.forEach(Object.keys(e.providers),function(n){this[n]=function(r){return t.extend(e.providers[n],r)}},this);var n=function(n){e.providers[n.name]=e.providers[n.name]||{},t.extend(e.providers[n.name],n)};this.oauth1=function(t){n(t),e.providers[t.name].oauthType="1.0"},this.oauth2=function(t){n(t),e.providers[t.name].oauthType="2.0"},this.$get=["$q","SatellizerShared","SatellizerLocal","SatellizerOauth",function(e,t,n,r){var i={};return i.login=function(e,t){return n.login(e,t)},i.signup=function(e,t){return n.signup(e,t)},i.logout=function(){return t.logout()},i.authenticate=function(e,t){return r.authenticate(e,t)},i.link=function(e,t){return r.authenticate(e,t)},i.unlink=function(e,t){return r.unlink(e,t)},i.isAuthenticated=function(){return t.isAuthenticated()},i.getToken=function(){return t.getToken()},i.setToken=function(e){t.setToken({access_token:e})},i.removeToken=function(){return t.removeToken()},i.getPayload=function(){return t.getPayload()},i.setStorageType=function(e){return t.setStorageType(e)},i}]}]).factory("SatellizerShared",["$q","$window","$log","SatellizerConfig","SatellizerStorage",function(n,r,i,o,a){var s={},l=o.tokenPrefix?[o.tokenPrefix,o.tokenName].join("_"):o.tokenName;return s.getToken=function(){return a.get(l)},s.getPayload=function(){var t=a.get(l);if(t&&3===t.split(".").length)try{var n=t.split(".")[1],r=n.replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(decodeURIComponent(escape(e.atob(r))))}catch(e){return}},s.setToken=function(e){if(!e)return i.warn("Can't set token without passing a value");var n,r=e&&e.access_token;if(r&&(t.isObject(r)&&t.isObject(r.data)?e=r:t.isString(r)&&(n=r)),!n&&e){var s=o.tokenRoot&&o.tokenRoot.split(".").reduce(function(e,t){return e[t]},e.data);n=s?s[o.tokenName]:e.data&&e.data[o.tokenName]}if(!n){var u=o.tokenRoot?o.tokenRoot+"."+o.tokenName:o.tokenName;return i.warn('Expecting a token named "'+u)}a.set(l,n)},s.removeToken=function(){a.remove(l)},s.isAuthenticated=function(){var e=a.get(l);if(e){if(3===e.split(".").length)try{var t=e.split(".")[1],n=t.replace(/-/g,"+").replace(/_/g,"/"),i=JSON.parse(r.atob(n)).exp;if(i){return!(Math.round((new Date).getTime()/1e3)>=i)}}catch(e){return!0}return!0}return!1},s.logout=function(){return a.remove(l),n.when()},s.setStorageType=function(e){o.storageType=e},s}]).factory("SatellizerOauth",["$q","$http","SatellizerConfig","SatellizerUtils","SatellizerShared","SatellizerOauth1","SatellizerOauth2",function(e,t,n,r,i,o,a){var s={};return s.authenticate=function(t,r){var s="1.0"===n.providers[t].oauthType?new o:new a,l=e.defer();return s.open(n.providers[t],r||{}).then(function(e){n.providers[t].url&&i.setToken(e,!1),l.resolve(e)}).catch(function(e){l.reject(e)}),l.promise},s.unlink=function(e,i){return i=i||{},i.url=i.url?i.url:r.joinUrl(n.baseUrl,n.unlinkUrl),i.data={provider:e}||i.data,i.method=i.method||"POST",i.withCredentials=i.withCredentials||n.withCredentials,t(i)},s}]).factory("SatellizerLocal",["$http","SatellizerUtils","SatellizerShared","SatellizerConfig",function(e,t,n,r){var i={};return i.login=function(i,o){return o=o||{},o.url=o.url?o.url:t.joinUrl(r.baseUrl,r.loginUrl),o.data=i||o.data,o.method=o.method||"POST",o.withCredentials=o.withCredentials||r.withCredentials,e(o).then(function(e){return n.setToken(e),e})},i.signup=function(n,i){return i=i||{},i.url=i.url?i.url:t.joinUrl(r.baseUrl,r.signupUrl),i.data=n||i.data,i.method=i.method||"POST",i.withCredentials=i.withCredentials||r.withCredentials,e(i)},i}]).factory("SatellizerOauth2",["$q","$http","$window","$timeout","SatellizerPopup","SatellizerUtils","SatellizerConfig","SatellizerStorage",function(n,r,i,o,a,s,l,u){return function(){var i={},c={defaultUrlParams:["response_type","client_id","redirect_uri"],responseType:"code",responseParams:{code:"code",clientId:"clientId",redirectUri:"redirectUri"}};return i.open=function(r,l){c=s.merge(r,c);var f=n.defer();return o(function(){var n,r,o=c.name+"_state";t.isFunction(c.state)?u.set(o,c.state()):t.isString(c.state)&&u.set(o,c.state),n=[c.authorizationEndpoint,i.buildQueryString()].join("?"),r=e.cordova?a.open(n,c.name,c.popupOptions,c.redirectUri).eventListener(c.redirectUri):a.open(n,c.name,c.popupOptions,c.redirectUri).pollPopup(c.redirectUri),r.then(function(e){return"token"!==c.responseType&&c.url?e.state&&e.state!==u.get(o)?f.reject("The value returned in the state parameter does not match the state value from your original authorization code request."):void f.resolve(i.exchangeForToken(e,l)):f.resolve(e)},function(e){f.reject(e)})}),f.promise},i.exchangeForToken=function(e,n){var i=t.extend({},n);t.forEach(c.responseParams,function(t,n){switch(n){case"code":i[t]=e.code;break;case"clientId":i[t]=c.clientId;break;case"redirectUri":i[t]=c.redirectUri;break;default:i[t]=e[n]}}),e.state&&(i.state=e.state);var o=l.baseUrl?s.joinUrl(l.baseUrl,c.url):c.url;return r.post(o,i,{withCredentials:l.withCredentials})},i.buildQueryString=function(){var e=[],n=["defaultUrlParams","requiredUrlParams","optionalUrlParams"];return t.forEach(n,function(n){t.forEach(c[n],function(n){var r=s.camelCase(n),i=t.isFunction(c[n])?c[n]():c[r];if("redirect_uri"!==n||i){if("state"===n){var o=c.name+"_state";i=encodeURIComponent(u.get(o))}"scope"===n&&Array.isArray(i)&&(i=i.join(c.scopeDelimiter),c.scopePrefix&&(i=[c.scopePrefix,i].join(c.scopeDelimiter))),e.push([n,i])}})}),e.map(function(e){return e.join("=")}).join("&")},i}}]).factory("SatellizerOauth1",["$q","$http","SatellizerPopup","SatellizerConfig","SatellizerUtils",function(n,r,i,o,a){return function(){var n={},s={url:null,name:null,popupOptions:null,redirectUri:null,authorizationEndpoint:null};return n.open=function(l,u){t.extend(s,l);var c,f=o.baseUrl?a.joinUrl(o.baseUrl,s.url):s.url;return e.cordova||(c=i.open("",s.name,s.popupOptions,s.redirectUri)),r.post(f,s).then(function(t){var r=[s.authorizationEndpoint,n.buildQueryString(t.data)].join("?");e.cordova?c=i.open(r,s.name,s.popupOptions,s.redirectUri):c.popupWindow.location=r;var o;return o=e.cordova?c.eventListener(s.redirectUri):c.pollPopup(s.redirectUri),o.then(function(e){return n.exchangeForToken(e,u)})})},n.exchangeForToken=function(e,n){var i=t.extend({},n,e),l=o.baseUrl?a.joinUrl(o.baseUrl,s.url):s.url;return r.post(l,i,{withCredentials:o.withCredentials})},n.buildQueryString=function(e){var n=[];return t.forEach(e,function(e,t){n.push(encodeURIComponent(t)+"="+encodeURIComponent(e))}),n.join("&")},n}}]).factory("SatellizerPopup",["$q","$interval","$window","SatellizerConfig","SatellizerUtils",function(n,r,i,o,a){var s={};return s.url="",s.popupWindow=null,s.open=function(t,n,r){s.url=t;var o=s.stringifyOptions(s.prepareOptions(r)),a=i.navigator.userAgent,l=e.cordova||a.indexOf("CriOS")>-1?"_blank":n;return s.popupWindow=i.open(t,l,o),i.popup=s.popupWindow,s.popupWindow&&s.popupWindow.focus&&s.popupWindow.focus(),s},s.eventListener=function(e){var r=n.defer();return s.popupWindow.addEventListener("loadstart",function(n){if(0===n.url.indexOf(e)){var i=document.createElement("a");if(i.href=n.url,i.search||i.hash){var o=i.search.substring(1).replace(/\/$/,""),l=i.hash.substring(1).replace(/\/$/,""),u=a.parseQueryString(l),c=a.parseQueryString(o);t.extend(c,u),c.error||r.resolve(c),s.popupWindow.close()}}}),s.popupWindow.addEventListener("loaderror",function(){r.reject("Authorization Failed")}),r.promise},s.pollPopup=function(e){var i=n.defer(),o=document.createElement("a");o.href=e;var l=a.getFullUrlPath(o),u=r(function(){s.popupWindow&&!s.popupWindow.closed&&void 0!==s.popupWindow.closed||(i.reject("The popup window was closed."),r.cancel(u));try{if(a.getFullUrlPath(s.popupWindow.location)===l){if(s.popupWindow.location.search||s.popupWindow.location.hash){var e=s.popupWindow.location.search.substring(1).replace(/\/$/,""),n=s.popupWindow.location.hash.substring(1).replace(/[\/$]/,""),o=a.parseQueryString(n),c=a.parseQueryString(e);t.extend(c,o),c.error?i.reject(c):i.resolve(c)}else i.reject("Redirect has occurred but no query or hash parameters were found. They were either not set during the redirect, or were removed before Satellizer could read them, e.g. AngularJS routing mechanism.");r.cancel(u),s.popupWindow.close()}}catch(e){}},20);return i.promise},s.prepareOptions=function(e){e=e||{};var n=e.width||500,r=e.height||500;return t.extend({width:n,height:r,left:i.screenX+(i.outerWidth-n)/2,top:i.screenY+(i.outerHeight-r)/2.5},e)},s.stringifyOptions=function(e){var n=[];return t.forEach(e,function(e,t){n.push(t+"="+e)}),n.join(",")},s}]).service("SatellizerUtils",function(){this.getFullUrlPath=function(e){var t="https:"===e.protocol;return e.protocol+"//"+e.hostname+":"+(e.port||(t?"443":"80"))+(/^\//.test(e.pathname)?e.pathname:"/"+e.pathname)},this.camelCase=function(e){return e.replace(/([\:\-\_]+(.))/g,function(e,t,n,r){return r?n.toUpperCase():n})},this.parseQueryString=function(e){var n,r,i={};return t.forEach((e||"").split("&"),function(e){e&&(r=e.split("="),n=decodeURIComponent(r[0]),i[n]=!t.isDefined(r[1])||decodeURIComponent(r[1]))}),i},this.joinUrl=function(e,t){if(/^(?:[a-z]+:)?\/\//i.test(t))return t;var n=[e,t].join("/");return function(e){return e.replace(/[\/]+/g,"/").replace(/\/\?/g,"?").replace(/\/\#/g,"#").replace(/\:\//g,"://")}(n)},this.merge=function(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(r in t&&"object"==typeof e[r]&&null!==r?n[r]=this.merge(e[r],t[r]):n[r]=e[r]);for(r in t)if(t.hasOwnProperty(r)){if(r in n)continue;n[r]=t[r]}return n}}).factory("SatellizerStorage",["$window","$log","SatellizerConfig",function(e,t,n){var r={},i=function(){try{var t=n.storageType in e&&null!==e[n.storageType];if(t){var r=Math.random().toString(36).substring(7);e[n.storageType].setItem(r,""),e[n.storageType].removeItem(r)}return t}catch(e){return!1}}();return i||t.warn(n.storageType+" is not available."),{get:function(t){return i?e[n.storageType].getItem(t):r[t]},set:function(t,o){return i?e[n.storageType].setItem(t,o):r[t]=o},remove:function(t){return i?e[n.storageType].removeItem(t):delete r[t]}}}]).factory("SatellizerInterceptor",["$q","SatellizerConfig","SatellizerStorage","SatellizerShared",function(e,t,n,r){return{request:function(e){if(e.skipAuthorization)return e;if(r.isAuthenticated()&&t.httpInterceptor(e)){var i=t.tokenPrefix?t.tokenPrefix+"_"+t.tokenName:t.tokenName,o=n.get(i);t.authHeader&&t.authToken&&(o=t.authToken+" "+o),e.headers[t.authHeader]=o}return e},responseError:function(t){return e.reject(t)}}}]).config(["$httpProvider",function(e){e.interceptors.push("SatellizerInterceptor")}])}(window,window.angular),function(e){var t,n,r="hasOwnProperty",i=/[\.\/]/,o=function(e,t){return e-t},a={n:{}},s=function(){for(var e=0,t=this.length;e<t;e++)if(void 0!==this[e])return this[e]},l=function(){
for(var e=this.length;--e;)if(void 0!==this[e])return this[e]},u=Object.prototype.toString,c=String,f=Array.isArray||function(e){return e instanceof Array||"[object Array]"==u.call(e)};eve=function(e,r){var i,a=n,u=Array.prototype.slice.call(arguments,2),c=eve.listeners(e),f=0,h=[],d={},p=[],g=t;p.firstDefined=s,p.lastDefined=l,t=e,n=0;for(var m=0,v=c.length;m<v;m++)"zIndex"in c[m]&&(h.push(c[m].zIndex),c[m].zIndex<0&&(d[c[m].zIndex]=c[m]));for(h.sort(o);h[f]<0;)if(i=d[h[f++]],p.push(i.apply(r,u)),n)return n=a,p;for(m=0;m<v;m++)if("zIndex"in(i=c[m]))if(i.zIndex==h[f]){if(p.push(i.apply(r,u)),n)break;do{if(f++,i=d[h[f]],i&&p.push(i.apply(r,u)),n)break}while(i)}else d[i.zIndex]=i;else if(p.push(i.apply(r,u)),n)break;return n=a,t=g,p},eve._events=a,eve.listeners=function(e){var t,n,r,o,s,l,u,c,h=f(e)?e:e.split(i),d=a,p=[d],g=[];for(o=0,s=h.length;o<s;o++){for(c=[],l=0,u=p.length;l<u;l++)for(d=p[l].n,n=[d[h[o]],d["*"]],r=2;r--;)(t=n[r])&&(c.push(t),g=g.concat(t.f||[]));p=c}return g},eve.separator=function(e){e?(e=c(e).replace(/(?=[\.\^\]\[\-])/g,"\\"),e="["+e+"]",i=new RegExp(e)):i=/[\.\/]/},eve.on=function(e,t){if("function"!=typeof t)return function(){};for(var n=f(e)?f(e[0])?e:[e]:c(e).split(/\s*,\s*/),r=0,o=n.length;r<o;r++)!function(e){for(var n,r=f(e)?e:c(e).split(i),o=a,s=0,l=r.length;s<l;s++)o=o.n,o=o.hasOwnProperty(r[s])&&o[r[s]]||(o[r[s]]={n:{}});for(o.f=o.f||[],s=0,l=o.f.length;s<l;s++)if(o.f[s]==t){n=!0;break}!n&&o.f.push(t)}(n[r]);return function(e){+e==+e&&(t.zIndex=+e)}},eve.f=function(e){var t=[].slice.call(arguments,1);return function(){eve.apply(null,[e,null].concat(t).concat([].slice.call(arguments,0)))}},eve.stop=function(){n=1},eve.nt=function(e){var n=f(t)?t.join("."):t;return e?new RegExp("(?:\\.|\\/|^)"+e+"(?:\\.|\\/|$)").test(n):n},eve.nts=function(){return f(t)?t:t.split(i)},eve.off=eve.unbind=function(e,t){if(!e)return void(eve._events=a={n:{}});var n=f(e)?f(e[0])?e:[e]:c(e).split(/\s*,\s*/);if(n.length>1)for(var o=0,s=n.length;o<s;o++)eve.off(n[o],t);else{n=f(e)?e:c(e).split(i);var l,u,h,o,s,d,p,g=[a];for(o=0,s=n.length;o<s;o++)for(d=0;d<g.length;d+=h.length-2){if(h=[d,1],l=g[d].n,"*"!=n[o])l[n[o]]&&h.push(l[n[o]]);else for(u in l)l[r](u)&&h.push(l[u]);g.splice.apply(g,h)}for(o=0,s=g.length;o<s;o++)for(l=g[o];l.n;){if(t){if(l.f){for(d=0,p=l.f.length;d<p;d++)if(l.f[d]==t){l.f.splice(d,1);break}!l.f.length&&delete l.f}for(u in l.n)if(l.n[r](u)&&l.n[u].f){var m=l.n[u].f;for(d=0,p=m.length;d<p;d++)if(m[d]==t){m.splice(d,1);break}!m.length&&delete l.n[u].f}}else{delete l.f;for(u in l.n)l.n[r](u)&&l.n[u].f&&delete l.n[u].f}l=l.n}}},eve.once=function(e,t){var n=function(){return eve.off(e,n),t.apply(this,arguments)};return eve.on(e,n)},eve.version="0.5.0",eve.toString=function(){return"You are running Eve 0.5.0"},"undefined"!=typeof module&&module.exports?module.exports=eve:"function"==typeof define&&define.amd?define("eve",[],function(){return eve}):e.eve=eve}(this),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Raphael=t():e.Raphael=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var r,i;r=[n(1),n(3),n(4)],void 0!==(i=function(e){return e}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(2)],void 0!==(i=function(e){function t(n){if(t.is(n,"function"))return b?n():e.on("raphael.DOMload",n);if(t.is(n,V))return t._engine.create[_](t,n.splice(0,3+t.is(n[0],U))).add(n);var r=Array.prototype.slice.call(arguments,0);if(t.is(r[r.length-1],"function")){var i=r.pop();return b?i.call(t._engine.create[_](t,r)):e.on("raphael.DOMload",function(){i.call(t._engine.create[_](t,r))})}return t._engine.create[_](t,arguments)}function n(e){if("function"==typeof e||Object(e)!==e)return e;var t=new e.constructor;for(var r in e)e[$](r)&&(t[r]=n(e[r]));return t}function r(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return e.push(e.splice(n,1)[0])}function i(e,t,n){function i(){var o=Array.prototype.slice.call(arguments,0),a=o.join("â€"),s=i.cache=i.cache||{},l=i.count=i.count||[];return s[$](a)?(r(l,a),n?n(s[a]):s[a]):(l.length>=1e3&&delete s[l.shift()],l.push(a),s[a]=e[_](t,o),n?n(s[a]):s[a])}return i}function o(){return this.hex}function a(e,t){for(var n=[],r=0,i=e.length;i-2*!t>r;r+=2){var o=[{x:+e[r-2],y:+e[r-1]},{x:+e[r],y:+e[r+1]},{x:+e[r+2],y:+e[r+3]},{x:+e[r+4],y:+e[r+5]}];t?r?i-4==r?o[3]={x:+e[0],y:+e[1]}:i-2==r&&(o[2]={x:+e[0],y:+e[1]},o[3]={x:+e[2],y:+e[3]}):o[0]={x:+e[i-2],y:+e[i-1]}:i-4==r?o[3]=o[2]:r||(o[0]={x:+e[r],y:+e[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n}function s(e,t,n,r,i){return e*(e*(-3*t+9*n-9*r+3*i)+6*t-12*n+6*r)-3*t+3*n}function l(e,t,n,r,i,o,a,l,u){null==u&&(u=1),u=u>1?1:u<0?0:u;for(var c=u/2,f=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,p=0;p<12;p++){var g=c*f[p]+c,m=s(g,e,n,i,a),v=s(g,t,r,o,l),y=m*m+v*v;d+=h[p]*I.sqrt(y)}return c*d}function u(e,t,n,r,i,o,a,s,u){if(!(u<0||l(e,t,n,r,i,o,a,s)<u)){var c,f=.5,h=1-f;for(c=l(e,t,n,r,i,o,a,s,h);F(c-u)>.01;)f/=2,h+=(c<u?1:-1)*f,c=l(e,t,n,r,i,o,a,s,h);return h}}function c(e,t,n,r,i,o,a,s){if(!(z(e,n)<B(i,a)||B(e,n)>z(i,a)||z(t,r)<B(o,s)||B(t,r)>z(o,s))){var l=(e*r-t*n)*(i-a)-(e-n)*(i*s-o*a),u=(e*r-t*n)*(o-s)-(t-r)*(i*s-o*a),c=(e-n)*(o-s)-(t-r)*(i-a);if(c){var f=l/c,h=u/c,d=+f.toFixed(2),p=+h.toFixed(2);if(!(d<+B(e,n).toFixed(2)||d>+z(e,n).toFixed(2)||d<+B(i,a).toFixed(2)||d>+z(i,a).toFixed(2)||p<+B(t,r).toFixed(2)||p>+z(t,r).toFixed(2)||p<+B(o,s).toFixed(2)||p>+z(o,s).toFixed(2)))return{x:f,y:h}}}}function f(e,n,r){var i=t.bezierBBox(e),o=t.bezierBBox(n);if(!t.isBBoxIntersect(i,o))return r?0:[];for(var a=l.apply(0,e),s=l.apply(0,n),u=z(~~(a/5),1),f=z(~~(s/5),1),h=[],d=[],p={},g=r?0:[],m=0;m<u+1;m++){var v=t.findDotsAtSegment.apply(t,e.concat(m/u));h.push({x:v.x,y:v.y,t:m/u})}for(m=0;m<f+1;m++)v=t.findDotsAtSegment.apply(t,n.concat(m/f)),d.push({x:v.x,y:v.y,t:m/f});for(m=0;m<u;m++)for(var y=0;y<f;y++){var b=h[m],w=h[m+1],x=d[y],S=d[y+1],$=F(w.x-b.x)<.001?"y":"x",C=F(S.x-x.x)<.001?"y":"x",A=c(b.x,b.y,w.x,w.y,x.x,x.y,S.x,S.y);if(A){if(p[A.x.toFixed(4)]==A.y.toFixed(4))continue;p[A.x.toFixed(4)]=A.y.toFixed(4);var k=b.t+F((A[$]-b[$])/(w[$]-b[$]))*(w.t-b.t),_=x.t+F((A[C]-x[C])/(S[C]-x[C]))*(S.t-x.t);k>=0&&k<=1.001&&_>=0&&_<=1.001&&(r?g++:g.push({x:A.x,y:A.y,t1:B(k,1),t2:B(_,1)}))}}return g}function h(e,n,r){e=t._path2curve(e),n=t._path2curve(n);for(var i,o,a,s,l,u,c,h,d,p,g=r?0:[],m=0,v=e.length;m<v;m++){var y=e[m];if("M"==y[0])i=l=y[1],o=u=y[2];else{"C"==y[0]?(d=[i,o].concat(y.slice(1)),i=d[6],o=d[7]):(d=[i,o,i,o,l,u,l,u],i=l,o=u);for(var b=0,w=n.length;b<w;b++){var x=n[b];if("M"==x[0])a=c=x[1],s=h=x[2];else{"C"==x[0]?(p=[a,s].concat(x.slice(1)),a=p[6],s=p[7]):(p=[a,s,a,s,c,h,c,h],a=c,s=h);var S=f(d,p,r);if(r)g+=S;else{for(var $=0,C=S.length;$<C;$++)S[$].segment1=m,S[$].segment2=b,S[$].bez1=d,S[$].bez2=p;g=g.concat(S)}}}}}return g}function d(e,t,n,r,i,o){null!=e?(this.a=+e,this.b=+t,this.c=+n,this.d=+r,this.e=+i,this.f=+o):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function p(){return this.x+D+this.y+D+this.width+" Ã— "+this.height}function g(e,t,n,r,i,o){function a(e){return((c*e+u)*e+l)*e}function s(e,t){var n,r,i,o,s,f;for(i=e,f=0;f<8;f++){if(o=a(i)-e,F(o)<t)return i;if(s=(3*c*i+2*u)*i+l,F(s)<1e-6)break;i-=o/s}if(n=0,r=1,(i=e)<n)return n;if(i>r)return r;for(;n<r;){if(o=a(i),F(o-e)<t)return i;e>o?n=i:r=i,i=(r-n)/2+n}return i}var l=3*t,u=3*(r-t)-l,c=1-l-u,f=3*n,h=3*(i-n)-f,d=1-f-h;return function(e,t){var n=s(e,t);return((d*n+h)*n+f)*n}(e,1/(200*o))}function m(e,t){var n=[],r={};if(this.ms=t,this.times=1,e){for(var i in e)e[$](i)&&(r[K(i)]=e[i],n.push(K(i)));n.sort(oe)}this.anim=r,this.top=n[n.length-1],this.percents=n}function v(n,r,i,o,a,s){i=K(i);var l,u,c,f,h,p,m=n.ms,v={},y={},b={};if(o)for(S=0,C=et.length;S<C;S++){var w=et[S];if(w.el.id==r.id&&w.anim==n){w.percent!=i?(et.splice(S,1),c=1):u=w,r.attr(w.totalOrigin);break}}else o=+y;for(var S=0,C=n.percents.length;S<C;S++){if(n.percents[S]==i||n.percents[S]>o*n.top){i=n.percents[S],h=n.percents[S-1]||0,m=m/n.top*(i-h),f=n.percents[S+1],l=n.anim[i];break}o&&r.attr(n.anim[n.percents[S]])}if(l){if(u)u.initstatus=o,u.start=new Date-u.ms*o;else{for(var A in l)if(l[$](A)&&(ee[$](A)||r.paper.customAttributes[$](A)))switch(v[A]=r.attr(A),null==v[A]&&(v[A]=Q[A]),y[A]=l[A],ee[A]){case U:b[A]=(y[A]-v[A])/m;break;case"colour":v[A]=t.getRGB(v[A]);var k=t.getRGB(y[A]);b[A]={r:(k.r-v[A].r)/m,g:(k.g-v[A].g)/m,b:(k.b-v[A].b)/m};break;case"path":var _=Ee(v[A],y[A]),E=_[1];for(v[A]=_[0],b[A]=[],S=0,C=v[A].length;S<C;S++){b[A][S]=[0];for(var M=1,D=v[A][S].length;M<D;M++)b[A][S][M]=(E[S][M]-v[A][S][M])/m}break;case"transform":var O=r._,N=Oe(O[A],y[A]);if(N)for(v[A]=N.from,y[A]=N.to,b[A]=[],b[A].real=!0,S=0,C=v[A].length;S<C;S++)for(b[A][S]=[v[A][S][0]],M=1,D=v[A][S].length;M<D;M++)b[A][S][M]=(y[A][S][M]-v[A][S][M])/m;else{var L=r.matrix||new d,I={_:{transform:O.transform},getBBox:function(){return r.getBBox(1)}};v[A]=[L.a,L.b,L.c,L.d,L.e,L.f],Pe(I,y[A]),y[A]=I._.transform,b[A]=[(I.matrix.a-L.a)/m,(I.matrix.b-L.b)/m,(I.matrix.c-L.c)/m,(I.matrix.d-L.d)/m,(I.matrix.e-L.e)/m,(I.matrix.f-L.f)/m]}break;case"csv":var z=P(l[A])[R](x),B=P(v[A])[R](x);if("clip-rect"==A)for(v[A]=B,b[A]=[],S=B.length;S--;)b[A][S]=(z[S]-v[A][S])/m;y[A]=z;break;default:for(z=[][T](l[A]),B=[][T](v[A]),b[A]=[],S=r.paper.customAttributes[A].length;S--;)b[A][S]=((z[S]||0)-(B[S]||0))/m}var F=l.easing,j=t.easing_formulas[F];if(!j)if((j=P(F).match(G))&&5==j.length){var H=j;j=function(e){return g(e,+H[1],+H[2],+H[3],+H[4],m)}}else j=ae;if(p=l.start||n.start||+new Date,w={anim:n,percent:i,timestamp:p,start:p+(n.del||0),status:0,initstatus:o||0,stop:!1,ms:m,easing:j,from:v,diff:b,to:y,el:r,callback:l.callback,prev:h,next:f,repeat:s||n.times,origin:r.attr(),totalOrigin:a},et.push(w),o&&!u&&!c&&(w.stop=!0,w.start=new Date-m*o,1==et.length))return nt();c&&(w.start=new Date-w.ms*o),1==et.length&&tt(nt)}e("raphael.anim.start."+r.id,r,n)}}function y(e){for(var t=0;t<et.length;t++)et[t].el.paper==e&&et.splice(t--,1)}t.version="2.2.0",t.eve=e;var b,w,x=/[, ]+/,S={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},$="hasOwnProperty",C={doc:document,win:window},A={was:Object.prototype[$].call(C.win,"Raphael"),is:C.win.Raphael},k=function(){this.ca=this.customAttributes={}},_="apply",T="concat",E="ontouchstart"in C.win||C.win.DocumentTouch&&C.doc instanceof DocumentTouch,M="",D=" ",P=String,R="split",O="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[R](D),N={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},L=P.prototype.toLowerCase,I=Math,z=I.max,B=I.min,F=I.abs,j=I.pow,H=I.PI,U="number",W="string",V="array",q=Object.prototype.toString,Y=(t._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,{NaN:1,Infinity:1,"-Infinity":1}),G=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,X=I.round,K=parseFloat,Z=parseInt,J=P.prototype.toUpperCase,Q=t._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0,class:""},ee=t._availableAnimAttrs={blur:U,"clip-rect":"csv",cx:U,cy:U,fill:"colour","fill-opacity":U,"font-size":U,height:U,opacity:U,path:"path",r:U,rx:U,ry:U,stroke:"colour","stroke-opacity":U,"stroke-width":U,transform:"transform",width:U,x:U,y:U},te=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,ne={hs:1,rg:1},re=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,ie=(t._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),oe=function(e,t){return K(e)-K(t)},ae=function(e){return e},se=t._rectPath=function(e,t,n,r,i){return i?[["M",e+i,t],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]]:[["M",e,t],["l",n,0],["l",0,r],["l",-n,0],["z"]]},le=function(e,t,n,r){return null==r&&(r=n),[["M",e,t],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]]},ue=t._getPath={path:function(e){return e.attr("path")},circle:function(e){var t=e.attrs;return le(t.cx,t.cy,t.r)},ellipse:function(e){var t=e.attrs;return le(t.cx,t.cy,t.rx,t.ry)},rect:function(e){var t=e.attrs;return se(t.x,t.y,t.width,t.height,t.r)},image:function(e){var t=e.attrs;return se(t.x,t.y,t.width,t.height)},text:function(e){var t=e._getBBox();return se(t.x,t.y,t.width,t.height)},set:function(e){var t=e._getBBox();return se(t.x,t.y,t.width,t.height)}},ce=t.mapPath=function(e,t){if(!t)return e;var n,r,i,o,a,s,l;for(e=Ee(e),i=0,a=e.length;i<a;i++)for(l=e[i],o=1,s=l.length;o<s;o+=2)n=t.x(l[o],l[o+1]),r=t.y(l[o],l[o+1]),l[o]=n,l[o+1]=r;return e};if(t._g=C,t.type=C.win.SVGAngle||C.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==t.type){var fe,he=C.doc.createElement("div");if(he.innerHTML='<v:shape adj="1"/>',fe=he.firstChild,fe.style.behavior="url(#default#VML)",!fe||"object"!=typeof fe.adj)return t.type=M;he=null}t.svg=!(t.vml="VML"==t.type),t._Paper=k,t.fn=w=k.prototype=t.prototype,t._id=0,t.is=function(e,t){return t=L.call(t),"finite"==t?!Y[$](+e):"array"==t?e instanceof Array:"null"==t&&null===e||t==typeof e&&null!==e||"object"==t&&e===Object(e)||"array"==t&&Array.isArray&&Array.isArray(e)||q.call(e).slice(8,-1).toLowerCase()==t},t.angle=function(e,n,r,i,o,a){if(null==o){var s=e-r,l=n-i;return s||l?(180+180*I.atan2(-l,-s)/H+360)%360:0}return t.angle(e,n,o,a)-t.angle(r,i,o,a)},t.rad=function(e){return e%360*H/180},t.deg=function(e){return Math.round(180*e/H%360*1e3)/1e3},t.snapTo=function(e,n,r){if(r=t.is(r,"finite")?r:10,t.is(e,V)){for(var i=e.length;i--;)if(F(e[i]-n)<=r)return e[i]}else{e=+e;var o=n%e;if(o<r)return n-o;if(o>e-r)return n-o+e}return n};t.createUUID=function(e,t){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t).toUpperCase()}}(0,function(e){var t=16*I.random()|0;return("x"==e?t:3&t|8).toString(16)});t.setWindow=function(n){e("raphael.setWindow",t,C.win,n),C.win=n,C.doc=C.win.document,t._engine.initWin&&t._engine.initWin(C.win)};var de=function(e){if(t.vml){var n;try{var r=new ActiveXObject("htmlfile");r.write("<body>"),r.close(),n=r.body}catch(e){n=createPopup().document.body}var o=n.createTextRange();de=i(function(e){try{n.style.color=P(e).replace(/^\s+|\s+$/g,M);var t=o.queryCommandValue("ForeColor");return t=(255&t)<<16|65280&t|(16711680&t)>>>16,"#"+("000000"+t.toString(16)).slice(-6)}catch(e){return"none"}})}else{var a=C.doc.createElement("i");a.title="RaphaÃ«l Colour Picker",a.style.display="none",C.doc.body.appendChild(a),de=i(function(e){return a.style.color=e,C.doc.defaultView.getComputedStyle(a,M).getPropertyValue("color")})}return de(e)},pe=function(){return"hsb("+[this.h,this.s,this.b]+")"},ge=function(){return"hsl("+[this.h,this.s,this.l]+")"},me=function(){return this.hex},ve=function(e,n,r){if(null==n&&t.is(e,"object")&&"r"in e&&"g"in e&&"b"in e&&(r=e.b,n=e.g,e=e.r),null==n&&t.is(e,W)){var i=t.getRGB(e);e=i.r,n=i.g,r=i.b}return(e>1||n>1||r>1)&&(e/=255,n/=255,r/=255),[e,n,r]},ye=function(e,n,r,i){e*=255,n*=255,r*=255;var o={r:e,g:n,b:r,hex:t.rgb(e,n,r),toString:me};return t.is(i,"finite")&&(o.opacity=i),o};t.color=function(e){var n;return t.is(e,"object")&&"h"in e&&"s"in e&&"b"in e?(n=t.hsb2rgb(e),e.r=n.r,e.g=n.g,e.b=n.b,e.hex=n.hex):t.is(e,"object")&&"h"in e&&"s"in e&&"l"in e?(n=t.hsl2rgb(e),e.r=n.r,e.g=n.g,e.b=n.b,e.hex=n.hex):(t.is(e,"string")&&(e=t.getRGB(e)),t.is(e,"object")&&"r"in e&&"g"in e&&"b"in e?(n=t.rgb2hsl(e),e.h=n.h,e.s=n.s,e.l=n.l,n=t.rgb2hsb(e),e.v=n.b):(e={hex:"none"},e.r=e.g=e.b=e.h=e.s=e.v=e.l=-1)),e.toString=me,e},t.hsb2rgb=function(e,t,n,r){this.is(e,"object")&&"h"in e&&"s"in e&&"b"in e&&(n=e.b,t=e.s,r=e.o,e=e.h),e*=360;var i,o,a,s,l;return e=e%360/60,l=n*t,s=l*(1-F(e%2-1)),i=o=a=n-l,e=~~e,i+=[l,s,0,0,s,l][e],o+=[s,l,l,s,0,0][e],a+=[0,0,s,l,l,s][e],ye(i,o,a,r)},t.hsl2rgb=function(e,t,n,r){this.is(e,"object")&&"h"in e&&"s"in e&&"l"in e&&(n=e.l,t=e.s,e=e.h),(e>1||t>1||n>1)&&(e/=360,t/=100,n/=100),e*=360;var i,o,a,s,l;return e=e%360/60,l=2*t*(n<.5?n:1-n),s=l*(1-F(e%2-1)),i=o=a=n-l/2,e=~~e,i+=[l,s,0,0,s,l][e],o+=[s,l,l,s,0,0][e],a+=[0,0,s,l,l,s][e],ye(i,o,a,r)},t.rgb2hsb=function(e,t,n){n=ve(e,t,n),e=n[0],t=n[1],n=n[2];var r,i,o,a;return o=z(e,t,n),a=o-B(e,t,n),r=0==a?null:o==e?(t-n)/a:o==t?(n-e)/a+2:(e-t)/a+4,r=(r+360)%6*60/360,i=0==a?0:a/o,{h:r,s:i,b:o,toString:pe}},t.rgb2hsl=function(e,t,n){n=ve(e,t,n),e=n[0],t=n[1],n=n[2];var r,i,o,a,s,l;return a=z(e,t,n),s=B(e,t,n),l=a-s,r=0==l?null:a==e?(t-n)/l:a==t?(n-e)/l+2:(e-t)/l+4,r=(r+360)%6*60/360,o=(a+s)/2,i=0==l?0:o<.5?l/(2*o):l/(2-2*o),{h:r,s:i,l:o,toString:ge}},t._path2string=function(){return this.join(",").replace(/,?([achlmqrstvxz]),?/gi,"$1")};t._preload=function(e,t){var n=C.doc.createElement("img");n.style.cssText="position:absolute;left:-9999em;top:-9999em",n.onload=function(){t.call(this),this.onload=null,C.doc.body.removeChild(this)},n.onerror=function(){C.doc.body.removeChild(this)},C.doc.body.appendChild(n),n.src=e};t.getRGB=i(function(e){if(!e||(e=P(e)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:o};if("none"==e)return{r:-1,g:-1,b:-1,hex:"none",toString:o};!(ne[$](e.toLowerCase().substring(0,2))||"#"==e.charAt())&&(e=de(e));var n,r,i,a,s,l,u=e.match(/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i);return u?(u[2]&&(i=Z(u[2].substring(5),16),r=Z(u[2].substring(3,5),16),n=Z(u[2].substring(1,3),16)),u[3]&&(i=Z((s=u[3].charAt(3))+s,16),r=Z((s=u[3].charAt(2))+s,16),n=Z((s=u[3].charAt(1))+s,16)),u[4]&&(l=u[4][R](te),n=K(l[0]),"%"==l[0].slice(-1)&&(n*=2.55),r=K(l[1]),"%"==l[1].slice(-1)&&(r*=2.55),i=K(l[2]),"%"==l[2].slice(-1)&&(i*=2.55),"rgba"==u[1].toLowerCase().slice(0,4)&&(a=K(l[3])),l[3]&&"%"==l[3].slice(-1)&&(a/=100)),u[5]?(l=u[5][R](te),n=K(l[0]),"%"==l[0].slice(-1)&&(n*=2.55),r=K(l[1]),"%"==l[1].slice(-1)&&(r*=2.55),i=K(l[2]),"%"==l[2].slice(-1)&&(i*=2.55),("deg"==l[0].slice(-3)||"Â°"==l[0].slice(-1))&&(n/=360),"hsba"==u[1].toLowerCase().slice(0,4)&&(a=K(l[3])),l[3]&&"%"==l[3].slice(-1)&&(a/=100),t.hsb2rgb(n,r,i,a)):u[6]?(l=u[6][R](te),n=K(l[0]),"%"==l[0].slice(-1)&&(n*=2.55),r=K(l[1]),"%"==l[1].slice(-1)&&(r*=2.55),i=K(l[2]),"%"==l[2].slice(-1)&&(i*=2.55),("deg"==l[0].slice(-3)||"Â°"==l[0].slice(-1))&&(n/=360),"hsla"==u[1].toLowerCase().slice(0,4)&&(a=K(l[3])),l[3]&&"%"==l[3].slice(-1)&&(a/=100),t.hsl2rgb(n,r,i,a)):(u={r:n,g:r,b:i,toString:o},u.hex="#"+(16777216|i|r<<8|n<<16).toString(16).slice(1),t.is(a,"finite")&&(u.opacity=a),u)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:o}},t),t.hsb=i(function(e,n,r){return t.hsb2rgb(e,n,r).hex}),t.hsl=i(function(e,n,r){return t.hsl2rgb(e,n,r).hex}),t.rgb=i(function(e,t,n){function r(e){return e+.5|0}return"#"+(16777216|r(n)|r(t)<<8|r(e)<<16).toString(16).slice(1)}),t.getColor=function(e){var t=this.getColor.start=this.getColor.start||{h:0,s:1,b:e||.75},n=this.hsb2rgb(t.h,t.s,t.b);return t.h+=.075,t.h>1&&(t.h=0,t.s-=.2,t.s<=0&&(this.getColor.start={h:0,s:1,b:t.b})),n.hex},t.getColor.reset=function(){delete this.start},t.parsePathString=function(e){if(!e)return null;var n=be(e);if(n.arr)return xe(n.arr);var r={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},i=[];return t.is(e,V)&&t.is(e[0],V)&&(i=xe(e)),i.length||P(e).replace(/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,function(e,t,n){var o=[],a=t.toLowerCase();if(n.replace(re,function(e,t){t&&o.push(+t)}),"m"==a&&o.length>2&&(i.push([t][T](o.splice(0,2))),a="l",t="m"==t?"l":"L"),"r"==a)i.push([t][T](o));else for(;o.length>=r[a]&&(i.push([t][T](o.splice(0,r[a]))),r[a]););}),i.toString=t._path2string,n.arr=xe(i),i},t.parseTransformString=i(function(e){if(!e)return null;var n=[];return t.is(e,V)&&t.is(e[0],V)&&(n=xe(e)),n.length||P(e).replace(/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,function(e,t,r){var i=[];L.call(t);r.replace(re,function(e,t){t&&i.push(+t)}),n.push([t][T](i))}),n.toString=t._path2string,n});var be=function(e){var t=be.ps=be.ps||{};return t[e]?t[e].sleep=100:t[e]={sleep:100},setTimeout(function(){for(var n in t)t[$](n)&&n!=e&&!--t[n].sleep&&delete t[n]}),t[e]};t.findDotsAtSegment=function(e,t,n,r,i,o,a,s,l){var u=1-l,c=j(u,3),f=j(u,2),h=l*l,d=h*l,p=c*e+3*f*l*n+3*u*l*l*i+d*a,g=c*t+3*f*l*r+3*u*l*l*o+d*s,m=e+2*l*(n-e)+h*(i-2*n+e),v=t+2*l*(r-t)+h*(o-2*r+t),y=n+2*l*(i-n)+h*(a-2*i+n),b=r+2*l*(o-r)+h*(s-2*o+r),w=u*e+l*n,x=u*t+l*r,S=u*i+l*a,$=u*o+l*s,C=90-180*I.atan2(m-y,v-b)/H;return(m>y||v<b)&&(C+=180),{x:p,y:g,m:{x:m,y:v},n:{x:y,y:b},start:{x:w,y:x},end:{x:S,y:$},alpha:C}},t.bezierBBox=function(e,n,r,i,o,a,s,l){t.is(e,"array")||(e=[e,n,r,i,o,a,s,l]);var u=Te.apply(null,e);return{x:u.min.x,y:u.min.y,x2:u.max.x,y2:u.max.y,width:u.max.x-u.min.x,height:u.max.y-u.min.y}},t.isPointInsideBBox=function(e,t,n){return t>=e.x&&t<=e.x2&&n>=e.y&&n<=e.y2},t.isBBoxIntersect=function(e,n){var r=t.isPointInsideBBox;return r(n,e.x,e.y)||r(n,e.x2,e.y)||r(n,e.x,e.y2)||r(n,e.x2,e.y2)||r(e,n.x,n.y)||r(e,n.x2,n.y)||r(e,n.x,n.y2)||r(e,n.x2,n.y2)||(e.x<n.x2&&e.x>n.x||n.x<e.x2&&n.x>e.x)&&(e.y<n.y2&&e.y>n.y||n.y<e.y2&&n.y>e.y)},t.pathIntersection=function(e,t){return h(e,t)},t.pathIntersectionNumber=function(e,t){return h(e,t,1)},t.isPointInsidePath=function(e,n,r){var i=t.pathBBox(e);return t.isPointInsideBBox(i,n,r)&&h(e,[["M",n,r],["H",i.x2+10]],1)%2==1},t._removedFactory=function(t){return function(){e("raphael.log",null,"RaphaÃ«l: you are calling to method â€œ"+t+"â€ of removed object",t)}};var we=t.pathBBox=function(e){var t=be(e);if(t.bbox)return n(t.bbox);if(!e)return{x:0,y:0,width:0,height:0,x2:0,y2:0};e=Ee(e);for(var r,i=0,o=0,a=[],s=[],l=0,u=e.length;l<u;l++)if(r=e[l],"M"==r[0])i=r[1],o=r[2],a.push(i),s.push(o);else{var c=Te(i,o,r[1],r[2],r[3],r[4],r[5],r[6]);a=a[T](c.min.x,c.max.x),s=s[T](c.min.y,c.max.y),i=r[5],o=r[6]}var f=B[_](0,a),h=B[_](0,s),d=z[_](0,a),p=z[_](0,s),g=d-f,m=p-h,v={x:f,y:h,x2:d,y2:p,width:g,height:m,cx:f+g/2,cy:h+m/2};return t.bbox=n(v),v},xe=function(e){var r=n(e);return r.toString=t._path2string,r},Se=t._pathToRelative=function(e){var n=be(e);if(n.rel)return xe(n.rel);t.is(e,V)&&t.is(e&&e[0],V)||(e=t.parsePathString(e));var r=[],i=0,o=0,a=0,s=0,l=0;"M"==e[0][0]&&(i=e[0][1],o=e[0][2],a=i,s=o,l++,r.push(["M",i,o]));for(var u=l,c=e.length;u<c;u++){var f=r[u]=[],h=e[u];if(h[0]!=L.call(h[0]))switch(f[0]=L.call(h[0]),f[0]){case"a":f[1]=h[1],f[2]=h[2],f[3]=h[3],f[4]=h[4],f[5]=h[5],f[6]=+(h[6]-i).toFixed(3),f[7]=+(h[7]-o).toFixed(3);break;case"v":f[1]=+(h[1]-o).toFixed(3);break;case"m":a=h[1],s=h[2];default:for(var d=1,p=h.length;d<p;d++)f[d]=+(h[d]-(d%2?i:o)).toFixed(3)}else{f=r[u]=[],"m"==h[0]&&(a=h[1]+i,s=h[2]+o);for(var g=0,m=h.length;g<m;g++)r[u][g]=h[g]}var v=r[u].length;switch(r[u][0]){case"z":i=a,o=s;break;case"h":i+=+r[u][v-1];break;case"v":o+=+r[u][v-1];break;default:i+=+r[u][v-2],o+=+r[u][v-1]}}return r.toString=t._path2string,n.rel=xe(r),r},$e=t._pathToAbsolute=function(e){var n=be(e);if(n.abs)return xe(n.abs);if(t.is(e,V)&&t.is(e&&e[0],V)||(e=t.parsePathString(e)),!e||!e.length)return[["M",0,0]];var r=[],i=0,o=0,s=0,l=0,u=0;"M"==e[0][0]&&(i=+e[0][1],o=+e[0][2],s=i,l=o,u++,r[0]=["M",i,o]);for(var c,f,h=3==e.length&&"M"==e[0][0]&&"R"==e[1][0].toUpperCase()&&"Z"==e[2][0].toUpperCase(),d=u,p=e.length;d<p;d++){if(r.push(c=[]),f=e[d],f[0]!=J.call(f[0]))switch(c[0]=J.call(f[0]),c[0]){case"A":c[1]=f[1],c[2]=f[2],c[3]=f[3],c[4]=f[4],c[5]=f[5],c[6]=+(f[6]+i),c[7]=+(f[7]+o);break;case"V":c[1]=+f[1]+o;break;case"H":c[1]=+f[1]+i;break;case"R":for(var g=[i,o][T](f.slice(1)),m=2,v=g.length;m<v;m++)g[m]=+g[m]+i,g[++m]=+g[m]+o;r.pop(),r=r[T](a(g,h));break;case"M":s=+f[1]+i,l=+f[2]+o;default:for(m=1,v=f.length;m<v;m++)c[m]=+f[m]+(m%2?i:o)}else if("R"==f[0])g=[i,o][T](f.slice(1)),r.pop(),r=r[T](a(g,h)),c=["R"][T](f.slice(-2));else for(var y=0,b=f.length;y<b;y++)c[y]=f[y];switch(c[0]){case"Z":i=s,o=l;break;case"H":i=c[1];break;case"V":o=c[1];break;case"M":s=c[c.length-2],l=c[c.length-1];default:i=c[c.length-2],o=c[c.length-1]}}return r.toString=t._path2string,n.abs=xe(r),r},Ce=function(e,t,n,r){return[e,t,n,r,n,r]},Ae=function(e,t,n,r,i,o){var a=1/3,s=2/3;return[a*e+s*n,a*t+s*r,a*i+s*n,a*o+s*r,i,o]},ke=function(e,t,n,r,o,a,s,l,u,c){var f,h=120*H/180,d=H/180*(+o||0),p=[],g=i(function(e,t,n){return{x:e*I.cos(n)-t*I.sin(n),y:e*I.sin(n)+t*I.cos(n)}});if(c)C=c[0],A=c[1],S=c[2],$=c[3];else{f=g(e,t,-d),e=f.x,t=f.y,f=g(l,u,-d),l=f.x,u=f.y;var m=(I.cos(H/180*o),I.sin(H/180*o),(e-l)/2),v=(t-u)/2,y=m*m/(n*n)+v*v/(r*r);y>1&&(y=I.sqrt(y),n*=y,r*=y);var b=n*n,w=r*r,x=(a==s?-1:1)*I.sqrt(F((b*w-b*v*v-w*m*m)/(b*v*v+w*m*m))),S=x*n*v/r+(e+l)/2,$=x*-r*m/n+(t+u)/2,C=I.asin(((t-$)/r).toFixed(9)),A=I.asin(((u-$)/r).toFixed(9));C=e<S?H-C:C,A=l<S?H-A:A,C<0&&(C=2*H+C),A<0&&(A=2*H+A),s&&C>A&&(C-=2*H),!s&&A>C&&(A-=2*H)}var k=A-C;if(F(k)>h){var _=A,E=l,M=u;A=C+h*(s&&A>C?1:-1),l=S+n*I.cos(A),u=$+r*I.sin(A),p=ke(l,u,n,r,o,0,s,E,M,[A,_,S,$])}k=A-C;var D=I.cos(C),P=I.sin(C),O=I.cos(A),N=I.sin(A),L=I.tan(k/4),z=4/3*n*L,B=4/3*r*L,j=[e,t],U=[e+z*P,t-B*D],W=[l+z*N,u-B*O],V=[l,u];if(U[0]=2*j[0]-U[0],U[1]=2*j[1]-U[1],c)return[U,W,V][T](p);p=[U,W,V][T](p).join()[R](",");for(var q=[],Y=0,G=p.length;Y<G;Y++)q[Y]=Y%2?g(p[Y-1],p[Y],d).y:g(p[Y],p[Y+1],d).x;return q},_e=function(e,t,n,r,i,o,a,s,l){var u=1-l;return{x:j(u,3)*e+3*j(u,2)*l*n+3*u*l*l*i+j(l,3)*a,y:j(u,3)*t+3*j(u,2)*l*r+3*u*l*l*o+j(l,3)*s}},Te=i(function(e,t,n,r,i,o,a,s){var l,u=i-2*n+e-(a-2*i+n),c=2*(n-e)-2*(i-n),f=e-n,h=(-c+I.sqrt(c*c-4*u*f))/2/u,d=(-c-I.sqrt(c*c-4*u*f))/2/u,p=[t,s],g=[e,a];return F(h)>"1e12"&&(h=.5),F(d)>"1e12"&&(d=.5),h>0&&h<1&&(l=_e(e,t,n,r,i,o,a,s,h),g.push(l.x),p.push(l.y)),d>0&&d<1&&(l=_e(e,t,n,r,i,o,a,s,d),g.push(l.x),p.push(l.y)),u=o-2*r+t-(s-2*o+r),c=2*(r-t)-2*(o-r),f=t-r,h=(-c+I.sqrt(c*c-4*u*f))/2/u,d=(-c-I.sqrt(c*c-4*u*f))/2/u,F(h)>"1e12"&&(h=.5),F(d)>"1e12"&&(d=.5),h>0&&h<1&&(l=_e(e,t,n,r,i,o,a,s,h),g.push(l.x),p.push(l.y)),d>0&&d<1&&(l=_e(e,t,n,r,i,o,a,s,d),g.push(l.x),p.push(l.y)),{min:{x:B[_](0,g),y:B[_](0,p)},max:{x:z[_](0,g),y:z[_](0,p)}}}),Ee=t._path2curve=i(function(e,t){var n=!t&&be(e);if(!t&&n.curve)return xe(n.curve);for(var r=$e(e),i=t&&$e(t),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=(function(e,t,n){var r,i,o={T:1,Q:1};if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in o)&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"][T](ke[_](0,[t.x,t.y][T](e.slice(1))));break;case"S":"C"==n||"S"==n?(r=2*t.x-t.bx,i=2*t.y-t.by):(r=t.x,i=t.y),e=["C",r,i][T](e.slice(1));break;case"T":"Q"==n||"T"==n?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"][T](Ae(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"][T](Ae(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"][T](Ce(t.x,t.y,e[1],e[2]));break;case"H":e=["C"][T](Ce(t.x,t.y,e[1],t.y));break;case"V":e=["C"][T](Ce(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"][T](Ce(t.x,t.y,t.X,t.Y))}return e}),l=function(e,t){if(e[t].length>7){e[t].shift();for(var n=e[t];n.length;)c[t]="A",i&&(f[t]="A"),e.splice(t++,0,["C"][T](n.splice(0,6)));e.splice(t,1),g=z(r.length,i&&i.length||0)}},u=function(e,t,n,o,a){e&&t&&"M"==e[a][0]&&"M"!=t[a][0]&&(t.splice(a,0,["M",o.x,o.y]),n.bx=0,n.by=0,n.x=e[a][1],n.y=e[a][2],g=z(r.length,i&&i.length||0))},c=[],f=[],h="",d="",p=0,g=z(r.length,i&&i.length||0);p<g;p++){r[p]&&(h=r[p][0]),"C"!=h&&(c[p]=h,p&&(d=c[p-1])),r[p]=s(r[p],o,d),"A"!=c[p]&&"C"==h&&(c[p]="C"),l(r,p),i&&(i[p]&&(h=i[p][0]),"C"!=h&&(f[p]=h,p&&(d=f[p-1])),i[p]=s(i[p],a,d),"A"!=f[p]&&"C"==h&&(f[p]="C"),l(i,p)),u(r,i,o,a,p),u(i,r,a,o,p);var m=r[p],v=i&&i[p],y=m.length,b=i&&v.length;o.x=m[y-2],o.y=m[y-1],o.bx=K(m[y-4])||o.x,o.by=K(m[y-3])||o.y,a.bx=i&&(K(v[b-4])||a.x),a.by=i&&(K(v[b-3])||a.y),a.x=i&&v[b-2],a.y=i&&v[b-1]}return i||(n.curve=xe(r)),i?[r,i]:r},null,xe),Me=(t._parseDots=i(function(e){for(var n=[],r=0,i=e.length;r<i;r++){var o={},a=e[r].match(/^([^:]*):?([\d\.]*)/);if(o.color=t.getRGB(a[1]),o.color.error)return null;o.opacity=o.color.opacity,o.color=o.color.hex,a[2]&&(o.offset=a[2]+"%"),n.push(o)}for(r=1,i=n.length-1;r<i;r++)if(!n[r].offset){for(var s=K(n[r-1].offset||0),l=0,u=r+1;u<i;u++)if(n[u].offset){l=n[u].offset;break}l||(l=100,u=i),l=K(l);for(var c=(l-s)/(u-r+1);r<u;r++)s+=c,n[r].offset=s+"%"}return n}),t._tear=function(e,t){e==t.top&&(t.top=e.prev),e==t.bottom&&(t.bottom=e.next),e.next&&(e.next.prev=e.prev),e.prev&&(e.prev.next=e.next)}),De=(t._tofront=function(e,t){t.top!==e&&(Me(e,t),e.next=null,e.prev=t.top,t.top.next=e,t.top=e)},t._toback=function(e,t){t.bottom!==e&&(Me(e,t),e.next=t.bottom,e.prev=null,t.bottom.prev=e,t.bottom=e)},t._insertafter=function(e,t,n){Me(e,n),t==n.top&&(n.top=e),t.next&&(t.next.prev=e),e.next=t.next,e.prev=t,t.next=e},t._insertbefore=function(e,t,n){Me(e,n),t==n.bottom&&(n.bottom=e),t.prev&&(t.prev.next=e),e.prev=t.prev,t.prev=e,e.next=t},t.toMatrix=function(e,t){var n=we(e),r={_:{transform:M},getBBox:function(){return n}};return Pe(r,t),r.matrix}),Pe=(t.transformPath=function(e,t){return ce(e,De(e,t))},t._extractTransform=function(e,n){if(null==n)return e._.transform;n=P(n).replace(/\.{3}|\u2026/g,e._.transform||M);var r=t.parseTransformString(n),i=0,o=0,a=0,s=1,l=1,u=e._,c=new d;if(u.transform=r||[],r)for(var f=0,h=r.length;f<h;f++){var p,g,m,v,y,b=r[f],w=b.length,x=P(b[0]).toLowerCase(),S=b[0]!=x,$=S?c.invert():0;"t"==x&&3==w?S?(p=$.x(0,0),g=$.y(0,0),m=$.x(b[1],b[2]),v=$.y(b[1],b[2]),c.translate(m-p,v-g)):c.translate(b[1],b[2]):"r"==x?2==w?(y=y||e.getBBox(1),
c.rotate(b[1],y.x+y.width/2,y.y+y.height/2),i+=b[1]):4==w&&(S?(m=$.x(b[2],b[3]),v=$.y(b[2],b[3]),c.rotate(b[1],m,v)):c.rotate(b[1],b[2],b[3]),i+=b[1]):"s"==x?2==w||3==w?(y=y||e.getBBox(1),c.scale(b[1],b[w-1],y.x+y.width/2,y.y+y.height/2),s*=b[1],l*=b[w-1]):5==w&&(S?(m=$.x(b[3],b[4]),v=$.y(b[3],b[4]),c.scale(b[1],b[2],m,v)):c.scale(b[1],b[2],b[3],b[4]),s*=b[1],l*=b[2]):"m"==x&&7==w&&c.add(b[1],b[2],b[3],b[4],b[5],b[6]),u.dirtyT=1,e.matrix=c}e.matrix=c,u.sx=s,u.sy=l,u.deg=i,u.dx=o=c.e,u.dy=a=c.f,1==s&&1==l&&!i&&u.bbox?(u.bbox.x+=+o,u.bbox.y+=+a):u.dirtyT=1}),Re=function(e){var t=e[0];switch(t.toLowerCase()){case"t":return[t,0,0];case"m":return[t,1,0,0,1,0,0];case"r":return 4==e.length?[t,0,e[2],e[3]]:[t,0];case"s":return 5==e.length?[t,1,1,e[3],e[4]]:3==e.length?[t,1,1]:[t,1]}},Oe=t._equaliseTransform=function(e,n){n=P(n).replace(/\.{3}|\u2026/g,e),e=t.parseTransformString(e)||[],n=t.parseTransformString(n)||[];for(var r,i,o,a,s=z(e.length,n.length),l=[],u=[],c=0;c<s;c++){if(o=e[c]||Re(n[c]),a=n[c]||Re(o),o[0]!=a[0]||"r"==o[0].toLowerCase()&&(o[2]!=a[2]||o[3]!=a[3])||"s"==o[0].toLowerCase()&&(o[3]!=a[3]||o[4]!=a[4]))return;for(l[c]=[],u[c]=[],r=0,i=z(o.length,a.length);r<i;r++)r in o&&(l[c][r]=o[r]),r in a&&(u[c][r]=a[r])}return{from:l,to:u}};t._getContainer=function(e,n,r,i){var o;if(null!=(o=null!=i||t.is(e,"object")?e:C.doc.getElementById(e)))return o.tagName?null==n?{container:o,width:o.style.pixelWidth||o.offsetWidth,height:o.style.pixelHeight||o.offsetHeight}:{container:o,width:n,height:r}:{container:1,x:e,y:n,width:r,height:i}},t.pathToRelative=Se,t._engine={},t.path2curve=Ee,t.matrix=function(e,t,n,r,i,o){return new d(e,t,n,r,i,o)},function(e){function n(e){return e[0]*e[0]+e[1]*e[1]}function r(e){var t=I.sqrt(n(e));e[0]&&(e[0]/=t),e[1]&&(e[1]/=t)}e.add=function(e,t,n,r,i,o){var a,s,l,u,c=[[],[],[]],f=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],h=[[e,n,i],[t,r,o],[0,0,1]];for(e&&e instanceof d&&(h=[[e.a,e.c,e.e],[e.b,e.d,e.f],[0,0,1]]),a=0;a<3;a++)for(s=0;s<3;s++){for(u=0,l=0;l<3;l++)u+=f[a][l]*h[l][s];c[a][s]=u}this.a=c[0][0],this.b=c[1][0],this.c=c[0][1],this.d=c[1][1],this.e=c[0][2],this.f=c[1][2]},e.invert=function(){var e=this,t=e.a*e.d-e.b*e.c;return new d(e.d/t,-e.b/t,-e.c/t,e.a/t,(e.c*e.f-e.d*e.e)/t,(e.b*e.e-e.a*e.f)/t)},e.clone=function(){return new d(this.a,this.b,this.c,this.d,this.e,this.f)},e.translate=function(e,t){this.add(1,0,0,1,e,t)},e.scale=function(e,t,n,r){null==t&&(t=e),(n||r)&&this.add(1,0,0,1,n,r),this.add(e,0,0,t,0,0),(n||r)&&this.add(1,0,0,1,-n,-r)},e.rotate=function(e,n,r){e=t.rad(e),n=n||0,r=r||0;var i=+I.cos(e).toFixed(9),o=+I.sin(e).toFixed(9);this.add(i,o,-o,i,n,r),this.add(1,0,0,1,-n,-r)},e.x=function(e,t){return e*this.a+t*this.c+this.e},e.y=function(e,t){return e*this.b+t*this.d+this.f},e.get=function(e){return+this[P.fromCharCode(97+e)].toFixed(4)},e.toString=function(){return t.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},e.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},e.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},e.split=function(){var e={};e.dx=this.e,e.dy=this.f;var i=[[this.a,this.c],[this.b,this.d]];e.scalex=I.sqrt(n(i[0])),r(i[0]),e.shear=i[0][0]*i[1][0]+i[0][1]*i[1][1],i[1]=[i[1][0]-i[0][0]*e.shear,i[1][1]-i[0][1]*e.shear],e.scaley=I.sqrt(n(i[1])),r(i[1]),e.shear/=e.scaley;var o=-i[0][1],a=i[1][1];return a<0?(e.rotate=t.deg(I.acos(a)),o<0&&(e.rotate=360-e.rotate)):e.rotate=t.deg(I.asin(o)),e.isSimple=!(+e.shear.toFixed(9)||e.scalex.toFixed(9)!=e.scaley.toFixed(9)&&e.rotate),e.isSuperSimple=!+e.shear.toFixed(9)&&e.scalex.toFixed(9)==e.scaley.toFixed(9)&&!e.rotate,e.noRotation=!+e.shear.toFixed(9)&&!e.rotate,e},e.toTransformString=function(e){var t=e||this[R]();return t.isSimple?(t.scalex=+t.scalex.toFixed(4),t.scaley=+t.scaley.toFixed(4),t.rotate=+t.rotate.toFixed(4),(t.dx||t.dy?"t"+[t.dx,t.dy]:M)+(1!=t.scalex||1!=t.scaley?"s"+[t.scalex,t.scaley,0,0]:M)+(t.rotate?"r"+[t.rotate,0,0]:M)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(d.prototype);for(var Ne=function(){this.returnValue=!1},Le=function(){return this.originalEvent.preventDefault()},Ie=function(){this.cancelBubble=!0},ze=function(){return this.originalEvent.stopPropagation()},Be=function(e){var t=C.doc.documentElement.scrollTop||C.doc.body.scrollTop,n=C.doc.documentElement.scrollLeft||C.doc.body.scrollLeft;return{x:e.clientX+n,y:e.clientY+t}},Fe=function(){return C.doc.addEventListener?function(e,t,n,r){var i=function(e){var t=Be(e);return n.call(r,e,t.x,t.y)};if(e.addEventListener(t,i,!1),E&&N[t]){var o=function(t){for(var i=Be(t),o=t,a=0,s=t.targetTouches&&t.targetTouches.length;a<s;a++)if(t.targetTouches[a].target==e){t=t.targetTouches[a],t.originalEvent=o,t.preventDefault=Le,t.stopPropagation=ze;break}return n.call(r,t,i.x,i.y)};e.addEventListener(N[t],o,!1)}return function(){return e.removeEventListener(t,i,!1),E&&N[t]&&e.removeEventListener(N[t],o,!1),!0}}:C.doc.attachEvent?function(e,t,n,r){var i=function(e){e=e||C.win.event;var t=C.doc.documentElement.scrollTop||C.doc.body.scrollTop,i=C.doc.documentElement.scrollLeft||C.doc.body.scrollLeft,o=e.clientX+i,a=e.clientY+t;return e.preventDefault=e.preventDefault||Ne,e.stopPropagation=e.stopPropagation||Ie,n.call(r,e,o,a)};return e.attachEvent("on"+t,i),function(){return e.detachEvent("on"+t,i),!0}}:void 0}(),je=[],He=function(t){for(var n,r=t.clientX,i=t.clientY,o=C.doc.documentElement.scrollTop||C.doc.body.scrollTop,a=C.doc.documentElement.scrollLeft||C.doc.body.scrollLeft,s=je.length;s--;){if(n=je[s],E&&t.touches){for(var l,u=t.touches.length;u--;)if(l=t.touches[u],l.identifier==n.el._drag.id){r=l.clientX,i=l.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();var c,f=n.el.node,h=f.nextSibling,d=f.parentNode,p=f.style.display;C.win.opera&&d.removeChild(f),f.style.display="none",c=n.el.paper.getElementByPoint(r,i),f.style.display=p,C.win.opera&&(h?d.insertBefore(f,h):d.appendChild(f)),c&&e("raphael.drag.over."+n.el.id,n.el,c),r+=a,i+=o,e("raphael.drag.move."+n.el.id,n.move_scope||n.el,r-n.el._drag.x,i-n.el._drag.y,r,i,t)}},Ue=function(n){t.unmousemove(He).unmouseup(Ue);for(var r,i=je.length;i--;)r=je[i],r.el._drag={},e("raphael.drag.end."+r.el.id,r.end_scope||r.start_scope||r.move_scope||r.el,n);je=[]},We=t.el={},Ve=O.length;Ve--;)!function(e){t[e]=We[e]=function(n,r){return t.is(n,"function")&&(this.events=this.events||[],this.events.push({name:e,f:n,unbind:Fe(this.shape||this.node||C.doc,e,n,r||this)})),this},t["un"+e]=We["un"+e]=function(n){for(var r=this.events||[],i=r.length;i--;)r[i].name!=e||!t.is(n,"undefined")&&r[i].f!=n||(r[i].unbind(),r.splice(i,1),!r.length&&delete this.events);return this}}(O[Ve]);We.data=function(n,r){var i=ie[this.id]=ie[this.id]||{};if(0==arguments.length)return i;if(1==arguments.length){if(t.is(n,"object")){for(var o in n)n[$](o)&&this.data(o,n[o]);return this}return e("raphael.data.get."+this.id,this,i[n],n),i[n]}return i[n]=r,e("raphael.data.set."+this.id,this,r,n),this},We.removeData=function(e){return null==e?ie[this.id]={}:ie[this.id]&&delete ie[this.id][e],this},We.getData=function(){return n(ie[this.id]||{})},We.hover=function(e,t,n,r){return this.mouseover(e,n).mouseout(t,r||n)},We.unhover=function(e,t){return this.unmouseover(e).unmouseout(t)};var qe=[];We.drag=function(n,r,i,o,a,s){function l(l){(l.originalEvent||l).preventDefault();var u=l.clientX,c=l.clientY,f=C.doc.documentElement.scrollTop||C.doc.body.scrollTop,h=C.doc.documentElement.scrollLeft||C.doc.body.scrollLeft;if(this._drag.id=l.identifier,E&&l.touches)for(var d,p=l.touches.length;p--;)if(d=l.touches[p],this._drag.id=d.identifier,d.identifier==this._drag.id){u=d.clientX,c=d.clientY;break}this._drag.x=u+h,this._drag.y=c+f,!je.length&&t.mousemove(He).mouseup(Ue),je.push({el:this,move_scope:o,start_scope:a,end_scope:s}),r&&e.on("raphael.drag.start."+this.id,r),n&&e.on("raphael.drag.move."+this.id,n),i&&e.on("raphael.drag.end."+this.id,i),e("raphael.drag.start."+this.id,a||o||this,l.clientX+h,l.clientY+f,l)}return this._drag={},qe.push({el:this,start:l}),this.mousedown(l),this},We.onDragOver=function(t){t?e.on("raphael.drag.over."+this.id,t):e.unbind("raphael.drag.over."+this.id)},We.undrag=function(){for(var n=qe.length;n--;)qe[n].el==this&&(this.unmousedown(qe[n].start),qe.splice(n,1),e.unbind("raphael.drag.*."+this.id));!qe.length&&t.unmousemove(He).unmouseup(Ue),je=[]},w.circle=function(e,n,r){var i=t._engine.circle(this,e||0,n||0,r||0);return this.__set__&&this.__set__.push(i),i},w.rect=function(e,n,r,i,o){var a=t._engine.rect(this,e||0,n||0,r||0,i||0,o||0);return this.__set__&&this.__set__.push(a),a},w.ellipse=function(e,n,r,i){var o=t._engine.ellipse(this,e||0,n||0,r||0,i||0);return this.__set__&&this.__set__.push(o),o},w.path=function(e){e&&!t.is(e,W)&&!t.is(e[0],V)&&(e+=M);var n=t._engine.path(t.format[_](t,arguments),this);return this.__set__&&this.__set__.push(n),n},w.image=function(e,n,r,i,o){var a=t._engine.image(this,e||"about:blank",n||0,r||0,i||0,o||0);return this.__set__&&this.__set__.push(a),a},w.text=function(e,n,r){var i=t._engine.text(this,e||0,n||0,P(r));return this.__set__&&this.__set__.push(i),i},w.set=function(e){!t.is(e,"array")&&(e=Array.prototype.splice.call(arguments,0,arguments.length));var n=new it(e);return this.__set__&&this.__set__.push(n),n.paper=this,n.type="set",n},w.setStart=function(e){this.__set__=e||this.set()},w.setFinish=function(e){var t=this.__set__;return delete this.__set__,t},w.getSize=function(){var e=this.canvas.parentNode;return{width:e.offsetWidth,height:e.offsetHeight}},w.setSize=function(e,n){return t._engine.setSize.call(this,e,n)},w.setViewBox=function(e,n,r,i,o){return t._engine.setViewBox.call(this,e,n,r,i,o)},w.top=w.bottom=null,w.raphael=t;var Ye=function(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.body,i=n.documentElement,o=i.clientTop||r.clientTop||0,a=i.clientLeft||r.clientLeft||0;return{y:t.top+(C.win.pageYOffset||i.scrollTop||r.scrollTop)-o,x:t.left+(C.win.pageXOffset||i.scrollLeft||r.scrollLeft)-a}};w.getElementByPoint=function(e,t){var n=this,r=n.canvas,i=C.doc.elementFromPoint(e,t);if(C.win.opera&&"svg"==i.tagName){var o=Ye(r),a=r.createSVGRect();a.x=e-o.x,a.y=t-o.y,a.width=a.height=1;var s=r.getIntersectionList(a,null);s.length&&(i=s[s.length-1])}if(!i)return null;for(;i.parentNode&&i!=r.parentNode&&!i.raphael;)i=i.parentNode;return i==n.canvas.parentNode&&(i=r),i=i&&i.raphael?n.getById(i.raphaelid):null},w.getElementsByBBox=function(e){var n=this.set();return this.forEach(function(r){t.isBBoxIntersect(r.getBBox(),e)&&n.push(r)}),n},w.getById=function(e){for(var t=this.bottom;t;){if(t.id==e)return t;t=t.next}return null},w.forEach=function(e,t){for(var n=this.bottom;n;){if(!1===e.call(t,n))return this;n=n.next}return this},w.getElementsByPoint=function(e,t){var n=this.set();return this.forEach(function(r){r.isPointInside(e,t)&&n.push(r)}),n},We.isPointInside=function(e,n){var r=this.realPath=ue[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(r=t.transformPath(r,this.attr("transform"))),t.isPointInsidePath(r,e,n)},We.getBBox=function(e){if(this.removed)return{};var t=this._;return e?(!t.dirty&&t.bboxwt||(this.realPath=ue[this.type](this),t.bboxwt=we(this.realPath),t.bboxwt.toString=p,t.dirty=0),t.bboxwt):((t.dirty||t.dirtyT||!t.bbox)&&(!t.dirty&&this.realPath||(t.bboxwt=0,this.realPath=ue[this.type](this)),t.bbox=we(ce(this.realPath,this.matrix)),t.bbox.toString=p,t.dirty=t.dirtyT=0),t.bbox)},We.clone=function(){if(this.removed)return null;var e=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(e),e},We.glow=function(e){if("text"==this.type)return null;e=e||{};var t={width:(e.width||10)+(+this.attr("stroke-width")||1),fill:e.fill||!1,opacity:null==e.opacity?.5:e.opacity,offsetx:e.offsetx||0,offsety:e.offsety||0,color:e.color||"#000"},n=t.width/2,r=this.paper,i=r.set(),o=this.realPath||ue[this.type](this);o=this.matrix?ce(o,this.matrix):o;for(var a=1;a<n+1;a++)i.push(r.path(o).attr({stroke:t.color,fill:t.fill?t.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(t.width/n*a).toFixed(3),opacity:+(t.opacity/n).toFixed(3)}));return i.insertBefore(this).translate(t.offsetx,t.offsety)};var Ge=function(e,n,r,i,o,a,s,c,f){return null==f?l(e,n,r,i,o,a,s,c):t.findDotsAtSegment(e,n,r,i,o,a,s,c,u(e,n,r,i,o,a,s,c,f))},Xe=function(e,n){return function(r,i,o){r=Ee(r);for(var a,s,l,u,c,f="",h={},d=0,p=0,g=r.length;p<g;p++){if(l=r[p],"M"==l[0])a=+l[1],s=+l[2];else{if(u=Ge(a,s,l[1],l[2],l[3],l[4],l[5],l[6]),d+u>i){if(n&&!h.start){if(c=Ge(a,s,l[1],l[2],l[3],l[4],l[5],l[6],i-d),f+=["C"+c.start.x,c.start.y,c.m.x,c.m.y,c.x,c.y],o)return f;h.start=f,f=["M"+c.x,c.y+"C"+c.n.x,c.n.y,c.end.x,c.end.y,l[5],l[6]].join(),d+=u,a=+l[5],s=+l[6];continue}if(!e&&!n)return c=Ge(a,s,l[1],l[2],l[3],l[4],l[5],l[6],i-d),{x:c.x,y:c.y,alpha:c.alpha}}d+=u,a=+l[5],s=+l[6]}f+=l.shift()+l}return h.end=f,c=e?d:n?h:t.findDotsAtSegment(a,s,l[0],l[1],l[2],l[3],l[4],l[5],1),c.alpha&&(c={x:c.x,y:c.y,alpha:c.alpha}),c}},Ke=Xe(1),Ze=Xe(),Je=Xe(0,1);t.getTotalLength=Ke,t.getPointAtLength=Ze,t.getSubpath=function(e,t,n){if(this.getTotalLength(e)-n<1e-6)return Je(e,t).end;var r=Je(e,n,1);return t?Je(r,t).end:r},We.getTotalLength=function(){var e=this.getPath();if(e)return this.node.getTotalLength?this.node.getTotalLength():Ke(e)},We.getPointAtLength=function(e){var t=this.getPath();if(t)return Ze(t,e)},We.getPath=function(){var e,n=t._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return n&&(e=n(this)),e},We.getSubpath=function(e,n){var r=this.getPath();if(r)return t.getSubpath(r,e,n)};var Qe=t.easing_formulas={linear:function(e){return e},"<":function(e){return j(e,1.7)},">":function(e){return j(e,.48)},"<>":function(e){var t=.48-e/1.04,n=I.sqrt(.1734+t*t),r=n-t,i=j(F(r),1/3)*(r<0?-1:1),o=-n-t,a=j(F(o),1/3)*(o<0?-1:1),s=i+a+.5;return 3*(1-s)*s*s+s*s*s},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){e-=1;var t=1.70158;return e*e*((t+1)*e+t)+1},elastic:function(e){return e==!!e?e:j(2,-10*e)*I.sin(2*H*(e-.075)/.3)+1},bounce:function(e){var t,n=7.5625,r=2.75;return e<1/r?t=n*e*e:e<2/r?(e-=1.5/r,t=n*e*e+.75):e<2.5/r?(e-=2.25/r,t=n*e*e+.9375):(e-=2.625/r,t=n*e*e+.984375),t}};Qe.easeIn=Qe["ease-in"]=Qe["<"],Qe.easeOut=Qe["ease-out"]=Qe[">"],Qe.easeInOut=Qe["ease-in-out"]=Qe["<>"],Qe["back-in"]=Qe.backIn,Qe["back-out"]=Qe.backOut;var et=[],tt=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,16)},nt=function(){for(var n=+new Date,r=0;r<et.length;r++){var i=et[r];if(!i.el.removed&&!i.paused){var o,a,s=n-i.start,l=i.ms,u=i.easing,c=i.from,f=i.diff,h=i.to,d=(i.t,i.el),p={},g={};if(i.initstatus?(s=(i.initstatus*i.anim.top-i.prev)/(i.percent-i.prev)*l,i.status=i.initstatus,delete i.initstatus,i.stop&&et.splice(r--,1)):i.status=(i.prev+(i.percent-i.prev)*(s/l))/i.anim.top,!(s<0))if(s<l){var m=u(s/l);for(var y in c)if(c[$](y)){switch(ee[y]){case U:o=+c[y]+m*l*f[y];break;case"colour":o="rgb("+[rt(X(c[y].r+m*l*f[y].r)),rt(X(c[y].g+m*l*f[y].g)),rt(X(c[y].b+m*l*f[y].b))].join(",")+")";break;case"path":o=[];for(var b=0,w=c[y].length;b<w;b++){o[b]=[c[y][b][0]];for(var x=1,S=c[y][b].length;x<S;x++)o[b][x]=+c[y][b][x]+m*l*f[y][b][x];o[b]=o[b].join(D)}o=o.join(D);break;case"transform":if(f[y].real)for(o=[],b=0,w=c[y].length;b<w;b++)for(o[b]=[c[y][b][0]],x=1,S=c[y][b].length;x<S;x++)o[b][x]=c[y][b][x]+m*l*f[y][b][x];else{var C=function(e){return+c[y][e]+m*l*f[y][e]};o=[["m",C(0),C(1),C(2),C(3),C(4),C(5)]]}break;case"csv":if("clip-rect"==y)for(o=[],b=4;b--;)o[b]=+c[y][b]+m*l*f[y][b];break;default:var A=[][T](c[y]);for(o=[],b=d.paper.customAttributes[y].length;b--;)o[b]=+A[b]+m*l*f[y][b]}p[y]=o}d.attr(p),function(t,n,r){setTimeout(function(){e("raphael.anim.frame."+t,n,r)})}(d.id,d,i.anim)}else{if(function(n,r,i){setTimeout(function(){e("raphael.anim.frame."+r.id,r,i),e("raphael.anim.finish."+r.id,r,i),t.is(n,"function")&&n.call(r)})}(i.callback,d,i.anim),d.attr(h),et.splice(r--,1),i.repeat>1&&!i.next){for(a in h)h[$](a)&&(g[a]=i.totalOrigin[a]);i.el.attr(g),v(i.anim,i.el,i.anim.percents[0],null,i.totalOrigin,i.repeat-1)}i.next&&!i.stop&&v(i.anim,i.el,i.next,null,i.totalOrigin,i.repeat)}}}et.length&&tt(nt)},rt=function(e){return e>255?255:e<0?0:e};We.animateWith=function(e,n,r,i,o,a){var s=this;if(s.removed)return a&&a.call(s),s;var l=r instanceof m?r:t.animation(r,i,o,a);v(l,s,l.percents[0],null,s.attr());for(var u=0,c=et.length;u<c;u++)if(et[u].anim==n&&et[u].el==e){et[c-1].start=et[u].start;break}return s},We.onAnimation=function(t){return t?e.on("raphael.anim.frame."+this.id,t):e.unbind("raphael.anim.frame."+this.id),this},m.prototype.delay=function(e){var t=new m(this.anim,this.ms);return t.times=this.times,t.del=+e||0,t},m.prototype.repeat=function(e){var t=new m(this.anim,this.ms);return t.del=this.del,t.times=I.floor(z(e,0))||1,t},t.animation=function(e,n,r,i){if(e instanceof m)return e;!t.is(r,"function")&&r||(i=i||r||null,r=null),e=Object(e),n=+n||0;var o,a,s={};for(a in e)e[$](a)&&K(a)!=a&&K(a)+"%"!=a&&(o=!0,s[a]=e[a]);if(o)return r&&(s.easing=r),i&&(s.callback=i),new m({100:s},n);if(i){var l=0;for(var u in e){var c=Z(u);e[$](u)&&c>l&&(l=c)}l+="%",!e[l].callback&&(e[l].callback=i)}return new m(e,n)},We.animate=function(e,n,r,i){var o=this;if(o.removed)return i&&i.call(o),o;var a=e instanceof m?e:t.animation(e,n,r,i);return v(a,o,a.percents[0],null,o.attr()),o},We.setTime=function(e,t){return e&&null!=t&&this.status(e,B(t,e.ms)/e.ms),this},We.status=function(e,t){var n,r,i=[],o=0;if(null!=t)return v(e,this,-1,B(t,1)),this;for(n=et.length;o<n;o++)if(r=et[o],r.el.id==this.id&&(!e||r.anim==e)){if(e)return r.status;i.push({anim:r.anim,status:r.status})}return e?0:i},We.pause=function(t){for(var n=0;n<et.length;n++)et[n].el.id!=this.id||t&&et[n].anim!=t||!1!==e("raphael.anim.pause."+this.id,this,et[n].anim)&&(et[n].paused=!0);return this},We.resume=function(t){for(var n=0;n<et.length;n++)if(et[n].el.id==this.id&&(!t||et[n].anim==t)){var r=et[n];!1!==e("raphael.anim.resume."+this.id,this,r.anim)&&(delete r.paused,this.status(r.anim,r.status))}return this},We.stop=function(t){for(var n=0;n<et.length;n++)et[n].el.id!=this.id||t&&et[n].anim!=t||!1!==e("raphael.anim.stop."+this.id,this,et[n].anim)&&et.splice(n--,1);return this},e.on("raphael.remove",y),e.on("raphael.clear",y),We.toString=function(){return"RaphaÃ«lâ€™s object"};var it=function(e){if(this.items=[],this.length=0,this.type="set",e)for(var t=0,n=e.length;t<n;t++)!e[t]||e[t].constructor!=We.constructor&&e[t].constructor!=it||(this[this.items.length]=this.items[this.items.length]=e[t],this.length++)},ot=it.prototype;ot.push=function(){for(var e,t,n=0,r=arguments.length;n<r;n++)!(e=arguments[n])||e.constructor!=We.constructor&&e.constructor!=it||(t=this.items.length,this[t]=this.items[t]=e,this.length++);return this},ot.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},ot.forEach=function(e,t){for(var n=0,r=this.items.length;n<r;n++)if(!1===e.call(t,this.items[n],n))return this;return this};for(var at in We)We[$](at)&&(ot[at]=function(e){return function(){var t=arguments;return this.forEach(function(n){n[e][_](n,t)})}}(at));return ot.attr=function(e,n){if(e&&t.is(e,V)&&t.is(e[0],"object"))for(var r=0,i=e.length;r<i;r++)this.items[r].attr(e[r]);else for(var o=0,a=this.items.length;o<a;o++)this.items[o].attr(e,n);return this},ot.clear=function(){for(;this.length;)this.pop()},ot.splice=function(e,t,n){e=e<0?z(this.length+e,0):e,t=z(0,B(this.length-e,t));var r,i=[],o=[],a=[];for(r=2;r<arguments.length;r++)a.push(arguments[r]);for(r=0;r<t;r++)o.push(this[e+r]);for(;r<this.length-e;r++)i.push(this[e+r]);var s=a.length;for(r=0;r<s+i.length;r++)this.items[e+r]=this[e+r]=r<s?a[r]:i[r-s];for(r=this.items.length=this.length-=t-s;this[r];)delete this[r++];return new it(o)},ot.exclude=function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]==e)return this.splice(t,1),!0},ot.animate=function(e,n,r,i){(t.is(r,"function")||!r)&&(i=r||null);var o,a,s=this.items.length,l=s,u=this;if(!s)return this;i&&(a=function(){!--s&&i.call(u)}),r=t.is(r,W)?r:a;var c=t.animation(e,n,r,a);for(o=this.items[--l].animate(c);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(o,c,c),this.items[l]&&!this.items[l].removed||s--;return this},ot.insertAfter=function(e){for(var t=this.items.length;t--;)this.items[t].insertAfter(e);return this},ot.getBBox=function(){for(var e=[],t=[],n=[],r=[],i=this.items.length;i--;)if(!this.items[i].removed){var o=this.items[i].getBBox();e.push(o.x),t.push(o.y),n.push(o.x+o.width),r.push(o.y+o.height)}return e=B[_](0,e),t=B[_](0,t),n=z[_](0,n),r=z[_](0,r),{x:e,y:t,x2:n,y2:r,width:n-e,height:r-t}},ot.clone=function(e){e=this.paper.set();for(var t=0,n=this.items.length;t<n;t++)e.push(this.items[t].clone());return e},ot.toString=function(){return"RaphaÃ«lâ€˜s set"},ot.glow=function(e){var t=this.paper.set();return this.forEach(function(n,r){var i=n.glow(e);null!=i&&i.forEach(function(e,n){t.push(e)})}),t},ot.isPointInside=function(e,t){var n=!1;return this.forEach(function(r){if(r.isPointInside(e,t))return n=!0,!1}),n},t.registerFont=function(e){if(!e.face)return e;this.fonts=this.fonts||{};var t={w:e.w,face:{},glyphs:{}},n=e.face["font-family"];for(var r in e.face)e.face[$](r)&&(t.face[r]=e.face[r]);if(this.fonts[n]?this.fonts[n].push(t):this.fonts[n]=[t],!e.svg){t.face["units-per-em"]=Z(e.face["units-per-em"],10);for(var i in e.glyphs)if(e.glyphs[$](i)){var o=e.glyphs[i];if(t.glyphs[i]={w:o.w,k:{},d:o.d&&"M"+o.d.replace(/[mlcxtrv]/g,function(e){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[e]||"M"})+"z"},o.k)for(var a in o.k)o[$](a)&&(t.glyphs[i].k[a]=o.k[a])}}return e},w.getFont=function(e,n,r,i){if(i=i||"normal",r=r||"normal",n=+n||{normal:400,bold:700,lighter:300,bolder:800}[n]||400,t.fonts){var o=t.fonts[e];if(!o){var a=new RegExp("(^|\\s)"+e.replace(/[^\w\d\s+!~.:_-]/g,M)+"(\\s|$)","i");for(var s in t.fonts)if(t.fonts[$](s)&&a.test(s)){o=t.fonts[s];break}}var l;if(o)for(var u=0,c=o.length;u<c&&(l=o[u],l.face["font-weight"]!=n||l.face["font-style"]!=r&&l.face["font-style"]||l.face["font-stretch"]!=i);u++);return l}},w.print=function(e,n,r,i,o,a,s,l){a=a||"middle",s=z(B(s||0,1),-1),l=z(B(l||1,3),1);var u,c=P(r)[R](M),f=0,h=0,d=M;if(t.is(i,"string")&&(i=this.getFont(i)),i){u=(o||16)/i.face["units-per-em"];for(var p=i.face.bbox[R](x),g=+p[0],m=p[3]-p[1],v=0,y=+p[1]+("baseline"==a?m+ +i.face.descent:m/2),b=0,w=c.length;b<w;b++){if("\n"==c[b])f=0,$=0,h=0,v+=m*l;else{var S=h&&i.glyphs[c[b-1]]||{},$=i.glyphs[c[b]];f+=h?(S.w||i.w)+(S.k&&S.k[c[b]]||0)+i.w*s:0,h=1}$&&$.d&&(d+=t.transformPath($.d,["t",f*u,v*u,"s",u,u,g,y,"t",(e-g)/u,(n-y)/u]))}}return this.path(d).attr({fill:"#000",stroke:"none"})},w.add=function(e){if(t.is(e,"array"))for(var n,r=this.set(),i=0,o=e.length;i<o;i++)n=e[i]||{},S[$](n.type)&&r.push(this[n.type]().attr(n));return r},t.format=function(e,n){var r=t.is(n,V)?[0][T](n):arguments;return e&&t.is(e,W)&&r.length-1&&(e=e.replace(/\{(\d+)\}/g,function(e,t){return null==r[++t]?M:r[t]})),e||M},t.fullfill=function(){var e=function(e,t,n){var r=n;return t.replace(/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,function(e,t,n,i,o){t=t||i,r&&(t in r&&(r=r[t]),"function"==typeof r&&o&&(r=r()))}),r=(null==r||r==n?e:r)+""};return function(t,n){return String(t).replace(/\{([^\}]+)\}/g,function(t,r){return e(t,r,n)})}}(),t.ninja=function(){if(A.was)C.win.Raphael=A.is;else{window.Raphael=void 0;try{delete window.Raphael}catch(e){}}return t},t.st=ot,e.on("raphael.DOMload",function(){b=!0}),function(e,n,r){function i(){/in/.test(e.readyState)?setTimeout(i,9):t.eve("raphael.DOMload")}null==e.readyState&&e.addEventListener&&(e.addEventListener(n,r=function(){e.removeEventListener(n,r,!1),e.readyState="complete"},!1),e.readyState="loading"),i()}(document,"DOMContentLoaded"),t}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;!function(n){var o,a,s="0.5.0",l="hasOwnProperty",u=/[\.\/]/,c=/\s*,\s*/,f=function(e,t){return e-t},h={n:{}},d=function(){for(var e=0,t=this.length;e<t;e++)if(void 0!==this[e])return this[e]},p=function(){for(var e=this.length;--e;)if(void 0!==this[e])return this[e]},g=Object.prototype.toString,m=String,v=Array.isArray||function(e){return e instanceof Array||"[object Array]"==g.call(e)};eve=function(e,t){var n,r=a,i=Array.prototype.slice.call(arguments,2),s=eve.listeners(e),l=0,u=[],c={},h=[],g=o;h.firstDefined=d,h.lastDefined=p,o=e,a=0;for(var m=0,v=s.length;m<v;m++)"zIndex"in s[m]&&(u.push(s[m].zIndex),s[m].zIndex<0&&(c[s[m].zIndex]=s[m]));for(u.sort(f);u[l]<0;)if(n=c[u[l++]],h.push(n.apply(t,i)),a)return a=r,h;for(m=0;m<v;m++)if("zIndex"in(n=s[m]))if(n.zIndex==u[l]){if(h.push(n.apply(t,i)),a)break;do{if(l++,n=c[u[l]],n&&h.push(n.apply(t,i)),a)break}while(n)}else c[n.zIndex]=n;else if(h.push(n.apply(t,i)),a)break;return a=r,o=g,h},eve._events=h,eve.listeners=function(e){var t,n,r,i,o,a,s,l,c=v(e)?e:e.split(u),f=h,d=[f],p=[];for(i=0,o=c.length;i<o;i++){for(l=[],a=0,s=d.length;a<s;a++)for(f=d[a].n,n=[f[c[i]],f["*"]],r=2;r--;)(t=n[r])&&(l.push(t),p=p.concat(t.f||[]));d=l}return p},eve.separator=function(e){e?(e=m(e).replace(/(?=[\.\^\]\[\-])/g,"\\"),e="["+e+"]",u=new RegExp(e)):u=/[\.\/]/},eve.on=function(e,t){if("function"!=typeof t)return function(){};for(var n=v(e)?v(e[0])?e:[e]:m(e).split(c),r=0,i=n.length;r<i;r++)!function(e){for(var n,r=v(e)?e:m(e).split(u),i=h,o=0,a=r.length;o<a;o++)i=i.n,i=i.hasOwnProperty(r[o])&&i[r[o]]||(i[r[o]]={n:{}});for(i.f=i.f||[],o=0,a=i.f.length;o<a;o++)if(i.f[o]==t){n=!0;break}!n&&i.f.push(t)}(n[r]);return function(e){+e==+e&&(t.zIndex=+e)}},eve.f=function(e){var t=[].slice.call(arguments,1);return function(){eve.apply(null,[e,null].concat(t).concat([].slice.call(arguments,0)))}},eve.stop=function(){a=1},eve.nt=function(e){var t=v(o)?o.join("."):o;return e?new RegExp("(?:\\.|\\/|^)"+e+"(?:\\.|\\/|$)").test(t):t},eve.nts=function(){return v(o)?o:o.split(u)},eve.off=eve.unbind=function(e,t){if(!e)return void(eve._events=h={n:{}});var n=v(e)?v(e[0])?e:[e]:m(e).split(c);if(n.length>1)for(var r=0,i=n.length;r<i;r++)eve.off(n[r],t);else{n=v(e)?e:m(e).split(u);var o,a,s,r,i,f,d,p=[h];for(r=0,i=n.length;r<i;r++)for(f=0;f<p.length;f+=s.length-2){if(s=[f,1],o=p[f].n,"*"!=n[r])o[n[r]]&&s.push(o[n[r]]);else for(a in o)o[l](a)&&s.push(o[a]);p.splice.apply(p,s)}for(r=0,i=p.length;r<i;r++)for(o=p[r];o.n;){if(t){if(o.f){for(f=0,d=o.f.length;f<d;f++)if(o.f[f]==t){o.f.splice(f,1);break}!o.f.length&&delete o.f}for(a in o.n)if(o.n[l](a)&&o.n[a].f){var g=o.n[a].f;for(f=0,d=g.length;f<d;f++)if(g[f]==t){g.splice(f,1);break}!g.length&&delete o.n[a].f}}else{delete o.f;for(a in o.n)o.n[l](a)&&o.n[a].f&&delete o.n[a].f}o=o.n}}},eve.once=function(e,t){var n=function(){return eve.off(e,n),t.apply(this,arguments)};return eve.on(e,n)},eve.version=s,eve.toString=function(){return"You are running Eve "+s},void 0!==e&&e.exports?e.exports=eve:(r=[],void 0!==(i=function(){return eve}.apply(t,r))&&(e.exports=i))}()},function(e,t,n){var r,i;r=[n(1)],void 0!==(i=function(e){if(!e||e.svg){var t="hasOwnProperty",n=String,r=parseFloat,i=parseInt,o=Math,a=o.max,s=o.abs,l=o.pow,u=/[, ]+/,c=e.eve,f="",h=" ",d="http://www.w3.org/1999/xlink",p={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},g={};e.toString=function(){return"Your browser supports SVG.\nYou are running RaphaÃ«l "+this.version};var m=function(r,i){if(i){"string"==typeof r&&(r=m(r));for(var o in i)i[t](o)&&("xlink:"==o.substring(0,6)?r.setAttributeNS(d,o.substring(6),n(i[o])):r.setAttribute(o,n(i[o])))}else r=e._g.doc.createElementNS("http://www.w3.org/2000/svg",r),r.style&&(r.style.webkitTapHighlightColor="rgba(0,0,0,0)");return r},v=function(t,i){var u="linear",c=t.id+i,h=.5,d=.5,p=t.node,g=t.paper,v=p.style,y=e._g.doc.getElementById(c);if(!y){if(i=n(i).replace(e._radial_gradient,function(e,t,n){if(u="radial",t&&n){h=r(t),d=r(n);var i=2*(d>.5)-1;l(h-.5,2)+l(d-.5,2)>.25&&(d=o.sqrt(.25-l(h-.5,2))*i+.5)&&.5!=d&&(d=d.toFixed(5)-1e-5*i)}return f}),i=i.split(/\s*\-\s*/),"linear"==u){var w=i.shift();if(w=-r(w),isNaN(w))return null;var x=[0,0,o.cos(e.rad(w)),o.sin(e.rad(w))],S=1/(a(s(x[2]),s(x[3]))||1);x[2]*=S,x[3]*=S,x[2]<0&&(x[0]=-x[2],x[2]=0),x[3]<0&&(x[1]=-x[3],x[3]=0)}var $=e._parseDots(i);if(!$)return null;if(c=c.replace(/[\(\)\s,\xb0#]/g,"_"),t.gradient&&c!=t.gradient.id&&(g.defs.removeChild(t.gradient),delete t.gradient),!t.gradient){y=m(u+"Gradient",{id:c}),t.gradient=y,m(y,"radial"==u?{fx:h,fy:d}:{x1:x[0],y1:x[1],x2:x[2],y2:x[3],gradientTransform:t.matrix.invert()}),g.defs.appendChild(y);for(var C=0,A=$.length;C<A;C++)y.appendChild(m("stop",{offset:$[C].offset?$[C].offset:C?"100%":"0%","stop-color":$[C].color||"#fff","stop-opacity":isFinite($[C].opacity)?$[C].opacity:1}))}}return m(p,{fill:b(c),opacity:1,"fill-opacity":1}),v.fill=f,v.opacity=1,v.fillOpacity=1,1},y=function(){var e=document.documentMode;return e&&(9===e||10===e)},b=function(e){if(y())return"url('#"+e+"')";var t=document.location;return"url('"+t.protocol+"//"+t.host+t.pathname+t.search+"#"+e+"')"},w=function(e){var t=e.getBBox(1);m(e.pattern,{patternTransform:e.matrix.invert()+" translate("+t.x+","+t.y+")"})},x=function(r,i,o){if("path"==r.type){for(var a,s,l,u,c,h=n(i).toLowerCase().split("-"),d=r.paper,v=o?"end":"start",y=r.node,b=r.attrs,w=b["stroke-width"],x=h.length,S="classic",$=3,C=3,A=5;x--;)switch(h[x]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":S=h[x];break;case"wide":C=5;break;case"narrow":C=2;break;case"long":$=5;break;case"short":$=2}if("open"==S?($+=2,C+=2,A+=2,l=1,u=o?4:1,c={fill:"none",stroke:b.stroke}):(u=l=$/2,c={fill:b.stroke,stroke:"none"}),r._.arrows?o?(r._.arrows.endPath&&g[r._.arrows.endPath]--,r._.arrows.endMarker&&g[r._.arrows.endMarker]--):(r._.arrows.startPath&&g[r._.arrows.startPath]--,r._.arrows.startMarker&&g[r._.arrows.startMarker]--):r._.arrows={},"none"!=S){var k="raphael-marker-"+S,_="raphael-marker-"+v+S+$+C+"-obj"+r.id;e._g.doc.getElementById(k)?g[k]++:(d.defs.appendChild(m(m("path"),{"stroke-linecap":"round",d:p[S],id:k})),g[k]=1);var T,E=e._g.doc.getElementById(_);E?(g[_]++,T=E.getElementsByTagName("use")[0]):(E=m(m("marker"),{id:_,markerHeight:C,markerWidth:$,orient:"auto",refX:u,refY:C/2}),T=m(m("use"),{"xlink:href":"#"+k,transform:(o?"rotate(180 "+$/2+" "+C/2+") ":f)+"scale("+$/A+","+C/A+")","stroke-width":(1/(($/A+C/A)/2)).toFixed(4)}),E.appendChild(T),d.defs.appendChild(E),g[_]=1),m(T,c);var M=l*("diamond"!=S&&"oval"!=S);o?(a=r._.arrows.startdx*w||0,s=e.getTotalLength(b.path)-M*w):(a=M*w,s=e.getTotalLength(b.path)-(r._.arrows.enddx*w||0)),c={},c["marker-"+v]="url(#"+_+")",(s||a)&&(c.d=e.getSubpath(b.path,a,s)),m(y,c),r._.arrows[v+"Path"]=k,r._.arrows[v+"Marker"]=_,r._.arrows[v+"dx"]=M,r._.arrows[v+"Type"]=S,r._.arrows[v+"String"]=i}else o?(a=r._.arrows.startdx*w||0,s=e.getTotalLength(b.path)-a):(a=0,s=e.getTotalLength(b.path)-(r._.arrows.enddx*w||0)),r._.arrows[v+"Path"]&&m(y,{d:e.getSubpath(b.path,a,s)}),delete r._.arrows[v+"Path"],delete r._.arrows[v+"Marker"],delete r._.arrows[v+"dx"],delete r._.arrows[v+"Type"],delete r._.arrows[v+"String"];for(c in g)if(g[t](c)&&!g[c]){var D=e._g.doc.getElementById(c);D&&D.parentNode.removeChild(D)}}},S={"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},$=function(e,t,r){if(t=S[n(t).toLowerCase()]){for(var i=e.attrs["stroke-width"]||"1",o={round:i,square:i,butt:0
}[e.attrs["stroke-linecap"]||r["stroke-linecap"]]||0,a=[],s=t.length;s--;)a[s]=t[s]*i+(s%2?1:-1)*o;m(e.node,{"stroke-dasharray":a.join(",")})}else m(e.node,{"stroke-dasharray":"none"})},C=function(r,o){var l=r.node,c=r.attrs,h=l.style.visibility;l.style.visibility="hidden";for(var p in o)if(o[t](p)){if(!e._availableAttrs[t](p))continue;var g=o[p];switch(c[p]=g,p){case"blur":r.blur(g);break;case"title":var y=l.getElementsByTagName("title");if(y.length&&(y=y[0]))y.firstChild.nodeValue=g;else{y=m("title");var b=e._g.doc.createTextNode(g);y.appendChild(b),l.appendChild(y)}break;case"href":case"target":var S=l.parentNode;if("a"!=S.tagName.toLowerCase()){var C=m("a");S.insertBefore(C,l),C.appendChild(l),S=C}"target"==p?S.setAttributeNS(d,"show","blank"==g?"new":g):S.setAttributeNS(d,p,g);break;case"cursor":l.style.cursor=g;break;case"transform":r.transform(g);break;case"arrow-start":x(r,g);break;case"arrow-end":x(r,g,1);break;case"clip-rect":var k=n(g).split(u);if(4==k.length){r.clip&&r.clip.parentNode.parentNode.removeChild(r.clip.parentNode);var _=m("clipPath"),T=m("rect");_.id=e.createUUID(),m(T,{x:k[0],y:k[1],width:k[2],height:k[3]}),_.appendChild(T),r.paper.defs.appendChild(_),m(l,{"clip-path":"url(#"+_.id+")"}),r.clip=T}if(!g){var E=l.getAttribute("clip-path");if(E){var M=e._g.doc.getElementById(E.replace(/(^url\(#|\)$)/g,f));M&&M.parentNode.removeChild(M),m(l,{"clip-path":f}),delete r.clip}}break;case"path":"path"==r.type&&(m(l,{d:g?c.path=e._pathToAbsolute(g):"M0,0"}),r._.dirty=1,r._.arrows&&("startString"in r._.arrows&&x(r,r._.arrows.startString),"endString"in r._.arrows&&x(r,r._.arrows.endString,1)));break;case"width":if(l.setAttribute(p,g),r._.dirty=1,!c.fx)break;p="x",g=c.x;case"x":c.fx&&(g=-c.x-(c.width||0));case"rx":if("rx"==p&&"rect"==r.type)break;case"cx":l.setAttribute(p,g),r.pattern&&w(r),r._.dirty=1;break;case"height":if(l.setAttribute(p,g),r._.dirty=1,!c.fy)break;p="y",g=c.y;case"y":c.fy&&(g=-c.y-(c.height||0));case"ry":if("ry"==p&&"rect"==r.type)break;case"cy":l.setAttribute(p,g),r.pattern&&w(r),r._.dirty=1;break;case"r":"rect"==r.type?m(l,{rx:g,ry:g}):l.setAttribute(p,g),r._.dirty=1;break;case"src":"image"==r.type&&l.setAttributeNS(d,"href",g);break;case"stroke-width":1==r._.sx&&1==r._.sy||(g/=a(s(r._.sx),s(r._.sy))||1),l.setAttribute(p,g),c["stroke-dasharray"]&&$(r,c["stroke-dasharray"],o),r._.arrows&&("startString"in r._.arrows&&x(r,r._.arrows.startString),"endString"in r._.arrows&&x(r,r._.arrows.endString,1));break;case"stroke-dasharray":$(r,g,o);break;case"fill":var D=n(g).match(e._ISURL);if(D){_=m("pattern");var P=m("image");_.id=e.createUUID(),m(_,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),m(P,{x:0,y:0,"xlink:href":D[1]}),_.appendChild(P),function(t){e._preload(D[1],function(){var e=this.offsetWidth,n=this.offsetHeight;m(t,{width:e,height:n}),m(P,{width:e,height:n})})}(_),r.paper.defs.appendChild(_),m(l,{fill:"url(#"+_.id+")"}),r.pattern=_,r.pattern&&w(r);break}var R=e.getRGB(g);if(R.error){if(("circle"==r.type||"ellipse"==r.type||"r"!=n(g).charAt())&&v(r,g)){if("opacity"in c||"fill-opacity"in c){var O=e._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,f));if(O){var N=O.getElementsByTagName("stop");m(N[N.length-1],{"stop-opacity":("opacity"in c?c.opacity:1)*("fill-opacity"in c?c["fill-opacity"]:1)})}}c.gradient=g,c.fill="none";break}}else delete o.gradient,delete c.gradient,!e.is(c.opacity,"undefined")&&e.is(o.opacity,"undefined")&&m(l,{opacity:c.opacity}),!e.is(c["fill-opacity"],"undefined")&&e.is(o["fill-opacity"],"undefined")&&m(l,{"fill-opacity":c["fill-opacity"]});R[t]("opacity")&&m(l,{"fill-opacity":R.opacity>1?R.opacity/100:R.opacity});case"stroke":R=e.getRGB(g),l.setAttribute(p,R.hex),"stroke"==p&&R[t]("opacity")&&m(l,{"stroke-opacity":R.opacity>1?R.opacity/100:R.opacity}),"stroke"==p&&r._.arrows&&("startString"in r._.arrows&&x(r,r._.arrows.startString),"endString"in r._.arrows&&x(r,r._.arrows.endString,1));break;case"gradient":("circle"==r.type||"ellipse"==r.type||"r"!=n(g).charAt())&&v(r,g);break;case"opacity":c.gradient&&!c[t]("stroke-opacity")&&m(l,{"stroke-opacity":g>1?g/100:g});case"fill-opacity":if(c.gradient){(O=e._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,f)))&&(N=O.getElementsByTagName("stop"),m(N[N.length-1],{"stop-opacity":g}));break}default:"font-size"==p&&(g=i(g,10)+"px");var L=p.replace(/(\-.)/g,function(e){return e.substring(1).toUpperCase()});l.style[L]=g,r._.dirty=1,l.setAttribute(p,g)}}A(r,o),l.style.visibility=h},A=function(r,o){if("text"==r.type&&(o[t]("text")||o[t]("font")||o[t]("font-size")||o[t]("x")||o[t]("y"))){var a=r.attrs,s=r.node,l=s.firstChild?i(e._g.doc.defaultView.getComputedStyle(s.firstChild,f).getPropertyValue("font-size"),10):10;if(o[t]("text")){for(a.text=o.text;s.firstChild;)s.removeChild(s.firstChild);for(var u,c=n(o.text).split("\n"),h=[],d=0,p=c.length;d<p;d++)u=m("tspan"),d&&m(u,{dy:1.2*l,x:a.x}),u.appendChild(e._g.doc.createTextNode(c[d])),s.appendChild(u),h[d]=u}else for(h=s.getElementsByTagName("tspan"),d=0,p=h.length;d<p;d++)d?m(h[d],{dy:1.2*l,x:a.x}):m(h[0],{dy:0});m(s,{x:a.x,y:a.y}),r._.dirty=1;var g=r._getBBox(),v=a.y-(g.y+g.height/2);v&&e.is(v,"finite")&&m(h[0],{dy:v})}},k=function(e){return e.parentNode&&"a"===e.parentNode.tagName.toLowerCase()?e.parentNode:e},_=function(t,n){this[0]=this.node=t,t.raphael=!0,this.id=function(){return("0000"+(Math.random()*Math.pow(36,5)<<0).toString(36)).slice(-5)}(),t.raphaelid=this.id,this.matrix=e.matrix(),this.realPath=null,this.paper=n,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null},T=e.el;_.prototype=T,T.constructor=_,e._engine.path=function(e,t){var n=m("path");t.canvas&&t.canvas.appendChild(n);var r=new _(n,t);return r.type="path",C(r,{fill:"none",stroke:"#000",path:e}),r},T.rotate=function(e,t,i){if(this.removed)return this;if(e=n(e).split(u),e.length-1&&(t=r(e[1]),i=r(e[2])),e=r(e[0]),null==i&&(t=i),null==t||null==i){var o=this.getBBox(1);t=o.x+o.width/2,i=o.y+o.height/2}return this.transform(this._.transform.concat([["r",e,t,i]])),this},T.scale=function(e,t,i,o){if(this.removed)return this;if(e=n(e).split(u),e.length-1&&(t=r(e[1]),i=r(e[2]),o=r(e[3])),e=r(e[0]),null==t&&(t=e),null==o&&(i=o),null==i||null==o)var a=this.getBBox(1);return i=null==i?a.x+a.width/2:i,o=null==o?a.y+a.height/2:o,this.transform(this._.transform.concat([["s",e,t,i,o]])),this},T.translate=function(e,t){return this.removed?this:(e=n(e).split(u),e.length-1&&(t=r(e[1])),e=r(e[0])||0,t=+t||0,this.transform(this._.transform.concat([["t",e,t]])),this)},T.transform=function(n){var r=this._;if(null==n)return r.transform;if(e._extractTransform(this,n),this.clip&&m(this.clip,{transform:this.matrix.invert()}),this.pattern&&w(this),this.node&&m(this.node,{transform:this.matrix}),1!=r.sx||1!=r.sy){var i=this.attrs[t]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":i})}return this},T.hide=function(){return this.removed||(this.node.style.display="none"),this},T.show=function(){return this.removed||(this.node.style.display=""),this},T.remove=function(){var t=k(this.node);if(!this.removed&&t.parentNode){var n=this.paper;n.__set__&&n.__set__.exclude(this),c.unbind("raphael.*.*."+this.id),this.gradient&&n.defs.removeChild(this.gradient),e._tear(this,n),t.parentNode.removeChild(t),this.removeData();for(var r in this)this[r]="function"==typeof this[r]?e._removedFactory(r):null;this.removed=!0}},T._getBBox=function(){if("none"==this.node.style.display){this.show();var e=!0}var t,n=!1;this.paper.canvas.parentElement?t=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(t=this.paper.canvas.parentNode.style),t&&"none"==t.display&&(n=!0,t.display="");var r={};try{r=this.node.getBBox()}catch(e){r={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{r=r||{},n&&(t.display="none")}return e&&this.hide(),r},T.attr=function(n,r){if(this.removed)return this;if(null==n){var i={};for(var o in this.attrs)this.attrs[t](o)&&(i[o]=this.attrs[o]);return i.gradient&&"none"==i.fill&&(i.fill=i.gradient)&&delete i.gradient,i.transform=this._.transform,i}if(null==r&&e.is(n,"string")){if("fill"==n&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==n)return this._.transform;for(var a=n.split(u),s={},l=0,f=a.length;l<f;l++)n=a[l],n in this.attrs?s[n]=this.attrs[n]:e.is(this.paper.customAttributes[n],"function")?s[n]=this.paper.customAttributes[n].def:s[n]=e._availableAttrs[n];return f-1?s:s[a[0]]}if(null==r&&e.is(n,"array")){for(s={},l=0,f=n.length;l<f;l++)s[n[l]]=this.attr(n[l]);return s}if(null!=r){var h={};h[n]=r}else null!=n&&e.is(n,"object")&&(h=n);for(var d in h)c("raphael.attr."+d+"."+this.id,this,h[d]);for(d in this.paper.customAttributes)if(this.paper.customAttributes[t](d)&&h[t](d)&&e.is(this.paper.customAttributes[d],"function")){var p=this.paper.customAttributes[d].apply(this,[].concat(h[d]));this.attrs[d]=h[d];for(var g in p)p[t](g)&&(h[g]=p[g])}return C(this,h),this},T.toFront=function(){if(this.removed)return this;var t=k(this.node);t.parentNode.appendChild(t);var n=this.paper;return n.top!=this&&e._tofront(this,n),this},T.toBack=function(){if(this.removed)return this;var t=k(this.node),n=t.parentNode;n.insertBefore(t,n.firstChild),e._toback(this,this.paper);this.paper;return this},T.insertAfter=function(t){if(this.removed||!t)return this;var n=k(this.node),r=k(t.node||t[t.length-1].node);return r.nextSibling?r.parentNode.insertBefore(n,r.nextSibling):r.parentNode.appendChild(n),e._insertafter(this,t,this.paper),this},T.insertBefore=function(t){if(this.removed||!t)return this;var n=k(this.node),r=k(t.node||t[0].node);return r.parentNode.insertBefore(n,r),e._insertbefore(this,t,this.paper),this},T.blur=function(t){var n=this;if(0!=+t){var r=m("filter"),i=m("feGaussianBlur");n.attrs.blur=t,r.id=e.createUUID(),m(i,{stdDeviation:+t||1.5}),r.appendChild(i),n.paper.defs.appendChild(r),n._blur=r,m(n.node,{filter:"url(#"+r.id+")"})}else n._blur&&(n._blur.parentNode.removeChild(n._blur),delete n._blur,delete n.attrs.blur),n.node.removeAttribute("filter");return n},e._engine.circle=function(e,t,n,r){var i=m("circle");e.canvas&&e.canvas.appendChild(i);var o=new _(i,e);return o.attrs={cx:t,cy:n,r:r,fill:"none",stroke:"#000"},o.type="circle",m(i,o.attrs),o},e._engine.rect=function(e,t,n,r,i,o){var a=m("rect");e.canvas&&e.canvas.appendChild(a);var s=new _(a,e);return s.attrs={x:t,y:n,width:r,height:i,rx:o||0,ry:o||0,fill:"none",stroke:"#000"},s.type="rect",m(a,s.attrs),s},e._engine.ellipse=function(e,t,n,r,i){var o=m("ellipse");e.canvas&&e.canvas.appendChild(o);var a=new _(o,e);return a.attrs={cx:t,cy:n,rx:r,ry:i,fill:"none",stroke:"#000"},a.type="ellipse",m(o,a.attrs),a},e._engine.image=function(e,t,n,r,i,o){var a=m("image");m(a,{x:n,y:r,width:i,height:o,preserveAspectRatio:"none"}),a.setAttributeNS(d,"href",t),e.canvas&&e.canvas.appendChild(a);var s=new _(a,e);return s.attrs={x:n,y:r,width:i,height:o,src:t},s.type="image",s},e._engine.text=function(t,n,r,i){var o=m("text");t.canvas&&t.canvas.appendChild(o);var a=new _(o,t);return a.attrs={x:n,y:r,"text-anchor":"middle",text:i,"font-family":e._availableAttrs["font-family"],"font-size":e._availableAttrs["font-size"],stroke:"none",fill:"#000"},a.type="text",C(a,a.attrs),a},e._engine.setSize=function(e,t){return this.width=e||this.width,this.height=t||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},e._engine.create=function(){var t=e._getContainer.apply(0,arguments),n=t&&t.container,r=t.x,i=t.y,o=t.width,a=t.height;if(!n)throw new Error("SVG container not found.");var s,l=m("svg"),u="overflow:hidden;";return r=r||0,i=i||0,o=o||512,a=a||342,m(l,{height:a,version:1.1,width:o,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),1==n?(l.style.cssText=u+"position:absolute;left:"+r+"px;top:"+i+"px",e._g.doc.body.appendChild(l),s=1):(l.style.cssText=u+"position:relative",n.firstChild?n.insertBefore(l,n.firstChild):n.appendChild(l)),n=new e._Paper,n.width=o,n.height=a,n.canvas=l,n.clear(),n._left=n._top=0,s&&(n.renderfix=function(){}),n.renderfix(),n},e._engine.setViewBox=function(e,t,n,r,i){c("raphael.setViewBox",this,this._viewBox,[e,t,n,r,i]);var o,s,l=this.getSize(),u=a(n/l.width,r/l.height),f=this.top,d=i?"xMidYMid meet":"xMinYMin";for(null==e?(this._vbSize&&(u=1),delete this._vbSize,o="0 0 "+this.width+h+this.height):(this._vbSize=u,o=e+h+t+h+n+h+r),m(this.canvas,{viewBox:o,preserveAspectRatio:d});u&&f;)s="stroke-width"in f.attrs?f.attrs["stroke-width"]:1,f.attr({"stroke-width":s}),f._.dirty=1,f._.dirtyT=1,f=f.prev;return this._viewBox=[e,t,n,r,!!i],this},e.prototype.renderfix=function(){var e,t=this.canvas,n=t.style;try{e=t.getScreenCTM()||t.createSVGMatrix()}catch(n){e=t.createSVGMatrix()}var r=-e.e%1,i=-e.f%1;(r||i)&&(r&&(this._left=(this._left+r)%1,n.left=this._left+"px"),i&&(this._top=(this._top+i)%1,n.top=this._top+"px"))},e.prototype.clear=function(){e.eve("raphael.clear",this);for(var t=this.canvas;t.firstChild;)t.removeChild(t.firstChild);this.bottom=this.top=null,(this.desc=m("desc")).appendChild(e._g.doc.createTextNode("Created with RaphaÃ«l "+e.version)),t.appendChild(this.desc),t.appendChild(this.defs=m("defs"))},e.prototype.remove=function(){c("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]="function"==typeof this[t]?e._removedFactory(t):null};var E=e.st;for(var M in T)T[t](M)&&!E[t](M)&&(E[M]=function(e){return function(){var t=arguments;return this.forEach(function(n){n[e].apply(n,t)})}}(M))}}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1)],void 0!==(i=function(e){if(!e||e.vml){var t="hasOwnProperty",n=String,r=parseFloat,i=Math,o=i.round,a=i.max,s=i.min,l=i.abs,u="fill",c=/[, ]+/,f=e.eve,h=" ",d="",p={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},g="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",m=21600,v={path:1,rect:1,image:1},y={circle:1,ellipse:1},b=function(t){var r=/[ahqstv]/gi,i=e._pathToAbsolute;if(n(t).match(r)&&(i=e._path2curve),r=/[clmz]/g,i==e._pathToAbsolute&&!n(t).match(r)){var a=n(t).replace(/([clmz]),?([^clmz]*)/gi,function(e,t,n){var r=[],i="m"==t.toLowerCase(),a=p[t];return n.replace(/-?[^,\s-]+/g,function(e){i&&2==r.length&&(a+=r+p["m"==t?"l":"L"],r=[]),r.push(o(e*m))}),a+r});return a}var s,l,u=i(t);a=[];for(var c=0,f=u.length;c<f;c++){s=u[c],"z"==(l=u[c][0].toLowerCase())&&(l="x");for(var g=1,v=s.length;g<v;g++)l+=o(s[g]*m)+(g!=v-1?",":d);a.push(l)}return a.join(h)},w=function(t,n,r){var i=e.matrix();return i.rotate(-t,.5,.5),{dx:i.x(n,r),dy:i.y(n,r)}},x=function(e,t,n,r,i,o){var a=e._,s=e.matrix,c=a.fillpos,f=e.node,d=f.style,p=1,g="",v=m/t,y=m/n;if(d.visibility="hidden",t&&n){if(f.coordsize=l(v)+h+l(y),d.rotation=o*(t*n<0?-1:1),o){var b=w(o,r,i);r=b.dx,i=b.dy}if(t<0&&(g+="x"),n<0&&(g+=" y")&&(p=-1),d.flip=g,f.coordorigin=r*-v+h+i*-y,c||a.fillsize){var x=f.getElementsByTagName(u);x=x&&x[0],f.removeChild(x),c&&(b=w(o,s.x(c[0],c[1]),s.y(c[0],c[1])),x.position=b.dx*p+h+b.dy*p),a.fillsize&&(x.size=a.fillsize[0]*l(t)+h+a.fillsize[1]*l(n)),f.appendChild(x)}d.visibility="visible"}};e.toString=function(){return"Your browser doesnâ€™t support SVG. Falling down to VML.\nYou are running RaphaÃ«l "+this.version};var S=function(e,t,r){for(var i=n(t).toLowerCase().split("-"),o=r?"end":"start",a=i.length,s="classic",l="medium",u="medium";a--;)switch(i[a]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":s=i[a];break;case"wide":case"narrow":u=i[a];break;case"long":case"short":l=i[a]}var c=e.node.getElementsByTagName("stroke")[0];c[o+"arrow"]=s,c[o+"arrowlength"]=l,c[o+"arrowwidth"]=u},$=function(i,l){i.attrs=i.attrs||{};var f=i.node,p=i.attrs,g=f.style,w=v[i.type]&&(l.x!=p.x||l.y!=p.y||l.width!=p.width||l.height!=p.height||l.cx!=p.cx||l.cy!=p.cy||l.rx!=p.rx||l.ry!=p.ry||l.r!=p.r),$=y[i.type]&&(p.cx!=l.cx||p.cy!=l.cy||p.r!=l.r||p.rx!=l.rx||p.ry!=l.ry),A=i;for(var k in l)l[t](k)&&(p[k]=l[k]);if(w&&(p.path=e._getPath[i.type](i),i._.dirty=1),l.href&&(f.href=l.href),l.title&&(f.title=l.title),l.target&&(f.target=l.target),l.cursor&&(g.cursor=l.cursor),"blur"in l&&i.blur(l.blur),(l.path&&"path"==i.type||w)&&(f.path=b(~n(p.path).toLowerCase().indexOf("r")?e._pathToAbsolute(p.path):p.path),i._.dirty=1,"image"==i.type&&(i._.fillpos=[p.x,p.y],i._.fillsize=[p.width,p.height],x(i,1,1,0,0,0))),"transform"in l&&i.transform(l.transform),$){var T=+p.cx,E=+p.cy,M=+p.rx||+p.r||0,D=+p.ry||+p.r||0;f.path=e.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",o((T-M)*m),o((E-D)*m),o((T+M)*m),o((E+D)*m),o(T*m)),i._.dirty=1}if("clip-rect"in l){var P=n(l["clip-rect"]).split(c);if(4==P.length){P[2]=+P[2]+ +P[0],P[3]=+P[3]+ +P[1];var R=f.clipRect||e._g.doc.createElement("div"),O=R.style;O.clip=e.format("rect({1}px {2}px {3}px {0}px)",P),f.clipRect||(O.position="absolute",O.top=0,O.left=0,O.width=i.paper.width+"px",O.height=i.paper.height+"px",f.parentNode.insertBefore(R,f),R.appendChild(f),f.clipRect=R)}l["clip-rect"]||f.clipRect&&(f.clipRect.style.clip="auto")}if(i.textpath){var N=i.textpath.style;l.font&&(N.font=l.font),l["font-family"]&&(N.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,d)+'"'),l["font-size"]&&(N.fontSize=l["font-size"]),l["font-weight"]&&(N.fontWeight=l["font-weight"]),l["font-style"]&&(N.fontStyle=l["font-style"])}if("arrow-start"in l&&S(A,l["arrow-start"]),"arrow-end"in l&&S(A,l["arrow-end"],1),null!=l.opacity||null!=l.fill||null!=l.src||null!=l.stroke||null!=l["stroke-width"]||null!=l["stroke-opacity"]||null!=l["fill-opacity"]||null!=l["stroke-dasharray"]||null!=l["stroke-miterlimit"]||null!=l["stroke-linejoin"]||null!=l["stroke-linecap"]){var L=f.getElementsByTagName(u);if(L=L&&L[0],!L&&(L=_(u)),"image"==i.type&&l.src&&(L.src=l.src),l.fill&&(L.on=!0),null!=L.on&&"none"!=l.fill&&null!==l.fill||(L.on=!1),L.on&&l.fill){var I=n(l.fill).match(e._ISURL);if(I){L.parentNode==f&&f.removeChild(L),L.rotate=!0,L.src=I[1],L.type="tile";var z=i.getBBox(1);L.position=z.x+h+z.y,i._.fillpos=[z.x,z.y],e._preload(I[1],function(){i._.fillsize=[this.offsetWidth,this.offsetHeight]})}else L.color=e.getRGB(l.fill).hex,L.src=d,L.type="solid",e.getRGB(l.fill).error&&(A.type in{circle:1,ellipse:1}||"r"!=n(l.fill).charAt())&&C(A,l.fill,L)&&(p.fill="none",p.gradient=l.fill,L.rotate=!1)}if("fill-opacity"in l||"opacity"in l){var B=((+p["fill-opacity"]+1||2)-1)*((+p.opacity+1||2)-1)*((+e.getRGB(l.fill).o+1||2)-1);B=s(a(B,0),1),L.opacity=B,L.src&&(L.color="none")}f.appendChild(L);var F=f.getElementsByTagName("stroke")&&f.getElementsByTagName("stroke")[0],j=!1;!F&&(j=F=_("stroke")),(l.stroke&&"none"!=l.stroke||l["stroke-width"]||null!=l["stroke-opacity"]||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])&&(F.on=!0),("none"==l.stroke||null===l.stroke||null==F.on||0==l.stroke||0==l["stroke-width"])&&(F.on=!1);var H=e.getRGB(l.stroke);F.on&&l.stroke&&(F.color=H.hex),B=((+p["stroke-opacity"]+1||2)-1)*((+p.opacity+1||2)-1)*((+H.o+1||2)-1);var U=.75*(r(l["stroke-width"])||1);if(B=s(a(B,0),1),null==l["stroke-width"]&&(U=p["stroke-width"]),l["stroke-width"]&&(F.weight=U),U&&U<1&&(B*=U)&&(F.weight=1),F.opacity=B,l["stroke-linejoin"]&&(F.joinstyle=l["stroke-linejoin"]||"miter"),F.miterlimit=l["stroke-miterlimit"]||8,l["stroke-linecap"]&&(F.endcap="butt"==l["stroke-linecap"]?"flat":"square"==l["stroke-linecap"]?"square":"round"),"stroke-dasharray"in l){var W={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};F.dashstyle=W[t](l["stroke-dasharray"])?W[l["stroke-dasharray"]]:d}j&&f.appendChild(F)}if("text"==A.type){A.paper.canvas.style.display=d;var V=A.paper.span,q=p.font&&p.font.match(/\d+(?:\.\d*)?(?=px)/);g=V.style,p.font&&(g.font=p.font),p["font-family"]&&(g.fontFamily=p["font-family"]),p["font-weight"]&&(g.fontWeight=p["font-weight"]),p["font-style"]&&(g.fontStyle=p["font-style"]),q=r(p["font-size"]||q&&q[0])||10,g.fontSize=100*q+"px",A.textpath.string&&(V.innerHTML=n(A.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var Y=V.getBoundingClientRect();A.W=p.w=(Y.right-Y.left)/100,A.H=p.h=(Y.bottom-Y.top)/100,A.X=p.x,A.Y=p.y+A.H/2,("x"in l||"y"in l)&&(A.path.v=e.format("m{0},{1}l{2},{1}",o(p.x*m),o(p.y*m),o(p.x*m)+1));for(var G=["x","y","text","font","font-family","font-weight","font-style","font-size"],X=0,K=G.length;X<K;X++)if(G[X]in l){A._.dirty=1;break}switch(p["text-anchor"]){case"start":A.textpath.style["v-text-align"]="left",A.bbx=A.W/2;break;case"end":A.textpath.style["v-text-align"]="right",A.bbx=-A.W/2;break;default:A.textpath.style["v-text-align"]="center",A.bbx=0}A.textpath.style["v-text-kern"]=!0}},C=function(t,o,a){t.attrs=t.attrs||{};var s=(t.attrs,Math.pow),l="linear",u=".5 .5";if(t.attrs.gradient=o,o=n(o).replace(e._radial_gradient,function(e,t,n){return l="radial",t&&n&&(t=r(t),n=r(n),s(t-.5,2)+s(n-.5,2)>.25&&(n=i.sqrt(.25-s(t-.5,2))*(2*(n>.5)-1)+.5),u=t+h+n),d}),o=o.split(/\s*\-\s*/),"linear"==l){var c=o.shift();if(c=-r(c),isNaN(c))return null}var f=e._parseDots(o);if(!f)return null;if(t=t.shape||t.node,f.length){t.removeChild(a),a.on=!0,a.method="none",a.color=f[0].color,a.color2=f[f.length-1].color;for(var p=[],g=0,m=f.length;g<m;g++)f[g].offset&&p.push(f[g].offset+h+f[g].color);a.colors=p.length?p.join():"0% "+a.color,"radial"==l?(a.type="gradientTitle",a.focus="100%",a.focussize="0 0",a.focusposition=u,a.angle=0):(a.type="gradient",a.angle=(270-c)%360),t.appendChild(a)}return 1},A=function(t,n){this[0]=this.node=t,t.raphael=!0,this.id=e._oid++,t.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=n,this.matrix=e.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null},k=e.el;A.prototype=k,k.constructor=A,k.transform=function(t){if(null==t)return this._.transform;var r,i=this.paper._viewBoxShift,o=i?"s"+[i.scale,i.scale]+"-1-1t"+[i.dx,i.dy]:d;i&&(r=t=n(t).replace(/\.{3}|\u2026/g,this._.transform||d)),e._extractTransform(this,o+t);var a,s=this.matrix.clone(),l=this.skew,u=this.node,c=~n(this.attrs.fill).indexOf("-"),f=!n(this.attrs.fill).indexOf("url(");if(s.translate(1,1),f||c||"image"==this.type)if(l.matrix="1 0 0 1",l.offset="0 0",a=s.split(),c&&a.noRotation||!a.isSimple){u.style.filter=s.toFilter();var p=this.getBBox(),g=this.getBBox(1),v=p.x-g.x,y=p.y-g.y;u.coordorigin=v*-m+h+y*-m,x(this,1,1,v,y,0)}else u.style.filter=d,x(this,a.scalex,a.scaley,a.dx,a.dy,a.rotate);else u.style.filter=d,l.matrix=n(s),l.offset=s.offset();return null!==r&&(this._.transform=r,e._extractTransform(this,r)),this},k.rotate=function(e,t,i){if(this.removed)return this;if(null!=e){if(e=n(e).split(c),e.length-1&&(t=r(e[1]),i=r(e[2])),e=r(e[0]),null==i&&(t=i),null==t||null==i){var o=this.getBBox(1);t=o.x+o.width/2,i=o.y+o.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",e,t,i]])),this}},k.translate=function(e,t){return this.removed?this:(e=n(e).split(c),e.length-1&&(t=r(e[1])),e=r(e[0])||0,t=+t||0,this._.bbox&&(this._.bbox.x+=e,this._.bbox.y+=t),this.transform(this._.transform.concat([["t",e,t]])),this)},k.scale=function(e,t,i,o){if(this.removed)return this;if(e=n(e).split(c),e.length-1&&(t=r(e[1]),i=r(e[2]),o=r(e[3]),isNaN(i)&&(i=null),isNaN(o)&&(o=null)),e=r(e[0]),null==t&&(t=e),null==o&&(i=o),null==i||null==o)var a=this.getBBox(1);return i=null==i?a.x+a.width/2:i,o=null==o?a.y+a.height/2:o,this.transform(this._.transform.concat([["s",e,t,i,o]])),this._.dirtyT=1,this},k.hide=function(){return!this.removed&&(this.node.style.display="none"),this},k.show=function(){return!this.removed&&(this.node.style.display=d),this},k.auxGetBBox=e.el.getBBox,k.getBBox=function(){var e=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var t={},n=1/this.paper._viewBoxShift.scale;return t.x=e.x-this.paper._viewBoxShift.dx,t.x*=n,t.y=e.y-this.paper._viewBoxShift.dy,t.y*=n,t.width=e.width*n,t.height=e.height*n,t.x2=t.x+t.width,t.y2=t.y+t.height,t}return e},k._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},k.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),e.eve.unbind("raphael.*.*."+this.id),e._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var t in this)this[t]="function"==typeof this[t]?e._removedFactory(t):null;this.removed=!0}},k.attr=function(n,r){if(this.removed)return this;if(null==n){var i={};for(var o in this.attrs)this.attrs[t](o)&&(i[o]=this.attrs[o]);return i.gradient&&"none"==i.fill&&(i.fill=i.gradient)&&delete i.gradient,i.transform=this._.transform,i}if(null==r&&e.is(n,"string")){if(n==u&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var a=n.split(c),s={},l=0,h=a.length;l<h;l++)n=a[l],n in this.attrs?s[n]=this.attrs[n]:e.is(this.paper.customAttributes[n],"function")?s[n]=this.paper.customAttributes[n].def:s[n]=e._availableAttrs[n];return h-1?s:s[a[0]]}if(this.attrs&&null==r&&e.is(n,"array")){for(s={},l=0,h=n.length;l<h;l++)s[n[l]]=this.attr(n[l]);return s}var d;null!=r&&(d={},d[n]=r),null==r&&e.is(n,"object")&&(d=n);for(var p in d)f("raphael.attr."+p+"."+this.id,this,d[p]);if(d){for(p in this.paper.customAttributes)if(this.paper.customAttributes[t](p)&&d[t](p)&&e.is(this.paper.customAttributes[p],"function")){var g=this.paper.customAttributes[p].apply(this,[].concat(d[p]));this.attrs[p]=d[p];for(var m in g)g[t](m)&&(d[m]=g[m])}d.text&&"text"==this.type&&(this.textpath.string=d.text),$(this,d)}return this},k.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&e._tofront(this,this.paper),this},k.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),e._toback(this,this.paper)),this)},k.insertAfter=function(t){return this.removed?this:(t.constructor==e.st.constructor&&(t=t[t.length-1]),t.node.nextSibling?t.node.parentNode.insertBefore(this.node,t.node.nextSibling):t.node.parentNode.appendChild(this.node),e._insertafter(this,t,this.paper),this)},k.insertBefore=function(t){return this.removed?this:(t.constructor==e.st.constructor&&(t=t[0]),t.node.parentNode.insertBefore(this.node,t.node),e._insertbefore(this,t,this.paper),this)},k.blur=function(t){var n=this.node.runtimeStyle,r=n.filter;return r=r.replace(/ progid:\S+Blur\([^\)]+\)/g,d),0!=+t?(this.attrs.blur=t,n.filter=r+h+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+t||1.5)+")",n.margin=e.format("-{0}px 0 0 -{0}px",o(+t||1.5))):(n.filter=r,n.margin=0,delete this.attrs.blur),this},e._engine.path=function(e,t){var n=_("shape");n.style.cssText=g,n.coordsize=m+h+m,n.coordorigin=t.coordorigin;var r=new A(n,t),i={fill:"none",stroke:"#000"};e&&(i.path=e),r.type="path",r.path=[],r.Path=d,$(r,i),t.canvas&&t.canvas.appendChild(n);var o=_("skew");return o.on=!0,n.appendChild(o),r.skew=o,r.transform(d),r},e._engine.rect=function(t,n,r,i,o,a){var s=e._rectPath(n,r,i,o,a),l=t.path(s),u=l.attrs;return l.X=u.x=n,l.Y=u.y=r,l.W=u.width=i,l.H=u.height=o,u.r=a,u.path=s,l.type="rect",l},e._engine.ellipse=function(e,t,n,r,i){var o=e.path();o.attrs;return o.X=t-r,o.Y=n-i,o.W=2*r,o.H=2*i,o.type="ellipse",$(o,{cx:t,cy:n,rx:r,ry:i}),o},e._engine.circle=function(e,t,n,r){var i=e.path();i.attrs;return i.X=t-r,i.Y=n-r,i.W=i.H=2*r,i.type="circle",$(i,{cx:t,cy:n,r:r}),i},e._engine.image=function(t,n,r,i,o,a){var s=e._rectPath(r,i,o,a),l=t.path(s).attr({stroke:"none"}),c=l.attrs,f=l.node,h=f.getElementsByTagName(u)[0];return c.src=n,l.X=c.x=r,l.Y=c.y=i,l.W=c.width=o,l.H=c.height=a,c.path=s,l.type="image",h.parentNode==f&&f.removeChild(h),h.rotate=!0,h.src=n,h.type="tile",l._.fillpos=[r,i],l._.fillsize=[o,a],f.appendChild(h),x(l,1,1,0,0,0),l},e._engine.text=function(t,r,i,a){var s=_("shape"),l=_("path"),u=_("textpath");r=r||0,i=i||0,a=a||"",l.v=e.format("m{0},{1}l{2},{1}",o(r*m),o(i*m),o(r*m)+1),l.textpathok=!0,u.string=n(a),u.on=!0,s.style.cssText=g,s.coordsize=m+h+m,s.coordorigin="0 0";var c=new A(s,t),f={fill:"#000",stroke:"none",font:e._availableAttrs.font,text:a};c.shape=s,c.path=l,c.textpath=u,c.type="text",c.attrs.text=n(a),c.attrs.x=r,c.attrs.y=i,c.attrs.w=1,c.attrs.h=1,$(c,f),s.appendChild(u),s.appendChild(l),t.canvas.appendChild(s);var p=_("skew");return p.on=!0,s.appendChild(p),c.skew=p,c.transform(d),c},e._engine.setSize=function(t,n){var r=this.canvas.style;return this.width=t,this.height=n,t==+t&&(t+="px"),n==+n&&(n+="px"),r.width=t,r.height=n,r.clip="rect(0 "+t+" "+n+" 0)",this._viewBox&&e._engine.setViewBox.apply(this,this._viewBox),this},e._engine.setViewBox=function(t,n,r,i,o){e.eve("raphael.setViewBox",this,this._viewBox,[t,n,r,i,o]);var a,s,l=this.getSize(),u=l.width,c=l.height;return o&&(a=c/i,s=u/r,r*a<u&&(t-=(u-r*a)/2/a),i*s<c&&(n-=(c-i*s)/2/s)),this._viewBox=[t,n,r,i,!!o],this._viewBoxShift={dx:-t,dy:-n,scale:l},this.forEach(function(e){e.transform("...")}),this};var _;e._engine.initWin=function(e){var t=e.document;t.styleSheets.length<31?t.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):t.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!t.namespaces.rvml&&t.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),_=function(e){return t.createElement("<rvml:"+e+' class="rvml">')}}catch(e){_=function(e){return t.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},e._engine.initWin(e._g.win),e._engine.create=function(){var t=e._getContainer.apply(0,arguments),n=t.container,r=t.height,i=t.width,o=t.x,a=t.y;if(!n)throw new Error("VML container not found.");var s=new e._Paper,l=s.canvas=e._g.doc.createElement("div"),u=l.style;return o=o||0,a=a||0,i=i||512,r=r||342,s.width=i,s.height=r,i==+i&&(i+="px"),r==+r&&(r+="px"),s.coordsize=216e5+h+216e5,s.coordorigin="0 0",s.span=e._g.doc.createElement("span"),s.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(s.span),u.cssText=e.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",i,r),1==n?(e._g.doc.body.appendChild(l),u.left=o+"px",u.top=a+"px",u.position="absolute"):n.firstChild?n.insertBefore(l,n.firstChild):n.appendChild(l),s.renderfix=function(){},s},e.prototype.clear=function(){e.eve("raphael.clear",this),this.canvas.innerHTML=d,this.span=e._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},e.prototype.remove=function(){e.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]="function"==typeof this[t]?e._removedFactory(t):null;return!0};var T=e.st;for(var E in k)k[t](E)&&!T[t](E)&&(T[E]=function(e){return function(){var t=arguments;return this.forEach(function(n){n[e].apply(n,t)})}}(E))}}.apply(t,r))&&(e.exports=i)}])}),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["angular"],t):e.hasOwnProperty("angular")?t(e.angular):"object"==typeof exports&&(module.exports=t(require("angular")))}(this,function(e){"use strict";function t(e,t){var n;try{n=e[t]}catch(e){n=!1}if(n){var r="__"+Math.round(1e7*Math.random());try{e[t].setItem(r,r),e[t].removeItem(r,r)}catch(e){n=!1}}return n}function n(n){var r=t(window,n);return function(){var i="ngStorage-";this.setKeyPrefix=function(e){
if("string"!=typeof e)throw new TypeError("[ngStorage] - "+n+"Provider.setKeyPrefix() expects a String.");i=e};var o=e.toJson,a=e.fromJson;this.setSerializer=function(e){if("function"!=typeof e)throw new TypeError("[ngStorage] - "+n+"Provider.setSerializer expects a function.");o=e},this.setDeserializer=function(e){if("function"!=typeof e)throw new TypeError("[ngStorage] - "+n+"Provider.setDeserializer expects a function.");a=e},this.supported=function(){return!!r},this.get=function(e){return r&&a(r.getItem(i+e))},this.set=function(e,t){return r&&r.setItem(i+e,o(t))},this.remove=function(e){r&&r.removeItem(i+e)},this.$get=["$rootScope","$window","$log","$timeout","$document",function(r,s,l,u,c){var f,h,d=i.length,p=t(s,n),g=p||(l.warn("This browser does not support Web Storage!"),{setItem:e.noop,getItem:e.noop,removeItem:e.noop}),m={$default:function(t){for(var n in t)e.isDefined(m[n])||(m[n]=e.copy(t[n]));return m.$sync(),m},$reset:function(e){for(var t in m)"$"===t[0]||delete m[t]&&g.removeItem(i+t);return m.$default(e)},$sync:function(){for(var e,t=0,n=g.length;t<n;t++)(e=g.key(t))&&i===e.slice(0,d)&&(m[e.slice(d)]=a(g.getItem(e)))},$apply:function(){var t;if(h=null,!e.equals(m,f)){t=e.copy(f),e.forEach(m,function(n,r){e.isDefined(n)&&"$"!==r[0]&&(g.setItem(i+r,o(n)),delete t[r])});for(var n in t)g.removeItem(i+n);f=e.copy(m)}},$supported:function(){return!!p}};return m.$sync(),f=e.copy(m),r.$watch(function(){h||(h=u(m.$apply,100,!1))}),s.addEventListener&&s.addEventListener("storage",function(t){if(t.key){var n=c[0];n.hasFocus&&n.hasFocus()||i!==t.key.slice(0,d)||(t.newValue?m[t.key.slice(d)]=a(t.newValue):delete m[t.key.slice(d)],f=e.copy(m),r.$apply())}}),s.addEventListener&&s.addEventListener("beforeunload",function(){m.$apply()}),m}]}}return e=e&&e.module?e:window.angular,e.module("ngStorage",[]).provider("$localStorage",n("localStorage")).provider("$sessionStorage",n("sessionStorage"))}),function(){"use strict";var e={backspace:8,tab:9,enter:13,escape:27,space:32,up:38,down:40,left:37,right:39,delete:46,comma:188},t=["text","email","url"],n=angular.module("ngTagsInput",[]);n.directive("tagsInput",["$timeout","$document","$window","$q","tagsInputConfig","tiUtil",function(n,r,i,o,a,s){function l(e,t,n,r){var i,a,l,u,c={};return i=function(t){return s.safeToString(t[e.displayProperty])},a=function(t,n){t[e.displayProperty]=n},l=function(t){var r=i(t),a=r&&r.length>=e.minLength&&r.length<=e.maxLength&&e.allowedTagsPattern.test(r)&&!s.findInObjectArray(c.items,t,e.keyProperty||e.displayProperty);return o.when(a&&n({$tag:t})).then(s.promisifyValue)},u=function(e){return o.when(r({$tag:e})).then(s.promisifyValue)},c.items=[],c.addText=function(e){var t={};return a(t,e),c.add(t)},c.add=function(n){var r=i(n);return e.replaceSpacesWithDashes&&(r=s.replaceSpacesWithDashes(r)),a(n,r),l(n).then(function(){c.items.push(n),t.trigger("tag-added",{$tag:n})}).catch(function(){r&&t.trigger("invalid-tag",{$tag:n})})},c.remove=function(e){var n=c.items[e];return u(n).then(function(){return c.items.splice(e,1),c.clearSelection(),t.trigger("tag-removed",{$tag:n}),n})},c.select=function(e){e<0?e=c.items.length-1:e>=c.items.length&&(e=0),c.index=e,c.selected=c.items[e]},c.selectPrior=function(){c.select(--c.index)},c.selectNext=function(){c.select(++c.index)},c.removeSelected=function(){return c.remove(c.index)},c.clearSelection=function(){c.selected=null,c.index=-1},c.getItems=function(){return e.useStrings?c.items.map(i):c.items},c.clearSelection(),c}function u(e){return-1!==t.indexOf(e)}return{restrict:"E",require:"ngModel",scope:{tags:"=ngModel",text:"=?",templateScope:"=?",tagClass:"&",onTagAdding:"&",onTagAdded:"&",onInvalidTag:"&",onTagRemoving:"&",onTagRemoved:"&",onTagClicked:"&"},replace:!1,transclude:!0,templateUrl:"ngTagsInput/tags-input.html",controller:["$scope","$attrs","$element",function(e,t,n){e.events=s.simplePubSub(),a.load("tagsInput",e,t,{template:[String,"ngTagsInput/tag-item.html"],type:[String,"text",u],placeholder:[String,"Add a tag"],tabindex:[Number,null],removeTagSymbol:[String,String.fromCharCode(215)],replaceSpacesWithDashes:[Boolean,!0],minLength:[Number,3],maxLength:[Number,9007199254740991],addOnEnter:[Boolean,!0],addOnSpace:[Boolean,!1],addOnComma:[Boolean,!0],addOnBlur:[Boolean,!0],addOnPaste:[Boolean,!1],pasteSplitPattern:[RegExp,/,/],allowedTagsPattern:[RegExp,/.+/],enableEditingLastTag:[Boolean,!1],minTags:[Number,0],maxTags:[Number,9007199254740991],displayProperty:[String,"text"],keyProperty:[String,""],allowLeftoverText:[Boolean,!1],addFromAutocompleteOnly:[Boolean,!1],spellcheck:[Boolean,!0],useStrings:[Boolean,!1]}),e.tagList=new l(e.options,e.events,s.handleUndefinedResult(e.onTagAdding,!0),s.handleUndefinedResult(e.onTagRemoving,!0)),this.registerAutocomplete=function(){n.find("input");return{addTag:function(t){return e.tagList.add(t)},getTags:function(){return e.tagList.items},getCurrentTagText:function(){return e.newTag.text()},getOptions:function(){return e.options},getTemplateScope:function(){return e.templateScope},on:function(t,n){return e.events.on(t,n,!0),this}}},this.registerTagItem=function(){return{getOptions:function(){return e.options},removeTag:function(t){e.disabled||e.tagList.remove(t)}}}}],link:function(t,o,a,l){var u,c,f=[e.enter,e.comma,e.space,e.backspace,e.delete,e.left,e.right],h=t.tagList,d=t.events,p=t.options,g=o.find("input"),m=["minTags","maxTags","allowLeftoverText"];u=function(){l.$setValidity("maxTags",h.items.length<=p.maxTags),l.$setValidity("minTags",h.items.length>=p.minTags),l.$setValidity("leftoverText",!(!t.hasFocus&&!p.allowLeftoverText)||!t.newTag.text())},c=function(){n(function(){g[0].focus()})},l.$isEmpty=function(e){return!e||!e.length},t.newTag={text:function(e){if(!angular.isDefined(e))return t.text||"";t.text=e,d.trigger("input-change",e)},invalid:null},t.track=function(e){return e[p.keyProperty||p.displayProperty]},t.getTagClass=function(e,n){var r=e===h.selected;return[t.tagClass({$tag:e,$index:n,$selected:r}),{selected:r}]},t.$watch("tags",function(e){if(e){if(h.items=s.makeObjectArray(e,p.displayProperty),p.useStrings)return;t.tags=h.items}else h.items=[]}),t.$watch("tags.length",function(){u(),l.$validate()}),a.$observe("disabled",function(e){t.disabled=e}),t.eventHandlers={input:{keydown:function(e){d.trigger("input-keydown",e)},focus:function(){t.hasFocus||(t.hasFocus=!0,d.trigger("input-focus"))},blur:function(){n(function(){var e=r.prop("activeElement"),n=e===g[0],i=o[0].contains(e);!n&&i||(t.hasFocus=!1,d.trigger("input-blur"))})},paste:function(e){e.getTextData=function(){var t=e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData;return t?t.getData("text/plain"):i.clipboardData.getData("Text")},d.trigger("input-paste",e)}},host:{click:function(){t.disabled||c()}},tag:{click:function(e){d.trigger("tag-clicked",{$tag:e})}}},d.on("tag-added",t.onTagAdded).on("invalid-tag",t.onInvalidTag).on("tag-removed",t.onTagRemoved).on("tag-clicked",t.onTagClicked).on("tag-added",function(){t.newTag.text("")}).on("tag-added tag-removed",function(){t.tags=h.getItems(),l.$setDirty(),c()}).on("invalid-tag",function(){t.newTag.invalid=!0}).on("option-change",function(e){-1!==m.indexOf(e.name)&&u()}).on("input-change",function(){h.clearSelection(),t.newTag.invalid=null}).on("input-focus",function(){o.triggerHandler("focus"),l.$setValidity("leftoverText",!0)}).on("input-blur",function(){p.addOnBlur&&!p.addFromAutocompleteOnly&&h.addText(t.newTag.text()),o.triggerHandler("blur"),u()}).on("input-keydown",function(n){var r,i,o,a,l=n.keyCode,u={};s.isModifierOn(n)||-1===f.indexOf(l)||(u[e.enter]=p.addOnEnter,u[e.comma]=p.addOnComma,u[e.space]=p.addOnSpace,r=!p.addFromAutocompleteOnly&&u[l],i=(l===e.backspace||l===e.delete)&&h.selected,a=l===e.backspace&&0===t.newTag.text().length&&p.enableEditingLastTag,o=(l===e.backspace||l===e.left||l===e.right)&&0===t.newTag.text().length&&!p.enableEditingLastTag,r?h.addText(t.newTag.text()):a?(h.selectPrior(),h.removeSelected().then(function(e){e&&t.newTag.text(e[p.displayProperty])})):i?h.removeSelected():o&&(l===e.left||l===e.backspace?h.selectPrior():l===e.right&&h.selectNext()),(r||o||i||a)&&n.preventDefault())}).on("input-paste",function(e){if(p.addOnPaste){var t=e.getTextData(),n=t.split(p.pasteSplitPattern);n.length>1&&(n.forEach(function(e){h.addText(e)}),e.preventDefault())}})}}}]),n.directive("tiTagItem",["tiUtil",function(e){return{restrict:"E",require:"^tagsInput",template:'<ng-include src="$$template"></ng-include>',scope:{$scope:"=scope",data:"="},link:function(t,n,r,i){var o=i.registerTagItem(),a=o.getOptions();t.$$template=a.template,t.$$removeTagSymbol=a.removeTagSymbol,t.$getDisplayText=function(){return e.safeToString(t.data[a.displayProperty])},t.$removeTag=function(){o.removeTag(t.$index)},t.$watch("$parent.$index",function(e){t.$index=e})}}}]),n.directive("autoComplete",["$document","$timeout","$sce","$q","tagsInputConfig","tiUtil",function(t,n,r,i,o,a){function s(e,t,n){var r,o,s,l={};return s=function(){return t.tagsInput.keyProperty||t.tagsInput.displayProperty},r=function(e,n){return e.filter(function(e){return!a.findInObjectArray(n,e,s(),function(e,n){return t.tagsInput.replaceSpacesWithDashes&&(e=a.replaceSpacesWithDashes(e),n=a.replaceSpacesWithDashes(n)),a.defaultComparer(e,n)})})},l.reset=function(){o=null,l.items=[],l.visible=!1,l.index=-1,l.selected=null,l.query=null},l.show=function(){t.selectFirstMatch?l.select(0):l.selected=null,l.visible=!0},l.load=a.debounce(function(n,u){l.query=n;var c=i.when(e({$query:n}));o=c,c.then(function(e){c===o&&(e=a.makeObjectArray(e.data||e,s()),e=r(e,u),l.items=e.slice(0,t.maxResultsToShow),l.items.length>0?l.show():l.reset())})},t.debounceDelay),l.selectNext=function(){l.select(++l.index)},l.selectPrior=function(){l.select(--l.index)},l.select=function(e){e<0?e=l.items.length-1:e>=l.items.length&&(e=0),l.index=e,l.selected=l.items[e],n.trigger("suggestion-selected",e)},l.reset(),l}function l(e,t){var n=e.find("li").eq(t),r=n.parent(),i=n.prop("offsetTop"),o=n.prop("offsetHeight"),a=r.prop("clientHeight"),s=r.prop("scrollTop");i<s?r.prop("scrollTop",i):i+o>a+s&&r.prop("scrollTop",i+o-a)}return{restrict:"E",require:"^tagsInput",scope:{source:"&",matchClass:"&"},templateUrl:"ngTagsInput/auto-complete.html",controller:["$scope","$element","$attrs",function(e,t,n){e.events=a.simplePubSub(),o.load("autoComplete",e,n,{template:[String,"ngTagsInput/auto-complete-match.html"],debounceDelay:[Number,100],minLength:[Number,3],highlightMatchedText:[Boolean,!0],maxResultsToShow:[Number,10],loadOnDownArrow:[Boolean,!1],loadOnEmpty:[Boolean,!1],loadOnFocus:[Boolean,!1],selectFirstMatch:[Boolean,!0],displayProperty:[String,""]}),e.suggestionList=new s(e.source,e.options,e.events),this.registerAutocompleteMatch=function(){return{getOptions:function(){return e.options},getQuery:function(){return e.suggestionList.query}}}}],link:function(t,n,r,i){var o,s=[e.enter,e.tab,e.escape,e.up,e.down],u=t.suggestionList,c=i.registerAutocomplete(),f=t.options,h=t.events;f.tagsInput=c.getOptions(),o=function(e){return e&&e.length>=f.minLength||!e&&f.loadOnEmpty},t.templateScope=c.getTemplateScope(),t.addSuggestionByIndex=function(e){u.select(e),t.addSuggestion()},t.addSuggestion=function(){var e=!1;return u.selected&&(c.addTag(angular.copy(u.selected)),u.reset(),e=!0),e},t.track=function(e){return e[f.tagsInput.keyProperty||f.tagsInput.displayProperty]},t.getSuggestionClass=function(e,n){var r=e===u.selected;return[t.matchClass({$match:e,$index:n,$selected:r}),{selected:r}]},c.on("tag-added tag-removed invalid-tag input-blur",function(){u.reset()}).on("input-change",function(e){o(e)?u.load(e,c.getTags()):u.reset()}).on("input-focus",function(){var e=c.getCurrentTagText();f.loadOnFocus&&o(e)&&u.load(e,c.getTags())}).on("input-keydown",function(n){var r=n.keyCode,i=!1;if(!a.isModifierOn(n)&&-1!==s.indexOf(r))return u.visible?r===e.down?(u.selectNext(),i=!0):r===e.up?(u.selectPrior(),i=!0):r===e.escape?(u.reset(),i=!0):r!==e.enter&&r!==e.tab||(i=t.addSuggestion()):r===e.down&&t.options.loadOnDownArrow&&(u.load(c.getCurrentTagText(),c.getTags()),i=!0),i?(n.preventDefault(),n.stopImmediatePropagation(),!1):void 0}),h.on("suggestion-selected",function(e){l(n,e)})}}}]),n.directive("tiAutocompleteMatch",["$sce","tiUtil",function(e,t){return{restrict:"E",require:"^autoComplete",template:'<ng-include src="$$template"></ng-include>',scope:{$scope:"=scope",data:"="},link:function(n,r,i,o){var a=o.registerAutocompleteMatch(),s=a.getOptions();n.$$template=s.template,n.$index=n.$parent.$index,n.$highlight=function(n){return s.highlightMatchedText&&(n=t.safeHighlight(n,a.getQuery())),e.trustAsHtml(n)},n.$getDisplayText=function(){return t.safeToString(n.data[s.displayProperty||s.tagsInput.displayProperty])}}}}]),n.directive("tiTranscludeAppend",function(){return function(e,t,n,r,i){i(function(e){t.append(e)})}}),n.directive("tiAutosize",["tagsInputConfig",function(e){return{restrict:"A",require:"ngModel",link:function(t,n,r,i){var o,a,s=e.getTextAutosizeThreshold();o=angular.element('<span class="input"></span>'),o.css("display","none").css("visibility","hidden").css("width","auto").css("white-space","pre"),n.parent().append(o),a=function(e){var t,i=e;return angular.isString(i)&&0===i.length&&(i=r.placeholder),i&&(o.text(i),o.css("display",""),t=o.prop("offsetWidth"),o.css("display","none")),n.css("width",t?t+s+"px":""),e},i.$parsers.unshift(a),i.$formatters.unshift(a),r.$observe("placeholder",function(e){i.$modelValue||a(e)})}}}]),n.directive("tiBindAttrs",function(){return function(e,t,n){e.$watch(n.tiBindAttrs,function(e){angular.forEach(e,function(e,t){n.$set(t,e)})},!0)}}),n.provider("tagsInputConfig",function(){var e={},t={},n=3;this.setDefaults=function(t,n){return e[t]=n,this},this.setActiveInterpolation=function(e,n){return t[e]=n,this},this.setTextAutosizeThreshold=function(e){return n=e,this},this.$get=["$interpolate",function(r){var i={};return i[String]=function(e){return e},i[Number]=function(e){return parseInt(e,10)},i[Boolean]=function(e){return"true"===e.toLowerCase()},i[RegExp]=function(e){return new RegExp(e)},{load:function(n,o,a,s){var l=function(){return!0};o.options={},angular.forEach(s,function(s,u){var c,f,h,d,p,g;c=s[0],f=s[1],h=s[2]||l,d=i[c],p=function(){var t=e[n]&&e[n][u];return angular.isDefined(t)?t:f},g=function(e){o.options[u]=e&&h(e)?d(e):p()},t[n]&&t[n][u]?a.$observe(u,function(e){g(e),o.events.trigger("option-change",{name:u,newValue:e})}):g(a[u]&&r(a[u])(o.$parent))})},getTextAutosizeThreshold:function(){return n}}}]}),n.factory("tiUtil",["$timeout","$q",function(e,t){var n={};return n.debounce=function(t,n){var r;return function(){var i=arguments;e.cancel(r),r=e(function(){t.apply(null,i)},n)}},n.makeObjectArray=function(e,t){if(!angular.isArray(e)||0===e.length||angular.isObject(e[0]))return e;var n=[];return e.forEach(function(e){var r={};r[t]=e,n.push(r)}),n},n.findInObjectArray=function(e,t,r,i){var o=null;return i=i||n.defaultComparer,e.some(function(e){if(i(e[r],t[r]))return o=e,!0}),o},n.defaultComparer=function(e,t){return n.safeToString(e).toLowerCase()===n.safeToString(t).toLowerCase()},n.safeHighlight=function(e,t){if(e=n.encodeHTML(e),!(t=n.encodeHTML(t)))return e;var r=new RegExp("&[^;]+;|"+function(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}(t),"gi");return e.replace(r,function(e){return e.toLowerCase()===t.toLowerCase()?"<em>"+e+"</em>":e})},n.safeToString=function(e){return angular.isUndefined(e)||null==e?"":e.toString().trim()},n.encodeHTML=function(e){return n.safeToString(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},n.handleUndefinedResult=function(e,t){return function(){var n=e.apply(null,arguments);return angular.isUndefined(n)?t:n}},n.replaceSpacesWithDashes=function(e){return n.safeToString(e).replace(/\s/g,"-")},n.isModifierOn=function(e){return e.shiftKey||e.ctrlKey||e.altKey||e.metaKey},n.promisifyValue=function(e){return e=!!angular.isUndefined(e)||e,t[e?"when":"reject"]()},n.simplePubSub=function(){var e={};return{on:function(t,n,r){return t.split(" ").forEach(function(t){e[t]||(e[t]=[]),(r?[].unshift:[].push).call(e[t],n)}),this},trigger:function(t,r){return(e[t]||[]).every(function(e){return n.handleUndefinedResult(e,!0)(r)}),this}}},n}]),n.run(["$templateCache",function(e){e.put("ngTagsInput/tags-input.html",'<div class="host" tabindex="-1" ng-click="eventHandlers.host.click()" ti-transclude-append><div class="tags" ng-class="{focused: hasFocus}"><ul class="tag-list"><li class="tag-item" ng-repeat="tag in tagList.items track by track(tag)" ng-class="getTagClass(tag, $index)" ng-click="eventHandlers.tag.click(tag)"><ti-tag-item scope="templateScope" data="::tag"></ti-tag-item></li></ul><input class="input" autocomplete="off" ng-model="newTag.text" ng-model-options="{getterSetter: true}" ng-keydown="eventHandlers.input.keydown($event)" ng-focus="eventHandlers.input.focus($event)" ng-blur="eventHandlers.input.blur($event)" ng-paste="eventHandlers.input.paste($event)" ng-trim="false" ng-class="{\'invalid-tag\': newTag.invalid}" ng-disabled="disabled" ti-bind-attrs="{type: options.type, placeholder: options.placeholder, tabindex: options.tabindex, spellcheck: options.spellcheck}" ti-autosize></div></div>'),e.put("ngTagsInput/tag-item.html",'<span ng-bind="$getDisplayText()"></span> <a class="remove-button" ng-click="$removeTag()" ng-bind="::$$removeTagSymbol"></a>'),e.put("ngTagsInput/auto-complete.html",'<div class="autocomplete" ng-if="suggestionList.visible"><ul class="suggestion-list"><li class="suggestion-item" ng-repeat="item in suggestionList.items track by track(item)" ng-class="getSuggestionClass(item, $index)" ng-click="addSuggestionByIndex($index)" ng-mouseenter="suggestionList.select($index)"><ti-autocomplete-match scope="templateScope" data="::item"></ti-autocomplete-match></li></ul></div>'),e.put("ngTagsInput/auto-complete-match.html",'<span ng-bind-html="$highlight($getDisplayText())"></span>')}])}(),function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function n(e,t){t=t||ne;var n=t.createElement("script");n.text=e,t.head.appendChild(n).parentNode.removeChild(n)}function r(e){var t=!!e&&"length"in e&&e.length,n=pe.type(e);return"function"!==n&&!pe.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function o(e,t,n){return pe.isFunction(t)?pe.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?pe.grep(e,function(e){return e===t!==n}):"string"!=typeof t?pe.grep(e,function(e){return se.call(t,e)>-1!==n}):xe.test(t)?pe.filter(t,e,n):(t=pe.filter(t,e),pe.grep(e,function(e){return se.call(t,e)>-1!==n&&1===e.nodeType}))}function a(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function s(e){var t={};return pe.each(e.match(ke)||[],function(e,n){t[n]=!0}),t}function l(e){return e}function u(e){throw e}function c(e,t,n,r){var i;try{e&&pe.isFunction(i=e.promise)?i.call(e).done(t).fail(n):e&&pe.isFunction(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}function f(){ne.removeEventListener("DOMContentLoaded",f),e.removeEventListener("load",f),pe.ready()}function h(){this.expando=pe.expando+h.uid++}function d(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Re.test(e)?JSON.parse(e):e)}function p(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Oe,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=d(n)}catch(e){}Pe.set(e,t,n)}else n=void 0;return n}function g(e,t,n,r){var i,o=1,a=20,s=r?function(){return r.cur()}:function(){return pe.css(e,t,"")},l=s(),u=n&&n[3]||(pe.cssNumber[t]?"":"px"),c=(pe.cssNumber[t]||"px"!==u&&+l)&&Le.exec(pe.css(e,t));if(c&&c[3]!==u){u=u||c[3],n=n||[],c=+l||1;do{o=o||".5",c/=o,pe.style(e,t,c+u)}while(o!==(o=s()/l)&&1!==o&&--a)}return n&&(c=+c||+l||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=c,r.end=i)),i}function m(e){var t,n=e.ownerDocument,r=e.nodeName,i=Fe[r];return i||(t=n.body.appendChild(n.createElement(r)),i=pe.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),Fe[r]=i,i)}function v(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)r=e[o],r.style&&(n=r.style.display,t?("none"===n&&(i[o]=De.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&ze(r)&&(i[o]=m(r))):"none"!==n&&(i[o]="none",De.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}function y(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&i(e,t)?pe.merge([e],n):n}function b(e,t){for(var n=0,r=e.length;n<r;n++)De.set(e[n],"globalEval",!t||De.get(t[n],"globalEval"))}function w(e,t,n,r,i){for(var o,a,s,l,u,c,f=t.createDocumentFragment(),h=[],d=0,p=e.length;d<p;d++)if((o=e[d])||0===o)if("object"===pe.type(o))pe.merge(h,o.nodeType?[o]:o);else if(Ve.test(o)){for(a=a||f.appendChild(t.createElement("div")),s=(He.exec(o)||["",""])[1].toLowerCase(),l=We[s]||We._default,a.innerHTML=l[1]+pe.htmlPrefilter(o)+l[2],c=l[0];c--;)a=a.lastChild;pe.merge(h,a.childNodes),a=f.firstChild,a.textContent=""}else h.push(t.createTextNode(o));for(f.textContent="",d=0;o=h[d++];)if(r&&pe.inArray(o,r)>-1)i&&i.push(o);else if(u=pe.contains(o.ownerDocument,o),a=y(f.appendChild(o),"script"),u&&b(a),n)for(c=0;o=a[c++];)Ue.test(o.type||"")&&n.push(o);return f}function x(){return!0}function S(){return!1}function $(){try{return ne.activeElement}catch(e){}}function C(e,t,n,r,i,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)C(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=S;else if(!i)return e;return 1===o&&(a=i,i=function(e){return pe().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=pe.guid++)),e.each(function(){pe.event.add(this,t,i,r,n)})}function A(e,t){return i(e,"table")&&i(11!==t.nodeType?t:t.firstChild,"tr")?pe(">tbody",e)[0]||e:e}function k(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function _(e){var t=Je.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function T(e,t){var n,r,i,o,a,s,l,u;if(1===t.nodeType){if(De.hasData(e)&&(o=De.access(e),a=De.set(t,o),u=o.events)){delete a.handle,a.events={};for(i in u)for(n=0,r=u[i].length;n<r;n++)pe.event.add(t,i,u[i][n])}Pe.hasData(e)&&(s=Pe.access(e),l=pe.extend({},s),Pe.set(t,l))}}function E(e,t){var n=t.nodeName.toLowerCase();"input"===n&&je.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function M(e,t,r,i){t=oe.apply([],t);var o,a,s,l,u,c,f=0,h=e.length,d=h-1,p=t[0],g=pe.isFunction(p);if(g||h>1&&"string"==typeof p&&!de.checkClone&&Ze.test(p))return e.each(function(n){var o=e.eq(n);g&&(t[0]=p.call(this,n,o.html())),M(o,t,r,i)});if(h&&(o=w(t,e[0].ownerDocument,!1,e,i),a=o.firstChild,1===o.childNodes.length&&(o=a),a||i)){for(s=pe.map(y(o,"script"),k),l=s.length;f<h;f++)u=o,f!==d&&(u=pe.clone(u,!0,!0),l&&pe.merge(s,y(u,"script"))),r.call(e[f],u,f);if(l)for(c=s[s.length-1].ownerDocument,pe.map(s,_),f=0;f<l;f++)u=s[f],Ue.test(u.type||"")&&!De.access(u,"globalEval")&&pe.contains(c,u)&&(u.src?pe._evalUrl&&pe._evalUrl(u.src):n(u.textContent.replace(Qe,""),c))}return e}function D(e,t,n){for(var r,i=t?pe.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||pe.cleanData(y(r)),r.parentNode&&(n&&pe.contains(r.ownerDocument,r)&&b(y(r,"script")),r.parentNode.removeChild(r));return e}function P(e,t,n){var r,i,o,a,s=e.style;return n=n||nt(e),n&&(a=n.getPropertyValue(t)||n[t],""!==a||pe.contains(e.ownerDocument,e)||(a=pe.style(e,t)),!de.pixelMarginRight()&&tt.test(a)&&et.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function R(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function O(e){if(e in lt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=st.length;n--;)if((e=st[n]+t)in lt)return e}function N(e){var t=pe.cssProps[e];return t||(t=pe.cssProps[e]=O(e)||e),t}function L(e,t,n){var r=Le.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function I(e,t,n,r,i){var o,a=0;for(o=n===(r?"border":"content")?4:"width"===t?1:0;o<4;o+=2)"margin"===n&&(a+=pe.css(e,n+Ie[o],!0,i)),r?("content"===n&&(a-=pe.css(e,"padding"+Ie[o],!0,i)),"margin"!==n&&(a-=pe.css(e,"border"+Ie[o]+"Width",!0,i))):(a+=pe.css(e,"padding"+Ie[o],!0,i),"padding"!==n&&(a+=pe.css(e,"border"+Ie[o]+"Width",!0,i)));return a}function z(e,t,n){var r,i=nt(e),o=P(e,t,i),a="border-box"===pe.css(e,"boxSizing",!1,i);return tt.test(o)?o:(r=a&&(de.boxSizingReliable()||o===e.style[t]),"auto"===o&&(o=e["offset"+t[0].toUpperCase()+t.slice(1)]),(o=parseFloat(o)||0)+I(e,t,n||(a?"border":"content"),r,i)+"px")}function B(e,t,n,r,i){return new B.prototype.init(e,t,n,r,i)}function F(){ct&&(!1===ne.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(F):e.setTimeout(F,pe.fx.interval),pe.fx.tick())}function j(){return e.setTimeout(function(){ut=void 0}),ut=pe.now()}function H(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)n=Ie[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function U(e,t,n){for(var r,i=(q.tweeners[t]||[]).concat(q.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function W(e,t,n){var r,i,o,a,s,l,u,c,f="width"in t||"height"in t,h=this,d={},p=e.style,g=e.nodeType&&ze(e),m=De.get(e,"fxshow");n.queue||(a=pe._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,pe.queue(e,"fx").length||a.empty.fire()})}));for(r in t)if(i=t[r],ft.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;g=!0}d[r]=m&&m[r]||pe.style(e,r)}if((l=!pe.isEmptyObject(t))||!pe.isEmptyObject(d)){f&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],u=m&&m.display,null==u&&(u=De.get(e,"display")),c=pe.css(e,"display"),"none"===c&&(u?c=u:(v([e],!0),u=e.style.display||u,c=pe.css(e,"display"),v([e]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===pe.css(e,"float")&&(l||(h.done(function(){p.display=u}),null==u&&(c=p.display,u="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),l=!1;for(r in d)l||(m?"hidden"in m&&(g=m.hidden):m=De.access(e,"fxshow",{display:u}),o&&(m.hidden=!g),g&&v([e],!0),h.done(function(){g||v([e]),De.remove(e,"fxshow");for(r in d)pe.style(e,r,d[r])})),l=U(g?m[r]:0,r,h),r in m||(m[r]=l.start,g&&(l.end=l.start,l.start=0))}}function V(e,t){var n,r,i,o,a;for(n in e)if(r=pe.camelCase(n),i=t[r],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=pe.cssHooks[r])&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function q(e,t,n){var r,i,o=0,a=q.prefilters.length,s=pe.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=ut||j(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,o=1-r,a=0,l=u.tweens.length;a<l;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,n]),o<1&&l?n:(l||s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:pe.extend({},t),opts:pe.extend(!0,{specialEasing:{},easing:pe.easing._default},n),originalProperties:t,originalOptions:n,startTime:ut||j(),duration:n.duration,tweens:[],createTween:function(t,n){var r=pe.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)u.tweens[n].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),c=u.props;for(V(c,u.opts.specialEasing);o<a;o++)if(r=q.prefilters[o].call(u,e,c,u.opts))return pe.isFunction(r.stop)&&(pe._queueHooks(u.elem,u.opts.queue).stop=pe.proxy(r.stop,r)),r;return pe.map(c,U,u),pe.isFunction(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),pe.fx.timer(pe.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u}function Y(e){return(e.match(ke)||[]).join(" ")}function G(e){return e.getAttribute&&e.getAttribute("class")||""}function X(e,t,n,r){var i;if(Array.isArray(t))pe.each(t,function(t,i){n||xt.test(e)?r(e,i):X(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==pe.type(t))r(e,t);else for(i in t)X(e+"["+i+"]",t[i],n,r)}function K(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(ke)||[];if(pe.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Z(e,t,n,r){function i(s){var l;return o[s]=!0,pe.each(e[s]||[],function(e,s){var u=s(t,n,r);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),i(u),!1)}),l}var o={},a=e===Tt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function J(e,t){var n,r,i=pe.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&pe.extend(!0,e,r),e}function Q(e,t,n){for(var r,i,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}function ee(e,t,n,r){var i,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=u[l+" "+o]||u["* "+o]))for(i in u)if(s=i.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[i]:!0!==u[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}var te=[],ne=e.document,re=Object.getPrototypeOf,ie=te.slice,oe=te.concat,ae=te.push,se=te.indexOf,le={},ue=le.toString,ce=le.hasOwnProperty,fe=ce.toString,he=fe.call(Object),de={},pe=function(e,t){return new pe.fn.init(e,t)},ge=function(e,t){return t.toUpperCase()};pe.fn=pe.prototype={jquery:"3.2.1",constructor:pe,length:0,toArray:function(){return ie.call(this)},get:function(e){return null==e?ie.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=pe.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return pe.each(this,e)},map:function(e){return this.pushStack(pe.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(ie.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ae,sort:te.sort,splice:te.splice},pe.extend=pe.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||pe.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],r=e[t],a!==r&&(u&&r&&(pe.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&pe.isPlainObject(n)?n:{},a[t]=pe.extend(u,o,r)):void 0!==r&&(a[t]=r));return a},pe.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,
error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===pe.type(e)},isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=pe.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==ue.call(e))&&(!(t=re(e))||"function"==typeof(n=ce.call(t,"constructor")&&t.constructor)&&fe.call(n)===he)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?le[ue.call(e)]||"object":typeof e},globalEval:function(e){n(e)},camelCase:function(e){return e.replace(/^-ms-/,"ms-").replace(/-([a-z])/g,ge)},each:function(e,t){var n,i=0;if(r(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(r(Object(e))?pe.merge(n,"string"==typeof e?[e]:e):ae.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:se.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var i,o,a=0,s=[];if(r(e))for(i=e.length;a<i;a++)null!=(o=t(e[a],a,n))&&s.push(o);else for(a in e)null!=(o=t(e[a],a,n))&&s.push(o);return oe.apply([],s)},guid:1,proxy:function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),pe.isFunction(e))return r=ie.call(arguments,2),i=function(){return e.apply(t||this,r.concat(ie.call(arguments)))},i.guid=e.guid=e.guid||pe.guid++,i},now:Date.now,support:de}),"function"==typeof Symbol&&(pe.fn[Symbol.iterator]=te[Symbol.iterator]),pe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){le["[object "+t+"]"]=t.toLowerCase()});var me=function(e){function t(e,t,n,r){var i,o,a,s,l,c,h,d=t&&t.ownerDocument,p=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==p&&9!==p&&11!==p)return n;if(!r&&((t?t.ownerDocument||t:B)!==D&&M(t),t=t||D,R)){if(11!==p&&(l=ge.exec(e)))if(i=l[1]){if(9===p){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(d&&(a=d.getElementById(i))&&I(t,a)&&a.id===i)return n.push(a),n}else{if(l[2])return K.apply(n,t.getElementsByTagName(e)),n;if((i=l[3])&&w.getElementsByClassName&&t.getElementsByClassName)return K.apply(n,t.getElementsByClassName(i)),n}if(w.qsa&&!W[e+" "]&&(!O||!O.test(e))){if(1!==p)d=t,h=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(be,we):t.setAttribute("id",s=z),c=C(e),o=c.length;o--;)c[o]="#"+s+" "+f(c[o]);h=c.join(","),d=me.test(e)&&u(t.parentNode)||t}if(h)try{return K.apply(n,d.querySelectorAll(h)),n}catch(e){}finally{s===z&&t.removeAttribute("id")}}}return k(e.replace(oe,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>x.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[z]=!0,e}function i(e){var t=D.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=n.length;r--;)x.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Se(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function u(e){return e&&void 0!==e.getElementsByTagName&&e}function c(){}function f(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function h(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=j++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,l){var u,c,f,h=[F,s];if(l){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,l))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(f=t[z]||(t[z]={}),c=f[t.uniqueID]||(f[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((u=c[o])&&u[0]===F&&u[1]===s)return h[2]=u[2];if(c[o]=h,h[2]=e(t,n,l))return!0}return!1}}function d(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function p(e,n,r){for(var i=0,o=n.length;i<o;i++)t(e,n[i],r);return r}function g(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),u&&t.push(s)));return a}function m(e,t,n,i,o,a){return i&&!i[z]&&(i=m(i)),o&&!o[z]&&(o=m(o,a)),r(function(r,a,s,l){var u,c,f,h=[],d=[],m=a.length,v=r||p(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?v:g(v,h,e,s,l),b=n?o||(r?e:m||i)?[]:a:y;if(n&&n(y,b,s,l),i)for(u=g(b,d),i(u,[],s,l),c=u.length;c--;)(f=u[c])&&(b[d[c]]=!(y[d[c]]=f));if(r){if(o||e){if(o){for(u=[],c=b.length;c--;)(f=b[c])&&u.push(y[c]=f);o(null,b=[],u,l)}for(c=b.length;c--;)(f=b[c])&&(u=o?J(r,f):h[c])>-1&&(r[u]=!(a[u]=f))}}else b=g(b===a?b.splice(m,b.length):b),o?o(null,a,b,l):K.apply(a,b)})}function v(e){for(var t,n,r,i=e.length,o=x.relative[e[0].type],a=o||x.relative[" "],s=o?1:0,l=h(function(e){return e===t},a,!0),u=h(function(e){return J(t,e)>-1},a,!0),c=[function(e,n,r){var i=!o&&(r||n!==_)||((t=n).nodeType?l(e,n,r):u(e,n,r));return t=null,i}];s<i;s++)if(n=x.relative[e[s].type])c=[h(d(c),n)];else{if(n=x.filter[e[s].type].apply(null,e[s].matches),n[z]){for(r=++s;r<i&&!x.relative[e[r].type];r++);return m(s>1&&d(c),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(oe,"$1"),n,s<r&&v(e.slice(s,r)),r<i&&v(e=e.slice(r)),r<i&&f(e))}c.push(n)}return d(c)}function y(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,l,u){var c,f,h,d=0,p="0",m=r&&[],v=[],y=_,b=r||o&&x.find.TAG("*",u),w=F+=null==y?1:Math.random()||.1,S=b.length;for(u&&(_=a===D||a||u);p!==S&&null!=(c=b[p]);p++){if(o&&c){for(f=0,a||c.ownerDocument===D||(M(c),s=!R);h=e[f++];)if(h(c,a||D,s)){l.push(c);break}u&&(F=w)}i&&((c=!h&&c)&&d--,r&&m.push(c))}if(d+=p,i&&p!==d){for(f=0;h=n[f++];)h(m,v,a,s);if(r){if(d>0)for(;p--;)m[p]||v[p]||(v[p]=G.call(l));v=g(v)}K.apply(l,v),u&&!r&&v.length>0&&d+n.length>1&&t.uniqueSort(l)}return u&&(F=w,_=y),m};return i?r(a):a}var b,w,x,S,$,C,A,k,_,T,E,M,D,P,R,O,N,L,I,z="sizzle"+1*new Date,B=e.document,F=0,j=0,H=n(),U=n(),W=n(),V=function(e,t){return e===t&&(E=!0),0},q={}.hasOwnProperty,Y=[],G=Y.pop,X=Y.push,K=Y.push,Z=Y.slice,J=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},Q="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ne="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",re=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ne+")*)|.*)\\)|)",ie=new RegExp(ee+"+","g"),oe=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),ae=new RegExp("^"+ee+"*,"+ee+"*"),se=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),le=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),ue=new RegExp(re),ce=new RegExp("^"+te+"$"),fe={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+ne),PSEUDO:new RegExp("^"+re),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+Q+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},he=/^(?:input|select|textarea|button)$/i,de=/^h\d$/i,pe=/^[^{]+\{\s*\[native \w/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,me=/[+~]/,ve=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),ye=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},be=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,we=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},xe=function(){M()},Se=h(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{K.apply(Y=Z.call(B.childNodes),B.childNodes),Y[B.childNodes.length].nodeType}catch(e){K={apply:Y.length?function(e,t){X.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},$=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},M=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:B;return r!==D&&9===r.nodeType&&r.documentElement?(D=r,P=D.documentElement,R=!$(D),B!==D&&(n=D.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",xe,!1):n.attachEvent&&n.attachEvent("onunload",xe)),w.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=i(function(e){return e.appendChild(D.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=pe.test(D.getElementsByClassName),w.getById=i(function(e){return P.appendChild(e).id=z,!D.getElementsByName||!D.getElementsByName(z).length}),w.getById?(x.filter.ID=function(e){var t=e.replace(ve,ye);return function(e){return e.getAttribute("id")===t}},x.find.ID=function(e,t){if(void 0!==t.getElementById&&R){var n=t.getElementById(e);return n?[n]:[]}}):(x.filter.ID=function(e){var t=e.replace(ve,ye);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},x.find.ID=function(e,t){if(void 0!==t.getElementById&&R){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),x.find.TAG=w.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},x.find.CLASS=w.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&R)return t.getElementsByClassName(e)},N=[],O=[],(w.qsa=pe.test(D.querySelectorAll))&&(i(function(e){P.appendChild(e).innerHTML="<a id='"+z+"'></a><select id='"+z+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&O.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||O.push("\\["+ee+"*(?:value|"+Q+")"),e.querySelectorAll("[id~="+z+"-]").length||O.push("~="),e.querySelectorAll(":checked").length||O.push(":checked"),e.querySelectorAll("a#"+z+"+*").length||O.push(".#.+[+~]")}),i(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=D.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&O.push("name"+ee+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&O.push(":enabled",":disabled"),P.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&O.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),O.push(",.*:")})),(w.matchesSelector=pe.test(L=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&i(function(e){w.disconnectedMatch=L.call(e,"*"),L.call(e,"[s!='']:x"),N.push("!=",re)}),O=O.length&&new RegExp(O.join("|")),N=N.length&&new RegExp(N.join("|")),t=pe.test(P.compareDocumentPosition),I=t||pe.test(P.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return E=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===D||e.ownerDocument===B&&I(B,e)?-1:t===D||t.ownerDocument===B&&I(B,t)?1:T?J(T,e)-J(T,t):0:4&n?-1:1)}:function(e,t){if(e===t)return E=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],l=[t];if(!i||!o)return e===D?-1:t===D?1:i?-1:o?1:T?J(T,e)-J(T,t):0;if(i===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;s[r]===l[r];)r++;return r?a(s[r],l[r]):s[r]===B?-1:l[r]===B?1:0},D):D},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==D&&M(e),n=n.replace(le,"='$1']"),w.matchesSelector&&R&&!W[n+" "]&&(!N||!N.test(n))&&(!O||!O.test(n)))try{var r=L.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,D,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==D&&M(e),I(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==D&&M(e);var n=x.attrHandle[t.toLowerCase()],r=n&&q.call(x.attrHandle,t.toLowerCase())?n(e,t,!R):void 0;return void 0!==r?r:w.attributes||!R?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.escape=function(e){return(e+"").replace(be,we)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(E=!w.detectDuplicates,T=!w.sortStable&&e.slice(0),e.sort(V),E){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return T=null,e},S=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=S(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=S(t);return n},x=t.selectors={cacheLength:50,createPseudo:r,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ve,ye),e[3]=(e[3]||e[4]||e[5]||"").replace(ve,ye),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ue.test(n)&&(t=C(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ve,ye).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=H[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&H(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(ie," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,f,h,d,p,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(m){if(o){for(;g;){for(h=t;h=h[g];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&y){for(h=m,f=h[z]||(h[z]={}),c=f[h.uniqueID]||(f[h.uniqueID]={}),u=c[e]||[],d=u[0]===F&&u[1],b=d&&u[2],h=d&&m.childNodes[d];h=++d&&h&&h[g]||(b=d=0)||p.pop();)if(1===h.nodeType&&++b&&h===t){c[e]=[F,d,b];break}}else if(y&&(h=t,f=h[z]||(h[z]={}),c=f[h.uniqueID]||(f[h.uniqueID]={}),u=c[e]||[],d=u[0]===F&&u[1],b=d),!1===b)for(;(h=++d&&h&&h[g]||(b=d=0)||p.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++b||(y&&(f=h[z]||(h[z]={}),c=f[h.uniqueID]||(f[h.uniqueID]={}),c[e]=[F,b]),h!==t)););return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,n){var i,o=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[z]?o(n):o.length>1?(i=[e,e,"",n],x.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=J(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=A(e.replace(oe,"$1"));return i[z]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(ve,ye),function(t){return(t.textContent||t.innerText||S(t)).indexOf(e)>-1}}),lang:r(function(e){return ce.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ve,ye).toLowerCase(),function(t){var n;do{if(n=R?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===P},focus:function(e){return e===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:s(!1),disabled:s(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return de.test(e.nodeName)},input:function(e){return he.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[n<0?n+t:n]}),even:l(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},x.pseudos.nth=x.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[b]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(b);for(b in{submit:!0,reset:!0})x.pseudos[b]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(b);return c.prototype=x.filters=x.pseudos,x.setFilters=new c,C=t.tokenize=function(e,n){var r,i,o,a,s,l,u,c=U[e+" "];if(c)return n?0:c.slice(0);for(s=e,l=[],u=x.preFilter;s;){r&&!(i=ae.exec(s))||(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),r=!1,(i=se.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(oe," ")}),s=s.slice(r.length));for(a in x.filter)!(i=fe[a].exec(s))||u[a]&&!(i=u[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):U(e,l).slice(0)},A=t.compile=function(e,t){var n,r=[],i=[],o=W[e+" "];if(!o){for(t||(t=C(e)),n=t.length;n--;)o=v(t[n]),o[z]?r.push(o):i.push(o);o=W(e,y(i,r)),o.selector=e}return o},k=t.select=function(e,t,n,r){var i,o,a,s,l,c="function"==typeof e&&e,h=!r&&C(e=c.selector||e);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===t.nodeType&&R&&x.relative[o[1].type]){if(!(t=(x.find.ID(a.matches[0].replace(ve,ye),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=fe.needsContext.test(e)?0:o.length;i--&&(a=o[i],!x.relative[s=a.type]);)if((l=x.find[s])&&(r=l(a.matches[0].replace(ve,ye),me.test(o[0].type)&&u(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&f(o)))return K.apply(n,r),n;break}}return(c||A(e,h))(r,t,!R,n,!t||me.test(e)&&u(t.parentNode)||t),n},w.sortStable=z.split("").sort(V).join("")===z,w.detectDuplicates=!!E,M(),w.sortDetached=i(function(e){return 1&e.compareDocumentPosition(D.createElement("fieldset"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(Q,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);pe.find=me,pe.expr=me.selectors,pe.expr[":"]=pe.expr.pseudos,pe.uniqueSort=pe.unique=me.uniqueSort,pe.text=me.getText,pe.isXMLDoc=me.isXML,pe.contains=me.contains,pe.escapeSelector=me.escape;var ve=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&pe(e).is(n))break;r.push(e)}return r},ye=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},be=pe.expr.match.needsContext,we=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,xe=/^.[^:#\[\.,]*$/;pe.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?pe.find.matchesSelector(r,e)?[r]:[]:pe.find.matches(e,pe.grep(t,function(e){return 1===e.nodeType}))},pe.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(pe(e).filter(function(){for(t=0;t<r;t++)if(pe.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)pe.find(e,i[t],n);return r>1?pe.uniqueSort(n):n},filter:function(e){return this.pushStack(o(this,e||[],!1))},not:function(e){return this.pushStack(o(this,e||[],!0))},is:function(e){return!!o(this,"string"==typeof e&&be.test(e)?pe(e):e||[],!1).length}});var Se,$e=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(pe.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||Se,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:$e.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof pe?t[0]:t,pe.merge(this,pe.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:ne,!0)),we.test(r[1])&&pe.isPlainObject(t))for(r in t)pe.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=ne.getElementById(r[2]),i&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):pe.isFunction(e)?void 0!==n.ready?n.ready(e):e(pe):pe.makeArray(e,this)}).prototype=pe.fn,Se=pe(ne);var Ce=/^(?:parents|prev(?:Until|All))/,Ae={children:!0,contents:!0,next:!0,prev:!0};pe.fn.extend({has:function(e){var t=pe(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(pe.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&pe(e);if(!be.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&pe.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?pe.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?se.call(pe(e),this[0]):se.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(pe.uniqueSort(pe.merge(this.get(),pe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),pe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ve(e,"parentNode")},parentsUntil:function(e,t,n){return ve(e,"parentNode",n)},next:function(e){return a(e,"nextSibling")},prev:function(e){return a(e,"previousSibling")},nextAll:function(e){return ve(e,"nextSibling")},prevAll:function(e){return ve(e,"previousSibling")},nextUntil:function(e,t,n){return ve(e,"nextSibling",n)},prevUntil:function(e,t,n){return ve(e,"previousSibling",n)},siblings:function(e){return ye((e.parentNode||{}).firstChild,e)},children:function(e){return ye(e.firstChild)},contents:function(e){return i(e,"iframe")?e.contentDocument:(i(e,"template")&&(e=e.content||e),pe.merge([],e.childNodes))}},function(e,t){pe.fn[e]=function(n,r){var i=pe.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=pe.filter(r,i)),this.length>1&&(Ae[e]||pe.uniqueSort(i),Ce.test(e)&&i.reverse()),this.pushStack(i)}});var ke=/[^\x20\t\r\n\f]+/g;pe.Callbacks=function(e){e="string"==typeof e?s(e):pe.extend({},e);var t,n,r,i,o=[],a=[],l=-1,u=function(){for(i=i||e.once,r=t=!0;a.length;l=-1)for(n=a.shift();++l<o.length;)!1===o[l].apply(n[0],n[1])&&e.stopOnFalse&&(l=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(l=o.length-1,a.push(n)),function t(n){pe.each(n,function(n,r){pe.isFunction(r)?e.unique&&c.has(r)||o.push(r):r&&r.length&&"string"!==pe.type(r)&&t(r)})}(arguments),n&&!t&&u()),this},remove:function(){return pe.each(arguments,function(e,t){for(var n;(n=pe.inArray(t,o,n))>-1;)o.splice(n,1),n<=l&&l--}),this},has:function(e){return e?pe.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=n||[],n=[e,n.slice?n.slice():n],a.push(n),t||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},pe.extend({Deferred:function(t){var n=[["notify","progress",pe.Callbacks("memory"),pe.Callbacks("memory"),2],["resolve","done",pe.Callbacks("once memory"),pe.Callbacks("once memory"),0,"resolved"],["reject","fail",pe.Callbacks("once memory"),pe.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return pe.Deferred(function(t){pe.each(n,function(n,r){var i=pe.isFunction(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&pe.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){function o(t,n,r,i){return function(){var s=this,c=arguments,f=function(){var e,f;if(!(t<a)){if((e=r.apply(s,c))===n.promise())throw new TypeError("Thenable self-resolution");f=e&&("object"==typeof e||"function"==typeof e)&&e.then,pe.isFunction(f)?i?f.call(e,o(a,n,l,i),o(a,n,u,i)):(a++,f.call(e,o(a,n,l,i),o(a,n,u,i),o(a,n,l,n.notifyWith))):(r!==l&&(s=void 0,c=[e]),(i||n.resolveWith)(s,c))}},h=i?f:function(){try{f()}catch(e){pe.Deferred.exceptionHook&&pe.Deferred.exceptionHook(e,h.stackTrace),t+1>=a&&(r!==u&&(s=void 0,c=[e]),n.rejectWith(s,c))}};t?h():(pe.Deferred.getStackHook&&(h.stackTrace=pe.Deferred.getStackHook()),e.setTimeout(h))}}var a=0;return pe.Deferred(function(e){n[0][3].add(o(0,e,pe.isFunction(i)?i:l,e.notifyWith)),n[1][3].add(o(0,e,pe.isFunction(t)?t:l)),n[2][3].add(o(0,e,pe.isFunction(r)?r:u))}).promise()},promise:function(e){return null!=e?pe.extend(e,i):i}},o={};return pe.each(n,function(e,t){var a=t[2],s=t[5];i[t[1]]=a.add,s&&a.add(function(){r=s},n[3-e][2].disable,n[0][2].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=ie.call(arguments),o=pe.Deferred(),a=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?ie.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(c(e,o.done(a(n)).resolve,o.reject,!t),"pending"===o.state()||pe.isFunction(i[n]&&i[n].then)))return o.then();for(;n--;)c(i[n],a(n),o.reject);return o.promise()}});var _e=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;pe.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&_e.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},pe.readyException=function(t){e.setTimeout(function(){throw t})};var Te=pe.Deferred();pe.fn.ready=function(e){return Te.then(e).catch(function(e){pe.readyException(e)}),this},pe.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--pe.readyWait:pe.isReady)||(pe.isReady=!0,!0!==e&&--pe.readyWait>0||Te.resolveWith(ne,[pe]))}}),pe.ready.then=Te.then,"complete"===ne.readyState||"loading"!==ne.readyState&&!ne.documentElement.doScroll?e.setTimeout(pe.ready):(ne.addEventListener("DOMContentLoaded",f),e.addEventListener("load",f));var Ee=function(e,t,n,r,i,o,a){var s=0,l=e.length,u=null==n;if("object"===pe.type(n)){i=!0;for(s in n)Ee(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,pe.isFunction(r)||(a=!0),u&&(a?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(pe(e),n)})),t))for(;s<l;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:u?t.call(e):l?t(e[0],n):o},Me=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};h.uid=1,h.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Me(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[pe.camelCase(t)]=n;else for(r in t)i[pe.camelCase(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][pe.camelCase(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){Array.isArray(t)?t=t.map(pe.camelCase):(t=pe.camelCase(t),t=t in r?[t]:t.match(ke)||[]),n=t.length;for(;n--;)delete r[t[n]]}(void 0===t||pe.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!pe.isEmptyObject(t)}};var De=new h,Pe=new h,Re=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Oe=/[A-Z]/g;pe.extend({hasData:function(e){return Pe.hasData(e)||De.hasData(e)},data:function(e,t,n){return Pe.access(e,t,n)},removeData:function(e,t){Pe.remove(e,t)},_data:function(e,t,n){return De.access(e,t,n)},_removeData:function(e,t){De.remove(e,t)}}),pe.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=Pe.get(o),1===o.nodeType&&!De.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=pe.camelCase(r.slice(5)),p(o,r,i[r])));De.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){Pe.set(this,e)}):Ee(this,function(t){var n;if(o&&void 0===t){if(void 0!==(n=Pe.get(o,e)))return n;if(void 0!==(n=p(o,e)))return n}else this.each(function(){Pe.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Pe.remove(this,e)})}}),pe.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=De.get(e,t),n&&(!r||Array.isArray(n)?r=De.access(e,t,pe.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=pe.queue(e,t),r=n.length,i=n.shift(),o=pe._queueHooks(e,t),a=function(){pe.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),
!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return De.get(e,n)||De.access(e,n,{empty:pe.Callbacks("once memory").add(function(){De.remove(e,[t+"queue",n])})})}}),pe.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?pe.queue(this[0],e):void 0===t?this:this.each(function(){var n=pe.queue(this,e,t);pe._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&pe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){pe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=pe.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=De.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var Ne=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Le=new RegExp("^(?:([+-])=|)("+Ne+")([a-z%]*)$","i"),Ie=["Top","Right","Bottom","Left"],ze=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&pe.contains(e.ownerDocument,e)&&"none"===pe.css(e,"display")},Be=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i},Fe={};pe.fn.extend({show:function(){return v(this,!0)},hide:function(){return v(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ze(this)?pe(this).show():pe(this).hide()})}});var je=/^(?:checkbox|radio)$/i,He=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ue=/^$|\/(?:java|ecma)script/i,We={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};We.optgroup=We.option,We.tbody=We.tfoot=We.colgroup=We.caption=We.thead,We.th=We.td;var Ve=/<|&#?\w+;/;!function(){var e=ne.createDocumentFragment(),t=e.appendChild(ne.createElement("div")),n=ne.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),de.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",de.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var qe=ne.documentElement,Ye=/^key/,Ge=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Xe=/^([^.]*)(?:\.(.+)|)/;pe.event={global:{},add:function(e,t,n,r,i){var o,a,s,l,u,c,f,h,d,p,g,m=De.get(e);if(m)for(n.handler&&(o=n,n=o.handler,i=o.selector),i&&pe.find.matchesSelector(qe,i),n.guid||(n.guid=pe.guid++),(l=m.events)||(l=m.events={}),(a=m.handle)||(a=m.handle=function(t){return void 0!==pe&&pe.event.triggered!==t.type?pe.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(ke)||[""],u=t.length;u--;)s=Xe.exec(t[u])||[],d=g=s[1],p=(s[2]||"").split(".").sort(),d&&(f=pe.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=pe.event.special[d]||{},c=pe.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&pe.expr.match.needsContext.test(i),namespace:p.join(".")},o),(h=l[d])||(h=l[d]=[],h.delegateCount=0,f.setup&&!1!==f.setup.call(e,r,p,a)||e.addEventListener&&e.addEventListener(d,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,c):h.push(c),pe.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,a,s,l,u,c,f,h,d,p,g,m=De.hasData(e)&&De.get(e);if(m&&(l=m.events)){for(t=(t||"").match(ke)||[""],u=t.length;u--;)if(s=Xe.exec(t[u])||[],d=g=s[1],p=(s[2]||"").split(".").sort(),d){for(f=pe.event.special[d]||{},d=(r?f.delegateType:f.bindType)||d,h=l[d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)c=h[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(h.splice(o,1),c.selector&&h.delegateCount--,f.remove&&f.remove.call(e,c));a&&!h.length&&(f.teardown&&!1!==f.teardown.call(e,p,m.handle)||pe.removeEvent(e,d,m.handle),delete l[d])}else for(d in l)pe.event.remove(e,d+t[u],n,r,!0);pe.isEmptyObject(l)&&De.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=pe.event.fix(e),l=new Array(arguments.length),u=(De.get(this,"events")||{})[s.type]||[],c=pe.event.special[s.type]||{};for(l[0]=s,t=1;t<arguments.length;t++)l[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(a=pe.event.handlers.call(this,s,u),t=0;(i=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(r=((pe.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,l))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,o,a,s=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(o=[],a={},n=0;n<l;n++)r=t[n],i=r.selector+" ",void 0===a[i]&&(a[i]=r.needsContext?pe(i,this).index(u)>-1:pe.find(i,this,null,[u]).length),a[i]&&o.push(r);o.length&&s.push({elem:u,handlers:o})}return u=this,l<t.length&&s.push({elem:u,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(pe.Event.prototype,e,{enumerable:!0,configurable:!0,get:pe.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[pe.expando]?e:new pe.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==$()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===$()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&i(this,"input"))return this.click(),!1},_default:function(e){return i(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},pe.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},pe.Event=function(e,t){if(!(this instanceof pe.Event))return new pe.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?x:S,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&pe.extend(this,t),this.timeStamp=e&&e.timeStamp||pe.now(),this[pe.expando]=!0},pe.Event.prototype={constructor:pe.Event,isDefaultPrevented:S,isPropagationStopped:S,isImmediatePropagationStopped:S,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=x,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=x,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=x,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},pe.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Ye.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ge.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},pe.event.addProp),pe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){pe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||pe.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),pe.fn.extend({on:function(e,t,n,r){return C(this,e,t,n,r)},one:function(e,t,n,r){return C(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,pe(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=S),this.each(function(){pe.event.remove(this,e,n,t)})}});var Ke=/<script|<style|<link/i,Ze=/checked\s*(?:[^=]|=\s*.checked.)/i,Je=/^true\/(.*)/,Qe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;pe.extend({htmlPrefilter:function(e){return e.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),l=pe.contains(e.ownerDocument,e);if(!(de.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||pe.isXMLDoc(e)))for(a=y(s),o=y(e),r=0,i=o.length;r<i;r++)E(o[r],a[r]);if(t)if(n)for(o=o||y(e),a=a||y(s),r=0,i=o.length;r<i;r++)T(o[r],a[r]);else T(e,s);return a=y(s,"script"),a.length>0&&b(a,!l&&y(e,"script")),s},cleanData:function(e){for(var t,n,r,i=pe.event.special,o=0;void 0!==(n=e[o]);o++)if(Me(n)){if(t=n[De.expando]){if(t.events)for(r in t.events)i[r]?pe.event.remove(n,r):pe.removeEvent(n,r,t.handle);n[De.expando]=void 0}n[Pe.expando]&&(n[Pe.expando]=void 0)}}}),pe.fn.extend({detach:function(e){return D(this,e,!0)},remove:function(e){return D(this,e)},text:function(e){return Ee(this,function(e){return void 0===e?pe.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return M(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){A(this,e).appendChild(e)}})},prepend:function(){return M(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=A(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return M(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return M(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(pe.cleanData(y(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return pe.clone(this,e,t)})},html:function(e){return Ee(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ke.test(e)&&!We[(He.exec(e)||["",""])[1].toLowerCase()]){e=pe.htmlPrefilter(e);try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(pe.cleanData(y(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return M(this,arguments,function(t){var n=this.parentNode;pe.inArray(this,e)<0&&(pe.cleanData(y(this)),n&&n.replaceChild(t,this))},e)}}),pe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){pe.fn[e]=function(e){for(var n,r=[],i=pe(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),pe(i[a])[t](n),ae.apply(r,n.get());return this.pushStack(r)}});var et=/^margin/,tt=new RegExp("^("+Ne+")(?!px)[a-z%]+$","i"),nt=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)};!function(){function t(){if(s){s.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",qe.appendChild(a);var t=e.getComputedStyle(s);n="1%"!==t.top,o="2px"===t.marginLeft,r="4px"===t.width,s.style.marginRight="50%",i="4px"===t.marginRight,qe.removeChild(a),s=null}}var n,r,i,o,a=ne.createElement("div"),s=ne.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",de.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),pe.extend(de,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return t(),r},pixelMarginRight:function(){return t(),i},reliableMarginLeft:function(){return t(),o}}))}();var rt=/^(none|table(?!-c[ea]).+)/,it=/^--/,ot={position:"absolute",visibility:"hidden",display:"block"},at={letterSpacing:"0",fontWeight:"400"},st=["Webkit","Moz","ms"],lt=ne.createElement("div").style;pe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=P(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=pe.camelCase(t),l=it.test(t),u=e.style;if(l||(t=N(s)),a=pe.cssHooks[t]||pe.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t];o=typeof n,"string"===o&&(i=Le.exec(n))&&i[1]&&(n=g(e,t,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(pe.cssNumber[s]?"":"px")),de.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(l?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,r){var i,o,a,s=pe.camelCase(t);return it.test(t)||(t=N(s)),a=pe.cssHooks[t]||pe.cssHooks[s],a&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=P(e,t,r)),"normal"===i&&t in at&&(i=at[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),pe.each(["height","width"],function(e,t){pe.cssHooks[t]={get:function(e,n,r){if(n)return!rt.test(pe.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?z(e,t,r):Be(e,ot,function(){return z(e,t,r)})},set:function(e,n,r){var i,o=r&&nt(e),a=r&&I(e,t,r,"border-box"===pe.css(e,"boxSizing",!1,o),o);return a&&(i=Le.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=pe.css(e,t)),L(e,n,a)}}}),pe.cssHooks.marginLeft=R(de.reliableMarginLeft,function(e,t){if(t)return(parseFloat(P(e,"marginLeft"))||e.getBoundingClientRect().left-Be(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),pe.each({margin:"",padding:"",border:"Width"},function(e,t){pe.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+Ie[r]+t]=o[r]||o[r-2]||o[0];return i}},et.test(e)||(pe.cssHooks[e+t].set=L)}),pe.fn.extend({css:function(e,t){return Ee(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=nt(e),i=t.length;a<i;a++)o[t[a]]=pe.css(e,t[a],!1,r);return o}return void 0!==n?pe.style(e,t,n):pe.css(e,t)},e,t,arguments.length>1)}}),pe.Tween=B,B.prototype={constructor:B,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||pe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(pe.cssNumber[n]?"":"px")},cur:function(){var e=B.propHooks[this.prop];return e&&e.get?e.get(this):B.propHooks._default.get(this)},run:function(e){var t,n=B.propHooks[this.prop];return this.options.duration?this.pos=t=pe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):B.propHooks._default.set(this),this}},B.prototype.init.prototype=B.prototype,B.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=pe.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){pe.fx.step[e.prop]?pe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[pe.cssProps[e.prop]]&&!pe.cssHooks[e.prop]?e.elem[e.prop]=e.now:pe.style(e.elem,e.prop,e.now+e.unit)}}},B.propHooks.scrollTop=B.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},pe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},pe.fx=B.prototype.init,pe.fx.step={};var ut,ct,ft=/^(?:toggle|show|hide)$/,ht=/queueHooks$/;pe.Animation=pe.extend(q,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return g(n.elem,e,Le.exec(t),n),n}]},tweener:function(e,t){pe.isFunction(e)?(t=e,e=["*"]):e=e.match(ke);for(var n,r=0,i=e.length;r<i;r++)n=e[r],q.tweeners[n]=q.tweeners[n]||[],q.tweeners[n].unshift(t)},prefilters:[W],prefilter:function(e,t){t?q.prefilters.unshift(e):q.prefilters.push(e)}}),pe.speed=function(e,t,n){var r=e&&"object"==typeof e?pe.extend({},e):{complete:n||!n&&t||pe.isFunction(e)&&e,duration:e,easing:n&&t||t&&!pe.isFunction(t)&&t};return pe.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in pe.fx.speeds?r.duration=pe.fx.speeds[r.duration]:r.duration=pe.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){pe.isFunction(r.old)&&r.old.call(this),r.queue&&pe.dequeue(this,r.queue)},r},pe.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ze).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=pe.isEmptyObject(e),o=pe.speed(t,n,r),a=function(){var t=q(this,pe.extend({},e),o);(i||De.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=pe.timers,a=De.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&ht.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||pe.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=De.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=pe.timers,a=r?r.length:0;for(n.finish=!0,pe.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),pe.each(["toggle","show","hide"],function(e,t){var n=pe.fn[t];pe.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(H(t,!0),e,r,i)}}),pe.each({slideDown:H("show"),slideUp:H("hide"),slideToggle:H("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){pe.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),pe.timers=[],pe.fx.tick=function(){var e,t=0,n=pe.timers;for(ut=pe.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||pe.fx.stop(),ut=void 0},pe.fx.timer=function(e){pe.timers.push(e),pe.fx.start()},pe.fx.interval=13,pe.fx.start=function(){ct||(ct=!0,F())},pe.fx.stop=function(){ct=null},pe.fx.speeds={slow:600,fast:200,_default:400},pe.fn.delay=function(t,n){return t=pe.fx?pe.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=ne.createElement("input"),t=ne.createElement("select"),n=t.appendChild(ne.createElement("option"));e.type="checkbox",de.checkOn=""!==e.value,de.optSelected=n.selected,e=ne.createElement("input"),e.value="t",e.type="radio",de.radioValue="t"===e.value}();var dt,pt=pe.expr.attrHandle;pe.fn.extend({attr:function(e,t){return Ee(this,pe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){pe.removeAttr(this,e)})}}),pe.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?pe.prop(e,t,n):(1===o&&pe.isXMLDoc(e)||(i=pe.attrHooks[t.toLowerCase()]||(pe.expr.match.bool.test(t)?dt:void 0)),void 0!==n?null===n?void pe.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=pe.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!de.radioValue&&"radio"===t&&i(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(ke);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),dt={set:function(e,t,n){return!1===t?pe.removeAttr(e,n):e.setAttribute(n,n),n}},pe.each(pe.expr.match.bool.source.match(/\w+/g),function(e,t){var n=pt[t]||pe.find.attr;pt[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=pt[a],pt[a]=i,i=null!=n(e,t,r)?a:null,pt[a]=o),i}});var gt=/^(?:input|select|textarea|button)$/i,mt=/^(?:a|area)$/i;pe.fn.extend({prop:function(e,t){return Ee(this,pe.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[pe.propFix[e]||e]})}}),pe.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&pe.isXMLDoc(e)||(t=pe.propFix[t]||t,i=pe.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=pe.find.attr(e,"tabindex");return t?parseInt(t,10):gt.test(e.nodeName)||mt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),de.optSelected||(pe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),pe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){pe.propFix[this.toLowerCase()]=this}),pe.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,l=0;if(pe.isFunction(e))return this.each(function(t){pe(this).addClass(e.call(this,t,G(this)))});if("string"==typeof e&&e)for(t=e.match(ke)||[];n=this[l++];)if(i=G(n),r=1===n.nodeType&&" "+Y(i)+" "){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");s=Y(r),i!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,l=0;if(pe.isFunction(e))return this.each(function(t){pe(this).removeClass(e.call(this,t,G(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(ke)||[];n=this[l++];)if(i=G(n),r=1===n.nodeType&&" "+Y(i)+" "){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");s=Y(r),i!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):pe.isFunction(e)?this.each(function(n){pe(this).toggleClass(e.call(this,n,G(this),t),t)}):this.each(function(){var t,r,i,o;if("string"===n)for(r=0,i=pe(this),o=e.match(ke)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||(t=G(this),t&&De.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":De.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+Y(G(n))+" ").indexOf(t)>-1)return!0;return!1}});pe.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=pe.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,pe(this).val()):e,null==i?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=pe.map(i,function(e){return null==e?"":e+""})),(t=pe.valHooks[this.type]||pe.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return(t=pe.valHooks[i.type]||pe.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(/\r/g,""):null==n?"":n)}}}),pe.extend({valHooks:{option:{get:function(e){var t=pe.find.attr(e,"value");return null!=t?t:Y(pe.text(e))}},select:{get:function(e){var t,n,r,o=e.options,a=e.selectedIndex,s="select-one"===e.type,l=s?null:[],u=s?a+1:o.length;for(r=a<0?u:s?a:0;r<u;r++)if(n=o[r],(n.selected||r===a)&&!n.disabled&&(!n.parentNode.disabled||!i(n.parentNode,"optgroup"))){if(t=pe(n).val(),s)return t;l.push(t)}return l},set:function(e,t){for(var n,r,i=e.options,o=pe.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=pe.inArray(pe.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),pe.each(["radio","checkbox"],function(){pe.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=pe.inArray(pe(e).val(),t)>-1}},de.checkOn||(pe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var vt=/^(?:focusinfocus|focusoutblur)$/;pe.extend(pe.event,{trigger:function(t,n,r,i){var o,a,s,l,u,c,f,h=[r||ne],d=ce.call(t,"type")?t.type:t,p=ce.call(t,"namespace")?t.namespace.split("."):[];if(a=s=r=r||ne,3!==r.nodeType&&8!==r.nodeType&&!vt.test(d+pe.event.triggered)&&(d.indexOf(".")>-1&&(p=d.split("."),d=p.shift(),p.sort()),u=d.indexOf(":")<0&&"on"+d,t=t[pe.expando]?t:new pe.Event(d,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:pe.makeArray(n,[t]),f=pe.event.special[d]||{},i||!f.trigger||!1!==f.trigger.apply(r,n))){if(!i&&!f.noBubble&&!pe.isWindow(r)){for(l=f.delegateType||d,vt.test(l+d)||(a=a.parentNode);a;a=a.parentNode)h.push(a),s=a;s===(r.ownerDocument||ne)&&h.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=h[o++])&&!t.isPropagationStopped();)t.type=o>1?l:f.bindType||d,c=(De.get(a,"events")||{})[t.type]&&De.get(a,"handle"),c&&c.apply(a,n),(c=u&&a[u])&&c.apply&&Me(a)&&(t.result=c.apply(a,n),!1===t.result&&t.preventDefault());return t.type=d,i||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(h.pop(),n)||!Me(r)||u&&pe.isFunction(r[d])&&!pe.isWindow(r)&&(s=r[u],s&&(r[u]=null),pe.event.triggered=d,r[d](),pe.event.triggered=void 0,s&&(r[u]=s)),t.result}},simulate:function(e,t,n){var r=pe.extend(new pe.Event,n,{type:e,isSimulated:!0});pe.event.trigger(r,null,t)}}),pe.fn.extend({trigger:function(e,t){return this.each(function(){pe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return pe.event.trigger(e,t,n,!0)}}),pe.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){pe.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),pe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),de.focusin="onfocusin"in e,de.focusin||pe.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){pe.event.simulate(t,e.target,pe.event.fix(e))};pe.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=De.access(r,t);i||r.addEventListener(e,n,!0),De.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=De.access(r,t)-1;i?De.access(r,t,i):(r.removeEventListener(e,n,!0),De.remove(r,t))}}});var yt=e.location,bt=pe.now(),wt=/\?/;pe.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||pe.error("Invalid XML: "+t),n};var xt=/\[\]$/,St=/^(?:submit|button|image|reset|file)$/i,$t=/^(?:input|select|textarea|keygen)/i;pe.param=function(e,t){var n,r=[],i=function(e,t){var n=pe.isFunction(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!pe.isPlainObject(e))pe.each(e,function(){i(this.name,this.value)});else for(n in e)X(n,e[n],t,i);return r.join("&")},pe.fn.extend({serialize:function(){return pe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=pe.prop(this,"elements");return e?pe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!pe(this).is(":disabled")&&$t.test(this.nodeName)&&!St.test(e)&&(this.checked||!je.test(e))}).map(function(e,t){var n=pe(this).val();return null==n?null:Array.isArray(n)?pe.map(n,function(e){return{name:t.name,value:e.replace(/\r?\n/g,"\r\n")}}):{name:t.name,value:n.replace(/\r?\n/g,"\r\n")}}).get()}});var Ct=/^(.*?):[ \t]*([^\r\n]*)$/gm,At=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,kt=/^(?:GET|HEAD)$/,_t={},Tt={},Et="*/".concat("*"),Mt=ne.createElement("a");Mt.href=yt.href,pe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yt.href,type:"GET",isLocal:At.test(yt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Et,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":pe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?J(J(e,pe.ajaxSettings),t):J(pe.ajaxSettings,e)},ajaxPrefilter:K(_t),ajaxTransport:K(Tt),ajax:function(t,n){function r(t,n,r,s){var u,h,d,w,x,S=n;c||(c=!0,l&&e.clearTimeout(l),i=void 0,a=s||"",$.readyState=t>0?4:0,u=t>=200&&t<300||304===t,r&&(w=Q(p,$,r)),w=ee(p,w,$,u),u?(p.ifModified&&(x=$.getResponseHeader("Last-Modified"),x&&(pe.lastModified[o]=x),(x=$.getResponseHeader("etag"))&&(pe.etag[o]=x)),204===t||"HEAD"===p.type?S="nocontent":304===t?S="notmodified":(S=w.state,h=w.data,d=w.error,u=!d)):(d=S,!t&&S||(S="error",t<0&&(t=0))),$.status=t,$.statusText=(n||S)+"",u?v.resolveWith(g,[h,S,$]):v.rejectWith(g,[$,S,d]),$.statusCode(b),b=void 0,f&&m.trigger(u?"ajaxSuccess":"ajaxError",[$,p,u?h:d]),y.fireWith(g,[$,S]),f&&(m.trigger("ajaxComplete",[$,p]),--pe.active||pe.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,a,s,l,u,c,f,h,d,p=pe.ajaxSetup({},n),g=p.context||p,m=p.context&&(g.nodeType||g.jquery)?pe(g):pe.event,v=pe.Deferred(),y=pe.Callbacks("once memory"),b=p.statusCode||{},w={},x={},S="canceled",$={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=Ct.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){return null==c&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==c&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)$.always(e[$.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||S;return i&&i.abort(t),r(0,t),this}};if(v.promise($),p.url=((t||p.url||yt.href)+"").replace(/^\/\//,yt.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(ke)||[""],null==p.crossDomain){u=ne.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=Mt.protocol+"//"+Mt.host!=u.protocol+"//"+u.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=pe.param(p.data,p.traditional)),Z(_t,p,n,$),c)return $;f=pe.event&&p.global,f&&0==pe.active++&&pe.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!kt.test(p.type),o=p.url.replace(/#.*$/,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(/%20/g,"+")):(d=p.url.slice(o.length),p.data&&(o+=(wt.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(o=o.replace(/([?&])_=[^&]*/,"$1"),d=(wt.test(o)?"&":"?")+"_="+bt+++d),p.url=o+d),p.ifModified&&(pe.lastModified[o]&&$.setRequestHeader("If-Modified-Since",pe.lastModified[o]),pe.etag[o]&&$.setRequestHeader("If-None-Match",pe.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&$.setRequestHeader("Content-Type",p.contentType),
$.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Et+"; q=0.01":""):p.accepts["*"]);for(h in p.headers)$.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(!1===p.beforeSend.call(g,$,p)||c))return $.abort();if(S="abort",y.add(p.complete),$.done(p.success),$.fail(p.error),i=Z(Tt,p,n,$)){if($.readyState=1,f&&m.trigger("ajaxSend",[$,p]),c)return $;p.async&&p.timeout>0&&(l=e.setTimeout(function(){$.abort("timeout")},p.timeout));try{c=!1,i.send(w,r)}catch(e){if(c)throw e;r(-1,e)}}else r(-1,"No Transport");return $},getJSON:function(e,t,n){return pe.get(e,t,n,"json")},getScript:function(e,t){return pe.get(e,void 0,t,"script")}}),pe.each(["get","post"],function(e,t){pe[t]=function(e,n,r,i){return pe.isFunction(n)&&(i=i||r,r=n,n=void 0),pe.ajax(pe.extend({url:e,type:t,dataType:i,data:n,success:r},pe.isPlainObject(e)&&e))}}),pe._evalUrl=function(e){return pe.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},pe.fn.extend({wrapAll:function(e){var t;return this[0]&&(pe.isFunction(e)&&(e=e.call(this[0])),t=pe(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return pe.isFunction(e)?this.each(function(t){pe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=pe(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=pe.isFunction(e);return this.each(function(n){pe(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){pe(this).replaceWith(this.childNodes)}),this}}),pe.expr.pseudos.hidden=function(e){return!pe.expr.pseudos.visible(e)},pe.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},pe.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Dt={0:200,1223:204},Pt=pe.ajaxSettings.xhr();de.cors=!!Pt&&"withCredentials"in Pt,de.ajax=Pt=!!Pt,pe.ajaxTransport(function(t){var n,r;if(de.cors||Pt&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)s.setRequestHeader(a,i[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Dt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),pe.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),pe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return pe.globalEval(e),e}}}),pe.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),pe.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=pe("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),ne.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Rt=[],Ot=/(=)\?(?=&|$)|\?\?/;pe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Rt.pop()||pe.expando+"_"+bt++;return this[e]=!0,e}}),pe.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(Ot.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ot.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=pe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ot,"$1"+i):!1!==t.jsonp&&(t.url+=(wt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||pe.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?pe(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Rt.push(i)),a&&pe.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),de.createHTMLDocument=function(){var e=ne.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),pe.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var r,i,o;return t||(de.createHTMLDocument?(t=ne.implementation.createHTMLDocument(""),r=t.createElement("base"),r.href=ne.location.href,t.head.appendChild(r)):t=ne),i=we.exec(e),o=!n&&[],i?[t.createElement(i[1])]:(i=w([e],t,o),o&&o.length&&pe(o).remove(),pe.merge([],i.childNodes))},pe.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=Y(e.slice(s)),e=e.slice(0,s)),pe.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&pe.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?pe("<div>").append(pe.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},pe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){pe.fn[t]=function(e){return this.on(t,e)}}),pe.expr.pseudos.animated=function(e){return pe.grep(pe.timers,function(t){return e===t.elem}).length},pe.offset={setOffset:function(e,t,n){var r,i,o,a,s,l,u,c=pe.css(e,"position"),f=pe(e),h={};"static"===c&&(e.style.position="relative"),s=f.offset(),o=pe.css(e,"top"),l=pe.css(e,"left"),u=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1,u?(r=f.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(l)||0),pe.isFunction(t)&&(t=t.call(e,n,pe.extend({},s))),null!=t.top&&(h.top=t.top-s.top+a),null!=t.left&&(h.left=t.left-s.left+i),"using"in t?t.using.call(e,h):f.css(h)}},pe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){pe.offset.setOffset(this,e,t)});var t,n,r,i,o=this[0];if(o)return o.getClientRects().length?(r=o.getBoundingClientRect(),t=o.ownerDocument,n=t.documentElement,i=t.defaultView,{top:r.top+i.pageYOffset-n.clientTop,left:r.left+i.pageXOffset-n.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===pe.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),i(e[0],"html")||(r=e.offset()),r={top:r.top+pe.css(e[0],"borderTopWidth",!0),left:r.left+pe.css(e[0],"borderLeftWidth",!0)}),{top:t.top-r.top-pe.css(n,"marginTop",!0),left:t.left-r.left-pe.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===pe.css(e,"position");)e=e.offsetParent;return e||qe})}}),pe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;pe.fn[e]=function(r){return Ee(this,function(e,r,i){var o;if(pe.isWindow(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i},e,r,arguments.length)}}),pe.each(["top","left"],function(e,t){pe.cssHooks[t]=R(de.pixelPosition,function(e,n){if(n)return n=P(e,t),tt.test(n)?pe(e).position()[t]+"px":n})}),pe.each({Height:"height",Width:"width"},function(e,t){pe.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){pe.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return Ee(this,function(t,n,i){var o;return pe.isWindow(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?pe.css(t,n,s):pe.style(t,n,i,s)},t,a?i:void 0,a)}})}),pe.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),pe.holdReady=function(e){e?pe.readyWait++:pe.ready(!0)},pe.isArray=Array.isArray,pe.parseJSON=JSON.parse,pe.nodeName=i,"function"==typeof define&&define.amd&&define("jquery",[],function(){return pe});var Nt=e.jQuery,Lt=e.$;return pe.noConflict=function(t){return e.$===pe&&(e.$=Lt),t&&e.jQuery===pe&&(e.jQuery=Nt),pe},t||(e.jQuery=e.$=pe),pe}),function(e,t,n){"use strict";!function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n||e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(r,i,o){var a=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(o,"__esModule",{value:!0});var s,l,u,c,f=r("./modules/handle-dom"),h=r("./modules/utils"),d=r("./modules/handle-swal-dom"),p=r("./modules/handle-click"),g=r("./modules/handle-key"),m=a(g),v=r("./modules/default-params"),y=a(v),b=r("./modules/set-params"),w=a(b);o.default=u=c=function(){function r(e){var t=i;return t[e]===n?y.default[e]:t[e]}var i=arguments[0];if(f.addClass(t.body,"stop-scrolling"),d.resetInput(),i===n)return h.logStr("SweetAlert expects at least 1 attribute!"),!1;var o=h.extend({},y.default);switch(typeof i){case"string":o.title=i,o.text=arguments[1]||"",o.type=arguments[2]||"";break;case"object":if(i.title===n)return h.logStr('Missing "title" argument!'),!1;o.title=i.title;for(var a in y.default)o[a]=r(a);o.confirmButtonText=o.showCancelButton?"Confirm":y.default.confirmButtonText,o.confirmButtonText=r("confirmButtonText"),o.doneFunction=arguments[1]||null;break;default:return h.logStr('Unexpected type of argument! Expected "string" or "object", got '+typeof i),!1}w.default(o),d.fixVerticalPosition(),d.openModal(arguments[1]);for(var u=d.getModal(),g=u.querySelectorAll("button"),v=["onclick","onmouseover","onmouseout","onmousedown","onmouseup","onfocus"],b=function(e){return p.handleButton(e,o,u)},x=0;x<g.length;x++)for(var S=0;S<v.length;S++){var $=v[S];g[x][$]=b}d.getOverlay().onclick=b,s=e.onkeydown;var C=function(e){return m.default(e,o,u)};e.onkeydown=C,e.onfocus=function(){setTimeout(function(){l!==n&&(l.focus(),l=n)},0)},c.enableButtons()},u.setDefaults=c.setDefaults=function(e){if(!e)throw new Error("userParams is required");if("object"!=typeof e)throw new Error("userParams has to be a object");h.extend(y.default,e)},u.close=c.close=function(){var r=d.getModal();f.fadeOut(d.getOverlay(),5),f.fadeOut(r,5),f.removeClass(r,"showSweetAlert"),f.addClass(r,"hideSweetAlert"),f.removeClass(r,"visible");var i=r.querySelector(".sa-icon.sa-success");f.removeClass(i,"animate"),f.removeClass(i.querySelector(".sa-tip"),"animateSuccessTip"),f.removeClass(i.querySelector(".sa-long"),"animateSuccessLong");var o=r.querySelector(".sa-icon.sa-error");f.removeClass(o,"animateErrorIcon"),f.removeClass(o.querySelector(".sa-x-mark"),"animateXMark");var a=r.querySelector(".sa-icon.sa-warning");return f.removeClass(a,"pulseWarning"),f.removeClass(a.querySelector(".sa-body"),"pulseWarningIns"),f.removeClass(a.querySelector(".sa-dot"),"pulseWarningIns"),setTimeout(function(){var e=r.getAttribute("data-custom-class");f.removeClass(r,e)},300),f.removeClass(t.body,"stop-scrolling"),e.onkeydown=s,e.previousActiveElement&&e.previousActiveElement.focus(),l=n,clearTimeout(r.timeout),!0},u.showInputError=c.showInputError=function(e){var t=d.getModal(),n=t.querySelector(".sa-input-error");f.addClass(n,"show");var r=t.querySelector(".sa-error-container");f.addClass(r,"show"),r.querySelector("p").innerHTML=e,setTimeout(function(){u.enableButtons()},1),t.querySelector("input").focus()},u.resetInputError=c.resetInputError=function(e){if(e&&13===e.keyCode)return!1;var t=d.getModal(),n=t.querySelector(".sa-input-error");f.removeClass(n,"show");var r=t.querySelector(".sa-error-container");f.removeClass(r,"show")},u.disableButtons=c.disableButtons=function(){var e=d.getModal(),t=e.querySelector("button.confirm"),n=e.querySelector("button.cancel");t.disabled=!0,n.disabled=!0},u.enableButtons=c.enableButtons=function(){var e=d.getModal(),t=e.querySelector("button.confirm"),n=e.querySelector("button.cancel");t.disabled=!1,n.disabled=!1},void 0!==e?e.sweetAlert=e.swal=u:h.logStr("SweetAlert is a frontend module!"),i.exports=o.default},{"./modules/default-params":2,"./modules/handle-click":3,"./modules/handle-dom":4,"./modules/handle-key":5,"./modules/handle-swal-dom":6,"./modules/set-params":8,"./modules/utils":9}],2:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r={title:"",text:"",type:null,allowOutsideClick:!1,showConfirmButton:!0,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonColor:"#8CD4F5",cancelButtonText:"Cancel",imageUrl:null,imageSize:null,timer:null,customClass:"",html:!1,animation:!0,allowEscapeKey:!0,inputType:"text",inputPlaceholder:"",inputValue:"",showLoaderOnConfirm:!1};n.default=r,t.exports=n.default},{}],3:[function(t,n,r){Object.defineProperty(r,"__esModule",{value:!0});var i=t("./utils"),o=(t("./handle-swal-dom"),t("./handle-dom")),a=function(t,n,r){function a(e){p&&n.confirmButtonColor&&(d.style.backgroundColor=e)}var u,c,f,h=t||e.event,d=h.target||h.srcElement,p=-1!==d.className.indexOf("confirm"),g=-1!==d.className.indexOf("sweet-overlay"),m=o.hasClass(r,"visible"),v=n.doneFunction&&"true"===r.getAttribute("data-has-done-function");switch(p&&n.confirmButtonColor&&(u=n.confirmButtonColor,c=i.colorLuminance(u,-.04),f=i.colorLuminance(u,-.14)),h.type){case"mouseover":a(c);break;case"mouseout":a(u);break;case"mousedown":a(f);break;case"mouseup":a(c);break;case"focus":var y=r.querySelector("button.confirm"),b=r.querySelector("button.cancel");p?b.style.boxShadow="none":y.style.boxShadow="none";break;case"click":var w=r===d,x=o.isDescendant(r,d);if(!w&&!x&&m&&!n.allowOutsideClick)break;p&&v&&m?s(r,n):v&&m||g?l(r,n):o.isDescendant(r,d)&&"BUTTON"===d.tagName&&sweetAlert.close()}},s=function(e,t){var n=!0;o.hasClass(e,"show-input")&&((n=e.querySelector("input").value)||(n="")),t.doneFunction(n),t.closeOnConfirm&&sweetAlert.close(),t.showLoaderOnConfirm&&sweetAlert.disableButtons()},l=function(e,t){var n=String(t.doneFunction).replace(/\s/g,"");"function("===n.substring(0,9)&&")"!==n.substring(9,10)&&t.doneFunction(!1),t.closeOnCancel&&sweetAlert.close()};r.default={handleButton:a,handleConfirm:s,handleCancel:l},n.exports=r.default},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],4:[function(n,r,i){Object.defineProperty(i,"__esModule",{value:!0});var o=function(e,t){return new RegExp(" "+t+" ").test(" "+e.className+" ")},a=function(e,t){o(e,t)||(e.className+=" "+t)},s=function(e,t){var n=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(o(e,t)){for(;n.indexOf(" "+t+" ")>=0;)n=n.replace(" "+t+" "," ");e.className=n.replace(/^\s+|\s+$/g,"")}},l=function(e){var n=t.createElement("div");return n.appendChild(t.createTextNode(e)),n.innerHTML},u=function(e){e.style.opacity="",e.style.display="block"},c=function(e){if(e&&!e.length)return u(e);for(var t=0;t<e.length;++t)u(e[t])},f=function(e){e.style.opacity="",e.style.display="none"},h=function(e){if(e&&!e.length)return f(e);for(var t=0;t<e.length;++t)f(e[t])},d=function(e,t){for(var n=t.parentNode;null!==n;){if(n===e)return!0;n=n.parentNode}return!1},p=function(e){e.style.left="-9999px",e.style.display="block";var t,n=e.clientHeight;return t="undefined"!=typeof getComputedStyle?parseInt(getComputedStyle(e).getPropertyValue("padding-top"),10):parseInt(e.currentStyle.padding),e.style.left="",e.style.display="none","-"+parseInt((n+t)/2)+"px"},g=function(e,t){if(+e.style.opacity<1){t=t||16,e.style.opacity=0,e.style.display="block";var n=+new Date,r=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){e.style.opacity=+e.style.opacity+(new Date-n)/100,n=+new Date,+e.style.opacity<1&&setTimeout(r,t)});r()}e.style.display="block"},m=function(e,t){t=t||16,e.style.opacity=1;var n=+new Date,r=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){e.style.opacity=+e.style.opacity-(new Date-n)/100,n=+new Date,+e.style.opacity>0?setTimeout(r,t):e.style.display="none"});r()},v=function(n){if("function"==typeof MouseEvent){var r=new MouseEvent("click",{view:e,bubbles:!1,cancelable:!0});n.dispatchEvent(r)}else if(t.createEvent){var i=t.createEvent("MouseEvents");i.initEvent("click",!1,!1),n.dispatchEvent(i)}else t.createEventObject?n.fireEvent("onclick"):"function"==typeof n.onclick&&n.onclick()},y=function(t){"function"==typeof t.stopPropagation?(t.stopPropagation(),t.preventDefault()):e.event&&e.event.hasOwnProperty("cancelBubble")&&(e.event.cancelBubble=!0)};i.hasClass=o,i.addClass=a,i.removeClass=s,i.escapeHtml=l,i._show=u,i.show=c,i._hide=f,i.hide=h,i.isDescendant=d,i.getTopMargin=p,i.fadeIn=g,i.fadeOut=m,i.fireClick=v,i.stopEventPropagation=y},{}],5:[function(t,r,i){Object.defineProperty(i,"__esModule",{value:!0});var o=t("./handle-dom"),a=t("./handle-swal-dom"),s=function(t,r,i){var s=t||e.event,l=s.keyCode||s.which,u=i.querySelector("button.confirm"),c=i.querySelector("button.cancel"),f=i.querySelectorAll("button[tabindex]");if(-1!==[9,13,32,27].indexOf(l)){for(var h=s.target||s.srcElement,d=-1,p=0;p<f.length;p++)if(h===f[p]){d=p;break}9===l?(h=-1===d?u:d===f.length-1?f[0]:f[d+1],o.stopEventPropagation(s),h.focus(),r.confirmButtonColor&&a.setFocusStyle(h,r.confirmButtonColor)):13===l?("INPUT"===h.tagName&&(h=u,u.focus()),h=-1===d?u:n):27===l&&!0===r.allowEscapeKey?(h=c,o.fireClick(h,s)):h=n}};i.default=s,r.exports=i.default},{"./handle-dom":4,"./handle-swal-dom":6}],6:[function(n,r,i){var o=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(i,"__esModule",{value:!0});var a=n("./utils"),s=n("./handle-dom"),l=n("./default-params"),u=o(l),c=n("./injected-html"),f=o(c),h=function(){var e=t.createElement("div");for(e.innerHTML=f.default;e.firstChild;)t.body.appendChild(e.firstChild)},d=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=t.querySelector(".sweet-alert");return e||(h(),e=d()),e}),p=function(){var e=d();return e?e.querySelector("input"):void 0},g=function(){return t.querySelector(".sweet-overlay")},m=function(e,t){var n=a.hexToRgb(t);e.style.boxShadow="0 0 2px rgba("+n+", 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)"},v=function(n){var r=d();s.fadeIn(g(),10),s.show(r),s.addClass(r,"showSweetAlert"),s.removeClass(r,"hideSweetAlert"),e.previousActiveElement=t.activeElement,r.querySelector("button.confirm").focus(),setTimeout(function(){s.addClass(r,"visible")},500);var i=r.getAttribute("data-timer");if("null"!==i&&""!==i){var o=n;r.timeout=setTimeout(function(){(o||null)&&"true"===r.getAttribute("data-has-done-function")?o(null):sweetAlert.close()},i)}},y=function(){var e=d(),t=p();s.removeClass(e,"show-input"),t.value=u.default.inputValue,t.setAttribute("type",u.default.inputType),t.setAttribute("placeholder",u.default.inputPlaceholder),b()},b=function(e){if(e&&13===e.keyCode)return!1;var t=d(),n=t.querySelector(".sa-input-error");s.removeClass(n,"show");var r=t.querySelector(".sa-error-container");s.removeClass(r,"show")},w=function(){d().style.marginTop=s.getTopMargin(d())};i.sweetAlertInitialize=h,i.getModal=d,i.getOverlay=g,i.getInput=p,i.setFocusStyle=m,i.openModal=v,i.resetInput=y,i.resetInputError=b,i.fixVerticalPosition=w},{"./default-params":2,"./handle-dom":4,"./injected-html":7,"./utils":9}],7:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});n.default='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert"><div class="sa-icon sa-error">\n      <span class="sa-x-mark">\n        <span class="sa-line sa-left"></span>\n        <span class="sa-line sa-right"></span>\n      </span>\n    </div><div class="sa-icon sa-warning">\n      <span class="sa-body"></span>\n      <span class="sa-dot"></span>\n    </div><div class="sa-icon sa-info"></div><div class="sa-icon sa-success">\n      <span class="sa-line sa-tip"></span>\n      <span class="sa-line sa-long"></span>\n\n      <div class="sa-placeholder"></div>\n      <div class="sa-fix"></div>\n    </div><div class="sa-icon sa-custom"></div><h2>Title</h2>\n    <p>Text</p>\n    <fieldset>\n      <input type="text" tabIndex="3" />\n      <div class="sa-input-error"></div>\n    </fieldset><div class="sa-error-container">\n      <div class="icon">!</div>\n      <p>Not valid!</p>\n    </div><div class="sa-button-container">\n      <button class="cancel" tabIndex="2">Cancel</button>\n      <div class="sa-confirm-button-container">\n        <button class="confirm" tabIndex="1">OK</button><div class="la-ball-fall">\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    </div></div>',t.exports=n.default},{}],8:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var i=e("./utils"),o=e("./handle-swal-dom"),a=e("./handle-dom"),s=["error","warning","info","success","input","prompt"],l=function(e){var t=o.getModal(),r=t.querySelector("h2"),l=t.querySelector("p"),u=t.querySelector("button.cancel"),c=t.querySelector("button.confirm");if(r.innerHTML=e.html?e.title:a.escapeHtml(e.title).split("\n").join("<br>"),l.innerHTML=e.html?e.text:a.escapeHtml(e.text||"").split("\n").join("<br>"),e.text&&a.show(l),e.customClass)a.addClass(t,e.customClass),t.setAttribute("data-custom-class",e.customClass);else{var f=t.getAttribute("data-custom-class");a.removeClass(t,f),t.setAttribute("data-custom-class","")}if(a.hide(t.querySelectorAll(".sa-icon")),e.type&&!i.isIE8()){var h=function(){for(var r=!1,i=0;i<s.length;i++)if(e.type===s[i]){r=!0;break}if(!r)return logStr("Unknown alert type: "+e.type),{v:!1};var l=["success","error","warning","info"],u=n;-1!==l.indexOf(e.type)&&(u=t.querySelector(".sa-icon.sa-"+e.type),a.show(u));var c=o.getInput();switch(e.type){case"success":a.addClass(u,"animate"),a.addClass(u.querySelector(".sa-tip"),"animateSuccessTip"),a.addClass(u.querySelector(".sa-long"),"animateSuccessLong");break;case"error":a.addClass(u,"animateErrorIcon"),a.addClass(u.querySelector(".sa-x-mark"),"animateXMark");break;case"warning":a.addClass(u,"pulseWarning"),a.addClass(u.querySelector(".sa-body"),"pulseWarningIns"),a.addClass(u.querySelector(".sa-dot"),"pulseWarningIns");break;case"input":case"prompt":c.setAttribute("type",e.inputType),c.value=e.inputValue,c.setAttribute("placeholder",e.inputPlaceholder),a.addClass(t,"show-input"),setTimeout(function(){c.focus(),c.addEventListener("keyup",swal.resetInputError)},400)}}();if("object"==typeof h)return h.v}if(e.imageUrl){var d=t.querySelector(".sa-icon.sa-custom");d.style.backgroundImage="url("+e.imageUrl+")",a.show(d);var p=80,g=80;if(e.imageSize){var m=e.imageSize.toString().split("x"),v=m[0],y=m[1];v&&y?(p=v,g=y):logStr("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+e.imageSize)}d.setAttribute("style",d.getAttribute("style")+"width:"+p+"px; height:"+g+"px")}t.setAttribute("data-has-cancel-button",e.showCancelButton),e.showCancelButton?u.style.display="inline-block":a.hide(u),t.setAttribute("data-has-confirm-button",e.showConfirmButton),e.showConfirmButton?c.style.display="inline-block":a.hide(c),e.cancelButtonText&&(u.innerHTML=a.escapeHtml(e.cancelButtonText)),e.confirmButtonText&&(c.innerHTML=a.escapeHtml(e.confirmButtonText)),e.confirmButtonColor&&(c.style.backgroundColor=e.confirmButtonColor,c.style.borderLeftColor=e.confirmLoadingButtonColor,c.style.borderRightColor=e.confirmLoadingButtonColor,o.setFocusStyle(c,e.confirmButtonColor)),t.setAttribute("data-allow-outside-click",e.allowOutsideClick);var b=!!e.doneFunction;t.setAttribute("data-has-done-function",b),e.animation?"string"==typeof e.animation?t.setAttribute("data-animation",e.animation):t.setAttribute("data-animation","pop"):t.setAttribute("data-animation","none"),t.setAttribute("data-timer",e.timer)};r.default=l,t.exports=r.default},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],9:[function(t,n,r){Object.defineProperty(r,"__esModule",{value:!0});var i=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},o=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?parseInt(t[1],16)+", "+parseInt(t[2],16)+", "+parseInt(t[3],16):null},a=function(){return e.attachEvent&&!e.addEventListener},s=function(t){e.console&&e.console.log("SweetAlert: "+t)},l=function(e,t){e=String(e).replace(/[^0-9a-f]/gi,""),e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var n,r,i="#";for(r=0;3>r;r++)n=parseInt(e.substr(2*r,2),16),n=Math.round(Math.min(Math.max(0,n+n*t),255)).toString(16),i+=("00"+n).substr(n.length);return i};r.extend=i,r.hexToRgb=o,r.isIE8=a,r.logStr=s,r.colorLuminance=l},{}]},{},[1]),"function"==typeof define&&define.amd?define(function(){return sweetAlert}):"undefined"!=typeof module&&module.exports&&(module.exports=sweetAlert)}(window,document),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["angular","sweetalert"],t):"object"==typeof module&&module.exports?module.exports=t(require("angular"),require("sweetalert")):t(e.angular,e.swal)}(this,function(e,t){"use strict";e.module("oitozero.ngSweetAlert",[]).factory("SweetAlert",["$rootScope",function(e){return{swal:function(n,r,i){e.$evalAsync(function(){"function"==typeof r?t(n,function(t){e.$evalAsync(function(){r(t)})},i):t(n,r,i)})},success:function(n,r){e.$evalAsync(function(){t(n,r,"success")})},error:function(n,r){e.$evalAsync(function(){t(n,r,"error")})},warning:function(n,r){e.$evalAsync(function(){t(n,r,"warning")})},info:function(n,r){e.$evalAsync(function(){t(n,r,"info")})},showInputError:function(n){e.$evalAsync(function(){t.showInputError(n)})},close:function(){e.$evalAsync(function(){t.close()})}}}])}),function(e,t){"use strict";var n="tooltips",r=function(){var e,n=[],r=0,i=function(e){e-r>=15?(n.forEach(function(e){e()}),r=e):t.console.log("Skipped!")},o=function(){t.clearTimeout(e),e=t.setTimeout(function(){t.requestAnimationFrame(i)},500)},a=function(e){e&&n.push(e)};return{add:function(e){n.length||t.addEventListener("resize",o),a(e)},remove:function(){n.length||(t.clearTimeout(e),t.removeEventListener("resize",o))}}}(),i=function(e){var t={};return e.removeAttr(n),void 0!==e.attr("tooltip-template")&&(t["tooltip-template"]=e.attr("tooltip-template"),e.removeAttr("tooltip-template")),void 0!==e.attr("tooltip-template-url")&&(t["tooltip-template-url"]=e.attr("tooltip-template-url"),e.removeAttr("tooltip-template-url")),void 0!==e.attr("tooltip-template-url-cache")&&(t["tooltip-template-url-cache"]=e.attr("tooltip-template-url-cache"),e.removeAttr("tooltip-template-url-cache")),void 0!==e.attr("tooltip-controller")&&(t["tooltip-controller"]=e.attr("tooltip-controller"),e.removeAttr("tooltip-controller")),void 0!==e.attr("tooltip-side")&&(t["tooltip-side"]=e.attr("tooltip-side"),e.removeAttr("tooltip-side")),void 0!==e.attr("tooltip-show-trigger")&&(t["tooltip-show-trigger"]=e.attr("tooltip-show-trigger"),e.removeAttr("tooltip-show-trigger")),void 0!==e.attr("tooltip-hide-trigger")&&(t["tooltip-hide-trigger"]=e.attr("tooltip-hide-trigger"),e.removeAttr("tooltip-hide-trigger")),void 0!==e.attr("tooltip-smart")&&(t["tooltip-smart"]=e.attr("tooltip-smart"),e.removeAttr("tooltip-smart")),void 0!==e.attr("tooltip-class")&&(t["tooltip-class"]=e.attr("tooltip-class"),e.removeAttr("tooltip-class")),void 0!==e.attr("tooltip-close-button")&&(t["tooltip-close-button"]=e.attr("tooltip-close-button"),e.removeAttr("tooltip-close-button")),void 0!==e.attr("tooltip-size")&&(t["tooltip-size"]=e.attr("tooltip-size"),e.removeAttr("tooltip-size")),void 0!==e.attr("tooltip-speed")&&(t["tooltip-speed"]=e.attr("tooltip-speed"),e.removeAttr("tooltip-speed")),t},o=function(e){return t.getComputedStyle?t.getComputedStyle(e,""):e.currentStyle?e.currentStyle:void 0},a=function(n){for(var r,i,o=t.document.querySelectorAll("._exradicated-tooltip"),a=0,s=o.length;a<s;a+=1)if((r=o.item(a))&&(i=e.element(r),i.data("_tooltip-parent")&&i.data("_tooltip-parent")===n))return i},s=function(e){var t=a(e);t&&t.remove()},l=function(e){if(e){var n=e[0].getBoundingClientRect();return(n.top<0||n.top>t.document.body.offsetHeight||n.left<0||n.left>t.document.body.offsetWidth||n.bottom<0||n.bottom>t.document.body.offsetHeight||n.right<0||n.right>t.document.body.offsetWidth)&&(e.css({top:"",left:"",bottom:"",right:""}),!0)}throw new Error("You must provide a position")},u=function(){var e={side:"top",showTrigger:"mouseenter",hideTrigger:"mouseleave",class:"",smart:!1,closeButton:!1,size:"",speed:"steady",tooltipTemplateUrlCache:!1};return{configure:function(t){var n,r=Object.keys(e),i=0;if(t)for(;i<r.length;i+=1)(n=r[i])&&t[n]&&(e[n]=t[n])},$get:function(){return e}}},c=["$log","$http","$compile","$timeout","$controller","$injector","tooltipsConf","$templateCache",function(n,u,c,f,h,d,p,g){return{restrict:"A",transclude:"element",priority:1,terminal:!0,link:function(n,d,m,v,y){if(m.tooltipTemplate&&m.tooltipTemplateUrl)throw new Error("You can not define tooltip-template and tooltip-template-url together");if(!m.tooltipTemplateUrl&&!m.tooltipTemplate&&m.tooltipController)throw new Error("You can not have a controller without a template or templateUrl defined");var b,w="_"+p.side,x=p.showTrigger,S=p.hideTrigger,$=p.size,C="_"+p.speed;m.tooltipSide=m.tooltipSide||p.side,m.tooltipShowTrigger=m.tooltipShowTrigger||p.showTrigger,m.tooltipHideTrigger=m.tooltipHideTrigger||p.hideTrigger,m.tooltipClass=m.tooltipClass||p.class,m.tooltipSmart="true"===m.tooltipSmart||p.smart,m.tooltipCloseButton=m.tooltipCloseButton||p.closeButton.toString(),m.tooltipSize=m.tooltipSize||p.size,m.tooltipSpeed=m.tooltipSpeed||p.speed,m.tooltipAppendToBody="true"===m.tooltipAppendToBody,y(n,function(n,p){var v=i(n),y=e.element(t.document.createElement("tooltip")),A=e.element(t.document.createElement("tip-cont")),k=e.element(t.document.createElement("tip")),_=e.element(t.document.createElement("tip-tip")),T=e.element(t.document.createElement("span")),E=e.element(t.document.createElement("tip-arrow")),M=function(){return A.html()},D=function(e){void 0!==e&&A[0].getClientRects().length>1?y.addClass("_multiline"):y.removeClass("_multiline")},P=function(n){if(k.addClass("_hidden"),m.tooltipSmart)switch(m.tooltipSide){case"top":l(k)&&(y.removeClass("_top"),y.addClass("_left"),l(k)&&(y.removeClass("_left"),y.addClass("_bottom"),l(k)&&(y.removeClass("_bottom"),y.addClass("_right"),l(k)&&(y.removeClass("_right"),y.addClass("_top")))));break;case"left":l(k)&&(y.removeClass("_left"),y.addClass("_bottom"),l(k)&&(y.removeClass("_bottom"),y.addClass("_right"),l(k)&&(y.removeClass("_right"),y.addClass("_top"),l(k)&&(y.removeClass("_top"),y.addClass("_left")))));break;case"bottom":l(k)&&(y.removeClass("_bottom"),y.addClass("_left"),l(k)&&(y.removeClass("_left"),y.addClass("_top"),l(k)&&(y.removeClass("_top"),y.addClass("_right"),l(k)&&(y.removeClass("_right"),y.addClass("_bottom")))));break;case"right":l(k)&&(y.removeClass("_right"),y.addClass("_top"),l(k)&&(y.removeClass("_top"),y.addClass("_left"),l(k)&&(y.removeClass("_left"),y.addClass("_bottom"),l(k)&&(y.removeClass("_bottom"),
y.addClass("_right")))));break;default:throw new Error("Position not supported")}if(m.tooltipAppendToBody){var r,i,a,u,c,f=o(_[0]),h=o(E[0]),d=o(k[0]),p=k[0].getBoundingClientRect(),g=e.copy(k),v=0,b=f.length,w=0,x=h.length,S=0,$=d.length,C={},A={},T={};for(k.removeClass("_hidden"),g.removeClass("_hidden"),g.data("_tooltip-parent",y),s(y);v<b;v+=1)(r=f[v])&&f.getPropertyValue(r)&&(C[r]=f.getPropertyValue(r));for(;w<x;w+=1)(r=h[w])&&h.getPropertyValue(r)&&(T[r]=h.getPropertyValue(r));for(;S<$;S+=1)(r=d[S])&&"position"!==r&&"display"!==r&&"opacity"!==r&&"z-index"!==r&&"bottom"!==r&&"height"!==r&&"left"!==r&&"right"!==r&&"top"!==r&&"width"!==r&&d.getPropertyValue(r)&&(A[r]=d.getPropertyValue(r));i=t.parseInt(d.getPropertyValue("padding-top"),10),a=t.parseInt(d.getPropertyValue("padding-bottom"),10),u=t.parseInt(d.getPropertyValue("padding-left"),10),c=t.parseInt(d.getPropertyValue("padding-right"),10),A.top=p.top+t.pageYOffset+"px",A.left=p.left+t.pageXOffset+"px",A.height=p.height-(i+a)+"px",A.width=p.width-(u+c)+"px",g.css(A),g.children().css(C),g.children().next().css(T),n&&"true"!==m.tooltipHidden&&(g.addClass("_exradicated-tooltip"),e.element(t.document.body).append(g))}else k.removeClass("_hidden"),n&&"true"!==m.tooltipHidden&&y.addClass("active")},R=function(){m.tooltipAppendToBody?s(y):y.removeClass("active")},O=function e(t){var n,r=t.parent();t[0]&&(t[0].scrollHeight>t[0].clientHeight||t[0].scrollWidth>t[0].clientWidth)&&t.on("scroll",function(){var e=this;n&&f.cancel(n),n=f(function(){var t=a(y),n=y[0].getBoundingClientRect(),r=e.getBoundingClientRect();n.top<r.top||n.bottom>r.bottom||n.left<r.left||n.right>r.right?s(y):t&&P(!0)})}),r&&r.length&&e(r)},N=function(e){e?(y.removeClass("_force-hidden"),_.empty(),_.append(T),_.append(e),f(function(){P()})):(_.empty(),y.addClass("_force-hidden"))},L=function(e){e&&!m.tooltipTemplateUrlCache?u.get(e).then(function(e){e&&e.data&&(y.removeClass("_force-hidden"),_.empty(),_.append(T),_.append(c(e.data)(p)),f(function(){P()}))}):(_.empty(),y.addClass("_force-hidden"))},I=function(e){if(e&&m.tooltipTemplateUrl){var t=g.get(m.tooltipTemplateUrl);void 0!==t&&(y.removeClass("_force-hidden"),_.empty(),_.append(T),_.append(c(t)(p)),f(function(){P()}))}else _.empty(),y.addClass("_force-hidden")},z=function(e){e&&(w&&y.removeAttr("_"+w),y.addClass("_"+e),w=e)},B=function(e){e&&(x&&y.off(x),y.on(e,P),x=e)},F=function(e){e&&(S&&y.off(S),y.on(e,R),S=e)},j=function(e){e&&(b&&k.removeClass(b),k.addClass(e),b=e)},H=function(){"boolean"!=typeof m.tooltipSmart&&(m.tooltipSmart="true"===m.tooltipSmart)},U=function(e){"true"===e?(T.on("click",R),T.css("display","block")):(T.off("click"),T.css("display","none"))},W=function(t){if(t){var n,r=h(t,{$scope:p}),i=p.$new(!1,p),o=t.indexOf("as");o>=0?(n=t.substr(o+3),i[n]=r):e.extend(i,r),_.replaceWith(c(_)(i)),ne()}},V=function(e){e&&($&&_.removeClass("_"+$),_.addClass("_"+e),$=e)},q=function(e){e&&(C&&y.removeClass("_"+C),y.addClass("_"+e),C=e)},Y=m.$observe("tooltipTemplate",N),G=m.$observe("tooltipTemplateUrl",L),X=m.$observe("tooltipTemplateUrlCache",I),K=m.$observe("tooltipSide",z),Z=m.$observe("tooltipShowTrigger",B),J=m.$observe("tooltipHideTrigger",F),Q=m.$observe("tooltipClass",j),ee=m.$observe("tooltipSmart",H),te=m.$observe("tooltipCloseButton",U),ne=m.$observe("tooltipController",W),re=m.$observe("tooltipSize",V),ie=m.$observe("tooltipSpeed",q),oe=p.$watch(M,D);T.addClass("close-button"),T.html("&times;"),k.addClass("_hidden"),_.append(T),_.append(m.tooltipTemplate),k.append(_),k.append(E),A.append(n),y.attr(v),y.addClass("tooltips"),y.append(A),y.append(k),d.after(y),m.tooltipAppendToBody&&(r.add(function(){O(y)}),O(y)),r.add(function(){D(),P()}),f(function(){P(),k.removeClass("_hidden"),y.addClass("_ready")}),p.$on("$destroy",function(){Y(),G(),X(),K(),Z(),J(),Q(),ee(),te(),re(),ie(),oe(),r.remove(),n.off(m.tooltipShowTrigger+" "+m.tooltipHideTrigger)})})}}}];e.module("720kb.tooltips",[]).provider(n+"Conf",u).directive(n,c)}(angular,window),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="highcharts-ng"),function(){"use strict";function e(e,t,n){void 0===n&&(n=0),n<0&&(n+=e.length),n<0&&(n=0);for(var r=e.length;n<r;n++)if(n in e&&e[n]===t)return n;return-1}function t(e,t,n){var r=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);return n.apply(this,e),r?r.apply(this,e):void 0}}function n(e,t){if(angular.isArray(t)){e=angular.isArray(e)?e:[];for(var r=0;r<t.length;r++)e[r]=n(e[r]||{},t[r])}else if(angular.isObject(t)){e=angular.isObject(e)?e:{};for(var i in t)e[i]=n(e[i]||{},t[i])}else e=t;return e}function r(e,t){function n(){return r}var r=e.when(t.Highcharts);return{getHighcharts:n,ready:function(e,t){n().then(function(){e.call(t)})}}}function i(r,i){function o(t,n,r,o){var a={},s=!1,c=function(t,r){var i,o=[];if(t){if(l(t)&&!n.disableDataWatch)return!1;if(angular.forEach(t,function(e,t){o.push(e.id);var n=s.get(e.id);if(n)if(angular.equals(a[e.id],p(e)))if(void 0!==e.visible&&n.visible!==e.visible&&n.setVisible(e.visible,!1),t<r.length){var i=r[t],l=angular.copy(i),u=e.data[e.data.length-1];l.data.push(u),angular.equals(l,e)?n.addPoint(u,!1):(l.data.shift(),angular.equals(l,e)?n.addPoint(u,!1,!0):n.setData(angular.copy(e.data),!1))}else n.setData(angular.copy(e.data),!1);else n.update(angular.copy(e),!1);else s.addSeries(angular.copy(e),!1);a[e.id]=p(e)}),n.config.noData){var u=!1;for(i=0;i<t.length;i++)if(t[i].data&&t[i].data.length>0){u=!0;break}u?s.hideLoading():s.showLoading(n.config.noData)}}for(i=s.series.length-1;i>=0;i--){var c=s.series[i];"highcharts-navigator-series"!==c.options.id&&e(o,c.options.id)<0&&c.remove(!1)}return!0},m=function(){s&&s.destroy(),a={};var e=n.config||{},i=f(n,r,e),o=e.func||void 0,l=g(n);s=new t[l](i,o);for(var c=0;c<u.length;c++)e[u[c]]&&d(s,e[u[c]],u[c]);e.loading&&s.showLoading(),e.getHighcharts=function(){return s}};m(),n.disableDataWatch?n.$watchCollection("config.series",function(e,t){c(e),s.redraw()}):n.$watch("config.series",function(e,t){c(e,t)&&s.redraw()},!0),n.$watch("config.title",function(e){s.setTitle(e,!0)},!0),n.$watch("config.subtitle",function(e){s.setTitle(!0,e)},!0),n.$watch("config.loading",function(e){e?s.showLoading(!0===e?null:e):s.hideLoading()}),n.$watch("config.noData",function(e){n.config&&n.config.loading&&s.showLoading(e)},!0),n.$watch("config.credits.enabled",function(e){e?s.credits.show():s.credits&&s.credits.hide()}),n.$watch(g,function(e,t){e!==t&&m()}),angular.forEach(u,function(e){n.$watch("config."+e,function(t){if(t){if(angular.isArray(t))for(var n=0;n<t.length;n++){var r=t[n];n<s[e].length&&(s[e][n].update(r,!1),h(s[e][n],angular.copy(r)))}else s[e][0].update(t,!1),h(s[e][0],angular.copy(t));s.redraw()}},!0)}),n.$watch("config.options",function(e,t,n){e!==t&&(m(),c(n.config.series),s.redraw())},!0),n.$watch("config.size",function(e,t){e!==t&&e&&s.setSize(e.width||s.chartWidth,e.height||s.chartHeight)},!0),n.$on("highchartsng.reflow",function(){s.reflow()}),n.$on("$destroy",function(){if(s){try{s.destroy()}catch(e){}i(function(){r.remove()},0)}})}function a(e,t,n){function i(r){o(Highcharts,e,t,n)}r.getHighcharts().then(i)}var s=0,l=function(e){var t=!1;return angular.forEach(e,function(e){angular.isDefined(e.id)||(e.id="series-"+s++,t=!0)}),t},u=["xAxis","yAxis"],c={stock:"StockChart",map:"Map",chart:"Chart"},f=function(e,r,o){var a={},s={chart:{events:{}},title:{},subtitle:{},series:[],credits:{},plotOptions:{},navigator:{enabled:!1},xAxis:{events:{}},yAxis:{events:{}}};return a=o.options?n(s,o.options):s,a.chart.renderTo=r[0],angular.forEach(u,function(r){angular.isDefined(o[r])&&(a[r]=n(a[r]||{},o[r]),(angular.isDefined(o[r].currentMin)||angular.isDefined(o[r].currentMax))&&(t(a.chart.events,"selection",function(t){var n=this;t[r]?e.$apply(function(){e.config[r].currentMin=t[r][0].min,e.config[r].currentMax=t[r][0].max}):e.$apply(function(){e.config[r].currentMin=n[r][0].dataMin,e.config[r].currentMax=n[r][0].dataMax})}),t(a.chart.events,"addSeries",function(t){e.config[r].currentMin=this[r][0].min||e.config[r].currentMin,e.config[r].currentMax=this[r][0].max||e.config[r].currentMax}),t(a[r].events,"setExtremes",function(t){t.trigger&&"zoom"!==t.trigger&&i(function(){e.config[r].currentMin=t.min,e.config[r].currentMax=t.max,e.config[r].min=t.min,e.config[r].max=t.max},0)})))}),o.title&&(a.title=o.title),o.subtitle&&(a.subtitle=o.subtitle),o.credits&&(a.credits=o.credits),o.size&&(o.size.width&&(a.chart.width=o.size.width),o.size.height&&(a.chart.height=o.size.height)),a},h=function(e,t){var n=e.getExtremes();t.currentMin===n.dataMin&&t.currentMax===n.dataMax||(e.setExtremes?e.setExtremes(t.currentMin,t.currentMax,!1):e.detachedsetExtremes(t.currentMin,t.currentMax,!1))},d=function(e,t,n){(t.currentMin||t.currentMax)&&e[n][0].setExtremes(t.currentMin,t.currentMax,!0)},p=function(e){return angular.extend(n({},e),{data:null,visible:null})},g=function(e){return void 0===e.config?"Chart":c[(""+e.config.chartType).toLowerCase()]||(e.config.useHighStocks?"StockChart":"Chart")};return{restrict:"EAC",replace:!0,template:"<div></div>",scope:{config:"=",disableDataWatch:"="},link:a}}angular.module("highcharts-ng",[]).factory("highchartsNG",["$q","$window",r]).directive("highchart",["highchartsNG","$timeout",i])}(),function(e,t){"object"==typeof module&&module.exports?module.exports=e.document?t(e):t:e.Highcharts=t(e)}("undefined"!=typeof window?window:this,function(e){function t(t,n){var r="Highcharts error #"+t+": www.highcharts.com/errors/"+t;if(n)throw Error(r);e.console&&console.log(r)}function n(e,t,n){this.options=t,this.elem=e,this.prop=n}function r(){var e,t,n=arguments,r={},i=function(e,t){var n,r;"object"!=typeof e&&(e={});for(r in t)t.hasOwnProperty(r)&&(n=t[r],e[r]=re.isObject(n,!0)&&"renderTo"!==r&&"number"!=typeof n.nodeType?i(e[r]||{},n):t[r]);return e};for(!0===n[0]&&(r=n[1],n=Array.prototype.slice.call(n,2)),t=n.length,e=0;e<t;e++)r=i(r,n[e]);return r}function i(e,t){return parseInt(e,t||10)}function o(e){return"string"==typeof e}function a(e){return"[object Array]"===(e=Object.prototype.toString.call(e))||"[object Array Iterator]"===e}function s(e,t){for(var n=e.length;n--;)if(e[n]===t){e.splice(n,1);break}}function l(e){return e!==R&&null!==e}function u(e,t,n){var r,i;if(o(t))l(n)?e.setAttribute(t,n):e&&e.getAttribute&&(i=e.getAttribute(t));else if(l(t)&&Ke(t))for(r in t)e.setAttribute(r,t[r]);return i}function c(e){return a(e)?e:[e]}function f(e,t,n){if(t)return setTimeout(e,t,n);e.call(0,n)}function h(e,t){ye&&!Ce&&t&&t.opacity!==R&&(t.filter="alpha(opacity="+100*t.opacity+")"),Xe(e.style,t)}function d(e,t,n,r,i){return e=ie.createElement(e),t&&Xe(e,t),i&&h(e,{padding:0,border:"none",margin:0}),n&&h(e,n),r&&r.appendChild(e),e}function p(e,t){var n=function(){};return n.prototype=new e,Xe(n.prototype,t),n}function g(e,t,n){return Array((t||2)+1-String(e).length).join(n||0)+e}function m(e){return 6e4*(U&&U(e)||H||0)}function v(e,t){for(var n,r,i,o,a,s="{",l=!1,u=[];-1!==(s=e.indexOf(s));){if(n=e.slice(0,s),l){for(r=n.split(":"),i=r.shift().split("."),a=i.length,n=t,o=0;o<a;o++)n=n[i[o]];r.length&&(r=r.join(":"),i=/\.([0-9])/,o=I.lang,a=void 0,/f$/.test(r)?(a=(a=r.match(i))?a[1]:-1,null!==n&&(n=re.numberFormat(n,a,o.decimalPoint,r.indexOf(",")>-1?o.thousandsSep:""))):n=z(r,n))}u.push(n),e=e.slice(s+1),s=(l=!l)?"}":"{"}return u.push(e),u.join("")}function y(e){return oe.pow(10,se(oe.log(e)/oe.LN10))}function b(e,t,n,r,i){var o,a=e,n=Je(n,1);for(o=e/n,t||(t=[1,2,2.5,5,10],!1===r&&(1===n?t=[1,2,5,10]:n<=.1&&(t=[1/n]))),r=0;r<t.length&&(a=t[r],!(i&&a*n>=e||!i&&o<=(t[r]+(t[r+1]||t[r]))/2));r++);return a*=n}function w(e,t){var n,r,i=e.length;for(r=0;r<i;r++)e[r].safeI=r;for(e.sort(function(e,r){return n=t(e,r),0===n?e.safeI-r.safeI:n}),r=0;r<i;r++)delete e[r].safeI}function x(e){for(var t=e.length,n=e[0];t--;)e[t]<n&&(n=e[t]);return n}function S(e){for(var t=e.length,n=e[0];t--;)e[t]>n&&(n=e[t]);return n}function $(e,t){for(var n in e)e[n]&&e[n]!==t&&e[n].destroy&&e[n].destroy(),delete e[n]}function C(e){L||(L=d(Pe)),e&&L.appendChild(e),L.innerHTML=""}function A(e,t){return parseFloat(e.toPrecision(t||14))}function k(e,t){t.renderer.globalAnimation=Je(e,t.animation)}function _(e){return Ke(e)?r(e):{duration:e?500:0}}function T(){var t=I.global,n=t.useUTC,r=n?"getUTC":"get",i=n?"setUTC":"set";F=t.Date||e.Date,H=n&&t.timezoneOffset,U=n&&t.getTimezoneOffset,j=function(e,t,r,i,o,a){var s;return n?(s=F.UTC.apply(0,arguments),s+=m(s)):s=new F(e,t,Je(r,1),Je(i,0),Je(o,0),Je(a,0)).getTime(),s},W=r+"Minutes",V=r+"Hours",q=r+"Day",Y=r+"Date",G=r+"Month",X=r+"FullYear",K=i+"Milliseconds",Z=i+"Seconds",J=i+"Minutes",Q=i+"Hours",ee=i+"Date",te=i+"Month",ne=i+"FullYear"}function E(e){if(!(this instanceof E))return new E(e);this.init(e)}function M(){}function D(e,t,n,r){this.axis=e,this.pos=t,this.type=n||"",this.isNew=!0,!n&&!r&&this.addLabel()}function P(e,t,n,r,i){var o=e.chart.inverted;this.axis=e,this.isNegative=n,this.options=t,this.x=r,this.total=null,this.points={},this.stack=i,this.rightCliff=this.leftCliff=0,this.alignOptions={align:t.align||(o?n?"left":"right":"center"),verticalAlign:t.verticalAlign||(o?"middle":n?"bottom":"top"),y:Je(t.y,o?4:n?14:-6),x:Je(t.x,o?n?-6:6:0)},this.textAlign=t.textAlign||(o?n?"right":"left":"center")}var R,O,N,L,I,z,B,F,j,H,U,W,V,q,Y,G,X,K,Z,J,Q,ee,te,ne,re,ie=e.document,oe=Math,ae=oe.round,se=oe.floor,le=oe.ceil,ue=oe.max,ce=oe.min,fe=oe.abs,he=oe.cos,de=oe.sin,pe=oe.PI,ge=2*pe/360,me=e.navigator&&e.navigator.userAgent||"",ve=e.opera,ye=/(msie|trident|edge)/i.test(me)&&!ve,be=ie&&8===ie.documentMode,we=!ye&&/AppleWebKit/.test(me),xe=/Firefox/.test(me),Se=/(Mobile|Android|Windows Phone)/.test(me),$e="http://www.w3.org/2000/svg",Ce=ie&&ie.createElementNS&&!!ie.createElementNS($e,"svg").createSVGRect,Ae=xe&&parseInt(me.split("Firefox/")[1],10)<4,ke=ie&&!Ce&&!ye&&!!ie.createElement("canvas").getContext,_e={},Te=0,Ee=function(){},Me=[],De=0,Pe="div",Re="M",Oe="L",Ne=["plotTop","marginRight","marginBottom","plotLeft"],Le={};re=e.Highcharts?t(16,!0):{win:e},re.seriesTypes=Le;var Ie,ze,Be,Fe,je,He,Ue,We,Ve,qe,Ye,Ge=[];n.prototype={dSetter:function(){var e,t=this.paths[0],n=this.paths[1],r=[],i=this.now,o=t.length;if(1===i)r=this.toD;else if(o===n.length&&i<1)for(;o--;)e=parseFloat(t[o]),r[o]=isNaN(e)?t[o]:i*parseFloat(n[o]-e)+e;else r=n;this.elem.attr("d",r)},update:function(){var e=this.elem,t=this.prop,n=this.now,r=this.options.step;this[t+"Setter"]?this[t+"Setter"]():e.attr?e.element&&e.attr(t,n):e.style[t]=n+this.unit,r&&r.call(e,n,this)},run:function(e,t,n){var r,i=this,o=function(e){return!o.stopped&&i.step(e)};this.startTime=+new F,this.start=e,this.end=t,this.unit=n,this.now=this.start,this.pos=0,o.elem=this.elem,o()&&1===Ge.push(o)&&(o.timerId=setInterval(function(){for(r=0;r<Ge.length;r++)Ge[r]()||Ge.splice(r--,1);Ge.length||clearInterval(o.timerId)},13))},step:function(e){var t,n=+new F,r=this.options;t=this.elem;var i,o=r.complete,a=r.duration,s=r.curAnim;if(t.attr&&!t.element)t=!1;else if(e||n>=a+this.startTime){this.now=this.end,this.pos=1,this.update(),e=s[this.prop]=!0;for(i in s)!0!==s[i]&&(e=!1);e&&o&&o.call(t),t=!1}else this.pos=r.easing((n-this.startTime)/a),this.now=this.start+(this.end-this.start)*this.pos,this.update(),t=!0;return t},initPath:function(e,t,n){function r(e){for(u=e.length;u--;)(e[u]===Re||e[u]===Oe)&&e.splice(u+1,0,e[u+1],e[u+2],e[u+1],e[u+2])}function i(e,t){for(;e.length<s;){e[0]=t[s-e.length];var n=e.slice(0,p);[].splice.apply(e,[0,0].concat(n)),g&&(n=e.slice(e.length-p),[].splice.apply(e,[e.length,0].concat(n)),u--)}e[0]="M"}function o(e,t){for(var n=(s-e.length)/p;n>0&&n--;)l=e.slice().splice(e.length/m-p,p*m),l[0]=t[s-p-n*p],d&&(l[p-6]=l[p-2],l[p-5]=l[p-1]),[].splice.apply(e,[e.length/m,0].concat(l)),g&&n--}var a,s,l,u,c,t=t||"",f=e.startX,h=e.endX,d=t.indexOf("C")>-1,p=d?7:3,t=t.split(" "),n=n.slice(),g=e.isArea,m=g?2:1;if(d&&(r(t),r(n)),f&&h){for(u=0;u<f.length;u++){if(f[u]===h[0]){a=u;break}if(f[0]===h[h.length-f.length+u]){a=u,c=!0;break}}void 0===a&&(t=[])}return t.length&&re.isNumber(a)&&(s=n.length+a*m*p,c?(i(t,n),o(n,t)):(i(n,t),o(t,n))),[t,n]}};var Xe=re.extend=function(e,t){var n;e||(e={});for(n in t)e[n]=t[n];return e},Ke=re.isObject=function(e,t){return e&&"object"==typeof e&&(!t||!a(e))},Ze=re.isNumber=function(e){return"number"==typeof e&&!isNaN(e)},Je=re.pick=function(){var e,t,n=arguments,r=n.length;for(e=0;e<r;e++)if((t=n[e])!==R&&null!==t)return t},Qe=re.wrap=function(e,t,n){var r=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(r),n.apply(this,e)}};z=function(e,t,n){if(!l(t)||isNaN(t))return I.lang.invalidDate||"";var r,e=Je(e,"%Y-%m-%d %H:%M:%S"),i=new F(t-m(t)),o=i[V](),a=i[q](),s=i[Y](),u=i[G](),c=i[X](),f=I.lang,h=f.weekdays,d=f.shortWeekdays,i=Xe({a:d?d[a]:h[a].substr(0,3),A:h[a],d:g(s),e:g(s,2," "),w:a,b:f.shortMonths[u],B:f.months[u],m:g(u+1),y:c.toString().substr(2,2),Y:c,H:g(o),k:o,I:g(o%12||12),l:o%12||12,M:g(i[W]()),p:o<12?"AM":"PM",P:o<12?"am":"pm",S:g(i.getSeconds()),L:g(ae(t%1e3),3)},re.dateFormats);for(r in i)for(;-1!==e.indexOf("%"+r);)e=e.replace("%"+r,"function"==typeof i[r]?i[r](t):i[r]);return n?e.substr(0,1).toUpperCase()+e.substr(1):e},B={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},re.numberFormat=function(e,t,n,r){var o,a,e=+e||0,t=+t,s=I.lang,l=(e.toString().split(".")[1]||"").length,u=Math.abs(e);return-1===t?t=Math.min(l,20):Ze(t)||(t=2),o=String(i(u.toFixed(t))),a=o.length>3?o.length%3:0,n=Je(n,s.decimalPoint),r=Je(r,s.thousandsSep),e=e<0?"-":"",e+=a?o.substr(0,a)+r:"",e+=o.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+r),t&&(r=Math.abs(u-o+Math.pow(10,-Math.max(t,l)-1)),e+=n+r.toFixed(t).slice(2)),e},Math.easeInOutSine=function(e){return-.5*(Math.cos(Math.PI*e)-1)},Ie=function(t,n){var r;return"width"===n?Math.min(t.offsetWidth,t.scrollWidth)-Ie(t,"padding-left")-Ie(t,"padding-right"):"height"===n?Math.min(t.offsetHeight,t.scrollHeight)-Ie(t,"padding-top")-Ie(t,"padding-bottom"):(r=e.getComputedStyle(t,void 0))&&i(r.getPropertyValue(n))},ze=function(e,t){return t.indexOf?t.indexOf(e):[].indexOf.call(t,e)},Fe=function(e,t){return[].filter.call(e,t)},He=function(e,t){for(var n=[],r=0,i=e.length;r<i;r++)n[r]=t.call(e[r],e[r],r,e);return n},je=function(t){var n=ie.documentElement,t=t.getBoundingClientRect();return{top:t.top+(e.pageYOffset||n.scrollTop)-(n.clientTop||0),left:t.left+(e.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}},Ye=function(e){for(var t=Ge.length;t--;)Ge[t].elem===e&&(Ge[t].stopped=!0)},Be=function(e,t){return Array.prototype.forEach.call(e,t)},Ue=function(t,n,r){function i(n){n.target=n.srcElement||e,r.call(t,n)}var o=t.hcEvents=t.hcEvents||{};t.addEventListener?t.addEventListener(n,r,!1):t.attachEvent&&(t.hcEventsIE||(t.hcEventsIE={}),t.hcEventsIE[r.toString()]=i,t.attachEvent("on"+n,i)),o[n]||(o[n]=[]),o[n].push(r)},We=function(e,t,n){function r(t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.attachEvent&&(n=e.hcEventsIE[n.toString()],e.detachEvent("on"+t,n))}function i(){var n,i,o;if(e.nodeName)for(o in t?(n={},n[t]=!0):n=s,n)if(s[o])for(i=s[o].length;i--;)r(o,s[o][i])}var o,a,s=e.hcEvents;s&&(t?(o=s[t]||[],n?(a=ze(n,o),a>-1&&(o.splice(a,1),s[t]=o),r(t,n)):(i(),s[t]=[])):(i(),e.hcEvents={}))},Ve=function(e,t,n,r){var i;i=e.hcEvents;var o,a,n=n||{};if(ie.createEvent&&(e.dispatchEvent||e.fireEvent))i=ie.createEvent("Events"),i.initEvent(t,!0,!0),i.target=e,Xe(i,n),e.dispatchEvent?e.dispatchEvent(i):e.fireEvent(t,i);else if(i)for(i=i[t]||[],o=i.length,n.preventDefault||(n.preventDefault=function(){n.defaultPrevented=!0}),n.target=e,n.type||(n.type=t),t=0;t<o;t++)(a=i[t])&&!1===a.call(e,n)&&n.preventDefault();r&&!n.defaultPrevented&&r(n)},qe=function(e,t,i){var o,a,s,l,u="";Ke(i)||(o=arguments,i={duration:o[2],easing:o[3],complete:o[4]}),Ze(i.duration)||(i.duration=400),i.easing="function"==typeof i.easing?i.easing:Math[i.easing]||Math.easeInOutSine,i.curAnim=r(t);for(l in t)s=new n(e,i,l),a=null,"d"===l?(s.paths=s.initPath(e,e.d,t.d),s.toD=t.d,o=0,a=1):e.attr?o=e.attr(l):(o=parseFloat(Ie(e,l))||0,"opacity"!==l&&(u="px")),a||(a=t[l]),a.match&&a.match("px")&&(a=a.replace(/px/g,"")),s.run(o,a,u)},e.jQuery&&(e.jQuery.fn.highcharts=function(){var e=[].slice.call(arguments);if(this[0])return e[0]?(new(re[o(e[0])?e.shift():"Chart"])(this[0],e[0],e[1]),this):Me[u(this[0],"data-highcharts-chart")]}),ie&&!ie.defaultView&&(Ie=function(e,t){var n;return n={width:"clientWidth",height:"clientHeight"}[t],e.style[t]?i(e.style[t]):("opacity"===t&&(t="filter"),n?(e.style.zoom=1,Math.max(e[n]-2*Ie(e,"padding"),0)):(n=e.currentStyle[t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()})],"filter"===t&&(n=n.replace(/alpha\(opacity=([0-9]+)\)/,function(e,t){return t/100})),""===n?1:i(n)))}),Array.prototype.forEach||(Be=function(e,t){for(var n=0,r=e.length;n<r;n++)if(!1===t.call(e[n],e[n],n,e))return n}),Array.prototype.indexOf||(ze=function(e,t){var n,r=0;if(t)for(n=t.length;r<n;r++)if(t[r]===e)return r;return-1}),Array.prototype.filter||(Fe=function(e,t){for(var n=[],r=0,i=e.length;r<i;r++)t(e[r],r)&&n.push(e[r]);return n}),re.Fx=n,re.inArray=ze,re.each=Be,re.grep=Fe,re.offset=je,re.map=He,re.addEvent=Ue,re.removeEvent=We,re.fireEvent=Ve,re.animate=qe,re.animObject=_,re.stop=Ye,I={colors:"#7cb5ec,#434348,#90ed7d,#f7a35c,#8085e9,#f15c80,#e4d354,#2b908f,#f45b5b,#91e8e1".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.2.7/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}},width:null,height:null},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"},widthAdjust:-44},subtitle:{text:"",align:"center",style:{color:"#555555"},widthAdjust:-44},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":re.numberFormat(this.y,-1)},style:{color:"contrast",fontSize:"11px",fontWeight:"bold",textShadow:"0 0 6px contrast, 0 0 3px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:Ce,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">â—</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:Se?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var et=I.plotOptions,tt=et.line;T(),E.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(e){return[i(e[1]),i(e[2]),i(e[3]),parseFloat(e[4],10)]}},{regex:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(e){return[i(e[1],16),i(e[2],16),i(e[3],16),1]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(e){return[i(e[1]),i(e[2]),i(e[3]),1]}}],init:function(e){var t,n,r,i;if((this.input=e)&&e.stops)this.stops=He(e.stops,function(e){return new E(e[1])});else for(r=this.parsers.length;r--&&!n;)i=this.parsers[r],(t=i.regex.exec(e))&&(n=i.parse(t));this.rgba=n||[]},get:function(e){var t,n=this.input,i=this.rgba;return this.stops?(t=r(n),t.stops=[].concat(t.stops),Be(this.stops,function(n,r){t.stops[r]=[t.stops[r][0],n.get(e)]})):t=i&&Ze(i[0])?"rgb"===e||!e&&1===i[3]?"rgb("+i[0]+","+i[1]+","+i[2]+")":"a"===e?i[3]:"rgba("+i.join(",")+")":n,t},brighten:function(e){var t,n=this.rgba;if(this.stops)Be(this.stops,function(t){t.brighten(e)});else if(Ze(e)&&0!==e)for(t=0;t<3;t++)n[t]+=i(255*e),n[t]<0&&(n[t]=0),n[t]>255&&(n[t]=255);return this},setOpacity:function(e){return this.rgba[3]=e,this}},M.prototype={opacity:1,textProps:"direction,fontSize,fontWeight,fontFamily,fontStyle,color,lineHeight,width,textDecoration,textOverflow,textShadow".split(","),init:function(e,t){this.element="span"===t?d(t):ie.createElementNS($e,t),this.renderer=e},animate:function(e,t,n){return t=Je(t,this.renderer.globalAnimation,!0),Ye(this),t?(n&&(t.complete=n),qe(this,e,t)):this.attr(e,null,n),this},colorGradient:function(e,t,n){var i,o,s,u,c,f,h,d,p,g,m,v,y=this.renderer,b=[];if(e.linearGradient?o="linearGradient":e.radialGradient&&(o="radialGradient"),o){s=e[o],c=y.gradients,h=e.stops,g=n.radialReference,a(s)&&(e[o]=s={x1:s[0],y1:s[1],x2:s[2],y2:s[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===o&&g&&!l(s.gradientUnits)&&(u=s,s=r(s,y.getRadialAttr(g,u),{gradientUnits:"userSpaceOnUse"}));for(m in s)"id"!==m&&b.push(m,s[m]);for(m in h)b.push(h[m]);b=b.join(","),c[b]?g=c[b].attr("id"):(s.id=g="highcharts-"+Te++,c[b]=f=y.createElement(o).attr(s).add(y.defs),f.radAttr=u,f.stops=[],Be(h,function(e){0===e[1].indexOf("rgba")?(i=E(e[1]),d=i.get("rgb"),p=i.get("a")):(d=e[1],p=1),e=y.createElement("stop").attr({offset:e[0],"stop-color":d,"stop-opacity":p}).add(f),f.stops.push(e)})),v="url("+y.url+"#"+g+")",n.setAttribute(t,v),n.gradient=b,e.toString=function(){return v}}},applyTextShadow:function(e){var t,n=this.element,r=-1!==e.indexOf("contrast"),o={},a=this.renderer.forExport,s=a||n.style.textShadow!==R&&!ye;r&&(o.textShadow=e=e.replace(/contrast/g,this.renderer.getContrast(n.style.fill))),(we||a)&&(o.textRendering="geometricPrecision"),s?this.css(o):(this.fakeTS=!0,this.ySetter=this.xSetter,t=[].slice.call(n.getElementsByTagName("tspan")),Be(e.split(/\s?,\s?/g),function(e){var r,o,a=n.firstChild,e=e.split(" ");r=e[e.length-1],(o=e[e.length-2])&&Be(t,function(e,t){var s;0===t&&(e.setAttribute("x",n.getAttribute("x")),t=n.getAttribute("y"),e.setAttribute("y",t||0),null===t&&n.setAttribute("y",0)),s=e.cloneNode(1),u(s,{class:"highcharts-text-shadow",fill:r,stroke:r,"stroke-opacity":1/ue(i(o),3),"stroke-width":o,"stroke-linejoin":"round"}),n.insertBefore(s,a)})}))},attr:function(e,t,n){var r,i,o,a=this.element,s=this;if("string"==typeof e&&t!==R&&(r=e,e={},e[r]=t),"string"==typeof e)s=(this[e+"Getter"]||this._defaultGetter).call(this,e,a);else{for(r in e)t=e[r],o=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(r)&&(i||(this.symbolAttr(e),i=!0),o=!0),!this.rotation||"x"!==r&&"y"!==r||(this.doTransform=!0),o||(o=this[r+"Setter"]||this._defaultSetter,o.call(this,t,r,a),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(r)&&this.updateShadows(r,t,o));this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return n&&n(),s},updateShadows:function(e,t,n){for(var r=this.shadows,i=r.length;i--;)n.call(r[i],"height"===e?Math.max(t-(r[i].cutHeight||0),0):"d"===e?this.d:t,e,r[i])},addClass:function(e){var t=this.element,n=u(t,"class")||"";return-1===n.indexOf(e)&&u(t,"class",n+" "+e),this},symbolAttr:function(e){var t=this;Be("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(n){t[n]=Je(e[n],t[n])}),t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":"none")},crisp:function(e){var t,n,r={},i=this.strokeWidth||0;n=ae(i)%2/2,e.x=se(e.x||this.x||0)+n,e.y=se(e.y||this.y||0)+n,e.width=se((e.width||this.width||0)-2*n),e.height=se((e.height||this.height||0)-2*n),e.strokeWidth=i;for(t in e)this[t]!==e[t]&&(this[t]=r[t]=e[t]);return r},css:function(e){var t,n,r=this.styles,o={},a=this.element,s="";if(t=!r,e&&e.color&&(e.fill=e.color),r)for(n in e)e[n]!==r[n]&&(o[n]=e[n],t=!0);if(t){if(t=this.textWidth=e&&e.width&&"text"===a.nodeName.toLowerCase()&&i(e.width)||this.textWidth,r&&(e=Xe(r,o)),this.styles=e,t&&(ke||!Ce&&this.renderer.forExport)&&delete e.width,ye&&!Ce)h(this.element,e);else{r=function(e,t){return"-"+t.toLowerCase()};for(n in e)s+=n.replace(/([A-Z])/g,r)+":"+e[n]+";";u(a,"style",s)}t&&this.added&&this.renderer.buildText(this)}return this},on:function(e,t){var n=this,r=n.element;return N&&"click"===e?(r.ontouchstart=function(e){n.touchEventFired=F.now(),e.preventDefault(),t.call(r,e)},r.onclick=function(e){(-1===me.indexOf("Android")||F.now()-(n.touchEventFired||0)>1100)&&t.call(r,e)}):r["on"+e]=t,this},setRadialReference:function(e){var t=this.renderer.gradients[this.element.gradient];return this.element.radialReference=e,t&&t.radAttr&&t.animate(this.renderer.getRadialAttr(e,t.radAttr)),this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(){return this.inverted=!0,this.updateTransform(),this},updateTransform:function(){var e=this.translateX||0,t=this.translateY||0,n=this.scaleX,r=this.scaleY,i=this.inverted,o=this.rotation,a=this.element;i&&(e+=this.attr("width"),t+=this.attr("height")),e=["translate("+e+","+t+")"],i?e.push("rotate(90) scale(-1,1)"):o&&e.push("rotate("+o+" "+(a.getAttribute("x")||0)+" "+(a.getAttribute("y")||0)+")"),(l(n)||l(r))&&e.push("scale("+Je(n,1)+" "+Je(r,1)+")"),e.length&&a.setAttribute("transform",e.join(" "))},toFront:function(){var e=this.element;return e.parentNode.appendChild(e),this},align:function(e,t,n){var r,i,a,l,u={};return i=this.renderer,a=i.alignedObjects,e?(this.alignOptions=e,this.alignByTranslate=t,(!n||o(n))&&(this.alignTo=r=n||"renderer",s(a,this),a.push(this),n=null)):(e=this.alignOptions,t=this.alignByTranslate,r=this.alignTo),n=Je(n,i[r],i),r=e.align,i=e.verticalAlign,a=(n.x||0)+(e.x||0),l=(n.y||0)+(e.y||0),"right"!==r&&"center"!==r||(a+=(n.width-(e.width||0))/{right:1,center:2}[r]),u[t?"translateX":"x"]=ae(a),"bottom"!==i&&"middle"!==i||(l+=(n.height-(e.height||0))/({bottom:1,middle:2}[i]||1)),u[t?"translateY":"y"]=ae(l),this[this.placed?"animate":"attr"](u),this.placed=!0,this.alignAttr=u,this},getBBox:function(e,t){var n,r,i,o,a=this.renderer,s=this.element,l=this.styles;r=this.textStr;var u,c,f,h=s.style,d=a.cache,p=a.cacheKeys;if(i=Je(t,this.rotation),
o=i*ge,r!==R&&(f=r.toString().replace(/[0-9]/g,"0")+["",i||0,l&&l.fontSize,s.style.width].join(",")),f&&!e&&(n=d[f]),!n){if(s.namespaceURI===$e||a.forExport){try{c=this.fakeTS&&function(e){Be(s.querySelectorAll(".highcharts-text-shadow"),function(t){t.style.display=e})},xe&&h.textShadow?(u=h.textShadow,h.textShadow=""):c&&c("none"),n=s.getBBox?Xe({},s.getBBox()):{width:s.offsetWidth,height:s.offsetHeight},u?h.textShadow=u:c&&c("")}catch(e){}(!n||n.width<0)&&(n={width:0,height:0})}else n=this.htmlGetBBox();if(a.isSVG&&(a=n.width,r=n.height,ye&&l&&"11px"===l.fontSize&&"16.9"===r.toPrecision(3)&&(n.height=r=14),i&&(n.width=fe(r*de(o))+fe(a*he(o)),n.height=fe(r*he(o))+fe(a*de(o)))),f&&n.height>0){for(;p.length>250;)delete d[p.shift()];d[f]||p.push(f),d[f]=n}}return n},show:function(e){return this.attr({visibility:e?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(e){var t=this;t.animate({opacity:0},{duration:e||150,complete:function(){t.attr({y:-9999})}})},add:function(e){var t,n=this.renderer,r=this.element;return e&&(this.parentGroup=e),this.parentInverted=e&&e.inverted,void 0!==this.textStr&&n.buildText(this),this.added=!0,(!e||e.handleZ||this.zIndex)&&(t=this.zIndexSetter()),t||(e?e.element:n.box).appendChild(r),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(e){var t=e.parentNode;t&&t.removeChild(e)},destroy:function(){var e,t,n=this,r=n.element||{},i=n.shadows,o=n.renderer.isSVG&&"SPAN"===r.nodeName&&n.parentGroup;if(r.onclick=r.onmouseout=r.onmouseover=r.onmousemove=r.point=null,Ye(n),n.clipPath&&(n.clipPath=n.clipPath.destroy()),n.stops){for(t=0;t<n.stops.length;t++)n.stops[t]=n.stops[t].destroy();n.stops=null}for(n.safeRemoveChild(r),i&&Be(i,function(e){n.safeRemoveChild(e)});o&&o.div&&0===o.div.childNodes.length;)r=o.parentGroup,n.safeRemoveChild(o.div),delete o.div,o=r;n.alignTo&&s(n.renderer.alignedObjects,n);for(e in n)delete n[e];return null},shadow:function(e,t,n){var r,i,o,a,s,l,c=[],f=this.element;if(e){for(a=Je(e.width,3),s=(e.opacity||.15)/a,l=this.parentInverted?"(-1,-1)":"("+Je(e.offsetX,1)+", "+Je(e.offsetY,1)+")",r=1;r<=a;r++)i=f.cloneNode(0),o=2*a+1-2*r,u(i,{isShadow:"true",stroke:e.color||"black","stroke-opacity":s*r,"stroke-width":o,transform:"translate"+l,fill:"none"}),n&&(u(i,"height",ue(u(i,"height")-o,0)),i.cutHeight=o),t?t.element.appendChild(i):f.parentNode.insertBefore(i,f),c.push(i);this.shadows=c}return this},xGetter:function(e){return"circle"===this.element.nodeName&&(e={x:"cx",y:"cy"}[e]||e),this._defaultGetter(e)},_defaultGetter:function(e){return e=Je(this[e],this.element?this.element.getAttribute(e):null,0),/^[\-0-9\.]+$/.test(e)&&(e=parseFloat(e)),e},dSetter:function(e,t,n){e&&e.join&&(e=e.join(" ")),/(NaN| {2}|^$)/.test(e)&&(e="M 0 0"),n.setAttribute(t,e),this[t]=e},dashstyleSetter:function(e){var t,n=this["stroke-width"];if("inherit"===n&&(n=1),e=e&&e.toLowerCase()){for(e=e.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),t=e.length;t--;)e[t]=i(e[t])*n;e=e.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",e)}},alignSetter:function(e){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[e])},titleSetter:function(e){var t=this.element.getElementsByTagName("title")[0];t||(t=ie.createElementNS($e,"title"),this.element.appendChild(t)),t.firstChild&&t.removeChild(t.firstChild),t.appendChild(ie.createTextNode(String(Je(e),"").replace(/<[^>]*>/g,"")))},textSetter:function(e){e!==this.textStr&&(delete this.bBox,this.textStr=e,this.added&&this.renderer.buildText(this))},fillSetter:function(e,t,n){"string"==typeof e?n.setAttribute(t,e):e&&this.colorGradient(e,t,n)},visibilitySetter:function(e,t,n){"inherit"===e?n.removeAttribute(t):n.setAttribute(t,e)},zIndexSetter:function(e,t){var n,r,o,a=this.renderer,s=this.parentGroup,a=(s||a).element||a.box,u=this.element;n=this.added;var c;if(l(e)&&(u.zIndex=e,e=+e,this[t]===e&&(n=!1),this[t]=e),n){for((e=this.zIndex)&&s&&(s.handleZ=!0),s=a.childNodes,c=0;c<s.length&&!o;c++)n=s[c],r=n.zIndex,n!==u&&(i(r)>e||!l(e)&&l(r))&&(a.insertBefore(u,n),o=!0);o||a.appendChild(u)}return o},_defaultSetter:function(e,t,n){n.setAttribute(t,e)}},M.prototype.yGetter=M.prototype.xGetter,M.prototype.translateXSetter=M.prototype.translateYSetter=M.prototype.rotationSetter=M.prototype.verticalAlignSetter=M.prototype.scaleXSetter=M.prototype.scaleYSetter=function(e,t){this[t]=e,this.doTransform=!0},M.prototype.opacitySetter=M.prototype.displaySetter=function(e,t,n){this[t]=e,n.setAttribute(t,e)},M.prototype["stroke-widthSetter"]=M.prototype.strokeSetter=function(e,t,n){this[t]=e,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],M.prototype.fillSetter.call(this,this.stroke,"stroke",n),n.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===t&&0===e&&this.hasStroke&&(n.removeAttribute("stroke"),this.hasStroke=!1)};var nt=function(){this.init.apply(this,arguments)};nt.prototype={Element:M,init:function(t,n,r,i,o,a){var s,i=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(i));s=i.element,t.appendChild(s),-1===t.innerHTML.indexOf("xmlns")&&u(s,"xmlns",$e),this.isSVG=!0,this.box=s,this.boxWrapper=i,this.alignedObjects=[],this.url=(xe||we)&&ie.getElementsByTagName("base").length?e.location.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(ie.createTextNode("Created with Highcharts 4.2.7")),this.defs=this.createElement("defs").add(),this.allowHTML=a,this.forExport=o,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(n,r,!1);var l;xe&&t.getBoundingClientRect&&(this.subPixelFix=n=function(){h(t,{left:0,top:0}),l=t.getBoundingClientRect(),h(t,{left:le(l.left)-l.left+"px",top:le(l.top)-l.top+"px"})},n(),Ue(e,"resize",n))},getStyle:function(e){return this.style=Xe({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},e)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),$(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.subPixelFix&&We(e,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(e){var t=new this.Element;return t.init(this,e),t},draw:function(){},getRadialAttr:function(e,t){return{cx:e[0]-e[2]/2+t.cx*e[2],cy:e[1]-e[2]/2+t.cy*e[2],r:t.r*e[2]}},buildText:function(e){for(var t,n,r,o=e.element,a=this,s=a.forExport,l=Je(e.textStr,"").toString(),c=-1!==l.indexOf("<"),f=o.childNodes,d=u(o,"x"),p=e.styles,g=e.textWidth,m=p&&p.lineHeight,v=p&&p.textShadow,y=p&&"ellipsis"===p.textOverflow,b=f.length,w=g&&!e.added&&this.box,x=function(e){return m?i(m):a.fontMetrics(/(px|em)$/.test(e&&e.style.fontSize)?e.style.fontSize:p&&p.fontSize||a.style.fontSize||12,e).h},S=function(e){return e.replace(/&lt;/g,"<").replace(/&gt;/g,">")};b--;)o.removeChild(f[b]);c||v||y||g||-1!==l.indexOf(" ")?(t=/<.*style="([^"]+)".*>/,n=/<.*href="(http[^"]+)".*>/,w&&w.appendChild(o),l=c?l.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[l],l=Fe(l,function(e){return""!==e}),Be(l,function(i,l){var c,f=0,i=i.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");c=i.split("|||"),Be(c,function(i){if(""!==i||1===c.length){var m,v={},b=ie.createElementNS($e,"tspan");if(t.test(i)&&(m=i.match(t)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),u(b,"style",m)),n.test(i)&&!s&&(u(b,"onclick",'location.href="'+i.match(n)[1]+'"'),h(b,{cursor:"pointer"}))," "!==(i=S(i.replace(/<(.|\n)*?>/g,"")||" "))){if(b.appendChild(ie.createTextNode(i)),f?v.dx=0:l&&null!==d&&(v.x=d),u(b,v),o.appendChild(b),!f&&l&&(!Ce&&s&&h(b,{display:"block"}),u(b,"dy",x(b))),g){for(var w,$,v=i.replace(/([^\^])-/g,"$1- ").split(" "),C="nowrap"===p.whiteSpace,A=c.length>1||l||v.length>1&&!C,k=[],_=x(b),T=1,E=e.rotation,M=i,D=M.length;(A||y)&&(v.length||k.length);)e.rotation=0,w=e.getBBox(!0),$=w.width,!Ce&&a.forExport&&($=a.measureSpanWidth(b.firstChild.data,e.styles)),w=$>g,void 0===r&&(r=w),y&&r?(D/=2,""===M||!w&&D<.5?v=[]:(M=i.substring(0,M.length+(w?-1:1)*le(D)),v=[M+(g>3?"â€¦":"")],b.removeChild(b.firstChild))):w&&1!==v.length?(b.removeChild(b.firstChild),k.unshift(v.pop())):(v=k,k=[],v.length&&!C&&(T++,b=ie.createElementNS($e,"tspan"),u(b,{dy:_,x:d}),m&&u(b,"style",m),o.appendChild(b)),$>g&&(g=$)),v.length&&b.appendChild(ie.createTextNode(v.join(" ").replace(/- /g,"-")));e.rotation=E}f++}}})}),r&&e.attr("title",e.textStr),w&&w.removeChild(o),v&&e.applyTextShadow&&e.applyTextShadow(v)):o.appendChild(ie.createTextNode(S(l)))},getContrast:function(e){return e=E(e).rgba,e[0]+e[1]+e[2]>384?"#000000":"#FFFFFF"},button:function(e,t,n,i,o,a,s,l,u){var c,f,h,d,p,g,m=this.label(e,t,n,u,null,null,null,null,"button"),v=0,e={x1:0,y1:0,x2:0,y2:1},o=r({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:e,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},o);return h=o.style,delete o.style,a=r(o,{stroke:"#68A",fill:{linearGradient:e,stops:[[0,"#FFF"],[1,"#ACF"]]}},a),d=a.style,delete a.style,s=r(o,{stroke:"#68A",fill:{linearGradient:e,stops:[[0,"#9BD"],[1,"#CDF"]]}},s),p=s.style,delete s.style,l=r(o,{style:{color:"#CCC"}},l),g=l.style,delete l.style,Ue(m.element,ye?"mouseover":"mouseenter",function(){3!==v&&m.attr(a).css(d)}),Ue(m.element,ye?"mouseout":"mouseleave",function(){3!==v&&(c=[o,a,s][v],f=[h,d,p][v],m.attr(c).css(f))}),m.setState=function(e){(m.state=v=e)?2===e?m.attr(s).css(p):3===e&&m.attr(l).css(g):m.attr(o).css(h)},m.on("click",function(e){3!==v&&i.call(m,e)}).attr(o).css(Xe({cursor:"default"},h))},crispLine:function(e,t){return e[1]===e[4]&&(e[1]=e[4]=ae(e[1])-t%2/2),e[2]===e[5]&&(e[2]=e[5]=ae(e[2])+t%2/2),e},path:function(e){var t={fill:"none"};return a(e)?t.d=e:Ke(e)&&Xe(t,e),this.createElement("path").attr(t)},circle:function(e,t,n){return e=Ke(e)?e:{x:e,y:t,r:n},t=this.createElement("circle"),t.xSetter=t.ySetter=function(e,t,n){n.setAttribute("c"+t,e)},t.attr(e)},arc:function(e,t,n,r,i,o){return Ke(e)&&(t=e.y,n=e.r,r=e.innerR,i=e.start,o=e.end,e=e.x),e=this.symbol("arc",e||0,t||0,n||0,n||0,{innerR:r||0,start:i||0,end:o||0}),e.r=n,e},rect:function(e,t,n,r,i,o){var i=Ke(e)?e.r:i,a=this.createElement("rect"),e=Ke(e)?e:e===R?{}:{x:e,y:t,width:ue(n,0),height:ue(r,0)};return o!==R&&(a.strokeWidth=o,e=a.crisp(e)),i&&(e.r=i),a.rSetter=function(e,t,n){u(n,{rx:e,ry:e})},a.attr(e)},setSize:function(e,t,n){var r=this.alignedObjects,i=r.length;for(this.width=e,this.height=t,this.boxWrapper[Je(n,!0)?"animate":"attr"]({width:e,height:t});i--;)r[i].align()},g:function(e){var t=this.createElement("g");return l(e)?t.attr({class:"highcharts-"+e}):t},image:function(e,t,n,r,i){var o={preserveAspectRatio:"none"};return arguments.length>1&&Xe(o,{x:t,y:n,width:r,height:i}),o=this.createElement("image").attr(o),o.element.setAttributeNS?o.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):o.element.setAttribute("hc-svg-href",e),o},symbol:function(e,t,n,r,i,o){var a,s,l,u=this,c=this.symbols[e],c=c&&c(ae(t),ae(n),r,i,o),f=/^url\((.*?)\)$/;return c?(a=this.path(c),Xe(a,{symbolName:e,x:t,y:n,width:r,height:i}),o&&Xe(a,o)):f.test(e)&&(l=function(e,t){e.element&&(e.attr({width:t[0],height:t[1]}),e.alignByTranslate||e.translate(ae((r-t[0])/2),ae((i-t[1])/2)))},s=e.match(f)[1],e=_e[s]||o&&o.width&&o.height&&[o.width,o.height],a=this.image(s).attr({x:t,y:n}),a.isImg=!0,e?l(a,e):(a.attr({width:0,height:0}),d("img",{onload:function(){var e=Me[u.chartIndex];0===this.width&&(h(this,{position:"absolute",top:"-999em"}),ie.body.appendChild(this)),l(a,_e[s]=[this.width,this.height]),this.parentNode&&this.parentNode.removeChild(this),!--u.imgCount&&e&&e.onload&&e.onload()},src:s}),this.imgCount++)),a},symbols:{circle:function(e,t,n,r){var i=.166*n;return[Re,e+n/2,t,"C",e+n+i,t,e+n+i,t+r,e+n/2,t+r,"C",e-i,t+r,e-i,t,e+n/2,t,"Z"]},square:function(e,t,n,r){return[Re,e,t,Oe,e+n,t,e+n,t+r,e,t+r,"Z"]},triangle:function(e,t,n,r){return[Re,e+n/2,t,Oe,e+n,t+r,e,t+r,"Z"]},"triangle-down":function(e,t,n,r){return[Re,e,t,Oe,e+n,t,e+n/2,t+r,"Z"]},diamond:function(e,t,n,r){return[Re,e+n/2,t,Oe,e+n,t+r/2,e+n/2,t+r,e,t+r/2,"Z"]},arc:function(e,t,n,r,i){var o=i.start,n=i.r||n||r,a=i.end-.001,r=i.innerR,s=i.open,l=he(o),u=de(o),c=he(a),a=de(a),i=i.end-o<pe?0:1;return[Re,e+n*l,t+n*u,"A",n,n,0,i,1,e+n*c,t+n*a,s?Re:Oe,e+r*c,t+r*a,"A",r,r,0,i,0,e+r*l,t+r*u,s?"":"Z"]},callout:function(e,t,n,r,i){var o,a=ce(i&&i.r||0,n,r),s=a+6,l=i&&i.anchorX,i=i&&i.anchorY;return o=["M",e+a,t,"L",e+n-a,t,"C",e+n,t,e+n,t,e+n,t+a,"L",e+n,t+r-a,"C",e+n,t+r,e+n,t+r,e+n-a,t+r,"L",e+a,t+r,"C",e,t+r,e,t+r,e,t+r-a,"L",e,t+a,"C",e,t,e,t,e+a,t],l&&l>n&&i>t+s&&i<t+r-s?o.splice(13,3,"L",e+n,i-6,e+n+6,i,e+n,i+6,e+n,t+r-a):l&&l<0&&i>t+s&&i<t+r-s?o.splice(33,3,"L",e,i+6,e-6,i,e,i-6,e,t+a):i&&i>r&&l>e+s&&l<e+n-s?o.splice(23,3,"L",l+6,t+r,l,t+r+6,l-6,t+r,e+a,t+r):i&&i<0&&l>e+s&&l<e+n-s&&o.splice(3,3,"L",l-6,t,l,t-6,l+6,t,n-a,t),o}},clipRect:function(e,t,n,r){var i="highcharts-"+Te++,o=this.createElement("clipPath").attr({id:i}).add(this.defs),e=this.rect(e,t,n,r,0).add(o);return e.id=i,e.clipPath=o,e.count=0,e},text:function(e,t,n,r){var i=ke||!Ce&&this.forExport,o={};return!r||!this.allowHTML&&this.forExport?(o.x=Math.round(t||0),n&&(o.y=Math.round(n)),(e||0===e)&&(o.text=e),e=this.createElement("text").attr(o),i&&e.css({position:"absolute"}),r||(e.xSetter=function(e,t,n){var r,i,o=n.getElementsByTagName("tspan"),a=n.getAttribute(t);for(i=0;i<o.length;i++)r=o[i],r.getAttribute(t)===a&&r.setAttribute(t,e);n.setAttribute(t,e)}),e):this.html(e,t,n)},fontMetrics:function(t,n){var r,o,t=t||this.style.fontSize;return!t&&n&&e.getComputedStyle&&(n=n.element||n,t=(r=e.getComputedStyle(n,""))&&r.fontSize),t=/px/.test(t)?i(t):/em/.test(t)?12*parseFloat(t):12,r=t<24?t+3:ae(1.2*t),o=ae(.8*r),{h:r,b:o,f:t}},rotCorr:function(e,t,n){var r=e;return t&&n&&(r=ue(r*he(t*ge),4)),{x:-e/3*de(t*ge),y:r}},label:function(e,t,n,i,o,a,s,u,c){var f,h,d,p,g,m,v,y,b,w,x=this,S=x.g(c),$=x.text("",0,0,s).attr({zIndex:1}),C=0,A=3,k=0,_=0,T={},E=/^url\((.*?)\)$/.test(i),D=E;y=function(){var e,t;e=$.element.style,h=(void 0===d||void 0===p||S.styles.textAlign)&&l($.textStr)&&$.getBBox(),S.width=(d||h.width||0)+2*A+k,S.height=(p||h.height||0)+2*A,v=A+x.fontMetrics(e&&e.fontSize,$).b,D&&(f||(e=_,t=(u?-v:0)+_,S.box=f=x.symbols[i]||E?x.symbol(i,e,t,S.width,S.height,T):x.rect(e,t,S.width,S.height,0,T["stroke-width"]),f.isImg||f.attr("fill","none"),f.add(S)),f.isImg||f.attr(Xe({width:ae(S.width),height:ae(S.height)},T)),T=null)},b=function(){var e,t=S.styles,t=t&&t.textAlign,n=k+A;e=u?0:v,l(d)&&h&&("center"===t||"right"===t)&&(n+={center:.5,right:1}[t]*(d-h.width)),n===$.x&&e===$.y||($.attr("x",n),e!==R&&$.attr("y",e)),$.x=n,$.y=e},w=function(e,t){f?f.attr(e,t):T[e]=t},S.onAdd=function(){$.add(S),S.attr({text:e||0===e?e:"",x:t,y:n}),f&&l(o)&&S.attr({anchorX:o,anchorY:a})},S.widthSetter=function(e){d=e},S.heightSetter=function(e){p=e},S.paddingSetter=function(e){l(e)&&e!==A&&(A=S.padding=e,b())},S.paddingLeftSetter=function(e){l(e)&&e!==k&&(k=e,b())},S.alignSetter=function(e){(e={left:0,center:.5,right:1}[e])!==C&&(C=e,h&&S.attr({x:g}))},S.textSetter=function(e){e!==R&&$.textSetter(e),y(),b()},S["stroke-widthSetter"]=function(e,t){e&&(D=!0),_=e%2/2,w(t,e)},S.strokeSetter=S.fillSetter=S.rSetter=function(e,t){"fill"===t&&e&&(D=!0),w(t,e)},S.anchorXSetter=function(e,t){o=e,w(t,ae(e)-_-g)},S.anchorYSetter=function(e,t){a=e,w(t,e-m)},S.xSetter=function(e){S.x=e,C&&(e-=C*((d||h.width)+2*A)),g=ae(e),S.attr("translateX",g)},S.ySetter=function(e){m=S.y=ae(e),S.attr("translateY",m)};var P=S.css;return Xe(S,{css:function(e){if(e){var t={},e=r(e);Be(S.textProps,function(n){e[n]!==R&&(t[n]=e[n],delete e[n])}),$.css(t)}return P.call(S,e)},getBBox:function(){return{width:h.width+2*A,height:h.height+2*A,x:h.x-A,y:h.y-A}},shadow:function(e){return f&&f.shadow(e),S},destroy:function(){We(S.element,"mouseenter"),We(S.element,"mouseleave"),$&&($=$.destroy()),f&&(f=f.destroy()),M.prototype.destroy.call(S),S=x=y=b=w=null}})}},O=nt,Xe(M.prototype,{htmlCss:function(e){var t=this.element;return(t=e&&"SPAN"===t.tagName&&e.width)&&(delete e.width,this.textWidth=t,this.updateTransform()),e&&"ellipsis"===e.textOverflow&&(e.whiteSpace="nowrap",e.overflow="hidden"),this.styles=Xe(this.styles,e),h(this.element,e),this},htmlGetBBox:function(){var e=this.element;return"text"===e.nodeName&&(e.style.position="absolute"),{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var e=this.renderer,t=this.element,n=this.translateX||0,r=this.translateY||0,o=this.x||0,a=this.y||0,s=this.textAlign||"left",u={left:0,center:.5,right:1}[s],c=this.shadows,f=this.styles;if(h(t,{marginLeft:n,marginTop:r}),c&&Be(c,function(e){h(e,{marginLeft:n+1,marginTop:r+1})}),this.inverted&&Be(t.childNodes,function(n){e.invertChild(n,t)}),"SPAN"===t.tagName){var c=this.rotation,d=i(this.textWidth),p=f&&f.whiteSpace,g=[c,s,t.innerHTML,this.textWidth,this.textAlign].join(",");g!==this.cTT&&(f=e.fontMetrics(t.style.fontSize).b,l(c)&&this.setSpanRotation(c,u,f),h(t,{width:"",whiteSpace:p||"nowrap"}),t.offsetWidth>d&&/[ \-]/.test(t.textContent||t.innerText)&&h(t,{width:d+"px",display:"block",whiteSpace:p||"normal"}),this.getSpanCorrection(t.offsetWidth,f,u,c,s)),h(t,{left:o+(this.xCorr||0)+"px",top:a+(this.yCorr||0)+"px"}),we&&(f=t.offsetHeight),this.cTT=g}}else this.alignOnAdd=!0},setSpanRotation:function(e,t,n){var r={},i=ye?"-ms-transform":we?"-webkit-transform":xe?"MozTransform":ve?"-o-transform":"";r[i]=r.transform="rotate("+e+"deg)",r[i+(xe?"Origin":"-origin")]=r.transformOrigin=100*t+"% "+n+"px",h(this.element,r)},getSpanCorrection:function(e,t,n){this.xCorr=-e*n,this.yCorr=-t}}),Xe(nt.prototype,{html:function(e,t,n){var r=this.createElement("span"),i=r.element,o=r.renderer,a=o.isSVG,s=function(e,t){Be(["display","opacity","visibility"],function(n){Qe(e,n+"Setter",function(e,n,r,i){e.call(this,n,r,i),t[r]=n})})};return r.textSetter=function(e){e!==i.innerHTML&&delete this.bBox,i.innerHTML=this.textStr=e,r.htmlUpdateTransform()},a&&s(r,r.element.style),r.xSetter=r.ySetter=r.alignSetter=r.rotationSetter=function(e,t){"align"===t&&(t="textAlign"),r[t]=e,r.htmlUpdateTransform()},r.attr({text:e,x:ae(t),y:ae(n)}).css({position:"absolute",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),i.style.whiteSpace="nowrap",r.css=r.htmlCss,a&&(r.add=function(e){var t,n=o.box.parentNode,a=[];if(this.parentGroup=e){if(!(t=e.div)){for(;e;)a.push(e),e=e.parentGroup;Be(a.reverse(),function(e){var r,i=u(e.element,"class");i&&(i={className:i}),t=e.div=e.div||d(Pe,i,{position:"absolute",left:(e.translateX||0)+"px",top:(e.translateY||0)+"px",display:e.display,opacity:e.opacity,pointerEvents:e.styles&&e.styles.pointerEvents},t||n),r=t.style,Xe(e,{translateXSetter:function(t,n){r.left=t+"px",e[n]=t,e.doTransform=!0},translateYSetter:function(t,n){r.top=t+"px",e[n]=t,e.doTransform=!0}}),s(e,r)})}}else t=n;return t.appendChild(i),r.added=!0,r.alignOnAdd&&r.htmlUpdateTransform(),r}),r}});var rt;if(!Ce&&!ke){rt={init:function(e,t){var n=["<",t,' filled="f" stroked="f"'],r=["position: ","absolute",";"],i=t===Pe;("shape"===t||i)&&r.push("left:0;top:0;width:1px;height:1px;"),r.push("visibility: ",i?"hidden":"visible"),n.push(' style="',r.join(""),'"/>'),t&&(n=i||"span"===t||"img"===t?n.join(""):e.prepVML(n),this.element=d(n)),this.renderer=e},add:function(e){var t=this.renderer,n=this.element,r=t.box,i=e&&e.inverted,r=e?e.element||e:r;return e&&(this.parentGroup=e),i&&t.invertChild(n,r),r.appendChild(n),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this},updateTransform:M.prototype.htmlUpdateTransform,setSpanRotation:function(){var e=this.rotation,t=he(e*ge),n=de(e*ge);h(this.element,{filter:e?["progid:DXImageTransform.Microsoft.Matrix(M11=",t,", M12=",-n,", M21=",n,", M22=",t,", sizingMethod='auto expand')"].join(""):"none"})},getSpanCorrection:function(e,t,n,r,i){var o,a=r?he(r*ge):1,s=r?de(r*ge):0,l=Je(this.elemHeight,this.element.offsetHeight);this.xCorr=a<0&&-e,this.yCorr=s<0&&-l,o=a*s<0,this.xCorr+=s*t*(o?1-n:n),this.yCorr-=a*t*(r?o?n:1-n:1),i&&"left"!==i&&(this.xCorr-=e*n*(a<0?-1:1),r&&(this.yCorr-=l*n*(s<0?-1:1)),h(this.element,{textAlign:i}))},pathToVML:function(e){for(var t=e.length,n=[];t--;)Ze(e[t])?n[t]=ae(10*e[t])-5:"Z"===e[t]?n[t]="x":(n[t]=e[t],!e.isArc||"wa"!==e[t]&&"at"!==e[t]||(n[t+5]===n[t+7]&&(n[t+7]+=e[t+7]>e[t+5]?1:-1),n[t+6]===n[t+8]&&(n[t+8]+=e[t+8]>e[t+6]?1:-1)));return n.join(" ")||"x"},clip:function(e){var t,n=this;return e?(t=e.members,s(t,n),t.push(n),n.destroyClip=function(){s(t,n)},e=e.getCSS(n)):(n.destroyClip&&n.destroyClip(),e={clip:be?"inherit":"rect(auto)"}),n.css(e)},css:M.prototype.htmlCss,safeRemoveChild:function(e){e.parentNode&&C(e)},destroy:function(){return this.destroyClip&&this.destroyClip(),M.prototype.destroy.apply(this)},on:function(t,n){return this.element["on"+t]=function(){var t=e.event;t.target=t.srcElement,n(t)},this},cutOffPath:function(e,t){var n,e=e.split(/[ ,]/);return n=e.length,9!==n&&11!==n||(e[n-4]=e[n-2]=i(e[n-2])-10*t),e.join(" ")},shadow:function(e,t,n){var r,o,a,s,l,u,c,f=[],h=this.element,p=this.renderer,g=h.style,m=h.path;if(m&&"string"!=typeof m.value&&(m="x"),l=m,e){for(u=Je(e.width,3),c=(e.opacity||.15)/u,r=1;r<=3;r++)s=2*u+1-2*r,n&&(l=this.cutOffPath(m.value,s+.5)),a=['<shape isShadow="true" strokeweight="',s,'" filled="false" path="',l,'" coordsize="10 10" style="',h.style.cssText,'" />'],o=d(p.prepVML(a),null,{left:i(g.left)+Je(e.offsetX,1),top:i(g.top)+Je(e.offsetY,1)}),n&&(o.cutOff=s+1),a=['<stroke color="',e.color||"black",'" opacity="',c*r,'"/>'],d(p.prepVML(a),null,null,o),t?t.element.appendChild(o):h.parentNode.insertBefore(o,h),f.push(o);this.shadows=f}return this},updateShadows:Ee,setAttr:function(e,t){be?this.element[e]=t:this.element.setAttribute(e,t)},classSetter:function(e){this.element.className=e},dashstyleSetter:function(e,t,n){(n.getElementsByTagName("stroke")[0]||d(this.renderer.prepVML(["<stroke/>"]),null,null,n))[t]=e||"solid",this[t]=e},dSetter:function(e,t,n){var r=this.shadows,e=e||[];if(this.d=e.join&&e.join(" "),n.path=e=this.pathToVML(e),r)for(n=r.length;n--;)r[n].path=r[n].cutOff?this.cutOffPath(e,r[n].cutOff):e;this.setAttr(t,e)},fillSetter:function(e,t,n){var r=n.nodeName;"SPAN"===r?n.style.color=e:"IMG"!==r&&(n.filled="none"!==e,this.setAttr("fillcolor",this.renderer.color(e,n,t,this)))},"fill-opacitySetter":function(e,t,n){d(this.renderer.prepVML(["<",t.split("-")[0],' opacity="',e,'"/>']),null,null,n)},opacitySetter:Ee,rotationSetter:function(e,t,n){n=n.style,this[t]=n[t]=e,n.left=-ae(de(e*ge)+1)+"px",n.top=ae(he(e*ge))+"px"},strokeSetter:function(e,t,n){this.setAttr("strokecolor",this.renderer.color(e,n,t,this))},"stroke-widthSetter":function(e,t,n){n.stroked=!!e,this[t]=e,Ze(e)&&(e+="px"),this.setAttr("strokeweight",e)},titleSetter:function(e,t){this.setAttr(t,e)},visibilitySetter:function(e,t,n){"inherit"===e&&(e="visible"),this.shadows&&Be(this.shadows,function(n){n.style[t]=e}),"DIV"===n.nodeName&&(e="hidden"===e?"-999em":0,be||(n.style[t]=e?"visible":"hidden"),t="top"),n.style[t]=e},displaySetter:function(e,t,n){n.style[t]=e},xSetter:function(e,t,n){this[t]=e,"x"===t?t="left":"y"===t&&(t="top"),this.updateClipping?(this[t]=e,this.updateClipping()):n.style[t]=e},zIndexSetter:function(e,t,n){n.style[t]=e}},rt["stroke-opacitySetter"]=rt["fill-opacitySetter"],re.VMLElement=rt=p(M,rt),rt.prototype.ySetter=rt.prototype.widthSetter=rt.prototype.heightSetter=rt.prototype.xSetter;var it={Element:rt,isIE8:me.indexOf("MSIE 8.0")>-1,init:function(e,t,n,r){var i;if(this.alignedObjects=[],r=this.createElement(Pe).css(Xe(this.getStyle(r),{position:"relative"})),i=r.element,e.appendChild(r.element),this.isVML=!0,this.box=i,this.boxWrapper=r,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(t,n,!1),!ie.namespaces.hcv){ie.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{ie.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(e){ie.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,t,n,r){var i=this.createElement(),o=Ke(e);return Xe(i,{members:[],count:0,left:(o?e.x:e)+1,top:(o?e.y:t)+1,width:(o?e.width:n)-1,height:(o?e.height:r)-1,getCSS:function(e){var t=e.element,n=t.nodeName,e=e.inverted,r=this.top-("shape"===n?t.offsetTop:0),i=this.left,t=i+this.width,o=r+this.height,r={clip:"rect("+ae(e?i:r)+"px,"+ae(e?o:t)+"px,"+ae(e?t:o)+"px,"+ae(e?r:i)+"px)"};return!e&&be&&"DIV"===n&&Xe(r,{width:t+"px",height:o+"px"}),r},updateClipping:function(){Be(i.members,function(e){e.element&&e.css(i.getCSS(e))})}})},color:function(e,t,n,r){var i,o,a,s=this,l=/^rgba/,u="none";if(e&&e.linearGradient?a="gradient":e&&e.radialGradient&&(a="pattern"),a){var c,f,h,p,g,m,v,y,b=e.linearGradient||e.radialGradient,w="",e=e.stops,x=[],S=function(){o=['<fill colors="'+x.join(",")+'" opacity="',g,'" o:opacity2="',p,'" type="',a,'" ',w,'focus="100%" method="any" />'],d(s.prepVML(o),null,null,t)};if(h=e[0],y=e[e.length-1],h[0]>0&&e.unshift([0,h[1]]),y[0]<1&&e.push([1,y[1]]),Be(e,function(e,t){l.test(e[1])?(i=E(e[1]),c=i.get("rgb"),f=i.get("a")):(c=e[1],f=1),x.push(100*e[0]+"% "+c),t?(g=f,m=c):(p=f,v=c)}),"fill"===n)if("gradient"===a)n=b.x1||b[0]||0,e=b.y1||b[1]||0,h=b.x2||b[2]||0,b=b.y2||b[3]||0,w='angle="'+(90-180*oe.atan((b-e)/(h-n))/pe)+'"',S();else{var $,u=b.r,C=2*u,A=2*u,k=b.cx,_=b.cy,T=t.radialReference,u=function(){T&&($=r.getBBox(),k+=(T[0]-$.x)/$.width-.5,_+=(T[1]-$.y)/$.height-.5,C*=T[2]/$.width,A*=T[2]/$.height),w='src="'+I.global.VMLRadialGradientURL+'" size="'+C+","+A+'" origin="0.5,0.5" position="'+k+","+_+'" color2="'+v+'" ',S()};r.added?u():r.onAdd=u,u=m}else u=c}else l.test(e)&&"IMG"!==t.tagName?(i=E(e),r[n+"-opacitySetter"](i.get("a"),n,t),u=i.get("rgb")):(u=t.getElementsByTagName(n),u.length&&(u[0].opacity=1,u[0].type="solid"),u=e);return u},prepVML:function(e){var t=this.isIE8,e=e.join("");return t?(e=e.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),e=-1===e.indexOf('style="')?e.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):e.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):e=e.replace("<","<hcv:"),e},text:nt.prototype.html,path:function(e){var t={coordsize:"10 10"};return a(e)?t.d=e:Ke(e)&&Xe(t,e),this.createElement("shape").attr(t)},circle:function(e,t,n){var r=this.symbol("circle");return Ke(e)&&(n=e.r,t=e.y,e=e.x),r.isCircle=!0,r.r=n,r.attr({x:e,y:t})},g:function(e){var t;return e&&(t={className:"highcharts-"+e,class:"highcharts-"+e}),this.createElement(Pe).attr(t)},image:function(e,t,n,r,i){var o=this.createElement("img").attr({src:e});return arguments.length>1&&o.attr({x:t,y:n,width:r,height:i}),o},createElement:function(e){return"rect"===e?this.symbol(e):nt.prototype.createElement.call(this,e)},invertChild:function(e,t){var n=this,r=t.style,o="IMG"===e.tagName&&e.style;h(e,{flip:"x",left:i(r.width)-(o?i(o.top):1),top:i(r.height)-(o?i(o.left):1),rotation:-90}),Be(e.childNodes,function(t){n.invertChild(t,e)})},symbols:{arc:function(e,t,n,r,i){var o=i.start,a=i.end,s=i.r||n||r,n=i.innerR,r=he(o),l=de(o),u=he(a),c=de(a);return a-o==0?["x"]:(o=["wa",e-s,t-s,e+s,t+s,e+s*r,t+s*l,e+s*u,t+s*c],i.open&&!n&&o.push("e",Re,e,t),o.push("at",e-n,t-n,e+n,t+n,e+n*u,t+n*c,e+n*r,t+n*l,"x","e"),o.isArc=!0,o)},circle:function(e,t,n,r,i){return i&&(n=r=2*i.r),i&&i.isCircle&&(e-=n/2,t-=r/2),["wa",e,t,e+n,t+r,e+n,t+r/2,e+n,t+r/2,"e"]},rect:function(e,t,n,r,i){return nt.prototype.symbols[l(i)&&i.r?"callout":"square"].call(0,e,t,n,r,i)}}};re.VMLRenderer=rt=function(){this.init.apply(this,arguments)},rt.prototype=r(nt.prototype,it),O=rt}nt.prototype.measureSpanWidth=function(e,t){var n,r=ie.createElement("span");return n=ie.createTextNode(e),r.appendChild(n),h(r,t),this.box.appendChild(r),n=r.offsetWidth,C(r),n};var ot;ke&&(re.CanVGRenderer=rt=function(){$e="http://www.w3.org/1999/xhtml"},rt.prototype.symbols={},ot=function(){function e(){var e,n=t.length;for(e=0;e<n;e++)t[e]();t=[]}var t=[];return{push:function(n,r){if(0===t.length){var i=ie.getElementsByTagName("head")[0],o=ie.createElement("script");o.type="text/javascript",o.src=r,o.onload=e,i.appendChild(o)}t.push(n)}}}(),O=rt),D.prototype={addLabel:function(){var e,t=this.axis,n=t.options,i=t.chart,o=t.categories,a=t.names,s=this.pos,u=n.labels,c=t.tickPositions,f=s===c[0],h=s===c[c.length-1],a=o?Je(o[s],a[s],s):s,o=this.label,c=c.info;t.isDatetimeAxis&&c&&(e=n.dateTimeLabelFormats[c.higherRanks[s]||c.unitName]),this.isFirst=f,this.isLast=h,n=t.labelFormatter.call({axis:t,chart:i,isFirst:f,isLast:h,dateTimeLabelFormat:e,value:t.isLog?A(t.lin2log(a)):a}),l(o)?o&&o.attr({text:n}):(this.labelLength=(this.label=o=l(n)&&u.enabled?i.renderer.text(n,0,0,u.useHTML).css(r(u.style)).add(t.labelGroup):null)&&o.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(e){var t,n=this.axis,r=e.x,i=n.chart.chartWidth,o=n.chart.spacing,a=Je(n.labelLeft,ce(n.pos,o[3])),o=Je(n.labelRight,ue(n.pos+n.len,i-o[1])),s=this.label,l=this.rotation,u={left:0,center:.5,right:1}[n.labelAlign],c=s.getBBox().width,f=n.getSlotWidth(),h=f,d=1,p={};l?l<0&&r-u*c<a?t=ae(r/he(l*ge)-a):l>0&&r+u*c>o&&(t=ae((i-r)/he(l*ge))):(i=r+(1-u)*c,r-u*c<a?h=e.x+h*(1-u)-a:i>o&&(h=o-e.x+h*u,d=-1),h=ce(f,h),h<f&&"center"===n.labelAlign&&(e.x+=d*(f-h-u*(f-ce(c,h)))),(c>h||n.autoRotation&&s.styles.width)&&(t=h)),t&&(p.width=t,n.options.labels.style.textOverflow||(p.textOverflow="ellipsis"),s.css(p))},getPosition:function(e,t,n,r){var i=this.axis,o=i.chart,a=r&&o.oldChartHeight||o.chartHeight;return{x:e?i.translate(t+n,null,null,r)+i.transB:i.left+i.offset+(i.opposite?(r&&o.oldChartWidth||o.chartWidth)-i.right-i.left:0),y:e?a-i.bottom+i.offset-(i.opposite?i.height:0):a-i.translate(t+n,null,null,r)-i.transB}},getLabelPosition:function(e,t,n,r,i,o,a,s){var u=this.axis,c=u.transA,f=u.reversed,h=u.staggerLines,d=u.tickRotCorr||{x:0,y:0},p=i.y;return l(p)||(p=0===u.side?n.rotation?-8:-n.getBBox().height:2===u.side?d.y+8:he(n.rotation*ge)*(d.y-n.getBBox(!1,0).height/2)),e=e+i.x+d.x-(o&&r?o*c*(f?-1:1):0),t=t+p-(o&&!r?o*c*(f?1:-1):0),h&&(n=a/(s||1)%h,u.opposite&&(n=h-n-1),t+=n*(u.labelOffset/h)),{x:e,y:ae(t)}},getMarkPath:function(e,t,n,r,i,o){return o.crispLine([Re,e,t,Oe,e+(i?0:-n),t+(i?n:0)],r)},render:function(e,t,n){var r=this.axis,i=r.options,o=r.chart.renderer,a=r.horiz,s=this.type,l=this.label,u=this.pos,c=i.labels,f=this.gridLine,h=s?s+"Grid":"grid",d=s?s+"Tick":"tick",p=i[h+"LineWidth"],g=i[h+"LineColor"],m=i[h+"LineDashStyle"],h=r.tickSize(d),d=i[d+"Color"],v=this.mark,y=c.step,b=!0,w=r.tickmarkOffset,x=this.getPosition(a,u,w,t),S=x.x,x=x.y,$=a&&S===r.pos+r.len||!a&&x===r.pos?-1:1,n=Je(n,1);this.isActive=!0,p&&(u=r.getPlotLinePath(u+w,p*$,t,!0),f===R&&(f={stroke:g,"stroke-width":p},m&&(f.dashstyle=m),s||(f.zIndex=1),t&&(f.opacity=0),this.gridLine=f=p?o.path(u).attr(f).add(r.gridGroup):null),!t&&f&&u&&f[this.isNew?"attr":"animate"]({d:u,opacity:n})),h&&(r.opposite&&(h[0]=-h[0]),s=this.getMarkPath(S,x,h[0],h[1]*$,a,o),v?v.animate({d:s,opacity:n}):this.mark=o.path(s).attr({stroke:d,"stroke-width":h[1],opacity:n}).add(r.axisGroup)),l&&Ze(S)&&(l.xy=x=this.getLabelPosition(S,x,l,a,c,w,e,y),
this.isFirst&&!this.isLast&&!Je(i.showFirstLabel,1)||this.isLast&&!this.isFirst&&!Je(i.showLastLabel,1)?b=!1:a&&!r.isRadial&&!c.step&&!c.rotation&&!t&&0!==n&&this.handleOverflow(x),y&&e%y&&(b=!1),b&&Ze(x.y)?(x.opacity=n,l[this.isNew?"attr":"animate"](x)):(Ye(l),l.attr("y",-9999)),this.isNew=!1)},destroy:function(){$(this,this.axis)}},re.PlotLineOrBand=function(e,t){this.axis=e,t&&(this.options=t,this.id=t.id)},re.PlotLineOrBand.prototype={render:function(){var e,t=this,n=t.axis,i=n.horiz,o=t.options,a=o.label,s=t.label,u=o.width,c=o.to,f=o.from,h=l(f)&&l(c),d=o.value,p=o.dashStyle,g=t.svgElem,m=[],v=o.color,y=Je(o.zIndex,0),b=o.events,w={},x=n.chart.renderer,m=n.log2lin;if(n.isLog&&(f=m(f),c=m(c),d=m(d)),u)m=n.getPlotLinePath(d,u),w={stroke:v,"stroke-width":u},p&&(w.dashstyle=p);else{if(!h)return;m=n.getPlotBandPath(f,c,o),v&&(w.fill=v),o.borderWidth&&(w.stroke=o.borderColor,w["stroke-width"]=o.borderWidth)}if(w.zIndex=y,g)m?(g.show(),g.animate({d:m})):(g.hide(),s&&(t.label=s=s.destroy()));else if(m&&m.length&&(t.svgElem=g=x.path(m).attr(w).add(),b))for(e in o=function(e){g.on(e,function(n){b[e].apply(t,[n])})},b)o(e);return a&&l(a.text)&&m&&m.length&&n.width>0&&n.height>0&&!m.flat?(a=r({align:i&&h&&"center",x:i?!h&&4:10,verticalAlign:!i&&h&&"middle",y:i?h?16:10:h?6:-4,rotation:i&&!h&&90},a),this.renderLabel(a,m,h,y)):s&&s.hide(),t},renderLabel:function(e,t,n,r){var i=this.label,o=this.axis.chart.renderer;i||(i={align:e.textAlign||e.align,rotation:e.rotation},i.zIndex=r,this.label=i=o.text(e.text,0,0,e.useHTML).attr(i).css(e.style).add()),r=[t[1],t[4],n?t[6]:t[1]],t=[t[2],t[5],n?t[7]:t[2]],n=x(r),o=x(t),i.align(e,!1,{x:n,y:o,width:S(r)-n,height:S(t)-o}),i.show()},destroy:function(){s(this.axis.plotLinesAndBands,this),delete this.axis,$(this)}};var at=re.Axis=function(){this.init.apply(this,arguments)};at.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#D8D8D8",labels:{enabled:!0,style:{color:"#606060",cursor:"default",fontSize:"11px"},x:0},lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return re.numberFormat(this.total,-1)},style:r(et.line.dataLabels.style,{color:"#000000"})}},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(e,t){var n=t.isX;this.chart=e,this.horiz=e.inverted?!n:n,this.isXAxis=n,this.coll=this.coll||(n?"xAxis":"yAxis"),this.opposite=t.opposite,this.side=t.side||(this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(t);var r=this.options,i=r.type;this.labelFormatter=r.labels.formatter||this.defaultLabelFormatter,this.userOptions=t,this.minPixelPadding=0,this.reversed=r.reversed,this.visible=!1!==r.visible,this.zoomEnabled=!1!==r.zoomEnabled,this.hasNames="category"===i||!0===r.categories,this.categories=r.categories||this.hasNames,this.names=this.names||[],this.isLog="logarithmic"===i,this.isDatetimeAxis="datetime"===i,this.isLinked=l(r.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=r.minRange||r.maxZoom,this.range=r.range,this.offset=r.offset||0,this.stacks={},this.oldStacks={},this.stacksTouched=0,this.min=this.max=null,this.crosshair=Je(r.crosshair,c(e.options.tooltip.crosshairs)[n?0:1],!1);var o,r=this.options.events;-1===ze(this,e.axes)&&(n?e.axes.splice(e.xAxis.length,0,this):e.axes.push(this),e[this.coll].push(this)),this.series=this.series||[],e.inverted&&n&&this.reversed===R&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(o in r)Ue(this,o,r[o]);this.isLog&&(this.val2lin=this.log2lin,this.lin2val=this.lin2log)},setOptions:function(e){this.options=r(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],r(I[this.coll],e))},defaultLabelFormatter:function(){var e,t=this.axis,n=this.value,r=t.categories,i=this.dateTimeLabelFormat,o=I.lang.numericSymbols,a=o&&o.length,s=t.options.labels.format,t=t.isLog?n:t.tickInterval;if(s)e=v(s,this);else if(r)e=n;else if(i)e=z(i,n);else if(a&&t>=1e3)for(;a--&&e===R;)r=Math.pow(1e3,a+1),t>=r&&10*n%r==0&&null!==o[a]&&0!==n&&(e=re.numberFormat(n/r,-1)+o[a]);return e===R&&(e=fe(n)>=1e4?re.numberFormat(n,-1):re.numberFormat(n,-1,R,"")),e},getSeriesExtremes:function(){var e=this,t=e.chart;e.hasVisibleSeries=!1,e.dataMin=e.dataMax=e.threshold=null,e.softThreshold=!e.isXAxis,e.buildStacks&&e.buildStacks(),Be(e.series,function(n){if(n.visible||!t.options.chart.ignoreHiddenSeries){var r,i=n.options,o=i.threshold;e.hasVisibleSeries=!0,e.isLog&&o<=0&&(o=null),e.isXAxis?(i=n.xData,i.length&&(n=x(i),!Ze(n)&&!(n instanceof F)&&(i=Fe(i,function(e){return Ze(e)}),n=x(i)),e.dataMin=ce(Je(e.dataMin,i[0]),n),e.dataMax=ue(Je(e.dataMax,i[0]),S(i)))):(n.getExtremes(),r=n.dataMax,n=n.dataMin,l(n)&&l(r)&&(e.dataMin=ce(Je(e.dataMin,n),n),e.dataMax=ue(Je(e.dataMax,r),r)),l(o)&&(e.threshold=o),i.softThreshold&&!e.isLog||(e.softThreshold=!1))}})},translate:function(e,t,n,r,i,o){var a=this.linkedParent||this,s=1,l=0,u=r?a.oldTransA:a.transA,r=r?a.oldMin:a.min,c=a.minPixelPadding,i=(a.isOrdinal||a.isBroken||a.isLog&&i)&&a.lin2val;return u||(u=a.transA),n&&(s*=-1,l=a.len),a.reversed&&(s*=-1,l-=s*(a.sector||a.len)),t?(e=e*s+l,e-=c,e=e/u+r,i&&(e=a.lin2val(e))):(i&&(e=a.val2lin(e)),"between"===o&&(o=.5),e=s*(e-r)*u+l+s*c+(Ze(o)?u*o*a.pointRange:0)),e},toPixels:function(e,t){return this.translate(e,!1,!this.horiz,null,!0)+(t?0:this.pos)},toValue:function(e,t){return this.translate(e-(t?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(e,t,n,r,i){var o,a,s,l=this.chart,u=this.left,c=this.top,f=n&&l.oldChartHeight||l.chartHeight,h=n&&l.oldChartWidth||l.chartWidth;o=this.transB;var d=function(e,t,n){return(e<t||e>n)&&(r?e=ce(ue(t,e),n):s=!0),e},i=Je(i,this.translate(e,null,null,n)),e=n=ae(i+o);return o=a=ae(f-i-o),Ze(i)?this.horiz?(o=c,a=f-this.bottom,e=n=d(e,u,u+this.width)):(e=u,n=h-this.right,o=a=d(o,c,c+this.height)):s=!0,s&&!r?null:l.renderer.crispLine([Re,e,o,Oe,n,a],t||1)},getLinearTickPositions:function(e,t,n){var r,i=A(se(t/e)*e),o=A(le(n/e)*e),a=[];if(t===n&&Ze(t))return[t];for(t=i;t<=o&&(a.push(t),(t=A(t+e))!==r);)r=t;return a},getMinorTickPositions:function(){var e,t=this.options,n=this.tickPositions,r=this.minorTickInterval,i=[],o=this.pointRangePadding||0;e=this.min-o;var o=this.max+o,a=o-e;if(a&&a/r<this.len/3)if(this.isLog)for(o=n.length,e=1;e<o;e++)i=i.concat(this.getLogTickPositions(r,n[e-1],n[e],!0));else if(this.isDatetimeAxis&&"auto"===t.minorTickInterval)i=i.concat(this.getTimeTicks(this.normalizeTimeTickInterval(r),e,o,t.startOfWeek));else for(n=e+(n[0]-e)%r;n<=o;n+=r)i.push(n);return 0!==i.length&&this.trimTicks(i,t.startOnTick,t.endOnTick),i},adjustForMinRange:function(){var e,t,n,r,i,o,a,s=this.options,u=this.min,c=this.max,f=this.dataMax-this.dataMin>=this.minRange;this.isXAxis&&this.minRange===R&&!this.isLog&&(l(s.min)||l(s.max)?this.minRange=null:(Be(this.series,function(e){for(i=e.xData,n=o=e.xIncrement?1:i.length-1;n>0;n--)r=i[n]-i[n-1],(t===R||r<t)&&(t=r)}),this.minRange=ce(5*t,this.dataMax-this.dataMin))),c-u<this.minRange&&(a=this.minRange,e=(a-c+u)/2,e=[u-e,Je(s.min,u-e)],f&&(e[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),u=S(e),c=[u+a,Je(s.max,u+a)],f&&(c[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),(c=x(c))-u<a&&(e[0]=c-a,e[1]=Je(s.min,c-a),u=S(e))),this.min=u,this.max=c},getClosest:function(){var e;return this.categories?e=1:Be(this.series,function(t){var n=t.closestPointRange;!t.noSharedTooltip&&l(n)&&(e=l(e)?ce(e,n):n)}),e},nameToX:function(e){var t,n=a(this.categories),r=n?this.categories:this.names,i=e.options.x;return e.series.requireSorting=!1,l(i)||(i=!1===this.options.nameToX?e.series.autoIncrement():ze(e.name,r)),-1===i?n||(t=r.length):t=i,this.names[t]=e.name,t},updateNames:function(){var e=this;this.names.length>0&&(this.names.length=0,this.minRange=void 0,Be(this.series||[],function(t){t.processedXData||(t.processData(),t.generatePoints()),Be(t.points,function(n,r){var i;n.options&&void 0===n.options.x&&(i=e.nameToX(n))!==n.x&&(n.x=i,t.xData[r]=i)})}))},setAxisTranslation:function(e){var t,n=this,r=n.max-n.min,i=n.axisPointRange||0,a=0,s=0,l=n.linkedParent,u=!!n.categories,c=n.transA,f=n.isXAxis;(f||u||i)&&(l?(a=l.minPointOffset,s=l.pointRangePadding):(t=n.getClosest(),Be(n.series,function(e){var r=u?1:f?Je(e.options.pointRange,t,0):n.axisPointRange||0,e=e.options.pointPlacement;i=ue(i,r),n.single||(a=ue(a,o(e)?0:r/2),s=ue(s,"on"===e?0:r))})),l=n.ordinalSlope&&t?n.ordinalSlope/t:1,n.minPointOffset=a*=l,n.pointRangePadding=s*=l,n.pointRange=ce(i,r),f&&(n.closestPointRange=t)),e&&(n.oldTransA=c),n.translationSlope=n.transA=c=n.len/(r+s||1),n.transB=n.horiz?n.left:n.bottom,n.minPixelPadding=c*a},minFromRange:function(){return this.max-this.range},setTickInterval:function(e){var n,r,i,o,a=this,s=a.chart,u=a.options,c=a.isLog,f=a.log2lin,h=a.isDatetimeAxis,d=a.isXAxis,p=a.isLinked,g=u.maxPadding,m=u.minPadding,v=u.tickInterval,w=u.tickPixelInterval,x=a.categories,S=a.threshold,$=a.softThreshold;!h&&!x&&!p&&this.getTickAmount(),i=Je(a.userMin,u.min),o=Je(a.userMax,u.max),p?(a.linkedParent=s[a.coll][u.linkedTo],s=a.linkedParent.getExtremes(),a.min=Je(s.min,s.dataMin),a.max=Je(s.max,s.dataMax),u.type!==a.linkedParent.options.type&&t(11,1)):(!$&&l(S)&&(a.dataMin>=S?(n=S,m=0):a.dataMax<=S&&(r=S,g=0)),a.min=Je(i,n,a.dataMin),a.max=Je(o,r,a.dataMax)),c&&(!e&&ce(a.min,Je(a.dataMin,a.min))<=0&&t(10,1),a.min=A(f(a.min),15),a.max=A(f(a.max),15)),a.range&&l(a.max)&&(a.userMin=a.min=i=ue(a.min,a.minFromRange()),a.userMax=o=a.max,a.range=null),Ve(a,"foundExtremes"),a.beforePadding&&a.beforePadding(),a.adjustForMinRange(),x||a.axisPointRange||a.usePercentage||p||!l(a.min)||!l(a.max)||!(f=a.max-a.min)||(!l(i)&&m&&(a.min-=f*m),!l(o)&&g&&(a.max+=f*g)),Ze(u.floor)&&(a.min=ue(a.min,u.floor)),Ze(u.ceiling)&&(a.max=ce(a.max,u.ceiling)),$&&l(a.dataMin)&&(S=S||0,!l(i)&&a.min<S&&a.dataMin>=S?a.min=S:!l(o)&&a.max>S&&a.dataMax<=S&&(a.max=S)),a.tickInterval=a.min===a.max||void 0===a.min||void 0===a.max?1:p&&!v&&w===a.linkedParent.options.tickPixelInterval?v=a.linkedParent.tickInterval:Je(v,this.tickAmount?(a.max-a.min)/ue(this.tickAmount-1,1):void 0,x?1:(a.max-a.min)*w/ue(a.len,w)),d&&!e&&Be(a.series,function(e){e.processData(a.min!==a.oldMin||a.max!==a.oldMax)}),a.setAxisTranslation(!0),a.beforeSetTickPositions&&a.beforeSetTickPositions(),a.postProcessTickInterval&&(a.tickInterval=a.postProcessTickInterval(a.tickInterval)),a.pointRange&&!v&&(a.tickInterval=ue(a.pointRange,a.tickInterval)),e=Je(u.minTickInterval,a.isDatetimeAxis&&a.closestPointRange),!v&&a.tickInterval<e&&(a.tickInterval=e),h||c||v||(a.tickInterval=b(a.tickInterval,null,y(a.tickInterval),Je(u.allowDecimals,!(a.tickInterval>.5&&a.tickInterval<5&&a.max>1e3&&a.max<9999)),!!this.tickAmount)),this.tickAmount||(a.tickInterval=a.unsquish()),this.setTickPositions()},setTickPositions:function(){var e,t,n=this.options,r=n.tickPositions,i=n.tickPositioner,o=n.startOnTick,a=n.endOnTick;this.tickmarkOffset=this.categories&&"between"===n.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===n.minorTickInterval&&this.tickInterval?this.tickInterval/5:n.minorTickInterval,this.tickPositions=e=r&&r.slice(),!e&&(e=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,n.units),this.min,this.max,n.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),e.length>this.len&&(e=[e[0],e.pop()]),this.tickPositions=e,i&&(i=i.apply(this,[this.min,this.max])))&&(this.tickPositions=e=i),this.isLinked||(this.trimTicks(e,o,a),this.min===this.max&&l(this.min)&&!this.tickAmount&&(t=!0,this.min-=.5,this.max+=.5),this.single=t,!r&&!i&&this.adjustTickAmount())},trimTicks:function(e,t,n){var r=e[0],i=e[e.length-1],o=this.minPointOffset||0;if(t)this.min=r;else for(;this.min-o>e[0];)e.shift();if(n)this.max=i;else for(;this.max+o<e[e.length-1];)e.pop();0===e.length&&l(r)&&e.push((i+r)/2)},alignToOthers:function(){var e,t={},n=this.options;return!1!==this.chart.options.chart.alignTicks&&!1!==n.alignTicks&&Be(this.chart[this.coll],function(n){var r=n.options,r=[n.horiz?r.left:r.top,r.width,r.height,r.pane].join(",");n.series.length&&(t[r]?e=!0:t[r]=1)}),e},getTickAmount:function(){var e=this.options,t=e.tickAmount,n=e.tickPixelInterval;!l(e.tickInterval)&&this.len<n&&!this.isRadial&&!this.isLog&&e.startOnTick&&e.endOnTick&&(t=2),!t&&this.alignToOthers()&&(t=le(this.len/n)+1),t<4&&(this.finalTickAmt=t,t=5),this.tickAmount=t},adjustTickAmount:function(){var e=this.tickInterval,t=this.tickPositions,n=this.tickAmount,r=this.finalTickAmt,i=t&&t.length;if(i<n){for(;t.length<n;)t.push(A(t[t.length-1]+e));this.transA*=(i-1)/(n-1),this.max=t[t.length-1]}else i>n&&(this.tickInterval*=2,this.setTickPositions());if(l(r)){for(e=n=t.length;e--;)(3===r&&e%2==1||r<=2&&e>0&&e<n-1)&&t.splice(e,1);this.finalTickAmt=R}},setScale:function(){var e,t;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),t=this.len!==this.oldAxisLength,Be(this.series,function(t){(t.isDirtyData||t.isDirty||t.xAxis.isDirty)&&(e=!0)}),t||e||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=t||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks()},setExtremes:function(e,t,n,r,i){var o=this,a=o.chart,n=Je(n,!0);Be(o.series,function(e){delete e.kdTree}),i=Xe(i,{min:e,max:t}),Ve(o,"setExtremes",i,function(){o.userMin=e,o.userMax=t,o.eventArgs=i,n&&a.redraw(r)})},zoom:function(e,t){var n=this.dataMin,r=this.dataMax,i=this.options,o=ce(n,Je(i.min,n)),i=ue(r,Je(i.max,r));return this.allowZoomOutside||(l(n)&&e<=o&&(e=o),l(r)&&t>=i&&(t=i)),this.displayBtn=e!==R||t!==R,this.setExtremes(e,t,!1,R,{trigger:"zoom"}),!0},setAxisSize:function(){var e=this.chart,t=this.options,n=t.offsetLeft||0,r=this.horiz,i=Je(t.width,e.plotWidth-n+(t.offsetRight||0)),o=Je(t.height,e.plotHeight),a=Je(t.top,e.plotTop),t=Je(t.left,e.plotLeft+n),n=/%$/;n.test(o)&&(o=Math.round(parseFloat(o)/100*e.plotHeight)),n.test(a)&&(a=Math.round(parseFloat(a)/100*e.plotHeight+e.plotTop)),this.left=t,this.top=a,this.width=i,this.height=o,this.bottom=e.chartHeight-o-a,this.right=e.chartWidth-i-t,this.len=ue(r?i:o,0),this.pos=r?t:a},getExtremes:function(){var e=this.isLog,t=this.lin2log;return{min:e?A(t(this.min)):this.min,max:e?A(t(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(e){var t=this.isLog,n=this.lin2log,r=t?n(this.min):this.min,t=t?n(this.max):this.max;return null===e?e=r:r>e?e=r:t<e&&(e=t),this.translate(e,0,1,0,1)},autoLabelAlign:function(e){return e=(Je(e,0)-90*this.side+720)%360,e>15&&e<165?"right":e>195&&e<345?"left":"center"},tickSize:function(e){var t=this.options,n=t[e+"Length"],r=Je(t[e+"Width"],"tick"===e&&this.isXAxis?1:0);if(r&&n)return"inside"===t[e+"Position"]&&(n=-n),[n,r]},labelMetrics:function(){return this.chart.renderer.fontMetrics(this.options.labels.style.fontSize,this.ticks[0]&&this.ticks[0].label)},unsquish:function(){var e,t,n,r=this.options.labels,i=this.horiz,o=this.tickInterval,a=o,s=this.len/(((this.categories?1:0)+this.max-this.min)/o),u=r.rotation,c=this.labelMetrics(),f=Number.MAX_VALUE,h=function(e){return e/=s||1,(e=e>1?le(e):1)*o};return i?(n=!r.staggerLines&&!r.step&&(l(u)?[u]:s<Je(r.autoRotationLimit,80)&&r.autoRotation))&&Be(n,function(n){var r;(n===u||n&&n>=-90&&n<=90)&&(t=h(fe(c.h/de(ge*n))),(r=t+fe(n/360))<f&&(f=r,e=n,a=t))}):r.step||(a=h(c.h)),this.autoRotation=n,this.labelRotation=Je(e,u),a},getSlotWidth:function(){var e=this.chart,t=this.horiz,n=this.options.labels,r=Math.max(this.tickPositions.length-(this.categories?0:1),1),i=e.margin[3];return t&&(n.step||0)<2&&!n.rotation&&(this.staggerLines||1)*e.plotWidth/r||!t&&(i&&i-e.spacing[3]||.33*e.chartWidth)},renderUnsquish:function(){var e,t,n,i=this.chart,a=i.renderer,s=this.tickPositions,l=this.ticks,u=this.options.labels,c=this.horiz,f=this.getSlotWidth(),h=ue(1,ae(f-2*(u.padding||5))),d={},p=this.labelMetrics(),g=u.style.textOverflow,m=0;if(o(u.rotation)||(d.rotation=u.rotation||0),Be(s,function(e){(e=l[e])&&e.labelLength>m&&(m=e.labelLength)}),this.maxLabelLength=m,this.autoRotation)m>h&&m>p.h?d.rotation=this.labelRotation:this.labelRotation=0;else if(f&&(e={width:h+"px"},!g))for(e.textOverflow="clip",t=s.length;!c&&t--;)n=s[t],(h=l[n].label)&&("ellipsis"===h.styles.textOverflow?h.css({textOverflow:"clip"}):l[n].labelLength>f&&h.css({width:f+"px"}),h.getBBox().height>this.len/s.length-(p.h-p.f)&&(h.specCss={textOverflow:"ellipsis"}));d.rotation&&(e={width:(m>.5*i.chartHeight?.33*i.chartHeight:i.chartHeight)+"px"},!g)&&(e.textOverflow="ellipsis"),(this.labelAlign=u.align||this.autoLabelAlign(this.labelRotation))&&(d.align=this.labelAlign),Be(s,function(t){var n=(t=l[t])&&t.label;n&&(n.attr(d),e&&n.css(r(e,n.specCss)),delete n.specCss,t.rotation=d.rotation)}),this.tickRotCorr=a.rotCorr(p.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||l(this.min)&&l(this.max)&&!!this.tickPositions},getOffset:function(){var e,t,n,r,i=this,o=i.chart,a=o.renderer,s=i.options,u=i.tickPositions,c=i.ticks,f=i.horiz,h=i.side,d=o.inverted?[1,0,3,2][h]:h,p=0,g=0,m=s.title,v=s.labels,y=0,b=i.opposite,w=o.axisOffset,o=o.clipOffset,x=[-1,1,1,-1][h],S=i.axisParent,$=this.tickSize("tick");if(e=i.hasData(),i.showAxis=t=e||Je(s.showEmpty,!0),i.staggerLines=i.horiz&&v.staggerLines,i.axisGroup||(i.gridGroup=a.g("grid").attr({zIndex:s.gridZIndex||1}).add(S),i.axisGroup=a.g("axis").attr({zIndex:s.zIndex||2}).add(S),i.labelGroup=a.g("axis-labels").attr({zIndex:v.zIndex||7}).addClass("highcharts-"+i.coll.toLowerCase()+"-labels").add(S)),e||i.isLinked)Be(u,function(e){c[e]?c[e].addLabel():c[e]=new D(i,e)}),i.renderUnsquish(),!1!==v.reserveSpace&&(0===h||2===h||{1:"left",3:"right"}[h]===i.labelAlign||"center"===i.labelAlign)&&Be(u,function(e){y=ue(c[e].getLabelSize(),y)}),i.staggerLines&&(y*=i.staggerLines,i.labelOffset=y*(i.opposite?-1:1));else for(r in c)c[r].destroy(),delete c[r];m&&m.text&&!1!==m.enabled&&(i.axisTitle||((r=m.textAlign)||(r=(f?{low:"left",middle:"center",high:"right"}:{low:b?"right":"left",middle:"center",high:b?"left":"right"})[m.align]),i.axisTitle=a.text(m.text,0,0,m.useHTML).attr({zIndex:7,rotation:m.rotation||0,align:r}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(m.style).add(i.axisGroup),i.axisTitle.isNew=!0),t&&(p=i.axisTitle.getBBox()[f?"height":"width"],n=m.offset,g=l(n)?0:Je(m.margin,f?5:10)),i.axisTitle[t?"show":"hide"](!0)),i.offset=x*Je(s.offset,w[h]),i.tickRotCorr=i.tickRotCorr||{x:0,y:0},a=0===h?-i.labelMetrics().h:2===h?i.tickRotCorr.y:0,g=Math.abs(y)+g,y&&(g-=a,g+=x*(f?Je(v.y,i.tickRotCorr.y+8*x):v.x)),i.axisTitleMargin=Je(n,g),w[h]=ue(w[h],i.axisTitleMargin+p+x*i.offset,g,e&&u.length&&$?$[0]:0),s=s.offset?0:2*se(s.lineWidth/2),o[d]=ue(o[d],s)},getLinePath:function(e){var t=this.chart,n=this.opposite,r=this.offset,i=this.horiz,o=this.left+(n?this.width:0)+r,r=t.chartHeight-this.bottom-(n?this.height:0)+r;return n&&(e*=-1),t.renderer.crispLine([Re,i?this.left:o,i?r:this.top,Oe,i?t.chartWidth-this.right:o,i?r:t.chartHeight-this.bottom],e)},getTitlePosition:function(){var e=this.horiz,t=this.left,n=this.top,r=this.len,i=this.options.title,o=e?t:n,a=this.opposite,s=this.offset,l=i.x||0,u=i.y||0,c=this.chart.renderer.fontMetrics(i.style.fontSize).f,r={low:o+(e?0:r),middle:o+r/2,high:o+(e?r:0)}[i.align],t=(e?n+this.height:t)+(e?1:-1)*(a?-1:1)*this.axisTitleMargin+(2===this.side?c:0);return{x:e?r+l:t+(a?this.width:0)+s+l,y:e?t+u-(a?this.height:0)+s:r+u}},render:function(){var e,t,n,r=this,i=r.chart,o=i.renderer,a=r.options,s=r.isLog,l=r.lin2log,u=r.isLinked,c=r.tickPositions,h=r.axisTitle,d=r.ticks,p=r.minorTicks,g=r.alternateBands,m=a.stackLabels,v=a.alternateGridColor,y=r.tickmarkOffset,b=a.lineWidth,w=i.hasRendered&&Ze(r.oldMin),x=r.showAxis,S=_(o.globalAnimation);r.labelEdge.length=0,r.overlap=!1,Be([d,p,g],function(e){for(var t in e)e[t].isActive=!1}),(r.hasData()||u)&&(r.minorTickInterval&&!r.categories&&Be(r.getMinorTickPositions(),function(e){p[e]||(p[e]=new D(r,e,"minor")),w&&p[e].isNew&&p[e].render(null,!0),p[e].render(null,!1,1)}),c.length&&(Be(c,function(e,t){(!u||e>=r.min&&e<=r.max)&&(d[e]||(d[e]=new D(r,e)),w&&d[e].isNew&&d[e].render(t,!0,.1),d[e].render(t))}),y&&(0===r.min||r.single))&&(d[-1]||(d[-1]=new D(r,-1,null,!0)),d[-1].render(-1)),v&&Be(c,function(e,o){n=c[o+1]!==R?c[o+1]+y:r.max-y,o%2==0&&e<r.max&&n<=r.max+(i.polar?-y:y)&&(g[e]||(g[e]=new re.PlotLineOrBand(r)),t=e+y,g[e].options={from:s?l(t):t,to:s?l(n):n,color:v},g[e].render(),g[e].isActive=!0)}),r._addedPlotLB||(Be((a.plotLines||[]).concat(a.plotBands||[]),function(e){r.addPlotBandOrLine(e)}),r._addedPlotLB=!0)),Be([d,p,g],function(e){var t,n,r=[],o=S.duration;for(t in e)e[t].isActive||(e[t].render(t,!1,0),e[t].isActive=!1,r.push(t));f(function(){for(n=r.length;n--;)e[r[n]]&&!e[r[n]].isActive&&(e[r[n]].destroy(),delete e[r[n]])},e!==g&&i.hasRendered&&o?o:0)}),b&&(e=r.getLinePath(b),r.axisLine?r.axisLine.animate({d:e}):r.axisLine=o.path(e).attr({stroke:a.lineColor,"stroke-width":b,zIndex:7}).add(r.axisGroup),r.axisLine[x?"show":"hide"](!0)),h&&x&&(h[h.isNew?"attr":"animate"](r.getTitlePosition()),h.isNew=!1),m&&m.enabled&&r.renderStackTotals(),r.isDirty=!1},redraw:function(){this.visible&&(this.render(),Be(this.plotLinesAndBands,function(e){e.render()})),Be(this.series,function(e){e.isDirty=!0})},destroy:function(e){var t,n=this,r=n.stacks,i=n.plotLinesAndBands;e||We(n);for(t in r)$(r[t]),r[t]=null;for(Be([n.ticks,n.minorTicks,n.alternateBands],function(e){$(e)}),e=i.length;e--;)i[e].destroy();Be("stackTotalGroup,axisLine,axisTitle,axisGroup,gridGroup,labelGroup,cross".split(","),function(e){n[e]&&(n[e]=n[e].destroy())}),this._addedPlotLB=this.chart._labelPanes=this.ordinalSlope=void 0},drawCrosshair:function(e,t){var n,r,i,o=this.crosshair;e||(e=this.cross&&this.cross.e),this.crosshair&&!1!==(l(t)||!Je(o.snap,!0))?(Je(o.snap,!0)?l(t)&&(n=this.isXAxis?t.plotX:this.len-t.plotY):n=this.horiz?e.chartX-this.pos:this.len-e.chartY+this.pos,null===(n=this.isRadial?this.getPlotLinePath(this.isXAxis?t.x:Je(t.stackY,t.y))||null:this.getPlotLinePath(null,null,null,null,n)||null)?this.hideCrosshair():(r=this.categories&&!this.isRadial,i=Je(o.width,r?this.transA:1),this.cross?this.cross.attr({d:n,visibility:"visible","stroke-width":i}):(r={"pointer-events":"none","stroke-width":i,stroke:o.color||(r?"rgba(155,200,255,0.2)":"#C0C0C0"),zIndex:Je(o.zIndex,2)},o.dashStyle&&(r.dashstyle=o.dashStyle),this.cross=this.chart.renderer.path(n).attr(r).add()),this.cross.e=e)):this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}},Xe(at.prototype,{getPlotBandPath:function(e,t){var n=this.getPlotLinePath(t,null,null,!0),r=this.getPlotLinePath(e,null,null,!0);return r&&n?(r.flat=r.toString()===n.toString(),r.push(n[4],n[5],n[1],n[2])):r=null,r},addPlotBand:function(e){return this.addPlotBandOrLine(e,"plotBands")},addPlotLine:function(e){return this.addPlotBandOrLine(e,"plotLines")},addPlotBandOrLine:function(e,t){var n=new re.PlotLineOrBand(this,e).render(),r=this.userOptions;return n&&(t&&(r[t]=r[t]||[],r[t].push(e)),this.plotLinesAndBands.push(n)),n},removePlotBandOrLine:function(e){for(var t=this.plotLinesAndBands,n=this.options,r=this.userOptions,i=t.length;i--;)t[i].id===e&&t[i].destroy();Be([n.plotLines||[],r.plotLines||[],n.plotBands||[],r.plotBands||[]],function(t){for(i=t.length;i--;)t[i].id===e&&s(t,t[i])})}}),at.prototype.getTimeTicks=function(e,t,n,r){var i,o=[],a={},s=I.global.useUTC,u=new F(t-m(t)),c=e.unitRange,f=e.count;if(l(t)){u[K](c>=B.second?0:f*se(u.getMilliseconds()/f)),c>=B.second&&u[Z](c>=B.minute?0:f*se(u.getSeconds()/f)),c>=B.minute&&u[J](c>=B.hour?0:f*se(u[W]()/f)),c>=B.hour&&u[Q](c>=B.day?0:f*se(u[V]()/f)),c>=B.day&&u[ee](c>=B.month?1:f*se(u[Y]()/f)),c>=B.month&&(u[te](c>=B.year?0:f*se(u[G]()/f)),i=u[X]()),c>=B.year&&(i-=i%f,u[ne](i)),c===B.week&&u[ee](u[Y]()-u[q]()+Je(r,1)),t=1,(H||U)&&(u=u.getTime(),u=new F(u+m(u))),i=u[X]();for(var r=u.getTime(),h=u[G](),d=u[Y](),p=!s||!!U,g=(B.day+(s?m(u):6e4*u.getTimezoneOffset()))%B.day;r<n;)o.push(r),c===B.year?r=j(i+t*f,0):c===B.month?r=j(i,h+t*f):!p||c!==B.day&&c!==B.week?r+=c*f:r=j(i,h,d+t*f*(c===B.day?1:7)),t++;o.push(r),Be(Fe(o,function(e){return c<=B.hour&&e%B.day===g}),function(e){a[e]="day"})}return o.info=Xe(e,{higherRanks:a,totalRange:c*f}),o},at.prototype.normalizeTimeTickInterval=function(e,t){var n,r=t||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],i=r[r.length-1],o=B[i[0]],a=i[1];for(n=0;n<r.length&&(i=r[n],o=B[i[0]],a=i[1],!(r[n+1]&&e<=(o*a[a.length-1]+B[r[n+1][0]])/2));n++);return o===B.year&&e<5*o&&(a=[1,2,5]),r=b(e/o,a,"year"===i[0]?ue(y(e/o),1):1),{unitRange:o,count:r,unitName:i[0]}},at.prototype.getLogTickPositions=function(e,t,n,r){var i=this.options,o=this.len,a=this.lin2log,s=this.log2lin,l=[];if(r||(this._minorAutoInterval=null),e>=.5)e=ae(e),l=this.getLinearTickPositions(e,t,n);else if(e>=.08)for(var u,c,f,h,d,o=se(t),i=e>.3?[1,2,4]:e>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];o<n+1&&!d;o++)for(c=i.length,u=0;u<c&&!d;u++)f=s(a(o)*i[u]),f>t&&(!r||h<=n)&&h!==R&&l.push(h),h>n&&(d=!0),h=f;else t=a(t),n=a(n),e=i[r?"minorTickInterval":"tickInterval"],e=Je("auto"===e?null:e,this._minorAutoInterval,(n-t)*(i.tickPixelInterval/(r?5:1))/((r?o/this.tickPositions.length:o)||1)),e=b(e,null,y(e)),l=He(this.getLinearTickPositions(e,t,n),s),r||(this._minorAutoInterval=e/5);return r||(this.tickInterval=e),l},at.prototype.log2lin=function(e){return oe.log(e)/oe.LN10},at.prototype.lin2log=function(e){return oe.pow(10,e)};var st=re.Tooltip=function(){this.init.apply(this,arguments)};st.prototype={init:function(e,t){var n=t.borderWidth,r=t.style,o=i(r.padding);this.chart=e,this.options=t,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=e.renderer.label("",0,0,t.shape||"callout",null,null,t.useHTML,null,"tooltip").attr({padding:o,fill:t.backgroundColor,"stroke-width":n,r:t.borderRadius,zIndex:8,display:"none"}).css(r).css({padding:0}).add(),ke||this.label.shadow(t.shadow),this.shared=t.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(e,t,n,r){var i=this,o=i.now,a=!1!==i.options.animation&&!i.isHidden&&(fe(e-o.x)>1||fe(t-o.y)>1),s=i.followPointer||i.len>1;Xe(o,{x:a?(2*o.x+e)/3:e,y:a?(o.y+t)/2:t,anchorX:s?R:a?(2*o.anchorX+n)/3:n,anchorY:s?R:a?(o.anchorY+r)/2:r}),i.label.attr(o),a&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){i&&i.move(e,t,n,r)},32))},hide:function(e){var t=this;clearTimeout(this.hideTimer),e=Je(e,this.options.hideDelay,500),this.isHidden||(this.hideTimer=f(function(){t.label[e?"fadeOut":"hide"](),t.isHidden=!0},e))},getAnchor:function(e,t){var n,r,i,o=this.chart,a=o.inverted,s=o.plotTop,l=o.plotLeft,u=0,f=0,e=c(e);return n=e[0].tooltipPos,this.followPointer&&t&&(t.chartX===R&&(t=o.pointer.normalize(t)),n=[t.chartX-o.plotLeft,t.chartY-s]),n||(Be(e,function(e){r=e.series.yAxis,i=e.series.xAxis,u+=e.plotX+(!a&&i?i.left-l:0),f+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!a&&r?r.top-s:0)}),u/=e.length,f/=e.length,n=[a?o.plotWidth-f:u,this.shared&&!a&&e.length>1&&t?t.chartY-s:a?o.plotHeight-u:f]),He(n,ae)},getPosition:function(e,t,n){var r,i=this.chart,o=this.distance,a={},s=n.h||0,l=["y",i.chartHeight,t,n.plotY+i.plotTop,i.plotTop,i.plotTop+i.plotHeight],u=["x",i.chartWidth,e,n.plotX+i.plotLeft,i.plotLeft,i.plotLeft+i.plotWidth],c=!this.followPointer&&Je(n.ttBelow,!i.inverted==!!n.negative),f=function(e,t,n,r,i,l){var u=n<r-o,f=r+o+n<t,h=r-o-n;if(r+=o,c&&f)a[e]=r;else if(!c&&u)a[e]=h;else if(u)a[e]=ce(l-n,h-s<0?h:h-s);else{if(!f)return!1;a[e]=ue(i,r+s+n>t?r:r+s)}},h=function(e,t,n,r){var i;return r<o||r>t-o?i=!1:a[e]=r<n/2?1:r>t-n/2?t-n-2:r-n/2,i},d=function(e){var t=l;l=u,u=t,r=e},p=function(){!1!==f.apply(0,l)?!1===h.apply(0,u)&&!r&&(d(!0),p()):r?a.x=a.y=0:(d(!0),p())};return(i.inverted||this.len>1)&&d(),p(),a},defaultFormatter:function(e){var t,n=this.points||c(this);return t=[e.tooltipFooterHeaderFormatter(n[0])],t=t.concat(e.bodyFormatter(n)),t.push(e.tooltipFooterHeaderFormatter(n[0],!0)),t.join("")},refresh:function(e,t){var n,r,i,o,a=this.chart,s=this.label,l=this.options,u={},f=[];o=l.formatter||this.defaultFormatter;var h,u=a.hoverPoints,d=this.shared;clearTimeout(this.hideTimer),this.followPointer=c(e)[0].series.tooltipOptions.followPointer,i=this.getAnchor(e,t),n=i[0],r=i[1],!d||e.series&&e.series.noSharedTooltip?u=e.getLabelConfig():(a.hoverPoints=e,u&&Be(u,function(e){e.setState()}),Be(e,function(e){e.setState("hover"),f.push(e.getLabelConfig())}),u={x:e[0].category,y:e[0].y},u.points=f,this.len=f.length,e=e[0]),o=o.call(u,this),u=e.series,this.distance=Je(u.tooltipOptions.distance,16),!1===o?this.hide():(this.isHidden&&(Ye(s),s.attr({opacity:1,display:"block"}).show()),s.attr({text:o}),h=l.borderColor||e.color||u.color||"#606060",s.attr({stroke:h}),this.updatePosition({plotX:n,plotY:r,negative:e.negative,ttBelow:e.ttBelow,h:i[2]||0}),this.isHidden=!1),Ve(a,"tooltipRefresh",{text:o,x:n+a.plotLeft,y:r+a.plotTop,borderColor:h})},updatePosition:function(e){var t=this.chart,n=this.label,n=(this.options.positioner||this.getPosition).call(this,n.width,n.height,e);this.move(ae(n.x),ae(n.y||0),e.plotX+t.plotLeft,e.plotY+t.plotTop)},getXDateFormat:function(e,t,n){var r,i,o,t=t.dateTimeLabelFormats,a=n&&n.closestPointRange,s={millisecond:15,second:12,minute:9,hour:6,day:3},l="millisecond";if(a){o=z("%m-%d %H:%M:%S.%L",e.x);for(i in B){if(a===B.week&&+z("%w",e.x)===n.options.startOfWeek&&"00:00:00.000"===o.substr(6)){i="week";break}if(B[i]>a){i=l;break}if(s[i]&&o.substr(s[i])!=="01-01 00:00:00.000".substr(s[i]))break;"week"!==i&&(l=i)}i&&(r=t[i])}else r=t.day;return r||t.year},tooltipFooterHeaderFormatter:function(e,t){var n=t?"footer":"header",r=e.series,i=r.tooltipOptions,o=i.xDateFormat,a=r.xAxis,s=a&&"datetime"===a.options.type&&Ze(e.key),n=i[n+"Format"];return s&&!o&&(o=this.getXDateFormat(e,i,a)),s&&o&&(n=n.replace("{point.key}","{point.key:"+o+"}")),v(n,{point:e,series:r})},bodyFormatter:function(e){return He(e,function(e){var t=e.series.tooltipOptions;return(t.pointFormatter||e.point.tooltipFormatter).call(e.point,t.pointFormat)})}};var lt;N=ie&&ie.documentElement.ontouchstart!==R;var ut=re.Pointer=function(e,t){this.init(e,t)};if(ut.prototype={init:function(e,t){var n,r=t.chart,i=r.events,o=ke?"":r.zoomType,r=e.inverted;this.options=t,
this.chart=e,this.zoomX=n=/x/.test(o),this.zoomY=o=/y/.test(o),this.zoomHor=n&&!r||o&&r,this.zoomVert=o&&!r||n&&r,this.hasZoom=n||o,this.runChartClick=i&&!!i.click,this.pinchDown=[],this.lastValidTouch={},re.Tooltip&&t.tooltip.enabled&&(e.tooltip=new st(e,t.tooltip),this.followTouchMove=Je(t.tooltip.followTouchMove,!0)),this.setDOMEvents()},normalize:function(t,n){var r,i,t=t||e.event;return t.target||(t.target=t.srcElement),i=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,n||(this.chartPosition=n=je(this.chart.container)),i.pageX===R?(r=ue(t.x,t.clientX-n.left),i=t.y):(r=i.pageX-n.left,i=i.pageY-n.top),Xe(t,{chartX:ae(r),chartY:ae(i)})},getCoordinates:function(e){var t={xAxis:[],yAxis:[]};return Be(this.chart.axes,function(n){t[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(e[n.horiz?"chartX":"chartY"])})}),t},runPointActions:function(e){var t,n,r,i,o=this.chart,a=o.series,s=o.tooltip,l=!!s&&s.shared,u=!0,c=o.hoverPoint,f=o.hoverSeries,h=[];if(!l&&!f)for(t=0;t<a.length;t++)!a[t].directTouch&&a[t].options.stickyTracking||(a=[]);if(f&&(l?f.noSharedTooltip:f.directTouch)&&c?h=[c]:(!l&&f&&!f.options.stickyTracking&&(a=[f]),Be(a,function(t){n=t.noSharedTooltip&&l,r=!l&&t.directTouch,t.visible&&!n&&!r&&Je(t.options.enableMouseTracking,!0)&&(i=t.searchPoint(e,!n&&1===t.kdDimensions))&&i.series&&h.push(i)}),h.sort(function(e,t){var n=e.distX-t.distX,r=e.dist-t.dist,i=e.series.group.zIndex>t.series.group.zIndex?-1:1;return 0!==n?n:0!==r?r:i})),l)for(t=h.length;t--;)(h[t].clientX!==h[0].clientX||h[t].series.noSharedTooltip)&&h.splice(t,1);if(h[0]&&(h[0]!==this.hoverPoint||s&&s.isHidden)){if(l&&!h[0].series.noSharedTooltip){for(t=0;t>=0;t--)h[t].onMouseOver(e,h[t]!==(f&&f.directTouch&&c||h[0]));f&&f.directTouch&&c&&c!==h[0]&&c.onMouseOver(e,!1),h.length&&s&&s.refresh(h.sort(function(e,t){return e.series.index-t.series.index}),e)}else s&&s.refresh(h[0],e),f&&f.directTouch||h[0].onMouseOver(e);this.prevKDPoint=h[0],u=!1}u&&(a=f&&f.tooltipOptions.followPointer,s&&a&&!s.isHidden&&(a=s.getAnchor([{}],e),s.updatePosition({plotX:a[0],plotY:a[1]}))),this._onDocumentMouseMove||(this._onDocumentMouseMove=function(e){Me[lt]&&Me[lt].pointer.onDocumentMouseMove(e)},Ue(ie,"mousemove",this._onDocumentMouseMove)),Be(l?h:[Je(c,h[0])],function(t){Be(o.axes,function(n){(!t||t.series&&t.series[n.coll]===n)&&n.drawCrosshair(e,t)})})},reset:function(e,t){var n=this.chart,r=n.hoverSeries,i=n.hoverPoint,o=n.hoverPoints,a=n.tooltip,s=a&&a.shared?o:i;e&&s&&Be(c(s),function(t){t.series.isCartesian&&void 0===t.plotX&&(e=!1)}),e?a&&s&&(a.refresh(s),i&&(i.setState(i.state,!0),Be(n.axes,function(e){e.crosshair&&e.drawCrosshair(null,i)}))):(i&&i.onMouseOut(),o&&Be(o,function(e){e.setState()}),r&&r.onMouseOut(),a&&a.hide(t),this._onDocumentMouseMove&&(We(ie,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null),Be(n.axes,function(e){e.hideCrosshair()}),this.hoverX=this.prevKDPoint=n.hoverPoints=n.hoverPoint=null)},scaleGroups:function(e,t){var n,r=this.chart;Be(r.series,function(i){n=e||i.getPlotBox(),i.xAxis&&i.xAxis.zoomEnabled&&(i.group.attr(n),i.markerGroup&&(i.markerGroup.attr(n),i.markerGroup.clip(t?r.clipRect:null)),i.dataLabelsGroup&&i.dataLabelsGroup.attr(n))}),r.clipRect.attr(t||r.clipBox)},dragStart:function(e){var t=this.chart;t.mouseIsDown=e.type,t.cancelClick=!1,t.mouseDownX=this.mouseDownX=e.chartX,t.mouseDownY=this.mouseDownY=e.chartY},drag:function(e){var t,n=this.chart,r=n.options.chart,i=e.chartX,o=e.chartY,a=this.zoomHor,s=this.zoomVert,l=n.plotLeft,u=n.plotTop,c=n.plotWidth,f=n.plotHeight,h=this.selectionMarker,d=this.mouseDownX,p=this.mouseDownY,g=r.panKey&&e[r.panKey+"Key"];h&&h.touch||(i<l?i=l:i>l+c&&(i=l+c),o<u?o=u:o>u+f&&(o=u+f),this.hasDragged=Math.sqrt(Math.pow(d-i,2)+Math.pow(p-o,2)),this.hasDragged>10&&(t=n.isInsidePlot(d-l,p-u),n.hasCartesianSeries&&(this.zoomX||this.zoomY)&&t&&!g&&!h&&(this.selectionMarker=h=n.renderer.rect(l,u,a?1:c,s?1:f,0).attr({fill:r.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),h&&a&&(i-=d,h.attr({width:fe(i),x:(i>0?0:i)+d})),h&&s&&(i=o-p,h.attr({height:fe(i),y:(i>0?0:i)+p})),t&&!h&&r.panning&&n.pan(e,r.panning)))},drop:function(e){var t=this,n=this.chart,r=this.hasPinched;if(this.selectionMarker){var i,o={originalEvent:e,xAxis:[],yAxis:[]},a=this.selectionMarker,s=a.attr?a.attr("x"):a.x,u=a.attr?a.attr("y"):a.y,c=a.attr?a.attr("width"):a.width,f=a.attr?a.attr("height"):a.height;(this.hasDragged||r)&&(Be(n.axes,function(n){if(n.zoomEnabled&&l(n.min)&&(r||t[{xAxis:"zoomX",yAxis:"zoomY"}[n.coll]])){var a=n.horiz,h="touchend"===e.type?n.minPixelPadding:0,d=n.toValue((a?s:u)+h),a=n.toValue((a?s+c:u+f)-h);o[n.coll].push({axis:n,min:ce(d,a),max:ue(d,a)}),i=!0}}),i&&Ve(n,"selection",o,function(e){n.zoom(Xe(e,r?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),r&&this.scaleGroups()}n&&(h(n.container,{cursor:n._cursor}),n.cancelClick=this.hasDragged>10,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(e){e=this.normalize(e),e.preventDefault&&e.preventDefault(),this.dragStart(e)},onDocumentMouseUp:function(e){Me[lt]&&Me[lt].pointer.drop(e)},onDocumentMouseMove:function(e){var t=this.chart,n=this.chartPosition,e=this.normalize(e,n);n&&!this.inClass(e.target,"highcharts-tracker")&&!t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)&&this.reset()},onContainerMouseLeave:function(e){var t=Me[lt];t&&(e.relatedTarget||e.toElement)&&(t.pointer.reset(),t.pointer.chartPosition=null)},onContainerMouseMove:function(e){var t=this.chart;l(lt)&&Me[lt]&&Me[lt].mouseIsDown||(lt=t.index),e=this.normalize(e),e.returnValue=!1,"mousedown"===t.mouseIsDown&&this.drag(e),(this.inClass(e.target,"highcharts-tracker")||t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop))&&!t.openMenu&&this.runPointActions(e)},inClass:function(e,t){for(var n;e;){if(n=u(e,"class")){if(-1!==n.indexOf(t))return!0;if(-1!==n.indexOf("highcharts-container"))return!1}e=e.parentNode}},onTrackerMouseOut:function(e){var t=this.chart.hoverSeries,e=e.relatedTarget||e.toElement;!t||!e||t.options.stickyTracking||this.inClass(e,"highcharts-tooltip")||this.inClass(e,"highcharts-series-"+t.index)||t.onMouseOut()},onContainerClick:function(e){var t=this.chart,n=t.hoverPoint,r=t.plotLeft,i=t.plotTop,e=this.normalize(e);t.cancelClick||(n&&this.inClass(e.target,"highcharts-tracker")?(Ve(n.series,"click",Xe(e,{point:n})),t.hoverPoint&&n.firePointEvent("click",e)):(Xe(e,this.getCoordinates(e)),t.isInsidePlot(e.chartX-r,e.chartY-i)&&Ve(t,"click",e)))},setDOMEvents:function(){var e=this,t=e.chart.container;t.onmousedown=function(t){e.onContainerMouseDown(t)},t.onmousemove=function(t){e.onContainerMouseMove(t)},t.onclick=function(t){e.onContainerClick(t)},Ue(t,"mouseleave",e.onContainerMouseLeave),1===De&&Ue(ie,"mouseup",e.onDocumentMouseUp),N&&(t.ontouchstart=function(t){e.onContainerTouchStart(t)},t.ontouchmove=function(t){e.onContainerTouchMove(t)},1===De&&Ue(ie,"touchend",e.onDocumentTouchEnd))},destroy:function(){var e;We(this.chart.container,"mouseleave",this.onContainerMouseLeave),De||(We(ie,"mouseup",this.onDocumentMouseUp),We(ie,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(e in this)this[e]=null}},Xe(re.Pointer.prototype,{pinchTranslate:function(e,t,n,r,i,o){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,e,t,n,r,i,o),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,e,t,n,r,i,o)},pinchTranslateDirection:function(e,t,n,r,i,o,a,s){var l,u,c,f=this.chart,h=e?"x":"y",d=e?"X":"Y",p="chart"+d,g=e?"width":"height",m=f["plot"+(e?"Left":"Top")],v=s||1,y=f.inverted,b=f.bounds[e?"h":"v"],w=1===t.length,x=t[0][p],S=n[0][p],$=!w&&t[1][p],C=!w&&n[1][p],n=function(){!w&&fe(x-$)>20&&(v=s||fe(S-C)/fe(x-$)),u=(m-S)/v+x,l=f["plot"+(e?"Width":"Height")]/v};n(),t=u,t<b.min?(t=b.min,c=!0):t+l>b.max&&(t=b.max-l,c=!0),c?(S-=.8*(S-a[h][0]),w||(C-=.8*(C-a[h][1])),n()):a[h]=[S,C],y||(o[h]=u-m,o[g]=l),o=y?1/v:v,i[g]=l,i[h]=t,r[y?e?"scaleY":"scaleX":"scale"+d]=v,r["translate"+d]=o*m+(S-o*x)},pinch:function(e){var t=this,n=t.chart,r=t.pinchDown,i=e.touches,o=i.length,a=t.lastValidTouch,s=t.hasZoom,l=t.selectionMarker,u={},c=1===o&&(t.inClass(e.target,"highcharts-tracker")&&n.runTrackerClick||t.runChartClick),f={};o>1&&(t.initiated=!0),s&&t.initiated&&!c&&e.preventDefault(),He(i,function(e){return t.normalize(e)}),"touchstart"===e.type?(Be(i,function(e,t){r[t]={chartX:e.chartX,chartY:e.chartY}}),a.x=[r[0].chartX,r[1]&&r[1].chartX],a.y=[r[0].chartY,r[1]&&r[1].chartY],Be(n.axes,function(e){if(e.zoomEnabled){var t=n.bounds[e.horiz?"h":"v"],r=e.minPixelPadding,i=e.toPixels(Je(e.options.min,e.dataMin)),o=e.toPixels(Je(e.options.max,e.dataMax)),a=ce(i,o),i=ue(i,o);t.min=ce(e.pos,a-r),t.max=ue(e.pos+e.len,i+r)}}),t.res=!0):r.length&&(l||(t.selectionMarker=l=Xe({destroy:Ee,touch:!0},n.plotBox)),t.pinchTranslate(r,i,u,l,f,a),t.hasPinched=s,t.scaleGroups(u,f),!s&&t.followTouchMove&&1===o?this.runPointActions(t.normalize(e)):t.res&&(t.res=!1,this.reset(!1,0)))},touch:function(e,t){var n,r=this.chart;lt=r.index,1===e.touches.length?(e=this.normalize(e),r.isInsidePlot(e.chartX-r.plotLeft,e.chartY-r.plotTop)&&!r.openMenu?(t&&this.runPointActions(e),"touchmove"===e.type&&(r=this.pinchDown,n=!!r[0]&&Math.sqrt(Math.pow(r[0].chartX-e.chartX,2)+Math.pow(r[0].chartY-e.chartY,2))>=4),Je(n,!0)&&this.pinch(e)):t&&this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchStart:function(e){this.touch(e,!0)},onContainerTouchMove:function(e){this.touch(e)},onDocumentTouchEnd:function(e){Me[lt]&&Me[lt].pointer.drop(e)}}),e.PointerEvent||e.MSPointerEvent){var ct={},ft=!!e.PointerEvent,ht=function(){var e,t=[];t.item=function(e){return this[e]};for(e in ct)ct.hasOwnProperty(e)&&t.push({pageX:ct[e].pageX,pageY:ct[e].pageY,target:ct[e].target});return t},dt=function(e,t,n,r){"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!Me[lt]||(r(e),r=Me[lt].pointer,r[t]({type:n,target:e.currentTarget,preventDefault:Ee,touches:ht()}))};Xe(ut.prototype,{onContainerPointerDown:function(e){dt(e,"onContainerTouchStart","touchstart",function(e){ct[e.pointerId]={pageX:e.pageX,pageY:e.pageY,target:e.currentTarget}})},onContainerPointerMove:function(e){dt(e,"onContainerTouchMove","touchmove",function(e){ct[e.pointerId]={pageX:e.pageX,pageY:e.pageY},ct[e.pointerId].target||(ct[e.pointerId].target=e.currentTarget)})},onDocumentPointerUp:function(e){dt(e,"onDocumentTouchEnd","touchend",function(e){delete ct[e.pointerId]})},batchMSEvents:function(e){e(this.chart.container,ft?"pointerdown":"MSPointerDown",this.onContainerPointerDown),e(this.chart.container,ft?"pointermove":"MSPointerMove",this.onContainerPointerMove),e(ie,ft?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),Qe(ut.prototype,"init",function(e,t,n){e.call(this,t,n),this.hasZoom&&h(t.container,{"-ms-touch-action":"none","touch-action":"none"})}),Qe(ut.prototype,"setDOMEvents",function(e){e.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(Ue)}),Qe(ut.prototype,"destroy",function(e){this.batchMSEvents(We),e.call(this)})}var pt=re.Legend=function(e,t){this.init(e,t)};pt.prototype={init:function(e,t){var n=this,i=t.itemStyle,o=t.itemMarginTop||0;this.options=t,t.enabled&&(n.itemStyle=i,n.itemHiddenStyle=r(i,t.itemHiddenStyle),n.itemMarginTop=o,n.padding=i=Je(t.padding,8),n.initialItemX=i,n.initialItemY=i-5,n.maxItemWidth=0,n.chart=e,n.itemHeight=0,n.symbolWidth=Je(t.symbolWidth,16),n.pages=[],n.render(),Ue(n.chart,"endResize",function(){n.positionCheckboxes()}))},colorizeItem:function(e,t){var n,r=this.options,i=e.legendItem,o=e.legendLine,a=e.legendSymbol,s=this.itemHiddenStyle.color,r=t?r.itemStyle.color:s,l=t?e.legendColor||e.color||"#CCC":s,s=e.options&&e.options.marker,u={fill:l};if(i&&i.css({fill:r,color:r}),o&&o.attr({stroke:l}),a){if(s&&a.isMarker)for(n in u.stroke=l,s=e.convertAttribs(s))(i=s[n])!==R&&(u[n]=i);a.attr(u)}},positionItem:function(e){var t=this.options,n=t.symbolPadding,t=!t.rtl,r=e._legendItemPos,i=r[0],r=r[1],o=e.checkbox;(e=e.legendGroup)&&e.element&&e.translate(t?i:this.legendWidth-i-2*n-4,r),o&&(o.x=i,o.y=r)},destroyItem:function(e){var t=e.checkbox;Be(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){e[t]&&(e[t]=e[t].destroy())}),t&&C(e.checkbox)},destroy:function(){var e=this.group,t=this.box;t&&(this.box=t.destroy()),e&&(this.group=e.destroy())},positionCheckboxes:function(e){var t,n=this.group.alignAttr,r=this.clipHeight||this.legendHeight,i=this.titleHeight;n&&(t=n.translateY,Be(this.allItems,function(o){var a,s=o.checkbox;s&&(a=t+i+s.y+(e||0)+3,h(s,{left:n.translateX+o.checkboxOffset+s.x-20+"px",top:a+"px",display:a>t-6&&a<t+r-6?"":"none"}))}))},renderTitle:function(){var e=this.padding,t=this.options.title,n=0;t.text&&(this.title||(this.title=this.chart.renderer.label(t.text,e-3,e-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(t.style).add(this.group)),e=this.title.getBBox(),n=e.height,this.offsetWidth=e.width,this.contentGroup.attr({translateY:n})),this.titleHeight=n},setText:function(e){var t=this.options;e.legendItem.attr({text:t.labelFormat?v(t.labelFormat,e):t.labelFormatter.call(e)})},renderItem:function(e){var t=this.chart,n=t.renderer,i=this.options,o="horizontal"===i.layout,a=this.symbolWidth,s=i.symbolPadding,l=this.itemStyle,u=this.itemHiddenStyle,c=this.padding,f=o?Je(i.itemDistance,20):0,h=!i.rtl,d=i.width,p=i.itemMarginBottom||0,g=this.itemMarginTop,m=this.initialItemX,v=e.legendItem,y=e.series&&e.series.drawLegendSymbol?e.series:e,b=y.options,b=this.createCheckboxForItem&&b&&b.showCheckbox,w=i.useHTML;v||(e.legendGroup=n.g("legend-item").attr({zIndex:1}).add(this.scrollGroup),e.legendItem=v=n.text("",h?a+s:-s,this.baseline||0,w).css(r(e.visible?l:u)).attr({align:h?"left":"right",zIndex:2}).add(e.legendGroup),this.baseline||(this.fontMetrics=n.fontMetrics(l.fontSize,v),this.baseline=this.fontMetrics.f+3+g,v.attr("y",this.baseline)),y.drawLegendSymbol(this,e),this.setItemEvents&&this.setItemEvents(e,v,w,l,u),b&&this.createCheckboxForItem(e)),this.colorizeItem(e,e.visible),this.setText(e),n=v.getBBox(),a=e.checkboxOffset=i.itemWidth||e.legendItemWidth||a+s+n.width+f+(b?20:0),this.itemHeight=s=ae(e.legendItemHeight||n.height),o&&this.itemX-m+a>(d||t.chartWidth-2*c-m-i.x)&&(this.itemX=m,this.itemY+=g+this.lastLineHeight+p,this.lastLineHeight=0),this.maxItemWidth=ue(this.maxItemWidth,a),this.lastItemY=g+this.itemY+p,this.lastLineHeight=ue(s,this.lastLineHeight),e._legendItemPos=[this.itemX,this.itemY],o?this.itemX+=a:(this.itemY+=g+s+p,this.lastLineHeight=s),this.offsetWidth=d||ue((o?this.itemX-m-f:a)+c,this.offsetWidth)},getAllItems:function(){var e=[];return Be(this.chart.series,function(t){var n=t.options;Je(n.showInLegend,!l(n.linkedTo)&&R,!0)&&(e=e.concat(t.legendItems||("point"===n.legendType?t.data:t)))}),e},adjustMargins:function(e,t){var n=this.chart,r=this.options,i=r.align.charAt(0)+r.verticalAlign.charAt(0)+r.layout.charAt(0);r.floating||Be([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(o,a){o.test(i)&&!l(e[a])&&(n[Ne[a]]=ue(n[Ne[a]],n.legend[(a+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][a]*r[a%2?"x":"y"]+Je(r.margin,12)+t[a]))})},render:function(){var e,t,n,r,i=this,o=i.chart,a=o.renderer,s=i.group,l=i.box,u=i.options,c=i.padding,f=u.borderWidth,h=u.backgroundColor;i.itemX=i.initialItemX,i.itemY=i.initialItemY,i.offsetWidth=0,i.lastItemY=0,s||(i.group=s=a.g("legend").attr({zIndex:7}).add(),i.contentGroup=a.g().attr({zIndex:1}).add(s),i.scrollGroup=a.g().add(i.contentGroup)),i.renderTitle(),e=i.getAllItems(),w(e,function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)}),u.reversed&&e.reverse(),i.allItems=e,i.display=t=!!e.length,i.lastLineHeight=0,Be(e,function(e){i.renderItem(e)}),n=(u.width||i.offsetWidth)+c,r=i.lastItemY+i.lastLineHeight+i.titleHeight,r=i.handleOverflow(r),r+=c,(f||h)&&(l?n>0&&r>0&&(l[l.isNew?"attr":"animate"](l.crisp({width:n,height:r})),l.isNew=!1):(i.box=l=a.rect(0,0,n,r,u.borderRadius,f||0).attr({stroke:u.borderColor,"stroke-width":f||0,fill:h||"none"}).add(s).shadow(u.shadow),l.isNew=!0),l[t?"show":"hide"]()),i.legendWidth=n,i.legendHeight=r,Be(e,function(e){i.positionItem(e)}),t&&s.align(Xe({width:n,height:r},u),!0,"spacingBox"),o.isResizing||this.positionCheckboxes()},handleOverflow:function(e){var t,n,r=this,i=this.chart,o=i.renderer,a=this.options,s=a.y,s=i.spacingBox.height+("top"===a.verticalAlign?-s:s)-this.padding,l=a.maxHeight,u=this.clipRect,c=a.navigation,f=Je(c.animation,!0),h=c.arrowSize||12,d=this.nav,p=this.pages,g=this.padding,m=this.allItems,v=function(e){u.attr({height:e}),r.contentGroup.div&&(r.contentGroup.div.style.clip="rect("+g+"px,9999px,"+(g+e)+"px,0)")};return"horizontal"===a.layout&&(s/=2),l&&(s=ce(s,l)),p.length=0,e>s&&!1!==c.enabled?(this.clipHeight=t=ue(s-20-this.titleHeight-g,0),this.currentPage=Je(this.currentPage,1),this.fullHeight=e,Be(m,function(e,r){var i=e._legendItemPos[1],o=ae(e.legendItem.getBBox().height),a=p.length;(!a||i-p[a-1]>t&&(n||i)!==p[a-1])&&(p.push(n||i),a++),r===m.length-1&&i+o-p[a-1]>t&&p.push(i),i!==n&&(n=i)}),u||(u=r.clipRect=o.clipRect(0,g,9999,0),r.contentGroup.clip(u)),v(t),d||(this.nav=d=o.g().attr({zIndex:1}).add(this.group),this.up=o.symbol("triangle",0,0,h,h).on("click",function(){r.scroll(-1,f)}).add(d),this.pager=o.text("",15,10).css(c.style).add(d),this.down=o.symbol("triangle-down",0,0,h,h).on("click",function(){r.scroll(1,f)}).add(d)),r.scroll(0),e=s):d&&(v(i.chartHeight),d.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),e},scroll:function(e,t){var n=this.pages,r=n.length,i=this.currentPage+e,o=this.clipHeight,a=this.options.navigation,s=a.activeColor,a=a.inactiveColor,l=this.pager,u=this.padding;i>r&&(i=r),i>0&&(t!==R&&k(t,this.chart),this.nav.attr({translateX:u,translateY:o+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:1===i?a:s}).css({cursor:1===i?"default":"pointer"}),l.attr({text:i+"/"+r}),this.down.attr({x:18+this.pager.getBBox().width,fill:i===r?a:s}).css({cursor:i===r?"default":"pointer"}),n=-n[i-1]+this.initialItemY,this.scrollGroup.animate({translateY:n}),this.currentPage=i,this.positionCheckboxes(n))}},rt=re.LegendSymbolMixin={drawRectangle:function(e,t){var n=e.options.symbolHeight||e.fontMetrics.f;t.legendSymbol=this.chart.renderer.rect(0,e.baseline-n+1,e.symbolWidth,n,e.options.symbolRadius||0).attr({zIndex:3}).add(t.legendGroup)},drawLineMarker:function(e){var t,n=this.options,r=n.marker,i=e.symbolWidth,o=this.chart.renderer,a=this.legendGroup,e=e.baseline-ae(.3*e.fontMetrics.b);n.lineWidth&&(t={"stroke-width":n.lineWidth},n.dashStyle&&(t.dashstyle=n.dashStyle),this.legendLine=o.path([Re,0,e,Oe,i,e]).attr(t).add(a)),r&&!1!==r.enabled&&(n=r.radius,this.legendSymbol=r=o.symbol(this.symbol,i/2-n,e-n,2*n,2*n,r).add(a),r.isMarker=!0)}},(/Trident\/7\.0/.test(me)||xe)&&Qe(pt.prototype,"positionItem",function(e,t){var n=this,r=function(){t._legendItemPos&&e.call(n,t)};r(),setTimeout(r)});var gt=re.Chart=function(){this.getArgs.apply(this,arguments)};re.chart=function(e,t,n){return new gt(e,t,n)},gt.prototype={callbacks:[],getArgs:function(){var e=[].slice.call(arguments);(o(e[0])||e[0].nodeName)&&(this.renderTo=e.shift()),this.init(e[0],e[1])},init:function(e,t){var n,i=e.series;e.series=null,n=r(I,e),n.series=e.series=i,this.userOptions=e,i=n.chart,this.margin=this.splashArray("margin",i),this.spacing=this.splashArray("spacing",i);var o=i.events;this.bounds={h:{},v:{}},this.callback=t,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.hasCartesianSeries=i.showAxes;var a,s=this;if(s.index=Me.length,Me.push(s),De++,!1!==i.reflow&&Ue(s,"load",function(){s.initReflow()}),o)for(a in o)Ue(s,a,o[a]);s.xAxis=[],s.yAxis=[],s.animation=!ke&&Je(i.animation,!0),s.pointCount=s.colorCounter=s.symbolCounter=0,s.firstRender()},initSeries:function(e){var n=this.options.chart;return(n=Le[e.type||n.type||n.defaultSeriesType])||t(17,!0),n=new n,n.init(this,e),n},isInsidePlot:function(e,t,n){var r=n?t:e,e=n?e:t;return r>=0&&r<=this.plotWidth&&e>=0&&e<=this.plotHeight},redraw:function(e){var t,n,r=this.axes,i=this.series,o=this.pointer,a=this.legend,s=this.isDirtyLegend,l=this.hasCartesianSeries,u=this.isDirtyBox,c=i.length,f=c,h=this.renderer,d=h.isHidden(),p=[];for(k(e,this),d&&this.cloneRenderTo(),this.layOutTitles();f--;)if(e=i[f],e.options.stacking&&(t=!0,e.isDirty)){n=!0;break}if(n)for(f=c;f--;)e=i[f],e.options.stacking&&(e.isDirty=!0);Be(i,function(e){e.isDirty&&"point"===e.options.legendType&&(e.updateTotals&&e.updateTotals(),s=!0),e.isDirtyData&&Ve(e,"updatedData")}),s&&a.options.enabled&&(a.render(),this.isDirtyLegend=!1),t&&this.getStacks(),l&&!this.isResizing&&(this.maxTicks=null,Be(r,function(e){e.updateNames(),e.setScale()})),this.getMargins(),l&&(Be(r,function(e){e.isDirty&&(u=!0)}),Be(r,function(e){var n=e.min+","+e.max;e.extKey!==n&&(e.extKey=n,p.push(function(){Ve(e,"afterSetExtremes",Xe(e.eventArgs,e.getExtremes())),delete e.eventArgs})),(u||t)&&e.redraw()})),u&&this.drawChartBox(),Be(i,function(e){e.isDirty&&e.visible&&(!e.isCartesian||e.xAxis)&&e.redraw()}),o&&o.reset(!0),h.draw(),Ve(this,"redraw"),d&&this.cloneRenderTo(!0),Be(p,function(e){e.call()})},get:function(e){var t,n,r=this.axes,i=this.series;for(t=0;t<r.length;t++)if(r[t].options.id===e)return r[t];for(t=0;t<i.length;t++)if(i[t].options.id===e)return i[t];for(t=0;t<i.length;t++)for(n=i[t].points||[],r=0;r<n.length;r++)if(n[r].id===e)return n[r];return null},getAxes:function(){var e=this,t=this.options,n=t.xAxis=c(t.xAxis||{}),t=t.yAxis=c(t.yAxis||{});Be(n,function(e,t){e.index=t,e.isX=!0}),Be(t,function(e,t){e.index=t}),n=n.concat(t),Be(n,function(t){new at(e,t)})},getSelectedPoints:function(){var e=[];return Be(this.series,function(t){e=e.concat(Fe(t.points||[],function(e){return e.selected}))}),e},getSelectedSeries:function(){return Fe(this.series,function(e){return e.selected})},setTitle:function(e,t,n){var i,o,a=this,s=a.options;o=s.title=r(s.title,e),i=s.subtitle=r(s.subtitle,t),s=i,Be([["title",e,o],["subtitle",t,s]],function(e){var t=e[0],n=a[t],r=e[1],e=e[2];n&&r&&(a[t]=n=n.destroy()),e&&e.text&&!n&&(a[t]=a.renderer.text(e.text,0,0,e.useHTML).attr({align:e.align,class:"highcharts-"+t,zIndex:e.zIndex||4}).css(e.style).add())}),a.layOutTitles(n)},layOutTitles:function(e){var t=0,n=this.title,r=this.subtitle,i=this.options,o=i.title,i=i.subtitle,a=this.renderer,s=this.spacingBox;!n||(n.css({width:(o.width||s.width+o.widthAdjust)+"px"}).align(Xe({y:a.fontMetrics(o.style.fontSize,n).b-3},o),!1,s),o.floating||o.verticalAlign)||(t=n.getBBox().height),r&&(r.css({width:(i.width||s.width+i.widthAdjust)+"px"}).align(Xe({y:t+(o.margin-13)+a.fontMetrics(i.style.fontSize,n).b},i),!1,s),!i.floating&&!i.verticalAlign&&(t=le(t+r.getBBox().height))),n=this.titleOffset!==t,this.titleOffset=t,!this.isDirtyBox&&n&&(this.isDirtyBox=n,this.hasRendered&&Je(e,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=this.options.chart,t=e.width,e=e.height,n=this.renderToClone||this.renderTo;l(t)||(this.containerWidth=Ie(n,"width")),l(e)||(this.containerHeight=Ie(n,"height")),this.chartWidth=ue(0,t||this.containerWidth||600),this.chartHeight=ue(0,Je(e,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(e){var t=this.renderToClone,n=this.container;if(e){if(t){for(;t.childNodes.length;)this.renderTo.appendChild(t.firstChild);C(t),delete this.renderToClone}}else n&&n.parentNode===this.renderTo&&this.renderTo.removeChild(n),this.renderToClone=t=this.renderTo.cloneNode(0),h(t,{position:"absolute",top:"-9999px",display:"block"}),t.style.setProperty&&t.style.setProperty("display","block","important"),ie.body.appendChild(t),n&&t.appendChild(n)},getContainer:function(){var e,n,r,a=this.options,s=a.chart;e=this.renderTo;var l="highcharts-"+Te++;e||(this.renderTo=e=s.renderTo),o(e)&&(this.renderTo=e=ie.getElementById(e)),e||t(13,!0),n=i(u(e,"data-highcharts-chart")),Ze(n)&&Me[n]&&Me[n].hasRendered&&Me[n].destroy(),u(e,"data-highcharts-chart",this.index),e.innerHTML="",!s.skipClone&&!e.offsetWidth&&this.cloneRenderTo(),this.getChartSize(),n=this.chartWidth,r=this.chartHeight,this.container=e=d(Pe,{className:"highcharts-container"+(s.className?" "+s.className:""),id:l},Xe({position:"relative",overflow:"hidden",width:n+"px",height:r+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},s.style),this.renderToClone||e),this._cursor=e.style.cursor,this.renderer=new(re[s.renderer]||O)(e,n,r,s.style,s.forExport,a.exporting&&a.exporting.allowHTML),ke&&this.renderer.create(this,e,n,r),this.renderer.chartIndex=this.index},getMargins:function(e){var t=this.spacing,n=this.margin,r=this.titleOffset;this.resetMargins(),r&&!l(n[0])&&(this.plotTop=ue(this.plotTop,r+this.options.title.margin+t[0])),this.legend.display&&this.legend.adjustMargins(n,t),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),e||this.getAxisMargins()},getAxisMargins:function(){var e=this,t=e.axisOffset=[0,0,0,0],n=e.margin;e.hasCartesianSeries&&Be(e.axes,function(e){e.visible&&e.getOffset()}),Be(Ne,function(r,i){l(n[i])||(e[r]+=t[i])}),e.setChartSize()},reflow:function(t){var n=this,r=n.options.chart,i=n.renderTo,o=l(r.width),a=r.width||Ie(i,"width"),r=r.height||Ie(i,"height"),i=t?t.target:e;o||n.isPrinting||!a||!r||i!==e&&i!==ie||(a===n.containerWidth&&r===n.containerHeight||(clearTimeout(n.reflowTimeout),n.reflowTimeout=f(function(){n.container&&n.setSize(void 0,void 0,!1)},t?100:0)),n.containerWidth=a,n.containerHeight=r)},initReflow:function(){var t=this,n=function(e){t.reflow(e)};Ue(e,"resize",n),Ue(t,"destroy",function(){We(e,"resize",n)})},setSize:function(e,t,n){var r=this,i=r.renderer;r.isResizing+=1,k(n,r),r.oldChartHeight=r.chartHeight,r.oldChartWidth=r.chartWidth,void 0!==e&&(r.options.chart.width=e),void 0!==t&&(r.options.chart.height=t),r.getChartSize(),e=i.globalAnimation,(e?qe:h)(r.container,{width:r.chartWidth+"px",height:r.chartHeight+"px"},e),r.setChartSize(!0),i.setSize(r.chartWidth,r.chartHeight,n),r.maxTicks=null,Be(r.axes,function(e){e.isDirty=!0,e.setScale()}),Be(r.series,function(e){e.isDirty=!0}),r.isDirtyLegend=!0,r.isDirtyBox=!0,r.layOutTitles(),r.getMargins(),r.redraw(n),r.oldChartHeight=null,Ve(r,"resize"),f(function(){r&&Ve(r,"endResize",null,function(){r.isResizing-=1})},_(e).duration)},setChartSize:function(e){var t,n,r,i,o=this.inverted,a=this.renderer,s=this.chartWidth,l=this.chartHeight,u=this.options.chart,c=this.spacing,f=this.clipOffset;this.plotLeft=t=ae(this.plotLeft),this.plotTop=n=ae(this.plotTop),this.plotWidth=r=ue(0,ae(s-t-this.marginRight)),this.plotHeight=i=ue(0,ae(l-n-this.marginBottom)),this.plotSizeX=o?i:r,this.plotSizeY=o?r:i,this.plotBorderWidth=u.plotBorderWidth||0,this.spacingBox=a.spacingBox={x:c[3],y:c[0],width:s-c[3]-c[1],height:l-c[0]-c[2]},this.plotBox=a.plotBox={x:t,y:n,width:r,height:i},s=2*se(this.plotBorderWidth/2),o=le(ue(s,f[3])/2),a=le(ue(s,f[0])/2),this.clipBox={x:o,y:a,width:se(this.plotSizeX-ue(s,f[1])/2-o),height:ue(0,se(this.plotSizeY-ue(s,f[2])/2-a))},e||Be(this.axes,function(e){e.setAxisSize(),e.setAxisTranslation()})},resetMargins:function(){var e=this;Be(Ne,function(t,n){e[t]=Je(e.margin[n],e.spacing[n])}),e.axisOffset=[0,0,0,0],e.clipOffset=[0,0,0,0]},drawChartBox:function(){var e,t=this.options.chart,n=this.renderer,r=this.chartWidth,i=this.chartHeight,o=this.chartBackground,a=this.plotBackground,s=this.plotBorder,l=this.plotBGImage,u=t.borderWidth||0,c=t.backgroundColor,f=t.plotBackgroundColor,h=t.plotBackgroundImage,d=t.plotBorderWidth||0,p=this.plotLeft,g=this.plotTop,m=this.plotWidth,v=this.plotHeight,y=this.plotBox,b=this.clipRect,w=this.clipBox;e=u+(t.shadow?8:0),(u||c)&&(o?o.animate(o.crisp({width:r-e,height:i-e})):(o={fill:c||"none"},u&&(o.stroke=t.borderColor,o["stroke-width"]=u),this.chartBackground=n.rect(e/2,e/2,r-e,i-e,t.borderRadius,u).attr(o).addClass("highcharts-background").add().shadow(t.shadow))),f&&(a?a.animate(y):this.plotBackground=n.rect(p,g,m,v,0).attr({fill:f}).add().shadow(t.plotShadow)),h&&(l?l.animate(y):this.plotBGImage=n.image(h,p,g,m,v).add()),b?b.animate({width:w.width,height:w.height}):this.clipRect=n.clipRect(w),d&&(s?(s.strokeWidth=-d,s.animate(s.crisp({x:p,y:g,width:m,height:v}))):this.plotBorder=n.rect(p,g,m,v,0,-d).attr({stroke:t.plotBorderColor,"stroke-width":d,fill:"none",zIndex:1}).add()),this.isDirtyBox=!1},propFromSeries:function(){var e,t,n,r=this,i=r.options.chart,o=r.options.series;Be(["inverted","angular","polar"],function(a){for(e=Le[i.type||i.defaultSeriesType],n=r[a]||i[a]||e&&e.prototype[a],t=o&&o.length;!n&&t--;)(e=Le[o[t].type])&&e.prototype[a]&&(n=!0);r[a]=n})},linkSeries:function(){var e=this,t=e.series;Be(t,function(e){e.linkedSeries.length=0}),Be(t,function(t){var n=t.options.linkedTo;o(n)&&(n=":previous"===n?e.series[t.index-1]:e.get(n))&&n.linkedParent!==t&&(n.linkedSeries.push(t),t.linkedParent=n,t.visible=Je(t.options.visible,n.options.visible,t.visible))})},renderSeries:function(){Be(this.series,function(e){e.translate(),e.render()})},renderLabels:function(){var e=this,t=e.options.labels;t.items&&Be(t.items,function(n){var r=Xe(t.style,n.style),o=i(r.left)+e.plotLeft,a=i(r.top)+e.plotTop+12;delete r.left,delete r.top,e.renderer.text(n.html,o,a).attr({zIndex:2}).css(r).add()})},render:function(){var e,t,n,r,i=this.axes,o=this.renderer,a=this.options;this.setTitle(),this.legend=new pt(this,a.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),e=this.plotWidth,t=this.plotHeight-=21,Be(i,function(e){e.setScale()}),this.getAxisMargins(),n=e/this.plotWidth>1.1,r=t/this.plotHeight>1.05,(n||r)&&(this.maxTicks=null,Be(i,function(e){(e.horiz&&n||!e.horiz&&r)&&e.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&Be(i,function(e){e.visible&&e.render()}),this.seriesGroup||(this.seriesGroup=o.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.showCredits(a.credits),this.hasRendered=!0},showCredits:function(t){t.enabled&&!this.credits&&(this.credits=this.renderer.text(t.text,0,0).on("click",function(){t.href&&(e.location.href=t.href)}).attr({align:t.position.align,zIndex:8}).css(t.style).add().align(t.position))},destroy:function(){var e,t=this,n=t.axes,r=t.series,i=t.container,o=i&&i.parentNode;for(Ve(t,"destroy"),Me[t.index]=R,De--,t.renderTo.removeAttribute("data-highcharts-chart"),We(t),e=n.length;e--;)n[e]=n[e].destroy();for(e=r.length;e--;)r[e]=r[e].destroy();Be("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(e){var n=t[e];n&&n.destroy&&(t[e]=n.destroy())}),i&&(i.innerHTML="",We(i),o&&C(i));for(e in t)delete t[e]},isReadyToRender:function(){var t=this;return!(!Ce&&e==e.top&&"complete"!==ie.readyState||ke&&!e.canvg)||(ke?ot.push(function(){t.firstRender()},t.options.global.canvasToolsURL):ie.attachEvent("onreadystatechange",function(){ie.detachEvent("onreadystatechange",t.firstRender),"complete"===ie.readyState&&t.firstRender()}),!1)},firstRender:function(){var e=this,t=e.options;e.isReadyToRender()&&(e.getContainer(),Ve(e,"init"),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),Be(t.series||[],function(t){e.initSeries(t)}),e.linkSeries(),Ve(e,"beforeRender"),re.Pointer&&(e.pointer=new ut(e,t)),e.render(),e.renderer.draw(),!e.renderer.imgCount&&e.onload&&e.onload(),e.cloneRenderTo(!0))},onload:function(){var e=this;Be([this.callback].concat(this.callbacks),function(t){t&&void 0!==e.index&&t.apply(e,[e])}),Ve(e,"load"),this.onload=null},splashArray:function(e,t){var n=t[e],n=Ke(n)?n:[n,n,n,n];return[Je(t[e+"Top"],n[0]),Je(t[e+"Right"],n[1]),Je(t[e+"Bottom"],n[2]),Je(t[e+"Left"],n[3])]}};var it=re.CenteredSeriesMixin={getCenter:function(){
var e,t,n=this.options,r=this.chart,i=2*(n.slicedOffset||0),o=r.plotWidth-2*i,r=r.plotHeight-2*i,a=n.center,a=[Je(a[0],"50%"),Je(a[1],"50%"),n.size||"100%",n.innerSize||0],s=ce(o,r);for(e=0;e<4;++e)t=a[e],n=e<2||2===e&&/%$/.test(t),a[e]=(/%$/.test(t)?[o,r,s,a[2]][e]*parseFloat(t)/100:parseFloat(t))+(n?i:0);return a[3]>a[2]&&(a[3]=a[2]),a}},mt=function(){};mt.prototype={init:function(e,t,n){return this.series=e,this.color=e.color,this.applyOptions(t,n),this.pointAttr={},e.options.colorByPoint&&(t=e.options.colors||e.chart.options.colors,this.color=this.color||t[e.colorCounter++],e.colorCounter===t.length)&&(e.colorCounter=0),e.chart.pointCount++,this},applyOptions:function(e,t){var n=this.series,r=n.options.pointValKey||n.pointValKey,e=mt.prototype.optionsToObject.call(this,e);return Xe(this,e),this.options=this.options?Xe(this.options,e):e,e.group&&delete this.group,r&&(this.y=this[r]),this.isNull=Je(this.isValid&&!this.isValid(),null===this.x||!Ze(this.y,!0)),"name"in this&&void 0===t&&n.xAxis&&n.xAxis.hasNames&&(this.x=n.xAxis.nameToX(this)),void 0===this.x&&n&&(this.x=void 0===t?n.autoIncrement(this):t),this},optionsToObject:function(e){var t={},n=this.series,r=n.options.keys,i=r||n.pointArrayMap||["y"],o=i.length,s=0,l=0;if(Ze(e)||null===e)t[i[0]]=e;else if(a(e))for(!r&&e.length>o&&(n=typeof e[0],"string"===n?t.name=e[0]:"number"===n&&(t.x=e[0]),s++);l<o;)r&&void 0===e[s]||(t[i[l]]=e[s]),s++,l++;else"object"==typeof e&&(t=e,e.dataLabels&&(n._hasPointLabels=!0),e.marker&&(n._hasPointMarkers=!0));return t},destroy:function(){var e,t=this.series.chart,n=t.hoverPoints;t.pointCount--,n&&(this.setState(),s(n,this),!n.length)&&(t.hoverPoints=null),this===t.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(We(this),this.destroyElements()),this.legendItem&&t.legend.destroyItem(this);for(e in this)this[e]=null},destroyElements:function(){for(var e,t=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],n=6;n--;)e=t[n],this[e]&&(this[e]=this[e].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(e){var t=this.series,n=t.tooltipOptions,r=Je(n.valueDecimals,""),i=n.valuePrefix||"",o=n.valueSuffix||"";return Be(t.pointArrayMap||["y"],function(t){t="{point."+t,(i||o)&&(e=e.replace(t+"}",i+t+"}"+o)),e=e.replace(t+"}",t+":,."+r+"f}")}),v(e,{point:this,series:this.series})},firePointEvent:function(e,t,n){var r=this,i=this.series.options;(i.point.events[e]||r.options&&r.options.events&&r.options.events[e])&&this.importEvents(),"click"===e&&i.allowPointSelect&&(n=function(e){r.select&&r.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}),Ve(this,e,t,n)},visible:!0};var vt=re.Series=function(){};vt.prototype={isCartesian:!0,type:"line",pointClass:mt,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(e,t){var n,r,i=this,o=e.series,a=function(e,t){return Je(e.options.index,e._i)-Je(t.options.index,t._i)};i.chart=e,i.options=t=i.setOptions(t),i.linkedSeries=[],i.bindAxes(),Xe(i,{name:t.name,state:"",pointAttr:{},visible:!1!==t.visible,selected:!0===t.selected}),ke&&(t.animation=!1),r=t.events;for(n in r)Ue(i,n,r[n]);(r&&r.click||t.point&&t.point.events&&t.point.events.click||t.allowPointSelect)&&(e.runTrackerClick=!0),i.getColor(),i.getSymbol(),Be(i.parallelArrays,function(e){i[e+"Data"]=[]}),i.setData(t.data,!1),i.isCartesian&&(e.hasCartesianSeries=!0),o.push(i),i._i=o.length-1,w(o,a),this.yAxis&&w(this.yAxis.series,a),Be(o,function(e,t){e.index=t,e.name=e.name||"Series "+(t+1)})},bindAxes:function(){var e,n=this,r=n.options,i=n.chart;Be(n.axisTypes||[],function(o){Be(i[o],function(t){e=t.options,(r[o]===e.index||r[o]!==R&&r[o]===e.id||r[o]===R&&0===e.index)&&(t.series.push(n),n[o]=t,t.isDirty=!0)}),!n[o]&&n.optionalAxis!==o&&t(18,!0)})},updateParallelArrays:function(e,t){var n=e.series,r=arguments,i=Ze(t)?function(r){var i="y"===r&&n.toYData?n.toYData(e):e[r];n[r+"Data"][t]=i}:function(e){Array.prototype[t].apply(n[e+"Data"],Array.prototype.slice.call(r,2))};Be(n.parallelArrays,i)},autoIncrement:function(){var e,t=this.options,n=this.xIncrement,r=t.pointIntervalUnit,n=Je(n,t.pointStart,0);return this.pointInterval=e=Je(this.pointInterval,t.pointInterval,1),r&&(t=new F(n),"day"===r?t=+t[ee](t[Y]()+e):"month"===r?t=+t[te](t[G]()+e):"year"===r&&(t=+t[ne](t[X]()+e)),e=t-n),this.xIncrement=n+e,n},setOptions:function(e){var t=this.chart,n=t.options.plotOptions,t=t.userOptions||{},i=t.plotOptions||{},o=n[this.type];return this.userOptions=e,n=r(o,n.series,e),this.tooltipOptions=r(I.tooltip,I.plotOptions[this.type].tooltip,t.tooltip,i.series&&i.series.tooltip,i[this.type]&&i[this.type].tooltip,e.tooltip),null===o.marker&&delete n.marker,this.zoneAxis=n.zoneAxis,e=this.zones=(n.zones||[]).slice(),!n.negativeColor&&!n.negativeFillColor||n.zones||e.push({value:n[this.zoneAxis+"Threshold"]||n.threshold||0,color:n.negativeColor,fillColor:n.negativeFillColor}),e.length&&l(e[e.length-1].value)&&e.push({color:this.color,fillColor:this.fillColor}),n},getCyclic:function(e,t,n){var r=this.userOptions,i="_"+e+"Index",o=e+"Counter";t||(l(r[i])?t=r[i]:(r[i]=t=this.chart[o]%n.length,this.chart[o]+=1),t=n[t]),this[e]=t},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||et[this.type].color,this.chart.options.colors)},getSymbol:function(){var e=this.options.marker;this.getCyclic("symbol",e.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(e.radius=0)},drawLegendSymbol:rt.drawLineMarker,setData:function(e,n,r,i){var s,l=this,u=l.points,c=u&&u.length||0,f=l.options,h=l.chart,d=null,p=l.xAxis,g=f.turboThreshold,m=this.xData,v=this.yData,y=(s=l.pointArrayMap)&&s.length,e=e||[];if(s=e.length,n=Je(n,!0),!1!==i&&s&&c===s&&!l.cropped&&!l.hasGroupedData&&l.visible)Be(e,function(e,t){u[t].update&&e!==f.data[t]&&u[t].update(e,!1,null,!1)});else{if(l.xIncrement=null,l.colorCounter=0,Be(this.parallelArrays,function(e){l[e+"Data"].length=0}),g&&s>g){for(r=0;null===d&&r<s;)d=e[r],r++;if(Ze(d))for(r=0;r<s;r++)m[r]=this.autoIncrement(),v[r]=e[r];else if(a(d))if(y)for(r=0;r<s;r++)d=e[r],m[r]=d[0],v[r]=d.slice(1,y+1);else for(r=0;r<s;r++)d=e[r],m[r]=d[0],v[r]=d[1];else t(12)}else for(r=0;r<s;r++)e[r]!==R&&(d={series:l},l.pointClass.prototype.applyOptions.apply(d,[e[r]]),l.updateParallelArrays(d,r));for(o(v[0])&&t(14,!0),l.data=[],l.options.data=l.userOptions.data=e,r=c;r--;)u[r]&&u[r].destroy&&u[r].destroy();p&&(p.minRange=p.userMinRange),l.isDirty=l.isDirtyData=h.isDirtyBox=!0,r=!1}"point"===f.legendType&&(this.processData(),this.generatePoints()),n&&h.redraw(r)},processData:function(e){var n,r=this.xData,i=this.yData,o=r.length;n=0;var a,s,l,u=this.xAxis,c=this.options;l=c.cropThreshold;var f,h,d=this.getExtremesFromAll||c.getExtremesFromAll,p=this.isCartesian,c=u&&u.val2lin,g=u&&u.isLog;if(p&&!this.isDirty&&!u.isDirty&&!this.yAxis.isDirty&&!e)return!1;for(u&&(e=u.getExtremes(),f=e.min,h=e.max),p&&this.sorted&&!d&&(!l||o>l||this.forceCrop)&&(r[o-1]<f||r[0]>h?(r=[],i=[]):(r[0]<f||r[o-1]>h)&&(n=this.cropData(this.xData,this.yData,f,h),r=n.xData,i=n.yData,n=n.start,a=!0)),l=r.length||1;--l;)o=g?c(r[l])-c(r[l-1]):r[l]-r[l-1],o>0&&(s===R||o<s)?s=o:o<0&&this.requireSorting&&t(15);this.cropped=a,this.cropStart=n,this.processedXData=r,this.processedYData=i,this.closestPointRange=s},cropData:function(e,t,n,r){var i,o=e.length,a=0,s=o,l=Je(this.cropShoulder,1);for(i=0;i<o;i++)if(e[i]>=n){a=ue(0,i-l);break}for(n=i;n<o;n++)if(e[n]>r){s=n+l;break}return{xData:e.slice(a,s),yData:t.slice(a,s),start:a,end:s}},generatePoints:function(){var e,t,n,r,i=this.options.data,o=this.data,a=this.processedXData,s=this.processedYData,l=this.pointClass,u=a.length,f=this.cropStart||0,h=this.hasGroupedData,d=[];for(o||h||(o=[],o.length=i.length,o=this.data=o),r=0;r<u;r++)t=f+r,h?(d[r]=(new l).init(this,[a[r]].concat(c(s[r]))),d[r].dataGroup=this.groupMap[r]):(o[t]?n=o[t]:i[t]!==R&&(o[t]=n=(new l).init(this,i[t],a[r])),d[r]=n),d[r].index=t;if(o&&(u!==(e=o.length)||h))for(r=0;r<e;r++)r===f&&!h&&(r+=u),o[r]&&(o[r].destroyElements(),o[r].plotX=R);this.data=o,this.points=d},getExtremes:function(e){var t,n=this.yAxis,r=this.processedXData,i=[],o=0;t=this.xAxis.getExtremes();var s,l,u,c,f=t.min,h=t.max,e=e||this.stackedYData||this.processedYData||[];for(t=e.length,c=0;c<t;c++)if(l=r[c],u=e[c],s=(Ze(u,!0)||a(u))&&(!n.isLog||u.length||u>0),l=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(r[c+1]||l)>=f&&(r[c-1]||l)<=h,s&&l)if(s=u.length)for(;s--;)null!==u[s]&&(i[o++]=u[s]);else i[o++]=u;this.dataMin=x(i),this.dataMax=S(i)},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var e,t,n,r,i=this.options,o=i.stacking,a=this.xAxis,s=a.categories,u=this.yAxis,c=this.points,f=c.length,h=!!this.modifyValue,d=i.pointPlacement,p="between"===d||Ze(d),g=i.threshold,m=i.startFromThreshold?g:0,v=Number.MAX_VALUE,i=0;i<f;i++){var y=c[i],b=y.x,w=y.y;t=y.low;var x,S=o&&u.stacks[(this.negStacks&&w<(m?0:g)?"-":"")+this.stackKey];u.isLog&&null!==w&&w<=0&&(y.isNull=!0),y.plotX=e=A(ce(ue(-1e5,a.translate(b,0,0,0,1,d,"flags"===this.type)),1e5)),o&&this.visible&&!y.isNull&&S&&S[b]&&(r=this.getStackIndicator(r,b,this.index),x=S[b],w=x.points[r.key],t=w[0],w=w[1],t===m&&r.key===S[b].base&&(t=Je(g,u.min)),u.isLog&&t<=0&&(t=null),y.total=y.stackTotal=x.total,y.percentage=x.total&&y.y/x.total*100,y.stackY=w,x.setOffset(this.pointXOffset||0,this.barW||0)),y.yBottom=l(t)?u.translate(t,0,1,0,1):null,h&&(w=this.modifyValue(w,y)),y.plotY=t="number"==typeof w&&w!==1/0?ce(ue(-1e5,u.translate(w,0,1,0,1)),1e5):R,y.isInside=t!==R&&t>=0&&t<=u.len&&e>=0&&e<=a.len,y.clientX=p?A(a.translate(b,0,0,0,1,d)):e,y.negative=y.y<(g||0),y.category=s&&s[y.x]!==R?s[y.x]:y.x,y.isNull||(void 0!==n&&(v=ce(v,fe(e-n))),n=e)}this.closestPointRangePx=v},getValidPoints:function(e,t){var n=this.chart;return Fe(e||this.points||[],function(e){return!(t&&!n.isInsidePlot(e.plotX,e.plotY,n.inverted))&&!e.isNull})},setClip:function(e){var t=this.chart,n=this.options,r=t.renderer,i=t.inverted,o=this.clipBox,a=o||t.clipBox,s=this.sharedClipKey||["_sharedClip",e&&e.duration,e&&e.easing,a.height,n.xAxis,n.yAxis].join(","),l=t[s],u=t[s+"m"];l||(e&&(a.width=0,t[s+"m"]=u=r.clipRect(-99,i?-t.plotLeft:-t.plotTop,99,i?t.chartWidth:t.chartHeight)),t[s]=l=r.clipRect(a),l.count={length:0}),e&&!l.count[this.index]&&(l.count[this.index]=!0,l.count.length+=1),!1!==n.clip&&(this.group.clip(e||o?l:t.clipRect),this.markerGroup.clip(u),this.sharedClipKey=s),e||(l.count[this.index]&&(delete l.count[this.index],l.count.length-=1),0===l.count.length&&s&&t[s]&&(o||(t[s]=t[s].destroy()),t[s+"m"]&&(t[s+"m"]=t[s+"m"].destroy())))},animate:function(e){var t,n=this.chart,r=_(this.options.animation);e?this.setClip(r):(t=this.sharedClipKey,(e=n[t])&&e.animate({width:n.plotSizeX},r),n[t+"m"]&&n[t+"m"].animate({width:n.plotSizeX+99},r),this.animate=null)},afterAnimate:function(){this.setClip(),Ve(this,"afterAnimate")},drawPoints:function(){var e,t,n,r,i,o,a,s,l,u,c,f,h=this.points,d=this.chart,p=this.options.marker,g=this.pointAttr[""],m=this.markerGroup,v=Je(p.enabled,this.xAxis.isRadial,this.closestPointRangePx>2*p.radius);if(!1!==p.enabled||this._hasPointMarkers)for(r=h.length;r--;)i=h[r],t=se(i.plotX),n=i.plotY,l=i.graphic,u=i.marker||{},c=!!i.marker,e=v&&u.enabled===R||u.enabled,f=i.isInside,e&&Ze(n)&&null!==i.y?(e=i.pointAttr[i.selected?"select":""]||g,o=e.r,a=Je(u.symbol,this.symbol),s=0===a.indexOf("url"),l?l[f?"show":"hide"](!0).attr(e).animate(Xe({x:t-o,y:n-o},l.symbolName?{width:2*o,height:2*o}:{})):f&&(o>0||s)&&(i.graphic=d.renderer.symbol(a,t-o,n-o,2*o,2*o,c?u:p).attr(e).add(m))):l&&(i.graphic=l.destroy())},convertAttribs:function(e,t,n,r){var i,o,a=this.pointAttrToOptions,s={},e=e||{},t=t||{},n=n||{},r=r||{};for(i in a)o=a[i],s[i]=Je(e[o],t[i],n[i],r[i]);return s},getAttribs:function(){var e,t,n,r=this,i=r.options,o=et[r.type].marker?i.marker:i,a=o.states,s=a.hover,u=r.color,c=r.options.negativeColor,f={stroke:u,fill:u},h=r.points||[],d=[],p=r.pointAttrToOptions;e=r.hasPointSpecificOptions;var g=o.lineColor,m=o.fillColor;t=i.turboThreshold;var v,y,b=r.zones,w=r.zoneAxis||"y";if(i.marker?(s.radius=+s.radius||+o.radius+ +s.radiusPlus,s.lineWidth=s.lineWidth||o.lineWidth+s.lineWidthPlus):(s.color=s.color||E(s.color||u).brighten(s.brightness).get(),s.negativeColor=s.negativeColor||E(s.negativeColor||c).brighten(s.brightness).get()),d[""]=r.convertAttribs(o,f),Be(["hover","select"],function(e){d[e]=r.convertAttribs(a[e],d[""])}),r.pointAttr=d,u=h.length,!t||u<t||e)for(;u--;){if(t=h[u],(o=t.options&&t.options.marker||t.options)&&!1===o.enabled&&(o.radius=0),f=null,b.length){for(e=0,f=b[e];t[w]>=f.value;)f=b[++e];t.color=t.fillColor=f=Je(f.color,r.color)}if(e=i.colorByPoint||t.color,t.options)for(y in p)l(o[p[y]])&&(e=!0);e?(o=o||{},n=[],a=o.states||{},e=a.hover=a.hover||{},i.marker&&(!t.negative||e.fillColor||s.fillColor)||(e[r.pointAttrToOptions.fill]=e.color||!t.options.color&&s[t.negative&&c?"negativeColor":"color"]||E(t.color).brighten(e.brightness||s.brightness).get()),v={color:t.color},m||(v.fillColor=t.color),g||(v.lineColor=t.color),o.hasOwnProperty("color")&&!o.color&&delete o.color,f&&!s.fillColor&&(e.fillColor=f),n[""]=r.convertAttribs(Xe(v,o),d[""]),n.hover=r.convertAttribs(a.hover,d.hover,n[""]),n.select=r.convertAttribs(a.select,d.select,n[""])):n=d,t.pointAttr=n}},destroy:function(){var e,t,n,r,i=this,o=i.chart,a=/AppleWebKit\/533/.test(me),l=i.data||[];for(Ve(i,"destroy"),We(i),Be(i.axisTypes||[],function(e){(r=i[e])&&(s(r.series,i),r.isDirty=r.forceRedraw=!0)}),i.legendItem&&i.chart.legend.destroyItem(i),e=l.length;e--;)(t=l[e])&&t.destroy&&t.destroy();i.points=null,clearTimeout(i.animationTimeout);for(n in i)i[n]instanceof M&&!i[n].survive&&(e=a&&"group"===n?"hide":"destroy",i[n][e]());o.hoverSeries===i&&(o.hoverSeries=null),s(o.series,i);for(n in i)delete i[n]},getGraphPath:function(e,t,n){var r,i,o=this,a=o.options,s=a.step,u=[],c=[],e=e||o.points;return(r=e.reversed)&&e.reverse(),(s={right:1,center:2}[s]||s&&3)&&r&&(s=4-s),a.connectNulls&&!t&&!n&&(e=this.getValidPoints(e)),Be(e,function(r,f){var h=r.plotX,d=r.plotY,p=e[f-1];(r.leftCliff||p&&p.rightCliff)&&!n&&(i=!0),r.isNull&&!l(t)&&f>0?i=!a.connectNulls:r.isNull&&!t?i=!0:(0===f||i?p=[Re,r.plotX,r.plotY]:o.getPointSpline?p=o.getPointSpline(e,r,f):s?(p=1===s?[Oe,p.plotX,d]:2===s?[Oe,(p.plotX+h)/2,p.plotY,Oe,(p.plotX+h)/2,d]:[Oe,h,p.plotY],p.push(Oe,h,d)):p=[Oe,h,d],c.push(r.x),s&&c.push(r.x),u.push.apply(u,p),i=!1)}),u.xMap=c,o.graphPath=u},drawGraph:function(){var e=this,t=this.options,n=[["graph",t.lineColor||this.color,t.dashStyle]],r=t.lineWidth,i="square"!==t.linecap,o=(this.gappedPath||this.getGraphPath).call(this);Be(this.zones,function(r,i){n.push(["zoneGraph"+i,r.color||e.color,r.dashStyle||t.dashStyle])}),Be(n,function(n,a){var s=n[0],l=e[s];l?(l.endX=o.xMap,l.animate({d:o})):r&&o.length&&(l={stroke:n[1],"stroke-width":r,fill:"none",zIndex:1},n[2]?l.dashstyle=n[2]:i&&(l["stroke-linecap"]=l["stroke-linejoin"]="round"),l=e[s]=e.chart.renderer.path(o).attr(l).add(e.group).shadow(a<2&&t.shadow)),l&&(l.startX=o.xMap,l.isArea=o.isArea)})},applyZones:function(){var e,t,n,r,i,o,a,s,l,u=this,c=this.chart,f=c.renderer,h=this.zones,d=this.clips||[],p=this.graph,g=this.area,m=ue(c.chartWidth,c.chartHeight),v=this[(this.zoneAxis||"y")+"Axis"],y=c.inverted,b=!1;h.length&&(p||g)&&v&&v.min!==R&&(i=v.reversed,o=v.horiz,p&&p.hide(),g&&g.hide(),r=v.getExtremes(),Be(h,function(h,w){e=i?o?c.plotWidth:0:o?0:v.toPixels(r.min),e=ce(ue(Je(t,e),0),m),t=ce(ue(ae(v.toPixels(Je(h.value,r.max),!0)),0),m),b&&(e=t=v.toPixels(r.max)),a=Math.abs(e-t),s=ce(e,t),l=ue(e,t),v.isXAxis?(n={x:y?l:s,y:0,width:a,height:m},o||(n.x=c.plotHeight-n.x)):(n={x:0,y:y?l:s,width:m,height:a},o&&(n.y=c.plotWidth-n.y)),y&&f.isVML&&(n=v.isXAxis?{x:0,y:i?s:l,height:n.width,width:c.chartWidth}:{x:n.y-c.plotLeft-c.spacingBox.x,y:0,width:n.height,height:c.chartHeight}),d[w]?d[w].animate(n):(d[w]=f.clipRect(n),p&&u["zoneGraph"+w].clip(d[w]),g&&u["zoneArea"+w].clip(d[w])),b=h.value>r.max}),this.clips=d)},invertGroups:function(){function e(){var e={width:t.yAxis.len,height:t.xAxis.len};Be(["group","markerGroup"],function(n){t[n]&&t[n].attr(e).invert()})}var t=this,n=t.chart;t.xAxis&&(Ue(n,"resize",e),Ue(t,"destroy",function(){We(n,"resize",e)}),e(),t.invertGroups=e)},plotGroup:function(e,t,n,r,i){var o=this[e],a=!o;return a&&(this[e]=o=this.chart.renderer.g(t).attr({zIndex:r||.1}).add(i),o.addClass("highcharts-series-"+this.index)),o.attr({visibility:n})[a?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){var e=this.chart,t=this.xAxis,n=this.yAxis;return e.inverted&&(t=n,n=this.xAxis),{translateX:t?t.left:e.plotLeft,translateY:n?n.top:e.plotTop,scaleX:1,scaleY:1}},render:function(){var e,t=this,n=t.chart,r=t.options,i=!!t.animate&&n.renderer.isSVG&&_(r.animation).duration,o=t.visible?"inherit":"hidden",a=r.zIndex,s=t.hasRendered,l=n.seriesGroup;e=t.plotGroup("group","series",o,a,l),t.markerGroup=t.plotGroup("markerGroup","markers",o,a,l),i&&t.animate(!0),t.getAttribs(),e.inverted=!!t.isCartesian&&n.inverted,t.drawGraph&&(t.drawGraph(),t.applyZones()),Be(t.points,function(e){e.redraw&&e.redraw()}),t.drawDataLabels&&t.drawDataLabels(),t.visible&&t.drawPoints(),t.drawTracker&&!1!==t.options.enableMouseTracking&&t.drawTracker(),n.inverted&&t.invertGroups(),!1!==r.clip&&!t.sharedClipKey&&!s&&e.clip(n.clipRect),i&&t.animate(),s||(t.animationTimeout=f(function(){t.afterAnimate()},i)),t.isDirty=t.isDirtyData=!1,t.hasRendered=!0},redraw:function(){var e=this.chart,t=this.isDirty||this.isDirtyData,n=this.group,r=this.xAxis,i=this.yAxis;n&&(e.inverted&&n.attr({width:e.plotWidth,height:e.plotHeight}),n.animate({translateX:Je(r&&r.left,e.plotLeft),translateY:Je(i&&i.top,e.plotTop)})),this.translate(),this.render(),t&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(e,t){var n=this.xAxis,r=this.yAxis,i=this.chart.inverted;return this.searchKDTree({clientX:i?n.len-e.chartY+n.pos:e.chartX-n.pos,plotY:i?r.len-e.chartX+r.pos:e.chartY-r.pos},t)},buildKDTree:function(){function e(n,r,i){var o,a;if(a=n&&n.length)return o=t.kdAxisArray[r%i],n.sort(function(e,t){return e[o]-t[o]}),a=Math.floor(a/2),{point:n[a],left:e(n.slice(0,a),r+1,i),right:e(n.slice(a+1),r+1,i)}}var t=this,n=t.kdDimensions;delete t.kdTree,f(function(){t.kdTree=e(t.getValidPoints(null,!t.directTouch),n,n)},t.options.kdNow?0:1)},searchKDTree:function(e,t){function n(e,t,s,u){var c,f,h=t.point,d=r.kdAxisArray[s%u],p=h;return f=l(e[i])&&l(h[i])?Math.pow(e[i]-h[i],2):null,c=l(e[o])&&l(h[o])?Math.pow(e[o]-h[o],2):null,c=(f||0)+(c||0),h.dist=l(c)?Math.sqrt(c):Number.MAX_VALUE,h.distX=l(f)?Math.sqrt(f):Number.MAX_VALUE,d=e[d]-h[d],c=d<0?"left":"right",f=d<0?"right":"left",t[c]&&(c=n(e,t[c],s+1,u),p=c[a]<p[a]?c:h),t[f]&&Math.sqrt(d*d)<p[a]&&(e=n(e,t[f],s+1,u),p=e[a]<p[a]?e:p),p}var r=this,i=this.kdAxisArray[0],o=this.kdAxisArray[1],a=t?"distX":"dist";if(this.kdTree||this.buildKDTree(),this.kdTree)return n(e,this.kdTree,this.kdDimensions,this.kdDimensions)}},P.prototype={destroy:function(){$(this,this.axis)},render:function(e){var t=this.options,n=t.format,n=n?v(n,this):t.formatter.call(this);this.label?this.label.attr({text:n,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(n,null,null,t.useHTML).css(t.style).attr({align:this.textAlign,rotation:t.rotation,visibility:"hidden"}).add(e)},setOffset:function(e,t){var n=this.axis,r=n.chart,i=r.inverted,o=n.reversed,o=this.isNegative&&!o||!this.isNegative&&o,a=n.translate(n.usePercentage?100:this.total,0,0,0,1),n=n.translate(0),n=fe(a-n),s=r.xAxis[0].translate(this.x)+e,l=r.plotHeight,o={x:i?o?a:a-n:s,y:i?l-s-t:o?l-a-n:l-a,width:i?n:t,height:i?t:n};(i=this.label)&&(i.align(this.alignOptions,null,o),o=i.alignAttr,i[!1===this.options.crop||r.isInsidePlot(o.x,o.y)?"show":"hide"](!0))}},gt.prototype.getStacks=function(){var e=this;Be(e.yAxis,function(e){e.stacks&&e.hasVisibleSeries&&(e.oldStacks=e.stacks)}),Be(e.series,function(t){!t.options.stacking||!0!==t.visible&&!1!==e.options.chart.ignoreHiddenSeries||(t.stackKey=t.type+Je(t.options.stack,""))})},at.prototype.buildStacks=function(){var e,t,n=this.series,r=Je(this.options.reversedStacks,!0),i=n.length;if(!this.isXAxis){for(this.usePercentage=!1,t=i;t--;)n[r?t:i-t-1].setStackedPoints();for(t=i;t--;)e=n[r?t:i-t-1],e.setStackCliffs&&e.setStackCliffs();if(this.usePercentage)for(t=0;t<i;t++)n[t].setPercentStacks()}},at.prototype.renderStackTotals=function(){var e,t,n=this.chart,r=n.renderer,i=this.stacks,o=this.stackTotalGroup;o||(this.stackTotalGroup=o=r.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),o.translate(n.plotLeft,n.plotTop);for(e in i)for(t in n=i[e])n[t].render(o)},at.prototype.resetStacks=function(){var e,t,n=this.stacks;if(!this.isXAxis)for(e in n)for(t in n[e])n[e][t].touched<this.stacksTouched?(n[e][t].destroy(),delete n[e][t]):(n[e][t].total=null,n[e][t].cum=0)},at.prototype.cleanStacks=function(){var e,t,n;if(!this.isXAxis){this.oldStacks&&(e=this.stacks=this.oldStacks);for(t in e)for(n in e[t])e[t][n].cum=e[t][n].total}},vt.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var e,t,n,r,i,o,a,s=this.processedXData,u=this.processedYData,c=[],f=u.length,h=this.options,d=h.threshold,p=h.startFromThreshold?d:0,g=h.stack,h=h.stacking,m=this.stackKey,v="-"+m,y=this.negStacks,b=this.yAxis,w=b.stacks,x=b.oldStacks;for(b.stacksTouched+=1,i=0;i<f;i++)o=s[i],a=u[i],e=this.getStackIndicator(e,o,this.index),r=e.key,n=(t=y&&a<(p?0:d))?v:m,w[n]||(w[n]={}),w[n][o]||(x[n]&&x[n][o]?(w[n][o]=x[n][o],w[n][o].total=null):w[n][o]=new P(b,b.options.stackLabels,t,o,g)),n=w[n][o],null!==a&&(n.points[r]=n.points[this.index]=[Je(n.cum,p)],l(n.cum)||(n.base=r),n.touched=b.stacksTouched,e.index>0&&!1===this.singleStacks&&(n.points[r][0]=n.points[this.index+","+o+",0"][0])),"percent"===h?(t=t?m:v,y&&w[t]&&w[t][o]?(t=w[t][o],n.total=t.total=ue(t.total,n.total)+fe(a)||0):n.total=A(n.total+(fe(a)||0))):n.total=A(n.total+(a||0)),n.cum=Je(n.cum,p)+(a||0),null!==a&&(n.points[r].push(n.cum),c[i]=n.cum);"percent"===h&&(b.usePercentage=!0),this.stackedYData=c,b.oldStacks={}}},vt.prototype.setPercentStacks=function(){var e,t=this,n=t.stackKey,r=t.yAxis.stacks,i=t.processedXData;Be([n,"-"+n],function(n){for(var o,a,s,l=i.length;l--;)a=i[l],e=t.getStackIndicator(e,a,t.index),o=(s=r[n]&&r[n][a])&&s.points[e.key],(a=o)&&(s=s.total?100/s.total:0,a[0]=A(a[0]*s),a[1]=A(a[1]*s),t.stackedYData[l]=a[1])})},vt.prototype.getStackIndicator=function(e,t,n){return l(e)&&e.x===t?e.index++:e={x:t,index:0},e.key=[n,t,e.index].join(","),e},Xe(gt.prototype,{addSeries:function(e,t,n){var r,i=this;return e&&(t=Je(t,!0),Ve(i,"addSeries",{options:e},function(){r=i.initSeries(e),i.isDirtyLegend=!0,i.linkSeries(),t&&i.redraw(n)})),r},addAxis:function(e,t,n,i){var o=t?"xAxis":"yAxis",a=this.options,e=r(e,{index:this[o].length,isX:t});new at(this,e),a[o]=c(a[o]||{}),a[o].push(e),Je(n,!0)&&this.redraw(i)},showLoading:function(e){var t=this,n=t.options,r=t.loadingDiv,i=n.loading,o=function(){r&&h(r,{left:t.plotLeft+"px",top:t.plotTop+"px",width:t.plotWidth+"px",height:t.plotHeight+"px"})};r||(t.loadingDiv=r=d(Pe,{className:"highcharts-loading"},Xe(i.style,{zIndex:10,display:"none"}),t.container),t.loadingSpan=d("span",null,i.labelStyle,r),Ue(t,"redraw",o)),t.loadingSpan.innerHTML=e||n.lang.loading,t.loadingShown||(h(r,{opacity:0,display:""}),qe(r,{opacity:i.style.opacity},{duration:i.showDuration||0}),t.loadingShown=!0),o()},hideLoading:function(){var e=this.options,t=this.loadingDiv;t&&qe(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){h(t,{display:"none"})}}),this.loadingShown=!1}}),Xe(mt.prototype,{update:function(e,t,n,r){function i(){a.applyOptions(e),null===a.y&&l&&(a.graphic=l.destroy()),Ke(e,!0)&&(a.redraw=function(){l&&l.element&&e&&e.marker&&e.marker.symbol&&(a.graphic=l.destroy()),e&&e.dataLabels&&a.dataLabel&&(a.dataLabel=a.dataLabel.destroy()),a.redraw=null}),o=a.index,s.updateParallelArrays(a,o),c.data[o]=Ke(c.data[o],!0)?a.options:e,s.isDirty=s.isDirtyData=!0,!s.fixedBox&&s.hasCartesianSeries&&(u.isDirtyBox=!0),"point"===c.legendType&&(u.isDirtyLegend=!0),t&&u.redraw(n)}var o,a=this,s=a.series,l=a.graphic,u=s.chart,c=s.options,t=Je(t,!0);!1===r?i():a.firePointEvent("update",{options:e},i)},remove:function(e,t){this.series.removePoint(ze(this,this.series.data),e,t)}}),Xe(vt.prototype,{addPoint:function(e,t,n,r){var i,o,a,s,l=this.options,u=this.data,c=this.chart,f=this.xAxis&&this.xAxis.names,h=l.data,d=this.xData,t=Je(t,!0);if(i={series:this},this.pointClass.prototype.applyOptions.apply(i,[e]),s=i.x,a=d.length,this.requireSorting&&s<d[a-1])for(o=!0;a&&d[a-1]>s;)a--;this.updateParallelArrays(i,"splice",a,0,0),this.updateParallelArrays(i,a),f&&i.name&&(f[s]=i.name),h.splice(a,0,e),o&&(this.data.splice(a,0,null),this.processData()),"point"===l.legendType&&this.generatePoints(),n&&(u[0]&&u[0].remove?u[0].remove(!1):(u.shift(),this.updateParallelArrays(i,"shift"),h.shift())),this.isDirtyData=this.isDirty=!0,t&&(this.getAttribs(),c.redraw(r))},removePoint:function(e,t,n){var r=this,i=r.data,o=i[e],a=r.points,s=r.chart,l=function(){a&&a.length===i.length&&a.splice(e,1),i.splice(e,1),r.options.data.splice(e,1),r.updateParallelArrays(o||{series:r},"splice",e,1),o&&o.destroy(),r.isDirty=!0,r.isDirtyData=!0,t&&s.redraw()};k(n,s),t=Je(t,!0),o?o.firePointEvent("remove",null,l):l()},remove:function(e,t,n){function r(){i.destroy(),o.isDirtyLegend=o.isDirtyBox=!0,o.linkSeries(),Je(e,!0)&&o.redraw(t)}var i=this,o=i.chart;!1!==n?Ve(i,"remove",null,r):r()},update:function(e,t){var n,i=this,o=this.chart,a=this.userOptions,s=this.type,l=Le[s].prototype,u=["group","markerGroup","dataLabelsGroup"];(e.type&&e.type!==s||void 0!==e.zIndex)&&(u.length=0),Be(u,function(e){u[e]=i[e],delete i[e]}),e=r(a,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},e),this.remove(!1,null,!1);for(n in l)this[n]=R;Xe(this,Le[e.type||s].prototype),Be(u,function(e){i[e]=u[e]}),this.init(o,e),o.linkSeries(),Je(t,!0)&&o.redraw(!1)}}),Xe(at.prototype,{update:function(e,t){var n=this.chart,e=n.options[this.coll][this.options.index]=r(this.userOptions,e);this.destroy(!0),this.init(n,Xe(e,{events:R})),n.isDirtyBox=!0,Je(t,!0)&&n.redraw()},remove:function(e){for(var t=this.chart,n=this.coll,r=this.series,i=r.length;i--;)r[i]&&r[i].remove(!1);s(t.axes,this),s(t[n],this),t.options[n].splice(this.options.index,1),Be(t[n],function(e,t){e.options.index=t}),this.destroy(),t.isDirtyBox=!0,Je(e,!0)&&t.redraw()},setTitle:function(e,t){this.update({title:e},t)},setCategories:function(e,t){this.update({categories:e},t)}});var yt=p(vt);Le.line=yt,et.area=r(tt,{softThreshold:!1,threshold:0});var bt=p(vt,{type:"area",singleStacks:!1,getStackPoints:function(){var e,t,n,r=[],i=[],o=this.xAxis,a=this.yAxis,s=a.stacks[this.stackKey],l={},u=this.points,c=this.index,f=a.series,h=f.length,d=Je(a.options.reversedStacks,!0)?1:-1;if(this.options.stacking){for(t=0;t<u.length;t++)l[u[t].x]=u[t];for(n in s)null!==s[n].total&&i.push(n);i.sort(function(e,t){return e-t}),e=He(f,function(){return this.visible}),Be(i,function(n,u){var f,p,g=0;if(l[n]&&!l[n].isNull)r.push(l[n]),Be([-1,1],function(r){var o=1===r?"rightNull":"leftNull",a=0,g=s[i[u+r]];if(g)for(t=c;t>=0&&t<h;)f=g.points[t],f||(t===c?l[n][o]=!0:e[t]&&(p=s[n].points[t])&&(a-=p[1]-p[0])),t+=d;l[n][1===r?"rightCliff":"leftCliff"]=a});else{for(t=c;t>=0&&t<h;){if(f=s[n].points[t]){g=f[1];break}t+=d}g=a.toPixels(g,!0),r.push({isNull:!0,plotX:o.toPixels(n,!0),plotY:g,yBottom:g})}})}return r},getGraphPath:function(e){var t,n,r,i,o=vt.prototype.getGraphPath,a=this.options,s=a.stacking,l=this.yAxis,u=[],c=[],f=this.index,h=l.stacks[this.stackKey],d=a.threshold,p=l.getThreshold(a.threshold),a=a.connectNulls||"percent"===s,g=function(t,n,i){var o,a,g=e[t],t=s&&h[g.x].points[f],m=g[i+"Null"]||0,i=g[i+"Cliff"]||0,g=!0;i||m?(o=(m?t[0]:t[1])+i,a=t[0]+i,g=!!m):!s&&e[n]&&e[n].isNull&&(o=a=d),void 0!==o&&(c.push({plotX:r,plotY:null===o?p:l.getThreshold(o),isNull:g}),u.push({plotX:r,plotY:null===a?p:l.getThreshold(a),doCurve:!1}))},e=e||this.points;for(s&&(e=this.getStackPoints()),t=0;t<e.length;t++)n=e[t].isNull,r=Je(e[t].rectPlotX,e[t].plotX),i=Je(e[t].yBottom,p),(!n||a)&&(a||g(t,t-1,"left"),n&&!s&&a||(c.push(e[t]),u.push({x:t,plotX:r,plotY:i})),a||g(t,t+1,"right"));return t=o.call(this,c,!0,!0),u.reversed=!0,n=o.call(this,u,!0,!0),n.length&&(n[0]=Oe),n=t.concat(n),o=o.call(this,c,!1,a),n.xMap=t.xMap,this.areaPath=n,o},drawGraph:function(){this.areaPath=[],vt.prototype.drawGraph.apply(this);var e=this,t=this.areaPath,n=this.options,r=[["area",this.color,n.fillColor]];Be(this.zones,function(t,i){r.push(["zoneArea"+i,t.color||e.color,t.fillColor||n.fillColor])}),Be(r,function(r){var i=r[0],o=e[i];o?(o.endX=t.xMap,o.animate({d:t})):(o={fill:r[2]||r[1],zIndex:0},r[2]||(o["fill-opacity"]=Je(n.fillOpacity,.75)),o=e[i]=e.chart.renderer.path(t).attr(o).add(e.group),o.isArea=!0),o.startX=t.xMap,o.shiftUnit=n.step?2:1})},drawLegendSymbol:rt.drawRectangle});return Le.area=bt,et.spline=r(tt),yt=p(vt,{type:"spline",getPointSpline:function(e,t,n){var r,i,o,a,s=t.plotX,l=t.plotY,u=e[n-1],n=e[n+1];if(u&&!u.isNull&&!1!==u.doCurve&&n&&!n.isNull&&!1!==n.doCurve){e=u.plotY,o=n.plotX;var n=n.plotY,c=0;r=(1.5*s+u.plotX)/2.5,i=(1.5*l+e)/2.5,o=(1.5*s+o)/2.5,a=(1.5*l+n)/2.5,o!==r&&(c=(a-i)*(o-s)/(o-r)+l-a),i+=c,a+=c,i>e&&i>l?(i=ue(e,l),a=2*l-i):i<e&&i<l&&(i=ce(e,l),a=2*l-i),a>n&&a>l?(a=ue(n,l),i=2*l-a):a<n&&a<l&&(a=ce(n,l),i=2*l-a),t.rightContX=o,t.rightContY=a}return t=["C",Je(u.rightContX,u.plotX),Je(u.rightContY,u.plotY),Je(r,s),Je(i,l),s,l],u.rightContX=u.rightContY=null,t}}),Le.spline=yt,et.areaspline=r(et.area),bt=bt.prototype,yt=p(yt,{type:"areaspline",getStackPoints:bt.getStackPoints,getGraphPath:bt.getGraphPath,setStackCliffs:bt.setStackCliffs,drawGraph:bt.drawGraph,drawLegendSymbol:rt.drawRectangle}),Le.areaspline=yt,et.column=r(tt,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0}),yt=p(vt,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){vt.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasRendered&&Be(t.series,function(t){t.type===e.type&&(t.isDirty=!0)})},getColumnMetrics:function(){var e,t=this,n=t.options,r=t.xAxis,i=t.yAxis,o=r.reversed,a={},s=0;!1===n.grouping?s=1:Be(t.chart.series,function(n){var r,o=n.options,l=n.yAxis;n.type===t.type&&n.visible&&i.len===l.len&&i.pos===l.pos&&(o.stacking?(e=n.stackKey,a[e]===R&&(a[e]=s++),r=a[e]):!1!==o.grouping&&(r=s++),n.columnIndex=r)});var l=ce(fe(r.transA)*(r.ordinalSlope||n.pointRange||r.closestPointRange||r.tickInterval||1),r.len),u=l*n.groupPadding,c=(l-2*u)/s,n=ce(n.maxPointWidth||r.len,Je(n.pointWidth,c*(1-2*n.pointPadding)));return t.columnMetrics={width:n,offset:(c-n)/2+(u+((t.columnIndex||0)+(o?1:0))*c-l/2)*(o?-1:1)},t.columnMetrics},crispCol:function(e,t,n,r){var i=this.chart,o=this.borderWidth,a=-(o%2?.5:0),o=o%2?.5:1;return i.inverted&&i.renderer.isVML&&(o+=1),n=Math.round(e+n)+a,e=Math.round(e)+a,n-=e,r=Math.round(t+r)+o,a=fe(t)<=.5&&r>.5,t=Math.round(t)+o,r-=t,a&&r&&(t-=1,r+=1),{x:e,y:t,width:n,height:r}},translate:function(){
var e=this,t=e.chart,n=e.options,r=e.borderWidth=Je(n.borderWidth,e.closestPointRange*e.xAxis.transA<2?0:1),i=e.yAxis,o=e.translatedThreshold=i.getThreshold(n.threshold),a=Je(n.minPointLength,5),s=e.getColumnMetrics(),l=s.width,u=e.barW=ue(l,1+2*r),c=e.pointXOffset=s.offset;t.inverted&&(o-=.5),n.pointPadding&&(u=le(u)),vt.prototype.translate.apply(e),Be(e.points,function(n){var r,s=ce(Je(n.yBottom,o),9e4),f=999+fe(s),f=ce(ue(-f,n.plotY),i.len+f),h=n.plotX+c,d=u,p=ce(f,s),g=ue(f,s)-p;fe(g)<a&&a&&(g=a,r=!i.reversed&&!n.negative||i.reversed&&n.negative,p=fe(p-o)>a?s-a:o-(r?a:0)),n.barX=h,n.pointWidth=l,n.tooltipPos=t.inverted?[i.len+i.pos-t.plotLeft-f,e.xAxis.len-h-d/2,g]:[h+d/2,f+i.pos-t.plotTop,g],n.shapeType="rect",n.shapeArgs=e.crispCol.apply(e,n.isNull?[n.plotX,i.len/2,0,0]:[h,p,d,g])})},getSymbol:Ee,drawLegendSymbol:rt.drawRectangle,drawGraph:Ee,drawPoints:function(){var e,t,n=this,i=this.chart,o=n.options,a=i.renderer,s=o.animationLimit||250;Be(n.points,function(u){var c,f=u.graphic;Ze(u.plotY)&&null!==u.y?(e=u.shapeArgs,c=l(n.borderWidth)?{"stroke-width":n.borderWidth}:{},t=u.pointAttr[u.selected?"select":""]||n.pointAttr[""],f?(Ye(f),f.attr(c).attr(t)[i.pointCount<s?"animate":"attr"](r(e))):u.graphic=a[u.shapeType](e).attr(c).attr(t).add(u.group||n.group).shadow(o.shadow,null,o.stacking&&!o.borderRadius)):f&&(u.graphic=f.destroy())})},animate:function(e){var t=this,n=this.yAxis,r=t.options,i=this.chart.inverted,o={};Ce&&(e?(o.scaleY=.001,e=ce(n.pos+n.len,ue(n.pos,n.toPixels(r.threshold))),i?o.translateX=e-n.len:o.translateY=e,t.group.attr(o)):(o[i?"translateX":"translateY"]=n.pos,t.group.animate(o,Xe(_(t.options.animation),{step:function(e,n){t.group.attr({scaleY:ue(.001,n.pos)})}})),t.animate=null))},remove:function(){var e=this,t=e.chart;t.hasRendered&&Be(t.series,function(t){t.type===e.type&&(t.isDirty=!0)}),vt.prototype.remove.apply(e,arguments)}}),Le.column=yt,et.bar=r(et.column),bt=p(yt,{type:"bar",inverted:!0}),Le.bar=bt,et.scatter=r(tt,{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">â—</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),bt=p(vt,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&vt.prototype.drawGraph.call(this)}}),Le.scatter=bt,et.pie=r(tt,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return null===this.y?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}}),tt={type:"pie",isCartesian:!1,pointClass:p(mt,{init:function(){mt.prototype.init.apply(this,arguments);var e,t=this;return t.name=Je(t.name,"Slice"),e=function(e){t.slice("select"===e.type)},Ue(t,"select",e),Ue(t,"unselect",e),t},setVisible:function(e,t){var n=this,r=n.series,i=r.chart,o=r.options.ignoreHiddenPoint,t=Je(t,o);e!==n.visible&&(n.visible=n.options.visible=e=e===R?!n.visible:e,r.options.data[ze(n,r.data)]=n.options,Be(["graphic","dataLabel","connector","shadowGroup"],function(t){n[t]&&n[t][e?"show":"hide"](!0)}),n.legendItem&&i.legend.colorizeItem(n,e),!e&&"hover"===n.state&&n.setState(""),o&&(r.isDirty=!0),t&&i.redraw())},slice:function(e,t,n){var r=this.series;k(n,r.chart),Je(t,!0),this.sliced=this.options.sliced=e=l(e)?e:!this.sliced,r.options.data[ze(this,r.data)]=this.options,e=e?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(e),this.shadowGroup&&this.shadowGroup.animate(e)},haloPath:function(e){var t=this.shapeArgs,n=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(n.plotLeft+t.x,n.plotTop+t.y,t.r+e,t.r+e,{innerR:this.shapeArgs.r,start:t.start,end:t.end})}}),requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},animate:function(e){var t=this,n=t.points,r=t.startAngleRad;e||(Be(n,function(e){var n=e.graphic,i=e.shapeArgs;n&&(n.attr({r:e.startR||t.center[3]/2,start:r,end:r}),n.animate({r:i.r,start:i.start,end:i.end},t.options.animation))}),t.animate=null)},updateTotals:function(){var e,t,n=0,r=this.points,i=r.length,o=this.options.ignoreHiddenPoint;for(e=0;e<i;e++)t=r[e],t.y<0&&(t.y=null),n+=o&&!t.visible?0:t.y;for(this.total=n,e=0;e<i;e++)t=r[e],t.percentage=n>0&&(t.visible||!o)?t.y/n*100:0,t.total=n},generatePoints:function(){vt.prototype.generatePoints.call(this),this.updateTotals()},translate:function(e){this.generatePoints();var t,n,r,i,o,a=0,s=this.options,l=s.slicedOffset,u=l+s.borderWidth,c=s.startAngle||0,f=this.startAngleRad=pe/180*(c-90),c=(this.endAngleRad=pe/180*(Je(s.endAngle,c+360)-90))-f,h=this.points,d=s.dataLabels.distance,s=s.ignoreHiddenPoint,p=h.length;for(e||(this.center=e=this.getCenter()),this.getX=function(t,n){return r=oe.asin(ce((t-e[1])/(e[2]/2+d),1)),e[0]+(n?-1:1)*he(r)*(e[2]/2+d)},i=0;i<p;i++)o=h[i],t=f+a*c,s&&!o.visible||(a+=o.percentage/100),n=f+a*c,o.shapeType="arc",o.shapeArgs={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:ae(1e3*t)/1e3,end:ae(1e3*n)/1e3},r=(n+t)/2,r>1.5*pe?r-=2*pe:r<-pe/2&&(r+=2*pe),o.slicedTranslation={translateX:ae(he(r)*l),translateY:ae(de(r)*l)},t=he(r)*e[2]/2,n=de(r)*e[2]/2,o.tooltipPos=[e[0]+.7*t,e[1]+.7*n],o.half=r<-pe/2||r>pe/2?1:0,o.angle=r,u=ce(u,d/2),o.labelPos=[e[0]+t+he(r)*d,e[1]+n+de(r)*d,e[0]+t+he(r)*u,e[1]+n+de(r)*u,e[0]+t,e[1]+n,d<0?"center":o.half?"right":"left",r]},drawGraph:null,drawPoints:function(){var e,t,n,r,i,o,a=this,s=a.chart.renderer,l=a.options.shadow;l&&!a.shadowGroup&&(a.shadowGroup=s.g("shadow").add(a.group)),Be(a.points,function(u){null!==u.y&&(t=u.graphic,i=u.shapeArgs,n=u.shadowGroup,r=u.pointAttr[u.selected?"select":""],r.stroke||(r.stroke=r.fill),l&&!n&&(n=u.shadowGroup=s.g("shadow").add(a.shadowGroup)),e=u.sliced?u.slicedTranslation:{translateX:0,translateY:0},n&&n.attr(e),t?t.setRadialReference(a.center).attr(r).animate(Xe(i,e)):(o={"stroke-linejoin":"round"},u.visible||(o.visibility="hidden"),u.graphic=t=s[u.shapeType](i).setRadialReference(a.center).attr(r).attr(o).attr(e).add(a.group).shadow(l,n)))})},searchPoint:Ee,sortByAngle:function(e,t){e.sort(function(e,n){return void 0!==e.angle&&(n.angle-e.angle)*t})},drawLegendSymbol:rt.drawRectangle,getCenter:it.getCenter,getSymbol:Ee},tt=p(vt,tt),Le.pie=tt,vt.prototype.drawDataLabels=function(){var e,t,n,i,o=this,a=o.options,s=a.cursor,u=a.dataLabels,c=o.points,f=o.hasRendered||0,h=Je(u.defer,!0),d=o.chart.renderer;(u.enabled||o._hasPointLabels)&&(o.dlProcessOptions&&o.dlProcessOptions(u),i=o.plotGroup("dataLabelsGroup","data-labels",h&&!f?"hidden":"visible",u.zIndex||6),h&&(i.attr({opacity:+f}),f||Ue(o,"afterAnimate",function(){o.visible&&i.show(!0),i[a.animation?"animate":"attr"]({opacity:1},{duration:200})})),t=u,Be(c,function(c){var f,h,p,g,m=c.dataLabel,y=c.connector,b=!0,w={};if(e=c.dlOptions||c.options&&c.options.dataLabels,f=Je(e&&e.enabled,t.enabled)&&null!==c.y,m&&!f)c.dataLabel=m.destroy();else if(f){if(u=r(t,e),g=u.style,f=u.rotation,h=c.getLabelConfig(),n=u.format?v(u.format,h):u.formatter.call(h,u),g.color=Je(u.color,g.color,o.color,"black"),m)l(n)?(m.attr({text:n}),b=!1):(c.dataLabel=m=m.destroy(),y&&(c.connector=y.destroy()));else if(l(n)){m={fill:u.backgroundColor,stroke:u.borderColor,"stroke-width":u.borderWidth,r:u.borderRadius||0,rotation:f,padding:u.padding,zIndex:1},"contrast"===g.color&&(w.color=u.inside||u.distance<0||a.stacking?d.getContrast(c.color||o.color):"#000000"),s&&(w.cursor=s);for(p in m)m[p]===R&&delete m[p];m=c.dataLabel=d[f?"text":"label"](n,0,-9999,u.shape,null,null,u.useHTML).attr(m).css(Xe(g,w)).add(i).shadow(u.shadow)}m&&o.alignDataLabel(c,m,u,null,b)}}))},vt.prototype.alignDataLabel=function(e,t,n,r,i){var o=this.chart,a=o.inverted,s=Je(e.plotX,-9999),l=Je(e.plotY,-9999),u=t.getBBox(),c=o.renderer.fontMetrics(n.style.fontSize).b,f=n.rotation,h=n.align,d=this.visible&&(e.series.forceDL||o.isInsidePlot(s,ae(l),a)||r&&o.isInsidePlot(s,a?r.x+1:r.y+r.height-1,a)),p="justify"===Je(n.overflow,"justify");d&&(r=Xe({x:a?o.plotWidth-l:s,y:ae(a?o.plotHeight-s:l),width:0,height:0},r),Xe(n,{width:u.width,height:u.height}),f?(p=!1,a=o.renderer.rotCorr(c,f),a={x:r.x+n.x+r.width/2+a.x,y:r.y+n.y+{top:0,middle:.5,bottom:1}[n.verticalAlign]*r.height},t[i?"attr":"animate"](a).attr({align:h}),s=(f+720)%360,s=s>180&&s<360,"left"===h?a.y-=s?u.height:0:"center"===h?(a.x-=u.width/2,a.y-=u.height/2):"right"===h&&(a.x-=u.width,a.y-=s?0:u.height)):(t.align(n,null,r),a=t.alignAttr),p?this.justifyDataLabel(t,n,a,u,r,i):Je(n.crop,!0)&&(d=o.isInsidePlot(a.x,a.y)&&o.isInsidePlot(a.x+u.width,a.y+u.height)),n.shape&&!f&&t.attr({anchorX:e.plotX,anchorY:e.plotY})),d||(Ye(t),t.attr({y:-9999}),t.placed=!1)},vt.prototype.justifyDataLabel=function(e,t,n,r,i,o){var a,s,l=this.chart,u=t.align,c=t.verticalAlign,f=e.box?0:e.padding||0;a=n.x+f,a<0&&("right"===u?t.align="left":t.x=-a,s=!0),a=n.x+r.width-f,a>l.plotWidth&&("left"===u?t.align="right":t.x=l.plotWidth-a,s=!0),a=n.y+f,a<0&&("bottom"===c?t.verticalAlign="top":t.y=-a,s=!0),a=n.y+r.height-f,a>l.plotHeight&&("top"===c?t.verticalAlign="bottom":t.y=l.plotHeight-a,s=!0),s&&(e.placed=!o,e.align(t,null,i))},Le.pie&&(Le.pie.prototype.drawDataLabels=function(){var e,t,n,r,i,o,a,s,l,u,c,f=this,h=f.data,d=f.chart,p=f.options.dataLabels,g=Je(p.connectorPadding,10),m=Je(p.connectorWidth,1),v=d.plotWidth,y=d.plotHeight,b=Je(p.softConnector,!0),w=p.distance,x=f.center,$=x[2]/2,C=x[1],A=w>0,k=[[],[]],_=[0,0,0,0],T=function(e,t){return t.y-e.y};if(f.visible&&(p.enabled||f._hasPointLabels)){for(vt.prototype.drawDataLabels.apply(f),Be(h,function(e){e.dataLabel&&e.visible&&(k[e.half].push(e),e.dataLabel._pos=null)}),u=2;u--;){var E,M=[],D=[],P=k[u],R=P.length;if(R){for(f.sortByAngle(P,u-.5),c=h=0;!h&&P[c];)h=P[c]&&P[c].dataLabel&&(P[c].dataLabel.getBBox().height||21),c++;if(w>0){for(i=ce(C+$+w,d.plotHeight),c=ue(0,C-$-w);c<=i;c+=h)M.push(c);if(i=M.length,R>i){for(e=[].concat(P),e.sort(T),c=R;c--;)e[c].rank=c;for(c=R;c--;)P[c].rank>=i&&P.splice(c,1);R=P.length}for(c=0;c<R;c++){e=P[c],o=e.labelPos,e=9999;var O,N;for(N=0;N<i;N++)(O=fe(M[N]-o[1]))<e&&(e=O,E=N);if(E<c&&null!==M[c])E=c;else for(i<R-c+E&&null!==M[c]&&(E=i-R+c);null===M[E];)E++;D.push({i:E,y:M[E]}),M[E]=null}D.sort(T)}for(c=0;c<R;c++)e=P[c],o=e.labelPos,r=e.dataLabel,l=!1===e.visible?"hidden":"inherit",e=o[1],w>0?(i=D.pop(),E=i.i,s=i.y,(e>s&&null!==M[E+1]||e<s&&null!==M[E-1])&&(s=ce(ue(0,e),d.plotHeight))):s=e,a=p.justify?x[0]+(u?-1:1)*($+w):f.getX(s===C-$-w||s===C+$+w?e:s,u),r._attr={visibility:l,align:o[6]},r._pos={x:a+p.x+({left:g,right:-g}[o[6]]||0),y:s+p.y-10},r.connX=a,r.connY=s,null===this.options.size&&(i=r.width,a-i<g?_[3]=ue(ae(i-a+g),_[3]):a+i>v-g&&(_[1]=ue(ae(a+i-v+g),_[1])),s-h/2<0?_[0]=ue(ae(h/2-s),_[0]):s+h/2>y&&(_[2]=ue(ae(s+h/2-y),_[2])))}}(0===S(_)||this.verifyDataLabelOverflow(_))&&(this.placeDataLabels(),A&&m&&Be(this.points,function(e){t=e.connector,o=e.labelPos,(r=e.dataLabel)&&r._pos&&e.visible?(l=r._attr.visibility,a=r.connX,s=r.connY,n=b?[Re,a+("left"===o[6]?5:-5),s,"C",a,s,2*o[2]-o[4],2*o[3]-o[5],o[2],o[3],Oe,o[4],o[5]]:[Re,a+("left"===o[6]?5:-5),s,Oe,o[2],o[3],Oe,o[4],o[5]],t?(t.animate({d:n}),t.attr("visibility",l)):e.connector=t=f.chart.renderer.path(n).attr({"stroke-width":m,stroke:p.connectorColor||e.color||"#606060",visibility:l}).add(f.dataLabelsGroup)):t&&(e.connector=t.destroy())}))}},Le.pie.prototype.placeDataLabels=function(){Be(this.points,function(e){var t=e.dataLabel;t&&e.visible&&((e=t._pos)?(t.attr(t._attr),t[t.moved?"animate":"attr"](e),t.moved=!0):t&&t.attr({y:-9999}))})},Le.pie.prototype.alignDataLabel=Ee,Le.pie.prototype.verifyDataLabelOverflow=function(e){var t,n=this.center,r=this.options,i=r.center,o=r.minSize||80,a=o;return null!==i[0]?a=ue(n[2]-ue(e[1],e[3]),o):(a=ue(n[2]-e[1]-e[3],o),n[0]+=(e[3]-e[1])/2),null!==i[1]?a=ue(ce(a,n[2]-ue(e[0],e[2])),o):(a=ue(ce(a,n[2]-e[0]-e[2]),o),n[1]+=(e[0]-e[2])/2),a<n[2]?(n[2]=a,n[3]=Math.min(/%$/.test(r.innerSize||0)?a*parseFloat(r.innerSize||0)/100:parseFloat(r.innerSize||0),a),this.translate(n),this.drawDataLabels&&this.drawDataLabels()):t=!0,t}),Le.column&&(Le.column.prototype.alignDataLabel=function(e,t,n,i,o){var a=this.chart.inverted,s=e.series,l=e.dlBox||e.shapeArgs,u=Je(e.below,e.plotY>Je(this.translatedThreshold,s.yAxis.len)),c=Je(n.inside,!!this.options.stacking);l&&(i=r(l),i.y<0&&(i.height+=i.y,i.y=0),l=i.y+i.height-s.yAxis.len,l>0&&(i.height-=l),a&&(i={x:s.yAxis.len-i.y-i.height,y:s.xAxis.len-i.x-i.width,width:i.height,height:i.width}),c||(a?(i.x+=u?0:i.width,i.width=0):(i.y+=u?i.height:0,i.height=0))),n.align=Je(n.align,!a||c?"center":u?"right":"left"),n.verticalAlign=Je(n.verticalAlign,a||c?"middle":u?"top":"bottom"),vt.prototype.alignDataLabel.call(this,e,t,n,i,o)}),function(e){var t=e.Chart,n=e.each,r=e.pick,i=e.addEvent;t.prototype.callbacks.push(function(e){function t(){var t=[];n(e.series,function(e){var i=e.options.dataLabels,o=e.dataLabelCollections||["dataLabel"];(i.enabled||e._hasPointLabels)&&!i.allowOverlap&&e.visible&&n(o,function(i){n(e.points,function(e){e[i]&&(e[i].labelrank=r(e.labelrank,e.shapeArgs&&e.shapeArgs.height),t.push(e[i]))})})}),e.hideOverlappingLabels(t)}t(),i(e,"redraw",t)}),t.prototype.hideOverlappingLabels=function(e){var t,r,i,o,a,s,l,u,c,f=e.length;for(r=0;r<f;r++)(t=e[r])&&(t.oldOpacity=t.opacity,t.newOpacity=1);for(e.sort(function(e,t){return(t.labelrank||0)-(e.labelrank||0)}),r=0;r<f;r++)for(i=e[r],t=r+1;t<f;++t)o=e[t],i&&o&&i.placed&&o.placed&&0!==i.newOpacity&&0!==o.newOpacity&&(a=i.alignAttr,s=o.alignAttr,l=i.parentGroup,u=o.parentGroup,c=2*(i.box?0:i.padding),a=!(s.x+u.translateX>a.x+l.translateX+(i.width-c)||s.x+u.translateX+(o.width-c)<a.x+l.translateX||s.y+u.translateY>a.y+l.translateY+(i.height-c)||s.y+u.translateY+(o.height-c)<a.y+l.translateY))&&((i.labelrank<o.labelrank?i:o).newOpacity=0);n(e,function(e){var t,n;e&&(n=e.newOpacity,e.oldOpacity!==n&&e.placed&&(n?e.show(!0):t=function(){e.hide()},e.alignAttr.opacity=n,e[e.isOld?"animate":"attr"](e.alignAttr,null,t)),e.isOld=!0)})}}(re),tt=re.TrackerMixin={drawTrackerPoint:function(){var e=this,t=e.chart,n=t.pointer,r=e.options.cursor,i=r&&{cursor:r},o=function(e){for(var n,r=e.target;r&&!n;)n=r.point,r=r.parentNode;n!==R&&n!==t.hoverPoint&&n.onMouseOver(e)};Be(e.points,function(e){e.graphic&&(e.graphic.element.point=e),e.dataLabel&&(e.dataLabel.element.point=e)}),e._hasTracking||(Be(e.trackerGroups,function(t){e[t]&&(e[t].addClass("highcharts-tracker").on("mouseover",o).on("mouseout",function(e){n.onTrackerMouseOut(e)}).css(i),N)&&e[t].on("touchstart",o)}),e._hasTracking=!0)},drawTrackerGraph:function(){var e=this,t=e.options,n=t.trackByArea,r=[].concat(n?e.areaPath:e.graphPath),i=r.length,o=e.chart,a=o.pointer,s=o.renderer,l=o.options.tooltip.snap,u=e.tracker,c=t.cursor,f=c&&{cursor:c},h=function(){o.hoverSeries!==e&&e.onMouseOver()},d="rgba(192,192,192,"+(Ce?1e-4:.002)+")";if(i&&!n)for(c=i+1;c--;)r[c]===Re&&r.splice(c+1,0,r[c+1]-l,r[c+2],Oe),(c&&r[c]===Re||c===i)&&r.splice(c,0,Oe,r[c-2]+l,r[c-1]);u?u.attr({d:r}):(e.tracker=s.path(r).attr({"stroke-linejoin":"round",visibility:e.visible?"visible":"hidden",stroke:d,fill:n?d:"none","stroke-width":t.lineWidth+(n?0:2*l),zIndex:2}).add(e.group),Be([e.tracker,e.markerGroup],function(e){e.addClass("highcharts-tracker").on("mouseover",h).on("mouseout",function(e){a.onTrackerMouseOut(e)}).css(f),N&&e.on("touchstart",h)}))}},Le.column&&(yt.prototype.drawTracker=tt.drawTrackerPoint),Le.pie&&(Le.pie.prototype.drawTracker=tt.drawTrackerPoint),Le.scatter&&(bt.prototype.drawTracker=tt.drawTrackerPoint),Xe(pt.prototype,{setItemEvents:function(e,t,n,r,i){var o=this;(n?t:e.legendGroup).on("mouseover",function(){e.setState("hover"),t.css(o.options.itemHoverStyle)}).on("mouseout",function(){t.css(e.visible?r:i),e.setState()}).on("click",function(t){var n=function(){e.setVisible&&e.setVisible()},t={browserEvent:t};e.firePointEvent?e.firePointEvent("legendItemClick",t,n):Ve(e,"legendItemClick",t,n)})},createCheckboxForItem:function(e){e.checkbox=d("input",{type:"checkbox",checked:e.selected,defaultChecked:e.selected},this.options.itemCheckboxStyle,this.chart.container),Ue(e.checkbox,"click",function(t){Ve(e.series||e,"checkboxClick",{checked:t.target.checked,item:e},function(){e.select()})})}}),I.legend.itemStyle.cursor="pointer",Xe(gt.prototype,{showResetZoom:function(){var e=this,t=I.lang,n=e.options.chart.resetZoomButton,r=n.theme,i=r.states,o="chart"===n.relativeTo?null:"plotBox";this.resetZoomButton=e.renderer.button(t.resetZoom,null,null,function(){e.zoomOut()},r,i&&i.hover).attr({align:n.position.align,title:t.resetZoomTitle}).add().align(n.position,!1,o)},zoomOut:function(){var e=this;Ve(e,"selection",{resetSelection:!0},function(){e.zoom()})},zoom:function(e){var t,n,r=this.pointer,i=!1;!e||e.resetSelection?Be(this.axes,function(e){t=e.zoom()}):Be(e.xAxis.concat(e.yAxis),function(e){var n=e.axis,o=n.isXAxis;(r[o?"zoomX":"zoomY"]||r[o?"pinchX":"pinchY"])&&(t=n.zoom(e.min,e.max),n.displayBtn&&(i=!0))}),n=this.resetZoomButton,i&&!n?this.showResetZoom():!i&&Ke(n)&&(this.resetZoomButton=n.destroy()),t&&this.redraw(Je(this.options.chart.animation,e&&e.animation,this.pointCount<100))},pan:function(e,t){var n,r=this,i=r.hoverPoints;i&&Be(i,function(e){e.setState()}),Be("xy"===t?[1,0]:[1],function(t){var t=r[t?"xAxis":"yAxis"][0],i=t.horiz,o=e[i?"chartX":"chartY"],i=i?"mouseDownX":"mouseDownY",a=r[i],s=(t.pointRange||0)/2,l=t.getExtremes(),u=t.toValue(a-o,!0)+s,s=t.toValue(a+t.len-o,!0)-s,a=a>o;t.series.length&&(a||u>ce(l.dataMin,l.min))&&(!a||s<ue(l.dataMax,l.max))&&(t.setExtremes(u,s,!1,!1,{trigger:"pan"}),n=!0),r[i]=o}),n&&r.redraw(!1),h(r.container,{cursor:"move"})}}),Xe(mt.prototype,{select:function(e,t){var n=this,r=n.series,i=r.chart,e=Je(e,!n.selected);n.firePointEvent(e?"select":"unselect",{accumulate:t},function(){n.selected=n.options.selected=e,r.options.data[ze(n,r.data)]=n.options,n.setState(e&&"select"),t||Be(i.getSelectedPoints(),function(e){e.selected&&e!==n&&(e.selected=e.options.selected=!1,r.options.data[ze(e,r.data)]=e.options,e.setState(""),e.firePointEvent("unselect"))})})},onMouseOver:function(e,t){var n=this.series,r=n.chart,i=r.tooltip,o=r.hoverPoint;r.hoverSeries!==n&&n.onMouseOver(),o&&o!==this&&o.onMouseOut(),this.series&&(this.firePointEvent("mouseOver"),i&&(!i.shared||n.noSharedTooltip)&&i.refresh(this,e),this.setState("hover"),!t)&&(r.hoverPoint=this)},onMouseOut:function(){var e=this.series.chart,t=e.hoverPoints;this.firePointEvent("mouseOut"),t&&-1!==ze(this,t)||(this.setState(),e.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var e,t=r(this.series.options.point,this.options).events;this.events=t;for(e in t)Ue(this,e,t[e]);this.hasImportedEvents=!0}},setState:function(e,t){var n,i=se(this.plotX),o=this.plotY,a=this.series,s=a.options.states,l=et[a.type].marker&&a.options.marker,u=l&&!l.enabled,c=l&&l.states[e],f=c&&!1===c.enabled,h=a.stateMarkerGraphic,d=this.marker||{},p=a.chart,g=a.halo,e=e||"";n=this.pointAttr[e]||a.pointAttr[e],e===this.state&&!t||this.selected&&"select"!==e||s[e]&&!1===s[e].enabled||e&&(f||u&&!1===c.enabled)||e&&d.states&&d.states[e]&&!1===d.states[e].enabled||(this.graphic?(l=l&&this.graphic.symbolName&&n.r,this.graphic.attr(r(n,l?{x:i-l,y:o-l,width:2*l,height:2*l}:{})),h&&h.hide()):(e&&c&&(l=c.radius,d=d.symbol||a.symbol,h&&h.currentSymbol!==d&&(h=h.destroy()),h?h[t?"animate":"attr"]({x:i-l,y:o-l}):d&&(a.stateMarkerGraphic=h=p.renderer.symbol(d,i-l,o-l,2*l,2*l).attr(n).add(a.markerGroup),h.currentSymbol=d)),h&&(h[e&&p.isInsidePlot(i,o,p.inverted)?"show":"hide"](),h.element.point=this)),(i=s[e]&&s[e].halo)&&i.size?(g||(a.halo=g=p.renderer.path().add(p.seriesGroup)),g.attr(Xe({fill:this.color||a.color,"fill-opacity":i.opacity,zIndex:-1},i.attributes))[t?"animate":"attr"]({d:this.haloPath(i.size)})):g&&g.attr({d:[]}),this.state=e)},haloPath:function(e){var t=this.series,n=t.chart,r=t.getPlotBox(),i=n.inverted,o=Math.floor(this.plotX);return n.renderer.symbols.circle(r.translateX+(i?t.yAxis.len-this.plotY:o)-e,r.translateY+(i?t.xAxis.len-o:this.plotY)-e,2*e,2*e)}}),Xe(vt.prototype,{onMouseOver:function(){var e=this.chart,t=e.hoverSeries;t&&t!==this&&t.onMouseOut(),this.options.events.mouseOver&&Ve(this,"mouseOver"),this.setState("hover"),e.hoverSeries=this},onMouseOut:function(){var e=this.options,t=this.chart,n=t.tooltip,r=t.hoverPoint;t.hoverSeries=null,r&&r.onMouseOut(),this&&e.events.mouseOut&&Ve(this,"mouseOut"),n&&!e.stickyTracking&&(!n.shared||this.noSharedTooltip)&&n.hide(),this.setState()},setState:function(e){var t=this.options,n=this.graph,r=t.states,i=t.lineWidth,t=0,e=e||"";if(this.state!==e&&(this.state=e,!(r[e]&&!1===r[e].enabled)&&(e&&(i=r[e].lineWidth||i+(r[e].lineWidthPlus||0)),n&&!n.dashstyle)))for(e={"stroke-width":i},n.attr(e);this["zoneGraph"+t];)this["zoneGraph"+t].attr(e),t+=1},setVisible:function(e,t){var n,r=this,i=r.chart,o=r.legendItem,a=i.options.chart.ignoreHiddenSeries,s=r.visible;n=(r.visible=e=r.options.visible=r.userOptions.visible=void 0===e?!s:e)?"show":"hide",Be(["group","dataLabelsGroup","markerGroup","tracker"],function(e){r[e]&&r[e][n]()}),i.hoverSeries!==r&&(i.hoverPoint&&i.hoverPoint.series)!==r||r.onMouseOut(),o&&i.legend.colorizeItem(r,e),r.isDirty=!0,r.options.stacking&&Be(i.series,function(e){e.options.stacking&&e.visible&&(e.isDirty=!0)}),Be(r.linkedSeries,function(t){t.setVisible(e,!1)}),a&&(i.isDirtyBox=!0),!1!==t&&i.redraw(),Ve(r,n)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(e){this.selected=e=e===R?!this.selected:e,this.checkbox&&(this.checkbox.checked=e),Ve(this,e?"select":"unselect")},drawTracker:tt.drawTrackerGraph}),Xe(re,{Color:E,Point:mt,Tick:D,Renderer:O,SVGElement:M,SVGRenderer:nt,arrayMin:x,arrayMax:S,charts:Me,correctFloat:A,dateFormat:z,error:t,format:v,pathAnim:void 0,getOptions:function(){return I},hasBidiBug:Ae,isTouchDevice:Se,setOptions:function(e){return I=r(!0,I,e),T(),I},addEvent:Ue,removeEvent:We,createElement:d,discardElement:C,css:h,each:Be,map:He,merge:r,splat:c,stableSort:w,extendClass:p,pInt:i,svg:Ce,canvas:ke,vml:!Ce&&!ke,product:"Highcharts",version:"4.2.7"}),re}),function(e){"object"==typeof module&&module.exports?module.exports=e:e(Highcharts)}(function(e){function t(e,t,n){this.init(e,t,n)}var n=e.arrayMin,r=e.arrayMax,i=e.each,o=e.extend,a=e.isNumber,s=e.merge,l=e.map,u=e.pick,c=e.pInt,f=e.correctFloat,h=e.getOptions().plotOptions,d=e.seriesTypes,p=e.extendClass,g=e.splat,m=e.wrap,v=e.Axis,y=e.Tick,b=e.Point,w=e.Pointer,x=e.CenteredSeriesMixin,S=e.TrackerMixin,$=e.Series,C=Math,A=C.round,k=C.floor,_=C.max,T=e.Color,E=function(){};o(t.prototype,{init:function(e,t,n){var r=this,o=r.defaultOptions;r.chart=t,r.options=e=s(o,t.angular?{background:{}}:void 0,e),(e=e.background)&&i([].concat(g(e)).reverse(),function(e){var t=e.backgroundColor,i=n.userOptions,e=s(r.defaultBackgroundOptions,e);t&&(e.backgroundColor=t),e.color=e.backgroundColor,n.options.plotBands.unshift(e),i.plotBands=i.plotBands||[],i.plotBands!==n.options.plotBands&&i.plotBands.unshift(e)})},defaultOptions:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{shape:"circle",borderWidth:1,borderColor:"silver",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#DDD"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}});var M=v.prototype,y=y.prototype,D={getOffset:E,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},setScale:E,setCategories:E,setTitle:E},P={isRadial:!0,defaultRadialGaugeOptions:{labels:{align:"center",x:0,y:null},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},defaultRadialXOptions:{gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},defaultRadialYOptions:{gridLineInterpolation:"circle",labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},setOptions:function(e){e=this.options=s(this.defaultOptions,this.defaultRadialOptions,e),e.plotBands||(e.plotBands=[])},getOffset:function(){M.getOffset.call(this),this.chart.axisOffset[this.side]=0,this.center=this.pane.center=x.getCenter.call(this.pane)},getLinePath:function(e,t){var n,r=this.center,i=this.chart;return n=u(t,r[2]/2-this.offset),this.isCircular||void 0!==t?r=this.chart.renderer.symbols.arc(this.left+r[0],this.top+r[1],n,n,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0}):(n=this.postTranslate(this.angleRad,n),r=["M",r[0]+i.plotLeft,r[1]+i.plotTop,"L",n.x,n.y]),r},setAxisTranslation:function(){M.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.center[2]/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)},beforeSetTickPositions:function(){(this.autoConnect=this.isCircular&&void 0===u(this.userMax,this.options.max)&&this.endAngleRad-this.startAngleRad==2*Math.PI)&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)},setAxisSize:function(){M.setAxisSize.call(this),this.isRadial&&(this.center=this.pane.center=e.CenteredSeriesMixin.getCenter.call(this.pane),this.isCircular&&(this.sector=this.endAngleRad-this.startAngleRad),this.len=this.width=this.height=this.center[2]*u(this.sector,1)/2)},getPosition:function(e,t){return this.postTranslate(this.isCircular?this.translate(e):this.angleRad,u(this.isCircular?t:this.translate(e),this.center[2]/2)-this.offset)},postTranslate:function(e,t){var n=this.chart,r=this.center,e=this.startAngleRad+e;return{x:n.plotLeft+r[0]+Math.cos(e)*t,y:n.plotTop+r[1]+Math.sin(e)*t}},getPlotBandPath:function(e,t,n){var r,i=this.center,o=this.startAngleRad,a=i[2]/2,s=[u(n.outerRadius,"100%"),n.innerRadius,u(n.thickness,10)],f=Math.min(this.offset,0),h=/%$/,d=this.isCircular;return"polygon"===this.options.gridLineInterpolation?i=this.getPlotLinePath(e).concat(this.getPlotLinePath(t,!0)):(e=Math.max(e,this.min),t=Math.min(t,this.max),d||(s[0]=this.translate(e),s[1]=this.translate(t)),s=l(s,function(e){return h.test(e)&&(e=c(e,10)*a/100),e}),"circle"!==n.shape&&d?(e=o+this.translate(e),t=o+this.translate(t)):(e=-Math.PI/2,t=1.5*Math.PI,r=!0),s[0]-=f,s[2]-=f,i=this.chart.renderer.symbols.arc(this.left+i[0],this.top+i[1],s[0],s[0],{start:Math.min(e,t),end:Math.max(e,t),innerR:u(s[1],s[0]-s[2]),open:r})),i},getPlotLinePath:function(e,t){var n,r,o,a=this,s=a.center,l=a.chart,u=a.getPosition(e);return a.isCircular?o=["M",s[0]+l.plotLeft,s[1]+l.plotTop,"L",u.x,u.y]:"circle"===a.options.gridLineInterpolation?(e=a.translate(e))&&(o=a.getLinePath(0,e)):(i(l.xAxis,function(e){e.pane===a.pane&&(n=e)}),o=[],e=a.translate(e),s=n.tickPositions,n.autoConnect&&(s=s.concat([s[0]])),t&&(s=[].concat(s).reverse()),i(s,function(t,i){r=n.getPosition(t,e),o.push(i?"L":"M",r.x,r.y)})),o},getTitlePosition:function(){var e=this.center,t=this.chart,n=this.options.title;return{x:t.plotLeft+e[0]+(n.x||0),y:t.plotTop+e[1]-{high:.5,middle:.25,low:0}[n.align]*e[2]+(n.y||0)}}};m(M,"init",function(e,n,r){var i,a,l=n.angular,c=n.polar,f=r.isX,h=l&&f,d=n.options,p=r.pane||0;l?(o(this,h?D:P),(a=!f)&&(this.defaultRadialOptions=this.defaultRadialGaugeOptions)):c&&(o(this,P),this.defaultRadialOptions=(a=f)?this.defaultRadialXOptions:s(this.defaultYAxisOptions,this.defaultRadialYOptions)),(l||c)&&(n.inverted=!1,d.chart.zoomType=null),e.call(this,n,r),h||!l&&!c||(e=this.options,n.panes||(n.panes=[]),this.pane=(i=n.panes[p]=n.panes[p]||new t(g(d.pane)[p],n,this),n=i),n=n.options,this.angleRad=(e.angle||0)*Math.PI/180,this.startAngleRad=(n.startAngle-90)*Math.PI/180,this.endAngleRad=(u(n.endAngle,n.startAngle+360)-90)*Math.PI/180,this.offset=e.offset||0,this.isCircular=a)}),m(M,"autoLabelAlign",function(e){if(!this.isRadial)return e.apply(this,[].slice.call(arguments,1))}),m(y,"getPosition",function(e,t,n,r,i){var o=this.axis;return o.getPosition?o.getPosition(n):e.call(this,t,n,r,i)}),m(y,"getLabelPosition",function(e,t,n,r,i,o,a,s,l){var c=this.axis,f=o.y,h=20,d=o.align,p=(c.translate(this.pos)+c.startAngleRad+Math.PI/2)/Math.PI*180%360;return c.isRadial?(e=c.getPosition(this.pos,c.center[2]/2+u(o.distance,-25)),"auto"===o.rotation?r.attr({rotation:p}):null===f&&(f=c.chart.renderer.fontMetrics(r.styles.fontSize).b-r.getBBox().height/2),null===d&&(c.isCircular?(this.label.getBBox().width>c.len*c.tickInterval/(c.max-c.min)&&(h=0),d=p>h&&p<180-h?"left":p>180+h&&p<360-h?"right":"center"):d="center",r.attr({align:d})),e.x+=o.x,e.y+=f):e=e.call(this,t,n,r,i,o,a,s,l),e}),m(y,"getMarkPath",function(e,t,n,r,i,o,a){var s=this.axis;return s.isRadial?(e=s.getPosition(this.pos,s.center[2]/2+r),t=["M",t,n,"L",e.x,e.y]):t=e.call(this,t,n,r,i,o,a),t}),h.arearange=s(h.area,{lineWidth:1,marker:null,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">â—</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:null,verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0},states:{hover:{halo:!1}}}),d.arearange=p(d.area,{type:"arearange",pointArrayMap:["low","high"],dataLabelCollections:["dataLabel","dataLabelUpper"],toYData:function(e){return[e.low,e.high]},pointValKey:"low",deferTranslatePolar:!0,highToXY:function(e){var t=this.chart,n=this.xAxis.postTranslate(e.rectPlotX,this.yAxis.len-e.plotHigh);e.plotHighX=n.x-t.plotLeft,e.plotHigh=n.y-t.plotTop},translate:function(){var e=this,t=e.yAxis;d.area.prototype.translate.apply(e),i(e.points,function(e){var n=e.low,r=e.high,i=e.plotY;null===r||null===n?e.isNull=!0:(e.plotLow=i,e.plotHigh=t.translate(r,0,1,0,1))}),this.chart.polar&&i(this.points,function(t){e.highToXY(t)})},getGraphPath:function(e){var t,n,r,i,o=[],a=[],s=d.area.prototype.getGraphPath;i=this.options;var l=i.step,e=e||this.points;for(t=e.length;t--;)n=e[t],!n.isNull&&!i.connectEnds&&(!e[t+1]||e[t+1].isNull)&&a.push({plotX:n.plotX,plotY:n.plotY,doCurve:!1}),r={polarPlotY:n.polarPlotY,rectPlotX:n.rectPlotX,yBottom:n.yBottom,plotX:u(n.plotHighX,n.plotX),plotY:n.plotHigh,isNull:n.isNull},a.push(r),o.push(r),!n.isNull&&!i.connectEnds&&(!e[t-1]||e[t-1].isNull)&&a.push({plotX:n.plotX,plotY:n.plotY,doCurve:!1});return e=s.call(this,e),l&&(!0===l&&(l="left"),i.step={left:"right",center:"center",right:"left"}[l]),o=s.call(this,o),a=s.call(this,a),i.step=l,i=[].concat(e,o),!this.chart.polar&&"M"===a[0]&&(a[0]="L"),this.graphPath=i,this.areaPath=this.areaPath.concat(e,a),i.isArea=!0,i.xMap=e.xMap,this.areaPath.xMap=e.xMap,i},drawDataLabels:function(){var e,t,n,r=this.data,i=r.length,o=[],a=$.prototype,s=this.options.dataLabels,l=s.align,u=s.verticalAlign,c=s.inside,f=this.chart.inverted;if(s.enabled||this._hasPointLabels){for(e=i;e--;)(t=r[e])&&(n=c?t.plotHigh<t.plotLow:t.plotHigh>t.plotLow,t.y=t.high,t._plotY=t.plotY,t.plotY=t.plotHigh,o[e]=t.dataLabel,t.dataLabel=t.dataLabelUpper,t.below=n,f?l||(s.align=n?"right":"left"):u||(s.verticalAlign=n?"top":"bottom"),s.x=s.xHigh,s.y=s.yHigh);for(a.drawDataLabels&&a.drawDataLabels.apply(this,arguments),e=i;e--;)(t=r[e])&&(n=c?t.plotHigh<t.plotLow:t.plotHigh>t.plotLow,t.dataLabelUpper=t.dataLabel,t.dataLabel=o[e],t.y=t.low,t.plotY=t._plotY,t.below=!n,f?l||(s.align=n?"left":"right"):u||(s.verticalAlign=n?"bottom":"top"),s.x=s.xLow,s.y=s.yLow);a.drawDataLabels&&a.drawDataLabels.apply(this,arguments)}s.align=l,s.verticalAlign=u},alignDataLabel:function(){d.column.prototype.alignDataLabel.apply(this,arguments)},setStackedPoints:E,getSymbol:E,drawPoints:E}),h.areasplinerange=s(h.arearange),d.areasplinerange=p(d.arearange,{type:"areasplinerange",
getPointSpline:d.spline.prototype.getPointSpline}),function(){var e=d.column.prototype;h.columnrange=s(h.column,h.arearange,{lineWidth:1,pointRange:null}),d.columnrange=p(d.arearange,{type:"columnrange",translate:function(){var t,n,r=this,o=r.yAxis,a=r.xAxis,s=a.startAngleRad,l=r.chart,c=r.xAxis.isRadial;e.translate.apply(r),i(r.points,function(e){var i,f,h=e.shapeArgs,d=r.options.minPointLength;e.plotHigh=n=o.translate(e.high,0,1,0,1),e.plotLow=e.plotY,f=n,i=u(e.rectPlotY,e.plotY)-n,Math.abs(i)<d?(d-=i,i+=d,f-=d/2):i<0&&(i*=-1,f-=i),c?(t=e.barX+s,e.shapeType="path",e.shapeArgs={d:r.polarArc(f+i,f,t,t+e.pointWidth)}):(h.height=i,h.y=f,e.tooltipPos=l.inverted?[o.len+o.pos-l.plotLeft-f-i/2,a.len+a.pos-l.plotTop-h.x-h.width/2,i]:[a.left-l.plotLeft+h.x+h.width/2,o.pos-l.plotTop+f+i/2,i])})},directTouch:!0,trackerGroups:["group","dataLabelsGroup"],drawGraph:E,crispCol:e.crispCol,pointAttrToOptions:e.pointAttrToOptions,drawPoints:e.drawPoints,drawTracker:e.drawTracker,getColumnMetrics:e.getColumnMetrics,animate:function(){return e.animate.apply(this,arguments)},polarArc:function(){return e.polarArc.apply(this,arguments)}})}(),h.gauge=s(h.line,{dataLabels:{enabled:!0,defer:!1,y:15,borderWidth:1,borderColor:"silver",borderRadius:3,crop:!1,verticalAlign:"top",zIndex:2},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1}),S={type:"gauge",pointClass:p(b,{setState:function(e){this.state=e}}),angular:!0,directTouch:!0,drawGraph:E,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],translate:function(){var e=this.yAxis,t=this.options,n=e.center;this.generatePoints(),i(this.points,function(r){var i=s(t.dial,r.dial),o=c(u(i.radius,80))*n[2]/200,l=c(u(i.baseLength,70))*o/100,f=c(u(i.rearLength,10))*o/100,h=i.baseWidth||3,d=i.topWidth||1,p=t.overshoot,g=e.startAngleRad+e.translate(r.y,null,null,null,!0);a(p)?(p=p/180*Math.PI,g=Math.max(e.startAngleRad-p,Math.min(e.endAngleRad+p,g))):!1===t.wrap&&(g=Math.max(e.startAngleRad,Math.min(e.endAngleRad,g))),g=180*g/Math.PI,r.shapeType="path",r.shapeArgs={d:i.path||["M",-f,-h/2,"L",l,-h/2,o,-d/2,o,d/2,l,h/2,-f,h/2,"z"],translateX:n[0],translateY:n[1],rotation:g},r.plotX=n[0],r.plotY=n[1]})},drawPoints:function(){var e=this,t=e.yAxis.center,n=e.pivot,r=e.options,o=r.pivot,a=e.chart.renderer;i(e.points,function(t){var n=t.graphic,i=t.shapeArgs,o=i.d,l=s(r.dial,t.dial);n?(n.animate(i),i.d=o):t.graphic=a[t.shapeType](i).attr({stroke:l.borderColor||"none","stroke-width":l.borderWidth||0,fill:l.backgroundColor||"black",rotation:i.rotation,zIndex:1}).add(e.group)}),n?n.animate({translateX:t[0],translateY:t[1]}):e.pivot=a.circle(0,0,u(o.radius,5)).attr({"stroke-width":o.borderWidth||0,stroke:o.borderColor||"silver",fill:o.backgroundColor||"black",zIndex:2}).translate(t[0],t[1]).add(e.group)},animate:function(e){var t=this;e||(i(t.points,function(e){var n=e.graphic;n&&(n.attr({rotation:180*t.yAxis.startAngleRad/Math.PI}),n.animate({rotation:e.shapeArgs.rotation},t.options.animation))}),t.animate=null)},render:function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup),$.prototype.render.call(this),this.group.clip(this.chart.clipRect)},setData:function(e,t){$.prototype.setData.call(this,e,!1),this.processData(),this.generatePoints(),u(t,!0)&&this.chart.redraw()},drawTracker:S&&S.drawTrackerPoint},d.gauge=p(d.line,S),h.boxplot=s(h.column,{fillColor:"#FFFFFF",lineWidth:1,medianWidth:2,states:{hover:{brightness:-.3}},threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">â—</span> <b> {series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",whiskerWidth:2}),d.boxplot=p(d.column,{type:"boxplot",pointArrayMap:["low","q1","median","q3","high"],toYData:function(e){return[e.low,e.q1,e.median,e.q3,e.high]},pointValKey:"high",pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth"},drawDataLabels:E,translate:function(){var e=this.yAxis,t=this.pointArrayMap;d.column.prototype.translate.apply(this),i(this.points,function(n){i(t,function(t){null!==n[t]&&(n[t+"Plot"]=e.translate(n[t],0,1,0,1))})})},drawPoints:function(){var e,t,n,r,o,a,s,l,c,f,h,d,p,g,m,v,y,b,w,x,S,$,C,_=this,T=_.options,E=_.chart.renderer,M=!1!==_.doQuartiles,D=_.options.whiskerLength;i(_.points,function(i){c=i.graphic,S=i.shapeArgs,h={},g={},v={},$=i.color||_.color,void 0!==i.plotY&&(e=i.pointAttr[i.selected?"selected":""],y=S.width,b=k(S.x),w=b+y,x=A(y/2),t=k(M?i.q1Plot:i.lowPlot),n=k(M?i.q3Plot:i.lowPlot),r=k(i.highPlot),o=k(i.lowPlot),h.stroke=i.stemColor||T.stemColor||$,h["stroke-width"]=u(i.stemWidth,T.stemWidth,T.lineWidth),h.dashstyle=i.stemDashStyle||T.stemDashStyle,g.stroke=i.whiskerColor||T.whiskerColor||$,g["stroke-width"]=u(i.whiskerWidth,T.whiskerWidth,T.lineWidth),v.stroke=i.medianColor||T.medianColor||$,v["stroke-width"]=u(i.medianWidth,T.medianWidth,T.lineWidth),s=h["stroke-width"]%2/2,l=b+x+s,f=["M",l,n,"L",l,r,"M",l,t,"L",l,o],M&&(s=e["stroke-width"]%2/2,l=k(l)+s,t=k(t)+s,n=k(n)+s,b+=s,w+=s,d=["M",b,n,"L",b,t,"L",w,t,"L",w,n,"L",b,n,"z"]),D&&(s=g["stroke-width"]%2/2,r+=s,o+=s,C=/%$/.test(D)?x*parseFloat(D)/100:D/2,p=["M",l-C,r,"L",l+C,r,"M",l-C,o,"L",l+C,o]),s=v["stroke-width"]%2/2,a=A(i.medianPlot)+s,m=["M",b,a,"L",w,a],c?(i.stem.animate({d:f}),D&&i.whiskers.animate({d:p}),M&&i.box.animate({d:d}),i.medianShape.animate({d:m})):(i.graphic=c=E.g().add(_.group),i.stem=E.path(f).attr(h).add(c),D&&(i.whiskers=E.path(p).attr(g).add(c)),M&&(i.box=E.path(d).attr(e).add(c)),i.medianShape=E.path(m).attr(v).add(c)))})},setStackedPoints:E}),h.errorbar=s(h.boxplot,{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">â—</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}),d.errorbar=p(d.boxplot,{type:"errorbar",pointArrayMap:["low","high"],toYData:function(e){return[e.low,e.high]},pointValKey:"high",doQuartiles:!1,drawDataLabels:d.arearange?function(){var e=this.pointValKey;d.arearange.prototype.drawDataLabels.call(this),i(this.data,function(t){t.y=t[e]})}:E,getColumnMetrics:function(){return this.linkedParent&&this.linkedParent.columnMetrics||d.column.prototype.getColumnMetrics.call(this)}}),h.waterfall=s(h.column,{lineWidth:1,lineColor:"#333",dashStyle:"dot",borderColor:"#333",dataLabels:{inside:!0},states:{hover:{lineWidthPlus:0}}}),d.waterfall=p(d.column,{type:"waterfall",upColorProp:"fill",pointValKey:"y",pointClass:p(b,{isValid:function(){return a(this.y,!0)||this.isSum||this.isIntermediateSum}}),translate:function(){var e,t,n,r,i,o,a,s,l,c=this.options,h=this.yAxis,p=u(c.minPointLength,5),g=c.threshold,m=c.stacking;for(d.column.prototype.translate.apply(this),this.minPointLengthOffset=0,a=s=g,t=this.points,e=0,c=t.length;e<c;e++)n=t[e],o=this.processedYData[e],r=n.shapeArgs,l=(i=m&&h.stacks[(this.negStacks&&o<g?"-":"")+this.stackKey])?i[n.x].points[this.index+","+e]:[0,o],n.isSum?n.y=f(o):n.isIntermediateSum&&(n.y=f(o-s)),i=_(a,a+n.y)+l[0],r.y=h.toPixels(i,!0),n.isSum?(r.y=h.toPixels(l[1],!0),r.height=Math.min(h.toPixels(l[0],!0),h.len)-r.y+this.minPointLengthOffset):n.isIntermediateSum?(r.y=h.toPixels(l[1],!0),r.height=Math.min(h.toPixels(s,!0),h.len)-r.y+this.minPointLengthOffset,s=l[1]):(r.height=o>0?h.toPixels(a,!0)-r.y:h.toPixels(a,!0)-h.toPixels(a-o,!0),a+=o),r.height<0&&(r.y+=r.height,r.height*=-1),n.plotY=r.y=A(r.y)-this.borderWidth%2/2,r.height=_(A(r.height),.001),n.yBottom=r.y+r.height,r.height<=p&&(r.height=p,this.minPointLengthOffset+=p),r.y-=this.minPointLengthOffset,r=n.plotY+(n.negative?r.height:0)-this.minPointLengthOffset,this.chart.inverted?n.tooltipPos[0]=h.len-r:n.tooltipPos[1]=r},processData:function(e){var t,n,r,i,o,a,s,l=this.yData,u=this.options.data,c=l.length;for(r=n=i=o=this.options.threshold||0,s=0;s<c;s++)a=l[s],t=u&&u[s]?u[s]:{},"sum"===a||t.isSum?l[s]=f(r):"intermediateSum"===a||t.isIntermediateSum?l[s]=f(n):(r+=a,n+=a),i=Math.min(r,i),o=Math.max(r,o);$.prototype.processData.call(this,e),this.dataMin=i,this.dataMax=o},toYData:function(e){return e.isSum?0===e.x?null:"sum":e.isIntermediateSum?0===e.x?null:"intermediateSum":e.y},getAttribs:function(){d.column.prototype.getAttribs.apply(this,arguments);var t=this,n=t.options,r=n.states,o=n.upColor||t.color,n=e.Color(o).brighten(n.states.hover.brightness).get(),a=s(t.pointAttr),l=t.upColorProp;a[""][l]=o,a.hover[l]=r.hover.upColor||n,a.select[l]=r.select.upColor||o,i(t.points,function(e){e.options.color||(e.y>0?(e.pointAttr=a,e.color=o):e.pointAttr=t.pointAttr)})},getGraphPath:function(){var e,t,n,r=this.data,i=r.length,o=A(this.options.lineWidth+this.borderWidth)%2/2,a=[];for(n=1;n<i;n++)t=r[n].shapeArgs,e=r[n-1].shapeArgs,t=["M",e.x+e.width,e.y+o,"L",t.x,e.y+o],r[n-1].y<0&&(t[2]+=e.height,t[5]+=e.height),a=a.concat(t);return a},getExtremes:E,drawGraph:$.prototype.drawGraph}),h.polygon=s(h.scatter,{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0}),d.polygon=p(d.scatter,{type:"polygon",getGraphPath:function(){for(var e=$.prototype.getGraphPath.call(this),t=e.length+1;t--;)(t===e.length||"M"===e[t])&&t>0&&e.splice(t,0,"z");return this.areaPath=e},drawGraph:function(){this.options.fillColor=this.color,d.area.prototype.drawGraph.call(this)},drawLegendSymbol:e.LegendSymbolMixin.drawRectangle,drawTracker:$.prototype.drawTracker,setStackedPoints:E}),h.bubble=s(h.scatter,{dataLabels:{formatter:function(){return this.point.z},inside:!0,verticalAlign:"middle"},marker:{lineColor:null,lineWidth:1},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),S=p(b,{haloPath:function(){return b.prototype.haloPath.call(this,this.shapeArgs.r+this.series.options.states.hover.halo.size)},ttBelow:!1}),d.bubble=p(d.scatter,{type:"bubble",pointClass:S,pointArrayMap:["y","z"],parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],bubblePadding:!0,zoneAxis:"z",pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor"},applyOpacity:function(e){var t=this.options.marker,n=u(t.fillOpacity,.5),e=e||t.fillColor||this.color;return 1!==n&&(e=T(e).setOpacity(n).get("rgba")),e},convertAttribs:function(){var e=$.prototype.convertAttribs.apply(this,arguments);return e.fill=this.applyOpacity(e.fill),e},getRadii:function(e,t,n,r){var i,o,a,s=this.zData,l=[],u=this.options,c="width"!==u.sizeBy,f=u.zThreshold,h=t-e;for(o=0,i=s.length;o<i;o++)a=s[o],u.sizeByAbsoluteValue&&null!==a&&(a=Math.abs(a-f),t=Math.max(t-f,Math.abs(e-f)),e=0),null===a?a=null:a<e?a=n/2-1:(a=h>0?(a-e)/h:.5,c&&a>=0&&(a=Math.sqrt(a)),a=C.ceil(n+a*(r-n))/2),l.push(a);this.radii=l},animate:function(e){var t=this.options.animation;e||(i(this.points,function(e){var n=e.graphic,e=e.shapeArgs;n&&e&&(n.attr("r",1),n.animate({r:e.r},t))}),this.animate=null)},translate:function(){var e,t,n,r=this.data,i=this.radii;for(d.scatter.prototype.translate.call(this),e=r.length;e--;)t=r[e],n=i?i[e]:0,a(n)&&n>=this.minPxSize/2?(t.shapeType="circle",t.shapeArgs={x:t.plotX,y:t.plotY,r:n},t.dlBox={x:t.plotX-n,y:t.plotY-n,width:2*n,height:2*n}):t.shapeArgs=t.plotY=t.dlBox=void 0},drawLegendSymbol:function(e,t){var n=this.chart.renderer,r=n.fontMetrics(e.itemStyle.fontSize).f/2;t.legendSymbol=n.circle(r,e.baseline-r,r).attr({zIndex:3}).add(t.legendGroup),t.legendSymbol.isMarker=!0},drawPoints:d.column.prototype.drawPoints,alignDataLabel:d.column.prototype.alignDataLabel,buildKDTree:E,applyZones:E}),v.prototype.beforePadding=function(){var e=this,t=this.len,o=this.chart,s=0,l=t,f=this.isXAxis,h=f?"xData":"yData",d=this.min,p={},g=C.min(o.plotWidth,o.plotHeight),m=Number.MAX_VALUE,v=-Number.MAX_VALUE,y=this.max-d,b=t/y,w=[];i(this.series,function(t){var a=t.options;!t.bubblePadding||!t.visible&&o.options.chart.ignoreHiddenSeries||(e.allowZoomOutside=!0,w.push(t),f&&(i(["minSize","maxSize"],function(e){var t=a[e],n=/%$/.test(t),t=c(t);p[e]=n?g*t/100:t}),t.minPxSize=p.minSize,t.maxPxSize=p.maxSize,t=t.zData,t.length&&(m=u(a.zMin,C.min(m,C.max(n(t),!1===a.displayNegative?a.zThreshold:-Number.MAX_VALUE))),v=u(a.zMax,C.max(v,r(t))))))}),i(w,function(t){var n,r=t[h],i=r.length;if(f&&t.getRadii(m,v,t.minPxSize,t.maxPxSize),y>0)for(;i--;)a(r[i])&&e.dataMin<=r[i]&&r[i]<=e.dataMax&&(n=t.radii[i],s=Math.min((r[i]-d)*b-n,s),l=Math.max((r[i]-d)*b+n,l))}),w.length&&y>0&&!this.isLog&&(l-=t,b*=(t+s-l)/t,i([["min","userMin",s],["max","userMax",l]],function(t){void 0===u(e.options[t[0]],e[t[1]])&&(e[t[0]]+=t[2]/b)}))},function(){function e(e,t){var n=this.chart,r=this.options.animation,i=this.group,o=this.markerGroup,a=this.xAxis.center,s=n.plotLeft,l=n.plotTop;n.polar?n.renderer.isSVG&&(!0===r&&(r={}),t?(n={translateX:a[0]+s,translateY:a[1]+l,scaleX:.001,scaleY:.001},i.attr(n),o&&o.attr(n)):(n={translateX:s,translateY:l,scaleX:1,scaleY:1},i.animate(n,r),o&&o.animate(n,r),this.animate=null)):e.call(this,t)}var t,n=$.prototype,r=w.prototype;n.searchPointByAngle=function(e){var t=this.chart,n=this.xAxis.pane.center;return this.searchKDTree({clientX:180+Math.atan2(e.chartX-n[0]-t.plotLeft,e.chartY-n[1]-t.plotTop)*(-180/Math.PI)})},m(n,"buildKDTree",function(e){this.chart.polar&&(this.kdByAngle?this.searchPoint=this.searchPointByAngle:this.kdDimensions=2),e.apply(this)}),n.toXY=function(e){var t,n=this.chart,r=e.plotX;t=e.plotY,e.rectPlotX=r,e.rectPlotY=t,t=this.xAxis.postTranslate(e.plotX,this.yAxis.len-t),e.plotX=e.polarPlotX=t.x-n.plotLeft,e.plotY=e.polarPlotY=t.y-n.plotTop,this.kdByAngle?(n=(r/Math.PI*180+this.xAxis.pane.options.startAngle)%360,n<0&&(n+=360),e.clientX=n):e.clientX=e.plotX},d.spline&&m(d.spline.prototype,"getPointSpline",function(e,t,n,r){var i,o,a,s,l,u,c;return this.chart.polar?(i=n.plotX,o=n.plotY,e=t[r-1],a=t[r+1],this.connectEnds&&(e||(e=t[t.length-2]),a||(a=t[1])),e&&a&&(s=e.plotX,l=e.plotY,t=a.plotX,u=a.plotY,s=(1.5*i+s)/2.5,l=(1.5*o+l)/2.5,a=(1.5*i+t)/2.5,c=(1.5*o+u)/2.5,t=Math.sqrt(Math.pow(s-i,2)+Math.pow(l-o,2)),u=Math.sqrt(Math.pow(a-i,2)+Math.pow(c-o,2)),s=Math.atan2(l-o,s-i),l=Math.atan2(c-o,a-i),c=Math.PI/2+(s+l)/2,Math.abs(s-c)>Math.PI/2&&(c-=Math.PI),s=i+Math.cos(c)*t,l=o+Math.sin(c)*t,a=i+Math.cos(Math.PI+c)*u,c=o+Math.sin(Math.PI+c)*u,n.rightContX=a,n.rightContY=c),r?(n=["C",e.rightContX||e.plotX,e.rightContY||e.plotY,s||i,l||o,i,o],e.rightContX=e.rightContY=null):n=["M",i,o]):n=e.call(this,t,n,r),n}),m(n,"translate",function(e){var t=this.chart;if(e.call(this),t.polar&&(this.kdByAngle=t.tooltip&&t.tooltip.shared,!this.preventPostTranslate))for(e=this.points,t=e.length;t--;)this.toXY(e[t])}),m(n,"getGraphPath",function(e,t){var n,r,o=this;if(this.chart.polar){for(t=t||this.points,n=0;n<t.length;n++)if(!t[n].isNull){r=n;break}!1!==this.options.connectEnds&&void 0!==r&&(this.connectEnds=!0,t.splice(t.length,0,t[r])),i(t,function(e){void 0===e.polarPlotY&&o.toXY(e)})}return e.apply(this,[].slice.call(arguments,1))}),m(n,"animate",e),d.column&&(t=d.column.prototype,t.polarArc=function(e,t,n,r){var i=this.xAxis.center,o=this.yAxis.len;return this.chart.renderer.symbols.arc(i[0],i[1],o-t,null,{start:n,end:r,innerR:o-u(e,o)})},m(t,"animate",e),m(t,"translate",function(e){var t,n,r,i=this.xAxis,o=i.startAngleRad;if(this.preventPostTranslate=!0,e.call(this),i.isRadial)for(t=this.points,r=t.length;r--;)n=t[r],e=n.barX+o,n.shapeType="path",n.shapeArgs={d:this.polarArc(n.yBottom,n.plotY,e,e+n.pointWidth)},this.toXY(n),n.tooltipPos=[n.plotX,n.plotY],n.ttBelow=n.plotY>i.center[1]}),m(t,"alignDataLabel",function(e,t,r,i,o,a){this.chart.polar?(e=t.rectPlotX/Math.PI*180,null===i.align&&(i.align=e>20&&e<160?"left":e>200&&e<340?"right":"center"),null===i.verticalAlign&&(i.verticalAlign=e<45||e>315?"bottom":e>135&&e<225?"top":"middle"),n.alignDataLabel.call(this,t,r,i,o,a)):e.call(this,t,r,i,o,a)})),m(r,"getCoordinates",function(e,t){var n=this.chart,r={xAxis:[],yAxis:[]};return n.polar?i(n.axes,function(e){var i=e.isXAxis,o=e.center,a=t.chartX-o[0]-n.plotLeft,o=t.chartY-o[1]-n.plotTop;r[i?"xAxis":"yAxis"].push({axis:e,value:e.translate(i?Math.PI-Math.atan2(a,o):Math.sqrt(Math.pow(a,2)+Math.pow(o,2)),!0)})}):r=e.call(this,t),r})}()}),function(e){"object"==typeof module&&module.exports?module.exports=e:e(Highcharts)}(function(e){var t,n=e.win,r=n.document,i=e.Chart,o=e.addEvent,a=e.removeEvent,s=e.fireEvent,l=e.createElement,u=e.discardElement,c=e.css,f=e.merge,h=e.each,d=e.extend,p=e.splat,g=Math.max,m=e.isTouchDevice,v=e.Renderer.prototype.symbols,y=e.getOptions();d(y.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"}),y.navigation={menuStyle:{border:"1px solid #A0A0A0",background:"#FFFFFF",padding:"5px 0"},menuItemStyle:{padding:"0 10px",background:"none",color:"#303030",fontSize:m?"14px":"11px"},menuItemHoverStyle:{background:"#4572A5",color:"#FFFFFF"},buttonOptions:{symbolFill:"#E0E0E0",symbolSize:14,symbolStroke:"#666",symbolStrokeWidth:3,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,theme:{fill:"white",stroke:"none"},verticalAlign:"top",width:24}},y.exporting={type:"image/png",url:"https://export.highcharts.com/",printMaxWidth:780,scale:2,buttons:{contextButton:{menuClassName:"highcharts-contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]}}},e.post=function(e,t,n){var i,e=l("form",f({method:"post",action:e,enctype:"multipart/form-data"},n),{display:"none"},r.body);for(i in t)l("input",{type:"hidden",name:i,value:t[i]},null,e);e.submit(),u(e)},d(i.prototype,{sanitizeSVG:function(e){return e.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(\S+)("|&quot;)\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (NS[0-9]+\:)?href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"</svg>").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g,"Â ").replace(/&shy;/g,"Â­").replace(/<IMG /g,"<image ").replace(/<(\/?)TITLE>/g,"<$1title>").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/ id=([^" >]+)/g,' id="$1"').replace(/class=([^" >]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(e){return e.toLowerCase()})},getChartHTML:function(){return this.container.innerHTML},getSVG:function(t){var n,i,o,a,s,c=this,g=f(c.options,t),m=g.exporting.allowHTML;return r.createElementNS||(r.createElementNS=function(e,t){return r.createElement(t)}),i=l("div",null,{position:"absolute",top:"-9999em",width:c.chartWidth+"px",height:c.chartHeight+"px"},r.body),o=c.renderTo.style.width,s=c.renderTo.style.height,o=g.exporting.sourceWidth||g.chart.width||/px$/.test(o)&&parseInt(o,10)||600,s=g.exporting.sourceHeight||g.chart.height||/px$/.test(s)&&parseInt(s,10)||400,d(g.chart,{animation:!1,renderTo:i,forExport:!0,renderer:"SVGRenderer",width:o,height:s}),g.exporting.enabled=!1,delete g.data,g.series=[],h(c.series,function(e){a=f(e.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:e.visible}),a.isInternal||g.series.push(a)}),t&&h(["xAxis","yAxis"],function(e){h(p(t[e]),function(t,n){g[e][n]=f(g[e][n],t)})}),n=new e.Chart(g,c.callback),h(["xAxis","yAxis"],function(e){h(c[e],function(t,r){var i=n[e][r],o=t.getExtremes(),a=o.userMin,o=o.userMax;i&&(void 0!==a||void 0!==o)&&i.setExtremes(a,o,!0,!1)})}),o=n.getChartHTML(),g=null,n.destroy(),u(i),m&&(i=o.match(/<\/svg>(.*?$)/))&&(i='<foreignObject x="0" y="0" width="200" height="200"><body xmlns="http://www.w3.org/1999/xhtml">'+i[1]+"</body></foreignObject>",o=o.replace("</svg>",i+"</svg>")),o=this.sanitizeSVG(o),o=o.replace(/(url\(#highcharts-[0-9]+)&quot;/g,"$1").replace(/&quot;/g,"'")},getSVGForExport:function(e,t){var n=this.options.exporting;return this.getSVG(f({chart:{borderRadius:0}},n.chartOptions,t,{exporting:{sourceWidth:e&&e.sourceWidth||n.sourceWidth,sourceHeight:e&&e.sourceHeight||n.sourceHeight}}))},exportChart:function(t,n){var r=this.getSVGForExport(t,n),t=f(this.options.exporting,t);e.post(t.url,{filename:t.filename||"chart",type:t.type,width:t.width||0,scale:t.scale,svg:r},t.formAttributes)},print:function(){var e,t,i=this,o=i.container,a=[],l=o.parentNode,u=r.body,c=u.childNodes,f=i.options.exporting.printMaxWidth;i.isPrinting||(i.isPrinting=!0,i.pointer.reset(null,0),s(i,"beforePrint"),(t=f&&i.chartWidth>f)&&(e=[i.options.chart.width,void 0,!1],i.setSize(f,void 0,!1)),h(c,function(e,t){1===e.nodeType&&(a[t]=e.style.display,e.style.display="none")}),u.appendChild(o),n.focus(),n.print(),setTimeout(function(){l.appendChild(o),h(c,function(e,t){1===e.nodeType&&(e.style.display=a[t])}),i.isPrinting=!1,t&&i.setSize.apply(i,e),s(i,"afterPrint")},1e3))},contextMenu:function(e,t,n,i,s,u,f){var p,m,v,y=this,b=y.options.navigation,w=b.menuItemStyle,x=y.chartWidth,S=y.chartHeight,$="cache-"+e,C=y[$],A=g(s,u),k=function(t){y.pointer.inClass(t.target,e)||m()};C||(y[$]=C=l("div",{className:e},{position:"absolute",zIndex:1e3,padding:A+"px"},y.container),p=l("div",null,d({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},b.menuStyle),C),m=function(){c(C,{display:"none"}),f&&f.setState(0),y.openMenu=!1},o(C,"mouseleave",function(){v=setTimeout(m,500)}),o(C,"mouseenter",function(){clearTimeout(v)}),o(r,"mouseup",k),o(y,"destroy",function(){a(r,"mouseup",k)}),h(t,function(e){if(e){var t=e.separator?l("hr",null,null,p):l("div",{onmouseover:function(){c(this,b.menuItemHoverStyle)},onmouseout:function(){c(this,w)},onclick:function(t){t&&t.stopPropagation(),m(),e.onclick&&e.onclick.apply(y,arguments)},innerHTML:e.text||y.options.lang[e.textKey]},d({cursor:"pointer"},w),p);y.exportDivElements.push(t)}}),y.exportDivElements.push(p,C),y.exportMenuWidth=C.offsetWidth,y.exportMenuHeight=C.offsetHeight),t={display:"block"},n+y.exportMenuWidth>x?t.right=x-n-s-A+"px":t.left=n-A+"px",i+u+y.exportMenuHeight>S&&"top"!==f.alignOptions.verticalAlign?t.bottom=S-i-A+"px":t.top=i+u-A+"px",c(C,t),y.openMenu=!0},addButton:function(n){var r,i,o=this,a=o.renderer,s=f(o.options.navigation.buttonOptions,n),l=s.onclick,u=s.menuItems,c={stroke:s.symbolStroke,fill:s.symbolFill},h=s.symbolSize||12;if(o.btnCount||(o.btnCount=0),o.exportDivElements||(o.exportDivElements=[],o.exportSVGElements=[]),!1!==s.enabled){var p,g=s.theme,m=g.states,v=m&&m.hover,m=m&&m.select;delete g.states,l?p=function(e){e.stopPropagation(),l.call(o,e)}:u&&(p=function(){o.contextMenu(i.menuClassName,u,i.translateX,i.translateY,i.width,i.height,i),i.setState(2)}),s.text&&s.symbol?g.paddingLeft=e.pick(g.paddingLeft,25):s.text||d(g,{width:s.width,height:s.height,padding:0}),i=a.button(s.text,0,0,p,g,v,m).attr({title:o.options.lang[s._titleKey],"stroke-linecap":"round",zIndex:3}),i.menuClassName=n.menuClassName||"highcharts-menu-"+o.btnCount++,s.symbol&&(r=a.symbol(s.symbol,s.symbolX-h/2,s.symbolY-h/2,h,h).attr(d(c,{"stroke-width":s.symbolStrokeWidth||1,zIndex:1})).add(i)),i.add().align(d(s,{width:i.width,x:e.pick(s.x,t)}),!0,"spacingBox"),t+=(i.width+s.buttonSpacing)*("right"===s.align?-1:1),o.exportSVGElements.push(i,r)}},destroyExport:function(e){var t,n,e=e.target;for(t=0;t<e.exportSVGElements.length;t++)(n=e.exportSVGElements[t])&&(n.onclick=n.ontouchstart=null,e.exportSVGElements[t]=n.destroy());for(t=0;t<e.exportDivElements.length;t++)n=e.exportDivElements[t],a(n,"mouseleave"),e.exportDivElements[t]=n.onmouseout=n.onmouseover=n.ontouchstart=n.onclick=null,u(n)}}),v.menu=function(e,t,n,r){return["M",e,t+2.5,"L",e+n,t+2.5,"M",e,t+r/2+.5,"L",e+n,t+r/2+.5,"M",e,t+r-1.5,"L",e+n,t+r-1.5]},i.prototype.callbacks.push(function(e){var n,r=e.options.exporting,i=r.buttons;if(t=0,!1!==r.enabled){for(n in i)e.addButton(i[n]);o(e,"destroy",e.destroyExport)}})}),function(){"use strict";var e=angular.module("ngImgCrop",[]);e.factory("cropAreaCircle",["cropArea",function(e){var t=function(){e.apply(this,arguments),this._boxResizeBaseSize=20,this._boxResizeNormalRatio=.9,this._boxResizeHoverRatio=1.2,this._iconMoveNormalRatio=.9,this._iconMoveHoverRatio=1.2,this._boxResizeNormalSize=this._boxResizeBaseSize*this._boxResizeNormalRatio,this._boxResizeHoverSize=this._boxResizeBaseSize*this._boxResizeHoverRatio,this._posDragStartX=0,this._posDragStartY=0,this._posResizeStartX=0,this._posResizeStartY=0,this._posResizeStartSize=0,this._boxResizeIsHover=!1,this._areaIsHover=!1,this._boxResizeIsDragging=!1,this._areaIsDragging=!1};return t.prototype=new e,t.prototype._calcCirclePerimeterCoords=function(e){var t=this._size/2,n=e*(Math.PI/180);return[this._x+t*Math.cos(n),this._y+t*Math.sin(n)]},t.prototype._calcResizeIconCenterCoords=function(){return this._calcCirclePerimeterCoords(-45)},t.prototype._isCoordWithinArea=function(e){return Math.sqrt((e[0]-this._x)*(e[0]-this._x)+(e[1]-this._y)*(e[1]-this._y))<this._size/2},t.prototype._isCoordWithinBoxResize=function(e){var t=this._calcResizeIconCenterCoords(),n=this._boxResizeHoverSize/2;return e[0]>t[0]-n&&e[0]<t[0]+n&&e[1]>t[1]-n&&e[1]<t[1]+n},t.prototype._drawArea=function(e,t,n){e.arc(t[0],t[1],n/2,0,2*Math.PI)},t.prototype.draw=function(){e.prototype.draw.apply(this,arguments),this._cropCanvas.drawIconMove([this._x,this._y],this._areaIsHover?this._iconMoveHoverRatio:this._iconMoveNormalRatio),this._cropCanvas.drawIconResizeBoxNESW(this._calcResizeIconCenterCoords(),this._boxResizeBaseSize,this._boxResizeIsHover?this._boxResizeHoverRatio:this._boxResizeNormalRatio)},t.prototype.processMouseMove=function(e,t){var n="default",r=!1;if(this._boxResizeIsHover=!1,this._areaIsHover=!1,this._areaIsDragging)this._x=e-this._posDragStartX,this._y=t-this._posDragStartY,this._areaIsHover=!0,n="move",r=!0,this._events.trigger("area-move");else if(this._boxResizeIsDragging){n="nesw-resize";var i,o,a;o=e-this._posResizeStartX,a=this._posResizeStartY-t,i=o>a?this._posResizeStartSize+2*a:this._posResizeStartSize+2*o,this._size=Math.max(this._minSize,i),this._boxResizeIsHover=!0,r=!0,this._events.trigger("area-resize")}else this._isCoordWithinBoxResize([e,t])?(n="nesw-resize",this._areaIsHover=!1,this._boxResizeIsHover=!0,r=!0):this._isCoordWithinArea([e,t])&&(n="move",this._areaIsHover=!0,r=!0);return this._dontDragOutside(),angular.element(this._ctx.canvas).css({cursor:n}),r},t.prototype.processMouseDown=function(e,t){this._isCoordWithinBoxResize([e,t])?(this._areaIsDragging=!1,this._areaIsHover=!1,this._boxResizeIsDragging=!0,this._boxResizeIsHover=!0,this._posResizeStartX=e,this._posResizeStartY=t,this._posResizeStartSize=this._size,this._events.trigger("area-resize-start")):this._isCoordWithinArea([e,t])&&(this._areaIsDragging=!0,this._areaIsHover=!0,this._boxResizeIsDragging=!1,this._boxResizeIsHover=!1,this._posDragStartX=e-this._x,this._posDragStartY=t-this._y,this._events.trigger("area-move-start"))},t.prototype.processMouseUp=function(){this._areaIsDragging&&(this._areaIsDragging=!1,this._events.trigger("area-move-end")),this._boxResizeIsDragging&&(this._boxResizeIsDragging=!1,this._events.trigger("area-resize-end")),this._areaIsHover=!1,this._boxResizeIsHover=!1,this._posDragStartX=0,this._posDragStartY=0},t}]),e.factory("cropAreaSquare",["cropArea",function(e){var t=function(){e.apply(this,arguments),this._resizeCtrlBaseRadius=10,this._resizeCtrlNormalRatio=.75,this._resizeCtrlHoverRatio=1,this._iconMoveNormalRatio=.9,this._iconMoveHoverRatio=1.2,this._resizeCtrlNormalRadius=this._resizeCtrlBaseRadius*this._resizeCtrlNormalRatio,this._resizeCtrlHoverRadius=this._resizeCtrlBaseRadius*this._resizeCtrlHoverRatio,this._posDragStartX=0,this._posDragStartY=0,this._posResizeStartX=0,this._posResizeStartY=0,this._posResizeStartSize=0,this._resizeCtrlIsHover=-1,this._areaIsHover=!1,this._resizeCtrlIsDragging=-1,this._areaIsDragging=!1};return t.prototype=new e,t.prototype._calcSquareCorners=function(){var e=this._size/2;return[[this._x-e,this._y-e],[this._x+e,this._y-e],[this._x-e,this._y+e],[this._x+e,this._y+e]]},t.prototype._calcSquareDimensions=function(){var e=this._size/2;return{left:this._x-e,top:this._y-e,right:this._x+e,bottom:this._y+e}},t.prototype._isCoordWithinArea=function(e){var t=this._calcSquareDimensions();return e[0]>=t.left&&e[0]<=t.right&&e[1]>=t.top&&e[1]<=t.bottom},t.prototype._isCoordWithinResizeCtrl=function(e){for(var t=this._calcSquareCorners(),n=-1,r=0,i=t.length;i>r;r++){var o=t[r];if(e[0]>o[0]-this._resizeCtrlHoverRadius&&e[0]<o[0]+this._resizeCtrlHoverRadius&&e[1]>o[1]-this._resizeCtrlHoverRadius&&e[1]<o[1]+this._resizeCtrlHoverRadius){n=r;break}}return n},t.prototype._drawArea=function(e,t,n){var r=n/2;e.rect(t[0]-r,t[1]-r,n,n)},t.prototype.draw=function(){e.prototype.draw.apply(this,arguments),this._cropCanvas.drawIconMove([this._x,this._y],this._areaIsHover?this._iconMoveHoverRatio:this._iconMoveNormalRatio);for(var t=this._calcSquareCorners(),n=0,r=t.length;r>n;n++){var i=t[n];this._cropCanvas.drawIconResizeCircle(i,this._resizeCtrlBaseRadius,this._resizeCtrlIsHover===n?this._resizeCtrlHoverRatio:this._resizeCtrlNormalRatio)}},t.prototype.processMouseMove=function(e,t){var n="default",r=!1;if(this._resizeCtrlIsHover=-1,this._areaIsHover=!1,this._areaIsDragging)this._x=e-this._posDragStartX,this._y=t-this._posDragStartY,this._areaIsHover=!0,n="move",r=!0,this._events.trigger("area-move");else if(this._resizeCtrlIsDragging>-1){var i,o;switch(this._resizeCtrlIsDragging){case 0:i=-1,o=-1,n="nwse-resize";break;case 1:i=1,o=-1,n="nesw-resize";break;case 2:i=-1,o=1,n="nesw-resize";break;case 3:i=1,o=1,n="nwse-resize"}var a,s=(e-this._posResizeStartX)*i,l=(t-this._posResizeStartY)*o;a=s>l?this._posResizeStartSize+l:this._posResizeStartSize+s;var u=this._size;this._size=Math.max(this._minSize,a);var c=(this._size-u)/2;this._x+=c*i,this._y+=c*o,this._resizeCtrlIsHover=this._resizeCtrlIsDragging,r=!0,this._events.trigger("area-resize")}else{var f=this._isCoordWithinResizeCtrl([e,t]);if(f>-1){switch(f){case 0:n="nwse-resize";break;case 1:case 2:n="nesw-resize";break;case 3:n="nwse-resize"}this._areaIsHover=!1,this._resizeCtrlIsHover=f,r=!0}else this._isCoordWithinArea([e,t])&&(n="move",this._areaIsHover=!0,r=!0)}return this._dontDragOutside(),angular.element(this._ctx.canvas).css({cursor:n}),r},t.prototype.processMouseDown=function(e,t){var n=this._isCoordWithinResizeCtrl([e,t]);n>-1?(this._areaIsDragging=!1,this._areaIsHover=!1,this._resizeCtrlIsDragging=n,this._resizeCtrlIsHover=n,this._posResizeStartX=e,this._posResizeStartY=t,this._posResizeStartSize=this._size,this._events.trigger("area-resize-start")):this._isCoordWithinArea([e,t])&&(this._areaIsDragging=!0,this._areaIsHover=!0,this._resizeCtrlIsDragging=-1,this._resizeCtrlIsHover=-1,this._posDragStartX=e-this._x,this._posDragStartY=t-this._y,this._events.trigger("area-move-start"))},t.prototype.processMouseUp=function(){this._areaIsDragging&&(this._areaIsDragging=!1,this._events.trigger("area-move-end")),this._resizeCtrlIsDragging>-1&&(this._resizeCtrlIsDragging=-1,this._events.trigger("area-resize-end")),this._areaIsHover=!1,this._resizeCtrlIsHover=-1,this._posDragStartX=0,this._posDragStartY=0},t}]),e.factory("cropArea",["cropCanvas",function(e){var t=function(t,n){this._ctx=t,this._events=n,this._minSize=80,
this._cropCanvas=new e(t),this._image=new Image,this._x=0,this._y=0,this._size=200};return t.prototype.getImage=function(){return this._image},t.prototype.setImage=function(e){this._image=e},t.prototype.getX=function(){return this._x},t.prototype.setX=function(e){this._x=e,this._dontDragOutside()},t.prototype.getY=function(){return this._y},t.prototype.setY=function(e){this._y=e,this._dontDragOutside()},t.prototype.getSize=function(){return this._size},t.prototype.setSize=function(e){this._size=Math.max(this._minSize,e),this._dontDragOutside()},t.prototype.getMinSize=function(){return this._minSize},t.prototype.setMinSize=function(e){this._minSize=e,this._size=Math.max(this._minSize,this._size),this._dontDragOutside()},t.prototype._dontDragOutside=function(){var e=this._ctx.canvas.height,t=this._ctx.canvas.width;this._size>t&&(this._size=t),this._size>e&&(this._size=e),this._x<this._size/2&&(this._x=this._size/2),this._x>t-this._size/2&&(this._x=t-this._size/2),this._y<this._size/2&&(this._y=this._size/2),this._y>e-this._size/2&&(this._y=e-this._size/2)},t.prototype._drawArea=function(){},t.prototype.draw=function(){this._cropCanvas.drawCropArea(this._image,[this._x,this._y],this._size,this._drawArea)},t.prototype.processMouseMove=function(){},t.prototype.processMouseDown=function(){},t.prototype.processMouseUp=function(){},t}]),e.factory("cropCanvas",[function(){var e=[[-.5,-2],[-3,-4.5],[-.5,-7],[-7,-7],[-7,-.5],[-4.5,-3],[-2,-.5]],t=[[.5,-2],[3,-4.5],[.5,-7],[7,-7],[7,-.5],[4.5,-3],[2,-.5]],n=[[-.5,2],[-3,4.5],[-.5,7],[-7,7],[-7,.5],[-4.5,3],[-2,.5]],r=[[.5,2],[3,4.5],[.5,7],[7,7],[7,.5],[4.5,3],[2,.5]],i=[[-1.5,-2.5],[-1.5,-6],[-5,-6],[0,-11],[5,-6],[1.5,-6],[1.5,-2.5]],o=[[-2.5,-1.5],[-6,-1.5],[-6,-5],[-11,0],[-6,5],[-6,1.5],[-2.5,1.5]],a=[[-1.5,2.5],[-1.5,6],[-5,6],[0,11],[5,6],[1.5,6],[1.5,2.5]],s=[[2.5,-1.5],[6,-1.5],[6,-5],[11,0],[6,5],[6,1.5],[2.5,1.5]],l={areaOutline:"#fff",resizeBoxStroke:"#fff",resizeBoxFill:"#444",resizeBoxArrowFill:"#fff",resizeCircleStroke:"#fff",resizeCircleFill:"#444",moveIconFill:"#fff"};return function(u){var c=function(e,t,n){return[n*e[0]+t[0],n*e[1]+t[1]]},f=function(e,t,n,r){u.save(),u.fillStyle=t,u.beginPath();var i,o=c(e[0],n,r);u.moveTo(o[0],o[1]);for(var a in e)a>0&&(i=c(e[a],n,r),u.lineTo(i[0],i[1]));u.lineTo(o[0],o[1]),u.fill(),u.closePath(),u.restore()};this.drawIconMove=function(e,t){f(i,l.moveIconFill,e,t),f(o,l.moveIconFill,e,t),f(a,l.moveIconFill,e,t),f(s,l.moveIconFill,e,t)},this.drawIconResizeCircle=function(e,t,n){var r=t*n;u.save(),u.strokeStyle=l.resizeCircleStroke,u.lineWidth=2,u.fillStyle=l.resizeCircleFill,u.beginPath(),u.arc(e[0],e[1],r,0,2*Math.PI),u.fill(),u.stroke(),u.closePath(),u.restore()},this.drawIconResizeBoxBase=function(e,t,n){var r=t*n;u.save(),u.strokeStyle=l.resizeBoxStroke,u.lineWidth=2,u.fillStyle=l.resizeBoxFill,u.fillRect(e[0]-r/2,e[1]-r/2,r,r),u.strokeRect(e[0]-r/2,e[1]-r/2,r,r),u.restore()},this.drawIconResizeBoxNESW=function(e,r,i){this.drawIconResizeBoxBase(e,r,i),f(t,l.resizeBoxArrowFill,e,i),f(n,l.resizeBoxArrowFill,e,i)},this.drawIconResizeBoxNWSE=function(t,n,i){this.drawIconResizeBoxBase(t,n,i),f(e,l.resizeBoxArrowFill,t,i),f(r,l.resizeBoxArrowFill,t,i)},this.drawCropArea=function(e,t,n,r){var i=e.width/u.canvas.width,o=e.height/u.canvas.height,a=t[0]-n/2,s=t[1]-n/2;u.save(),u.strokeStyle=l.areaOutline,u.lineWidth=2,u.beginPath(),r(u,t,n),u.stroke(),u.clip(),n>0&&u.drawImage(e,a*i,s*o,n*i,n*o,a,s,n,n),u.beginPath(),r(u,t,n),u.stroke(),u.clip(),u.restore()}}}]),e.service("cropEXIF",[function(){function e(e){return!!e.exifdata}function t(e,t){t=t||e.match(/^data\:([^\;]+)\;base64,/im)[1]||"",e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var n=atob(e),r=n.length,i=new ArrayBuffer(r),o=new Uint8Array(i),a=0;r>a;a++)o[a]=n.charCodeAt(a);return i}function n(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onload=function(){(200==this.status||0===this.status)&&t(this.response)},n.send()}function r(e,r){function a(t){var n=i(t),a=o(t);e.exifdata=n||{},e.iptcdata=a||{},r&&r.call(e)}if(e.src)if(/^data\:/i.test(e.src)){var s=t(e.src);a(s)}else if(/^blob\:/i.test(e.src)){var l=new FileReader;l.onload=function(e){a(e.target.result)},n(e.src,function(e){l.readAsArrayBuffer(e)})}else{var u=new XMLHttpRequest;u.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";a(u.response),u=null},u.open("GET",e.src,!0),u.responseType="arraybuffer",u.send(null)}else if(window.FileReader&&(e instanceof window.Blob||e instanceof window.File)){var l=new FileReader;l.onload=function(e){f&&console.log("Got file of length "+e.target.result.byteLength),a(e.target.result)},l.readAsArrayBuffer(e)}}function i(e){var t=new DataView(e);if(f&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return f&&console.log("Not a valid JPEG"),!1;for(var n,r=2,i=e.byteLength;i>r;){if(255!=t.getUint8(r))return f&&console.log("Not a valid marker at offset "+r+", found: "+t.getUint8(r)),!1;if(n=t.getUint8(r+1),f&&console.log(n),225==n)return f&&console.log("Found 0xFFE1 marker"),c(t,r+4,t.getUint16(r+2));r+=2+t.getUint16(r+2)}}function o(e){var t=new DataView(e);if(f&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return f&&console.log("Not a valid JPEG"),!1;for(var n=2,r=e.byteLength;r>n;){if(function(e,t){return 56===e.getUint8(t)&&66===e.getUint8(t+1)&&73===e.getUint8(t+2)&&77===e.getUint8(t+3)&&4===e.getUint8(t+4)&&4===e.getUint8(t+5)}(t,n)){var i=t.getUint8(n+7);i%2!=0&&(i+=1),0===i&&(i=4);return a(e,n+8+i,t.getUint16(n+6+i))}n++}}function a(e,t,n){for(var r,i,o,a,s=new DataView(e),l={},c=t;t+n>c;)28===s.getUint8(c)&&2===s.getUint8(c+1)&&(a=s.getUint8(c+2))in m&&(o=s.getInt16(c+3),o+5,i=m[a],r=u(s,c+5,o),l.hasOwnProperty(i)?l[i]instanceof Array?l[i].push(r):l[i]=[l[i],r]:l[i]=r),c++;return l}function s(e,t,n,r,i){var o,a,s,u=e.getUint16(n,!i),c={};for(s=0;u>s;s++)o=n+12*s+2,a=r[e.getUint16(o,!i)],!a&&f&&console.log("Unknown tag: "+e.getUint16(o,!i)),c[a]=l(e,o,t,n,i);return c}function l(e,t,n,r,i){var o,a,s,l,c,f,h=e.getUint16(t+2,!i),d=e.getUint32(t+4,!i),p=e.getUint32(t+8,!i)+n;switch(h){case 1:case 7:if(1==d)return e.getUint8(t+8,!i);for(o=d>4?p:t+8,a=[],l=0;d>l;l++)a[l]=e.getUint8(o+l);return a;case 2:return o=d>4?p:t+8,u(e,o,d-1);case 3:if(1==d)return e.getUint16(t+8,!i);for(o=d>2?p:t+8,a=[],l=0;d>l;l++)a[l]=e.getUint16(o+2*l,!i);return a;case 4:if(1==d)return e.getUint32(t+8,!i);for(a=[],l=0;d>l;l++)a[l]=e.getUint32(p+4*l,!i);return a;case 5:if(1==d)return c=e.getUint32(p,!i),f=e.getUint32(p+4,!i),s=new Number(c/f),s.numerator=c,s.denominator=f,s;for(a=[],l=0;d>l;l++)c=e.getUint32(p+8*l,!i),f=e.getUint32(p+4+8*l,!i),a[l]=new Number(c/f),a[l].numerator=c,a[l].denominator=f;return a;case 9:if(1==d)return e.getInt32(t+8,!i);for(a=[],l=0;d>l;l++)a[l]=e.getInt32(p+4*l,!i);return a;case 10:if(1==d)return e.getInt32(p,!i)/e.getInt32(p+4,!i);for(a=[],l=0;d>l;l++)a[l]=e.getInt32(p+8*l,!i)/e.getInt32(p+4+8*l,!i);return a}}function u(e,t,n){for(var r="",i=t;t+n>i;i++)r+=String.fromCharCode(e.getUint8(i));return r}function c(e,t){if("Exif"!=u(e,t,4))return f&&console.log("Not valid EXIF data! "+u(e,t,4)),!1;var n,r,i,o,a,l=t+6;if(18761==e.getUint16(l))n=!1;else{if(19789!=e.getUint16(l))return f&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;n=!0}if(42!=e.getUint16(l+2,!n))return f&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var c=e.getUint32(l+4,!n);if(8>c)return f&&console.log("Not valid TIFF data! (First offset less than 8)",e.getUint32(l+4,!n)),!1;if(r=s(e,l,l+c,d,n),r.ExifIFDPointer){o=s(e,l,l+r.ExifIFDPointer,h,n);for(i in o){switch(i){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":o[i]=g[i][o[i]];break;case"ExifVersion":case"FlashpixVersion":o[i]=String.fromCharCode(o[i][0],o[i][1],o[i][2],o[i][3]);break;case"ComponentsConfiguration":o[i]=g.Components[o[i][0]]+g.Components[o[i][1]]+g.Components[o[i][2]]+g.Components[o[i][3]]}r[i]=o[i]}}if(r.GPSInfoIFDPointer){a=s(e,l,l+r.GPSInfoIFDPointer,p,n);for(i in a){switch(i){case"GPSVersionID":a[i]=a[i][0]+"."+a[i][1]+"."+a[i][2]+"."+a[i][3]}r[i]=a[i]}}return r}var f=!1,h=this.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},d=this.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},p=this.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},g=this.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},m={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};this.getData=function(t,n){return!((t instanceof Image||t instanceof HTMLImageElement)&&!t.complete)&&(e(t)?n&&n.call(t):r(t,n),!0)},this.getTag=function(t,n){return e(t)?t.exifdata[n]:void 0},this.getAllTags=function(t){if(!e(t))return{};var n,r=t.exifdata,i={};for(n in r)r.hasOwnProperty(n)&&(i[n]=r[n]);return i},this.pretty=function(t){if(!e(t))return"";var n,r=t.exifdata,i="";for(n in r)r.hasOwnProperty(n)&&(i+="object"==typeof r[n]?r[n]instanceof Number?n+" : "+r[n]+" ["+r[n].numerator+"/"+r[n].denominator+"]\r\n":n+" : ["+r[n].length+" values]\r\n":n+" : "+r[n]+"\r\n");return i},this.readFromBinaryFile=function(e){return i(e)}}]),e.factory("cropHost",["$document","cropAreaCircle","cropAreaSquare","cropEXIF",function(e,t,n,r){var i=function(e){var t=e.getBoundingClientRect(),n=document.body,r=document.documentElement,i=window.pageYOffset||r.scrollTop||n.scrollTop,o=window.pageXOffset||r.scrollLeft||n.scrollLeft,a=r.clientTop||n.clientTop||0,s=r.clientLeft||n.clientLeft||0,l=t.top+i-a,u=t.left+o-s;return{top:Math.round(l),left:Math.round(u)}};return function(o,a,s){function l(){u.clearRect(0,0,u.canvas.width,u.canvas.height),null!==c&&(u.drawImage(c,0,0,u.canvas.width,u.canvas.height),u.save(),u.fillStyle="rgba(0, 0, 0, 0.65)",u.fillRect(0,0,u.canvas.width,u.canvas.height),u.restore(),f.draw())}var u=null,c=null,f=null,h=[100,100],d=[300,300],p=200,g="image/png",m=null,v=function(){if(null!==c){f.setImage(c);var e=[c.width,c.height],t=c.width/c.height,n=e;n[0]>d[0]?(n[0]=d[0],n[1]=n[0]/t):n[0]<h[0]&&(n[0]=h[0],n[1]=n[0]/t),n[1]>d[1]?(n[1]=d[1],n[0]=n[1]*t):n[1]<h[1]&&(n[1]=h[1],n[0]=n[1]*t),o.prop("width",n[0]).prop("height",n[1]).css({"margin-left":-n[0]/2+"px","margin-top":-n[1]/2+"px"}),f.setX(u.canvas.width/2),f.setY(u.canvas.height/2),f.setSize(Math.min(200,u.canvas.width/2,u.canvas.height/2))}else o.prop("width",0).prop("height",0).css({"margin-top":0});l()},y=function(e){return angular.isDefined(e.changedTouches)?e.changedTouches:e.originalEvent.changedTouches},b=function(e){if(null!==c){var t,n,r=i(u.canvas);"touchmove"===e.type?(t=y(e)[0].pageX,n=y(e)[0].pageY):(t=e.pageX,n=e.pageY),f.processMouseMove(t-r.left,n-r.top),l()}},w=function(e){if(e.preventDefault(),e.stopPropagation(),null!==c){var t,n,r=i(u.canvas);"touchstart"===e.type?(t=y(e)[0].pageX,n=y(e)[0].pageY):(t=e.pageX,n=e.pageY),f.processMouseDown(t-r.left,n-r.top),l()}},x=function(e){if(null!==c){var t,n,r=i(u.canvas);"touchend"===e.type?(t=y(e)[0].pageX,n=y(e)[0].pageY):(t=e.pageX,n=e.pageY),f.processMouseUp(t-r.left,n-r.top),l()}};this.getResultImageDataURI=function(){var e,t;return t=angular.element("<canvas></canvas>")[0],e=t.getContext("2d"),t.width=p,t.height=p,null!==c&&e.drawImage(c,(f.getX()-f.getSize()/2)*(c.width/u.canvas.width),(f.getY()-f.getSize()/2)*(c.height/u.canvas.height),f.getSize()*(c.width/u.canvas.width),f.getSize()*(c.height/u.canvas.height),0,0,p,p),null!==m?t.toDataURL(g,m):t.toDataURL(g)},this.setNewImageSource=function(e){if(c=null,v(),s.trigger("image-updated"),e){var t=new Image;"http"===e.substring(0,4).toLowerCase()&&(t.crossOrigin="anonymous"),t.onload=function(){s.trigger("load-done"),r.getData(t,function(){var e=r.getTag(t,"Orientation");if([3,6,8].indexOf(e)>-1){var n=document.createElement("canvas"),i=n.getContext("2d"),o=t.width,a=t.height,l=0,u=0,f=0;switch(e){case 3:l=-t.width,u=-t.height,f=180;break;case 6:o=t.height,a=t.width,u=-t.height,f=90;break;case 8:o=t.height,a=t.width,l=-t.width,f=270}n.width=o,n.height=a,i.rotate(f*Math.PI/180),i.drawImage(t,l,u),c=new Image,c.src=n.toDataURL("image/png")}else c=t;v(),s.trigger("image-updated")})},t.onerror=function(){s.trigger("load-error")},s.trigger("load-start"),t.src=e}},this.setMaxDimensions=function(e,t){if(d=[e,t],null!==c){var n=u.canvas.width,r=u.canvas.height,i=[c.width,c.height],a=c.width/c.height,s=i;s[0]>d[0]?(s[0]=d[0],s[1]=s[0]/a):s[0]<h[0]&&(s[0]=h[0],s[1]=s[0]/a),s[1]>d[1]?(s[1]=d[1],s[0]=s[1]*a):s[1]<h[1]&&(s[1]=h[1],s[0]=s[1]*a),o.prop("width",s[0]).prop("height",s[1]).css({"margin-left":-s[0]/2+"px","margin-top":-s[1]/2+"px"});var p=u.canvas.width/n,g=u.canvas.height/r,m=Math.min(p,g);f.setX(f.getX()*p),f.setY(f.getY()*g),f.setSize(f.getSize()*m)}else o.prop("width",0).prop("height",0).css({"margin-top":0});l()},this.setAreaMinSize=function(e){e=parseInt(e,10),isNaN(e)||(f.setMinSize(e),l())},this.setResultImageSize=function(e){e=parseInt(e,10),isNaN(e)||(p=e)},this.setResultImageFormat=function(e){g=e},this.setResultImageQuality=function(e){e=parseFloat(e),!isNaN(e)&&e>=0&&1>=e&&(m=e)},this.setAreaType=function(e){var r=f.getSize(),i=f.getMinSize(),o=f.getX(),a=f.getY(),h=t;"square"===e&&(h=n),f=new h(u,s),f.setMinSize(i),f.setSize(r),f.setX(o),f.setY(a),null!==c&&f.setImage(c),l()},u=o[0].getContext("2d"),f=new t(u,s),e.on("mousemove",b),o.on("mousedown",w),e.on("mouseup",x),e.on("touchmove",b),o.on("touchstart",w),e.on("touchend",x),this.destroy=function(){e.off("mousemove",b),o.off("mousedown",w),e.off("mouseup",b),e.off("touchmove",b),o.off("touchstart",w),e.off("touchend",b),o.remove()}}}]),e.factory("cropPubSub",[function(){return function(){var e={};this.on=function(t,n){return t.split(" ").forEach(function(t){e[t]||(e[t]=[]),e[t].push(n)}),this},this.trigger=function(t,n){return angular.forEach(e[t],function(e){e.call(null,n)}),this}}}]),e.directive("imgCrop",["$timeout","cropHost","cropPubSub",function(e,t,n){return{restrict:"E",scope:{image:"=",resultImage:"=",changeOnFly:"=",areaType:"@",areaMinSize:"=",resultImageSize:"=",resultImageFormat:"@",resultImageQuality:"=",onChange:"&",onLoadBegin:"&",onLoadDone:"&",onLoadError:"&"},template:"<canvas></canvas>",controller:["$scope",function(e){e.events=new n}],link:function(n,r){var i,o=n.events,a=new t(r.find("canvas"),{},o),s=function(e){var t=a.getResultImageDataURI();i!==t&&(i=t,angular.isDefined(e.resultImage)&&(e.resultImage=t),e.onChange({$dataURI:e.resultImage}))},l=function(t){return function(){e(function(){n.$apply(function(e){t(e)})})}};o.on("load-start",l(function(e){e.onLoadBegin({})})).on("load-done",l(function(e){e.onLoadDone({})})).on("load-error",l(function(e){e.onLoadError({})})).on("area-move area-resize",l(function(e){e.changeOnFly&&s(e)})).on("area-move-end area-resize-end image-updated",l(function(e){s(e)})),n.$watch("image",function(){a.setNewImageSource(n.image)}),n.$watch("areaType",function(){a.setAreaType(n.areaType),s(n)}),n.$watch("areaMinSize",function(){a.setAreaMinSize(n.areaMinSize),s(n)}),n.$watch("resultImageSize",function(){a.setResultImageSize(n.resultImageSize),s(n)}),n.$watch("resultImageFormat",function(){a.setResultImageFormat(n.resultImageFormat),s(n)}),n.$watch("resultImageQuality",function(){a.setResultImageQuality(n.resultImageQuality),s(n)}),n.$watch(function(){return[r[0].clientWidth,r[0].clientHeight]},function(e){a.setMaxDimensions(e[0],e[1]),s(n)},!0),n.$on("$destroy",function(){a.destroy()})}}}])}(),function(){"use strict";angular.module("as.sortable",[]).constant("sortableConfig",{itemClass:"as-sortable-item",handleClass:"as-sortable-item-handle",placeHolderClass:"as-sortable-placeholder",dragClass:"as-sortable-drag",hiddenClass:"as-sortable-hidden",dragging:"as-sortable-dragging"})}(),function(){"use strict";angular.module("as.sortable").factory("$helper",["$document","$window",function(e,t){return{height:function(e){return e[0].getBoundingClientRect().height},width:function(e){return e[0].getBoundingClientRect().width},offset:function(n,r){var i=n[0].getBoundingClientRect();return r||(r=e[0].documentElement),{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),top:i.top+(t.pageYOffset||r.scrollTop-r.offsetTop),left:i.left+(t.pageXOffset||r.scrollLeft-r.offsetLeft)}},eventObj:function(e){var t=e;return void 0!==e.targetTouches?t=e.targetTouches.item(0):void 0!==e.originalEvent&&void 0!==e.originalEvent.targetTouches&&(t=e.originalEvent.targetTouches.item(0)),t},isTouchInvalid:function(e){var t=!1;return void 0!==e.touches&&e.touches.length>1?t=!0:void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&e.originalEvent.touches.length>1&&(t=!0),t},positionStarted:function(e,t,n){var r={};return r.offsetX=e.pageX-this.offset(t,n).left,r.offsetY=e.pageY-this.offset(t,n).top,r.startX=r.lastX=e.pageX,r.startY=r.lastY=e.pageY,r.nowX=r.nowY=r.distX=r.distY=r.dirAx=0,r.dirX=r.dirY=r.lastDirX=r.lastDirY=r.distAxX=r.distAxY=0,r},calculatePosition:function(e,t){e.lastX=e.nowX,e.lastY=e.nowY,e.nowX=t.pageX,e.nowY=t.pageY,e.distX=e.nowX-e.lastX,e.distY=e.nowY-e.lastY,e.lastDirX=e.dirX,e.lastDirY=e.dirY,e.dirX=0===e.distX?0:e.distX>0?1:-1,e.dirY=0===e.distY?0:e.distY>0?1:-1;var n=Math.abs(e.distX)>Math.abs(e.distY)?1:0;e.dirAx!==n?(e.distAxX=0,e.distAxY=0):(e.distAxX+=Math.abs(e.distX),0!==e.dirX&&e.dirX!==e.lastDirX&&(e.distAxX=0),e.distAxY+=Math.abs(e.distY),0!==e.dirY&&e.dirY!==e.lastDirY&&(e.distAxY=0)),e.dirAx=n},movePosition:function(e,t,n,r,i,o){var a,s="relative"===i;t.x=e.pageX-n.offsetX,t.y=e.pageY-n.offsetY,r&&(a=this.offset(r,o),s&&(t.x-=a.left,t.y-=a.top,a.left=0,a.top=0),t.x<a.left?t.x=a.left:t.x>=a.width+a.left-this.offset(t).width&&(t.x=a.width+a.left-this.offset(t).width),t.y<a.top?t.y=a.top:t.y>=a.height+a.top-this.offset(t).height&&(t.y=a.height+a.top-this.offset(t).height)),t.css({left:t.x+"px",top:t.y+"px"}),this.calculatePosition(n,e)},dragItem:function(e){return{index:e.index(),parent:e.sortableScope,source:e,targetElement:null,targetElementOffset:null,sourceInfo:{index:e.index(),itemScope:e.itemScope,sortableScope:e.sortableScope},canMove:function(e,t,n){return this.targetElement!==t?(this.targetElement=t,this.targetElementOffset=n,!0):(e.dirX*(n.left-this.targetElementOffset.left)>0||e.dirY*(n.top-this.targetElementOffset.top)>0)&&(this.targetElementOffset=n,!0)},moveTo:function(e,t){this.parent=e,this.isSameParent()&&this.source.index()<t&&!this.sourceInfo.sortableScope.cloning&&(t-=1),this.index=t},isSameParent:function(){return this.parent.element===this.sourceInfo.sortableScope.element},isOrderChanged:function(){return this.index!==this.sourceInfo.index},eventArgs:function(){return{source:this.sourceInfo,dest:{index:this.index,sortableScope:this.parent}}},apply:function(){this.sourceInfo.sortableScope.cloning?this.parent.options.clone||this.parent.insertItem(this.index,angular.copy(this.source.modelValue)):(this.sourceInfo.sortableScope.removeItem(this.sourceInfo.index),(this.parent.options.allowDuplicates||this.parent.modelValue.indexOf(this.source.modelValue)<0)&&this.parent.insertItem(this.index,this.source.modelValue))}}},noDrag:function(e){return void 0!==e.attr("no-drag")||void 0!==e.attr("data-no-drag")},findAncestor:function(e,t){e=e[0];for(var n=Element.matches||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector;(e=e.parentElement)&&!n.call(e,t););return e?angular.element(e):angular.element(document.body)}}}])}(),function(){"use strict";var e=angular.module("as.sortable");e.controller("as.sortable.sortableController",["$scope",function(e){this.scope=e,e.modelValue=null,e.callbacks=null,e.type="sortable",e.options={longTouch:!1},e.isDisabled=!1,e.insertItem=function(t,n){e.options.allowDuplicates?e.modelValue.splice(t,0,angular.copy(n)):e.modelValue.splice(t,0,n)},e.removeItem=function(t){var n=null;return t>-1&&(n=e.modelValue.splice(t,1)[0]),n},e.isEmpty=function(){return e.modelValue&&0===e.modelValue.length},e.accept=function(t,n,r){return e.callbacks.accept(t,n,r)}}]),e.directive("asSortable",function(){return{require:"ngModel",restrict:"A",scope:!0,controller:"as.sortable.sortableController",link:function(e,t,n,r){var i,o;(i=r)&&(i.$render=function(){e.modelValue=i.$modelValue},e.element=t,t.data("_scope",e),o={accept:null,orderChanged:null,itemMoved:null,dragStart:null,dragMove:null,dragCancel:null,dragEnd:null},o.accept=function(e,t,n){return!0},o.orderChanged=function(e){},o.itemMoved=function(e){},o.dragStart=function(e){},o.dragMove=angular.noop,o.dragCancel=function(e){},o.dragEnd=function(e){},e.$watch(n.asSortable,function(t,n){angular.forEach(t,function(t,n){o[n]?"function"==typeof t&&(o[n]=t):e.options[n]=t}),e.callbacks=o},!0),angular.isDefined(n.isDisabled)&&e.$watch(n.isDisabled,function(t,n){angular.isUndefined(t)||(e.isDisabled=t)},!0))}}})}(),function(){"use strict";function e(t,n){return!(!n||"HTML"===n.nodeName)&&(n.parentNode===t||e(t,n.parentNode))}var t=angular.module("as.sortable");t.controller("as.sortable.sortableItemHandleController",["$scope",function(e){this.scope=e,e.itemScope=null,e.type="handle"}]),t.directive("asSortableItemHandle",["sortableConfig","$helper","$window","$document","$timeout",function(t,n,r,i,o){return{require:"^asSortableItem",scope:!0,restrict:"A",controller:"as.sortable.sortableItemHandleController",link:function(a,s,l,u){function c(e,t){"table-row"!==g.css("display")&&g.css("display","block"),t.sortableScope.options.clone||(e[0].parentNode.insertBefore(g[0],e[0]),y.moveTo(t.sortableScope,t.index()))}function f(e,t){"table-row"!==g.css("display")&&g.css("display","block"),t.sortableScope.options.clone||(e.after(g),y.moveTo(t.sortableScope,t.index()+1))}function h(e){for(var t;!t&&e.length;)(t=e.data("_scope"))||(e=e.parent());return t}function d(){a.itemScope.sortableScope.cloning||m.replaceWith(a.itemScope.element),g.remove(),p.remove(),p=null,z=!1,b.css("cursor",""),b.removeClass("as-sortable-un-selectable")}var p,g,m,v,y,b,w,x,S,$,C,A,k,_,T,E,M,D,P,R,O,N,L,I,z,B,F,j,H=!1,U=!1;R="ontouchstart"in r,O=/iPad|iPhone|iPod/.test(r.navigator.userAgent)&&!r.MSStream,t.handleClass&&s.addClass(t.handleClass),a.itemScope=u.scope,s.data("_scope",a),a.$watchGroup(["sortableScope.isDisabled","sortableScope.options.longTouch"],function(e){H!==e[0]?(H=e[0],H?M():E()):U!==e[1]?(U=e[1],M(),E()):E()}),a.$on("$destroy",function(){angular.element(i[0].body).unbind("keydown",j)}),B=function(e){return"function"==typeof a.sortableScope.options.placeholder?angular.element(a.sortableScope.options.placeholder(e)):"string"==typeof a.sortableScope.options.placeholder?angular.element(a.sortableScope.options.placeholder):angular.element(i[0].createElement(e.element.prop("tagName")))},x=function(e){var t,r=function(){angular.element(i).unbind("mousemove",o),angular.element(i).unbind("touchmove",o),s.unbind("mouseup",r),s.unbind("touchend",r),s.unbind("touchcancel",r)},o=function(i){i.preventDefault();var o=n.eventObj(i);t||(t={clientX:o.clientX,clientY:o.clientY}),Math.abs(o.clientX-t.clientX)+Math.abs(o.clientY-t.clientY)>10&&(r(),$(e))};angular.element(i).bind("mousemove",o),angular.element(i).bind("touchmove",o),s.bind("mouseup",r),s.bind("touchend",r),s.bind("touchcancel",r),e.stopPropagation()},$=function(e){var r,o;(R||2!==e.button&&3!==e.which)&&(R&&n.isTouchInvalid(e)||!z&&_(e)&&(z=!0,e.preventDefault(),r=n.eventObj(e),a.sortableScope=a.sortableScope||a.itemScope.sortableScope,a.callbacks=a.callbacks||a.itemScope.callbacks,a.itemScope.sortableScope.options.clone||a.itemScope.sortableScope.options.ctrlClone&&e.ctrlKey?a.itemScope.sortableScope.cloning=!0:a.itemScope.sortableScope.cloning=!1,S=angular.element(i[0].querySelector(a.sortableScope.options.scrollableContainer)).length>0?i[0].querySelector(a.sortableScope.options.scrollableContainer):i[0].documentElement,b=a.sortableScope.options.containment?n.findAncestor(s,a.sortableScope.options.containment):angular.element(i[0].body),b.css("cursor","move"),b.css("cursor","-webkit-grabbing"),b.css("cursor","-moz-grabbing"),b.addClass("as-sortable-un-selectable"),w=a.sortableScope.options.containerPositioning||"absolute",y=n.dragItem(a),o=a.itemScope.element.prop("tagName"),p=angular.element(i[0].createElement(a.sortableScope.element.prop("tagName"))).addClass(a.sortableScope.element.attr("class")).addClass(t.dragClass),p.css("width",n.width(a.itemScope.element)+"px"),p.css("height",n.height(a.itemScope.element)+"px"),g=B(a.itemScope).addClass(t.placeHolderClass).addClass(a.sortableScope.options.additionalPlaceholderClass),g.css("width",n.width(a.itemScope.element)+"px"),g.css("height",n.height(a.itemScope.element)+"px"),m=angular.element(i[0].createElement(o)),t.hiddenClass&&m.addClass(t.hiddenClass),v=n.positionStarted(r,a.itemScope.element,S),a.itemScope.sortableScope.options.clone||a.itemScope.element.after(g),a.itemScope.sortableScope.cloning?p.append(a.itemScope.element.clone()):(a.itemScope.element.after(m),p.append(a.itemScope.element)),b.append(p),n.movePosition(r,p,v,b,w,S),a.sortableScope.$apply(function(){a.callbacks.dragStart(y.eventArgs())}),D()))},_=function(e){var t,r,i;for(t=angular.element(e.target),r=h(t),i=r&&"handle"===r.type;i&&t[0]!==s[0];)n.noDrag(t)&&(i=!1),t=t.parent();return i},C=function(o){var s,l,u,d,m;if((!R||!n.isTouchInvalid(o))&&z&&p){if(o.preventDefault(),s=n.eventObj(o),a.callbacks.dragMove!==angular.noop&&a.sortableScope.$apply(function(){a.callbacks.dragMove(v,b,s)}),l=s.pageX-i[0].documentElement.scrollLeft,u=s.pageY-(r.pageYOffset||i[0].documentElement.scrollTop),p.addClass(t.hiddenClass),m=angular.element(i[0].elementFromPoint(l,u)),p.removeClass(t.hiddenClass),n.movePosition(s,p,v,b,w,S),p.addClass(t.dragging),!(d=h(m))||!d.type)return;if("handle"===d.type&&(d=d.itemScope),"item"!==d.type&&"sortable"!==d.type)return;if("item"===d.type&&d.accept(a,d.sortableScope,d)){m=d.element;var x=n.offset(m,S);if(!y.canMove(v,m,x))return;var $=T(d.sortableScope.element);$<0?c(m,d):$<=d.index()?f(m,d):c(m,d)}"sortable"===d.type&&d.accept(a,d)&&!e(d.element[0],m[0])&&(F(m)||d.options.clone||(m[0].appendChild(g[0]),y.moveTo(d,d.modelValue.length)))}},T=function(e){var n,r;if(e.hasClass(t.placeHolderClass))return 0;for(n=e.children(),r=0;r<n.length;r+=1)if(angular.element(n[r]).hasClass(t.placeHolderClass))return r;return-1},F=function(e){return T(e)>=0},A=function(e){z&&(e.preventDefault(),p&&(d(),y.apply(),a.sortableScope.$apply(function(){
y.isSameParent()?y.isOrderChanged()&&a.callbacks.orderChanged(y.eventArgs()):a.callbacks.itemMoved(y.eventArgs())}),a.sortableScope.$apply(function(){a.callbacks.dragEnd(y.eventArgs())}),y=null),P())},k=function(e){z&&(e.preventDefault(),p&&(d(),a.sortableScope.$apply(function(){a.callbacks.dragCancel(y.eventArgs())}),y=null),P())},E=function(){R&&(U?O?(s.bind("touchstart",N),s.bind("touchend",L),s.bind("touchmove",L)):s.bind("contextmenu",x):s.bind("touchstart",x)),s.bind("mousedown",x)},M=function(){s.unbind("touchstart",N),s.unbind("touchend",L),s.unbind("touchmove",L),s.unbind("contextmenu",x),s.unbind("touchstart",x),s.unbind("mousedown",x)},N=function(e){I=o(function(){x(e)},500)},L=function(){o.cancel(I)},j=function(e){27===e.keyCode&&k(e)},angular.element(i[0].body).bind("keydown",j),D=function(){angular.element(i).bind("touchmove",C),angular.element(i).bind("touchend",A),angular.element(i).bind("touchcancel",k),angular.element(i).bind("mousemove",C),angular.element(i).bind("mouseup",A)},P=function(){angular.element(i).unbind("touchend",A),angular.element(i).unbind("touchcancel",k),angular.element(i).unbind("touchmove",C),angular.element(i).unbind("mouseup",A),angular.element(i).unbind("mousemove",C)}}}}])}(),function(){"use strict";var e=angular.module("as.sortable");e.controller("as.sortable.sortableItemController",["$scope",function(e){this.scope=e,e.sortableScope=null,e.modelValue=null,e.type="item",e.index=function(){return e.$index},e.itemData=function(){return e.sortableScope.modelValue[e.$index]}}]),e.directive("asSortableItem",["sortableConfig",function(e){return{require:["^asSortable","?ngModel"],restrict:"A",controller:"as.sortable.sortableItemController",link:function(t,n,r,i){var o=i[0],a=i[1];e.itemClass&&n.addClass(e.itemClass),t.sortableScope=o.scope,a?a.$render=function(){t.modelValue=a.$modelValue}:t.modelValue=o.scope.modelValue[t.$index],t.element=n,n.data("_scope",t)}}}])}(),function(){"use strict";function e(e){return angular.isUndefined(e)||null===e}var t={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(e){switch(e.which){case t.COMMAND:case t.SHIFT:case t.CTRL:case t.ALT:return!0}return!!(e.metaKey||e.ctrlKey||e.altKey)},isFunctionKey:function(e){return(e=e.which?e.which:e)>=112&&e<=123},isVerticalMovement:function(e){return~[t.UP,t.DOWN].indexOf(e)},isHorizontalMovement:function(e){return~[t.LEFT,t.RIGHT,t.BACKSPACE,t.DELETE].indexOf(e)},toSeparator:function(e){var n={ENTER:"\n",TAB:"\t",SPACE:" "}[e];return n||(t[e]?void 0:e)}};void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(e){return angular.element(this[0].querySelectorAll(e))}),void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(e){for(var t=this[0],n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;t;){if(n.bind(t)(e))return t;t=t.parentElement}return!1});var n=0,r=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,skipFocusser:!1,dropdownPosition:"auto",removeSelected:!0,resetSearchInput:!0,generateId:function(){return n++},appendToBody:!1,spinnerEnabled:!1,spinnerClass:"glyphicon glyphicon-refresh ui-select-spin",backspaceReset:!0}).service("uiSelectMinErr",function(){var e=angular.$$minErr("ui.select");return function(){var t=e.apply(this,arguments),n=t.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(n)}}).directive("uisTranscludeAppend",function(){return{link:function(e,t,n,r,i){i(e,function(e){t.append(e)})}}}).filter("highlight",function(){function e(e){return(""+e).replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n&&t?(""+t).replace(new RegExp(e(n),"gi"),'<span class="ui-select-highlight">$&</span>'):t}}).factory("uisOffset",["$document","$window",function(e,t){return function(n){var r=n[0].getBoundingClientRect();return{width:r.width||n.prop("offsetWidth"),height:r.height||n.prop("offsetHeight"),top:r.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}}}]);r.factory("$$uisDebounce",["$timeout",function(e){return function(t,n){var r;return function(){var i=this,o=Array.prototype.slice.call(arguments);r&&e.cancel(r),r=e(function(){t.apply(i,o)},n)}}}]),r.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile","$window",function(e,t,n,r,i){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){return t.addClass("ui-select-choices"),(t.parent().attr("theme")||e.theme)+"/choices.tpl.html"},compile:function(r,o){if(!o.repeat)throw n("repeat","Expected 'repeat' expression.");var a=o.groupBy,s=o.groupFilter;if(a){var l=r.querySelectorAll(".ui-select-choices-group");if(1!==l.length)throw n("rows","Expected 1 .ui-select-choices-group but got '{0}'.",l.length);l.attr("ng-repeat",t.getGroupNgRepeatExpression())}var u=t.parse(o.repeat),c=r.querySelectorAll(".ui-select-choices-row");if(1!==c.length)throw n("rows","Expected 1 .ui-select-choices-row but got '{0}'.",c.length);c.attr("ng-repeat",u.repeatExpression(a)).attr("ng-if","$select.open");var f=r.querySelectorAll(".ui-select-choices-row-inner");if(1!==f.length)throw n("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",f.length);return f.attr("uis-transclude-append",""),(i.document.addEventListener?c:f).attr("ng-click","$select.select("+u.itemName+",$select.skipFocusser,$event)"),function(t,n,i,o){o.parseRepeatAttr(i.repeat,a,s),o.disableChoiceExpression=i.uiDisableChoice,o.onHighlightCallback=i.onHighlight,o.minimumInputLength=parseInt(i.minimumInputLength)||0,o.dropdownPosition=i.position?i.position.toLowerCase():e.dropdownPosition,t.$watch("$select.search",function(e){e&&!o.open&&o.multiple&&o.activate(!1,!0),o.activeIndex=o.tagging.isActivated?-1:0,!i.minimumInputLength||o.search.length>=i.minimumInputLength?o.refresh(i.refresh):o.items=[]}),i.$observe("refreshDelay",function(){var n=t.$eval(i.refreshDelay);o.refreshDelay=void 0!==n?n:e.refreshDelay}),t.$watch("$select.open",function(e){e?(r.attr("role","listbox"),o.refresh(i.refresh)):n.removeAttr("role")})}}}}]),r.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","$$uisDebounce","uisRepeatParser","uiSelectMinErr","uiSelectConfig","$parse","$injector","$window",function(n,r,i,o,a,s,l,u,c,f,h){function d(e,t,n){if(e.findIndex)return e.findIndex(t,n);for(var r,i=Object(e),o=i.length>>>0,a=0;a<o;a++)if(r=i[a],t.call(n,r,a,i))return a;return-1}function p(){x.resetSearchInput&&(x.search=S,x.selected&&x.items.length&&!x.multiple&&(x.activeIndex=d(x.items,function(e){return angular.equals(this,e)},x.selected)))}function g(e,t){var n,r,i=[];for(n=0;n<t.length;n++)for(r=0;r<e.length;r++)e[r].name==[t[n]]&&i.push(e[r]);return i}function m(e,t){var n=A.indexOf(e);t&&-1===n&&A.push(e),!t&&n>-1&&A.splice(n,1)}function v(e){return A.indexOf(e)>-1}function y(e){function t(e,t){var n=r.indexOf(e);t&&-1===n&&r.push(e),!t&&n>-1&&r.splice(n,1)}function n(e){return r.indexOf(e)>-1}if(e){var r=[];x.isLocked=function(e,r){var i=!1,o=x.selected[r];return o&&(e?(i=!!e.$eval(x.lockChoiceExpression),t(o,i)):i=n(o)),i}}}function b(e){var n=!0;switch(e){case t.DOWN:if(!x.open&&x.multiple)x.activate(!1,!0);else if(x.activeIndex<x.items.length-1)for(var r=++x.activeIndex;v(x.items[r])&&r<x.items.length;)x.activeIndex=++r;break;case t.UP:var i=0===x.search.length&&x.tagging.isActivated?-1:0;if(!x.open&&x.multiple)x.activate(!1,!0);else if(x.activeIndex>i)for(var o=--x.activeIndex;v(x.items[o])&&o>i;)x.activeIndex=--o;break;case t.TAB:x.multiple&&!x.open||x.select(x.items[x.activeIndex],!0);break;case t.ENTER:x.open&&(x.tagging.isActivated||x.activeIndex>=0)?x.select(x.items[x.activeIndex],x.skipFocusser):x.activate(!1,!0);break;case t.ESC:x.close();break;default:n=!1}return n}function w(){var e=r.querySelectorAll(".ui-select-choices-content"),t=e.querySelectorAll(".ui-select-choices-row");if(t.length<1)throw l("choices","Expected multiple .ui-select-choices-row but got '{0}'.",t.length);if(!(x.activeIndex<0)){var n=t[x.activeIndex],i=n.offsetTop+n.clientHeight-e[0].scrollTop,o=e[0].offsetHeight;i>o?e[0].scrollTop+=i-o:i<n.clientHeight&&(x.isGrouped&&0===x.activeIndex?e[0].scrollTop=0:e[0].scrollTop-=n.clientHeight-i)}}var x=this,S="";if(x.placeholder=u.placeholder,x.searchEnabled=u.searchEnabled,x.sortable=u.sortable,x.refreshDelay=u.refreshDelay,x.paste=u.paste,x.resetSearchInput=u.resetSearchInput,x.refreshing=!1,x.spinnerEnabled=u.spinnerEnabled,x.spinnerClass=u.spinnerClass,x.removeSelected=u.removeSelected,x.closeOnSelect=!0,x.skipFocusser=!1,x.search=S,x.activeIndex=0,x.items=[],x.open=!1,x.focus=!1,x.disabled=!1,x.selected=void 0,x.dropdownPosition="auto",x.focusser=void 0,x.multiple=void 0,x.disableChoiceExpression=void 0,x.tagging={isActivated:!1,fct:void 0},x.taggingTokens={isActivated:!1,tokens:void 0},x.lockChoiceExpression=void 0,x.clickTriggeredSelect=!1,x.$filter=o,x.$element=r,x.$animate=function(){try{return f.get("$animate")}catch(e){return null}}(),x.searchInput=r.querySelectorAll("input.ui-select-search"),1!==x.searchInput.length)throw l("searchInput","Expected 1 input.ui-select-search but got '{0}'.",x.searchInput.length);x.isEmpty=function(){return e(x.selected)||""===x.selected||x.multiple&&0===x.selected.length},x.activate=function(e,t){if(x.disabled||x.open)x.open&&!x.searchEnabled&&x.close();else{t||p(),n.$broadcast("uis:activate"),x.open=!0,x.activeIndex=x.activeIndex>=x.items.length?0:x.activeIndex,-1===x.activeIndex&&!1!==x.taggingLabel&&(x.activeIndex=0);var o=r.querySelectorAll(".ui-select-choices-content"),a=r.querySelectorAll(".ui-select-search");if(x.$animate&&x.$animate.on&&x.$animate.enabled(o[0])){var s=function(t,n){"start"===n&&0===x.items.length?(x.$animate.off("removeClass",a[0],s),i(function(){x.focusSearchInput(e)})):"close"===n&&(x.$animate.off("enter",o[0],s),i(function(){x.focusSearchInput(e)}))};x.items.length>0?x.$animate.on("enter",o[0],s):x.$animate.on("removeClass",a[0],s)}else i(function(){x.focusSearchInput(e),!x.tagging.isActivated&&x.items.length>1&&w()})}},x.focusSearchInput=function(e){x.search=e||x.search,x.searchInput[0].focus()},x.findGroupByName=function(e){return x.groups&&x.groups.filter(function(t){return t.name===e})[0]},x.parseRepeatAttr=function(e,t,r){function i(e){var i=n.$eval(t);if(x.groups=[],angular.forEach(e,function(e){var t=angular.isFunction(i)?i(e):e[i],n=x.findGroupByName(t);n?n.items.push(e):x.groups.push({name:t,items:[e]})}),r){var o=n.$eval(r);angular.isFunction(o)?x.groups=o(x.groups):angular.isArray(o)&&(x.groups=g(x.groups,o))}x.items=[],x.groups.forEach(function(e){x.items=x.items.concat(e.items)})}function o(e){x.items=e||[]}x.setItemsFn=t?i:o,x.parserResult=s.parse(e),x.isGrouped=!!t,x.itemProperty=x.parserResult.itemName;var a=x.parserResult.source,u=function(){var e=a(n);n.$uisSource=Object.keys(e).map(function(t){var n={};return n[x.parserResult.keyName]=t,n.value=e[t],n})};x.parserResult.keyName&&(u(),x.parserResult.source=c("$uisSource"+x.parserResult.filters),n.$watch(a,function(e,t){e!==t&&u()},!0)),x.refreshItems=function(e){e=e||x.parserResult.source(n);var t=x.selected;if(x.isEmpty()||angular.isArray(t)&&!t.length||!x.multiple||!x.removeSelected)x.setItemsFn(e);else if(void 0!==e&&null!==e){var r=e.filter(function(e){return angular.isArray(t)?t.every(function(t){return!angular.equals(e,t)}):!angular.equals(e,t)});x.setItemsFn(r)}"auto"!==x.dropdownPosition&&"up"!==x.dropdownPosition||n.calculateDropdownPos(),n.$broadcast("uis:refresh")},n.$watchCollection(x.parserResult.source,function(e){if(void 0===e||null===e)x.items=[];else{if(!angular.isArray(e))throw l("items","Expected an array but got '{0}'.",e);x.refreshItems(e),angular.isDefined(x.ngModel.$modelValue)&&(x.ngModel.$modelValue=null)}})};var $;x.refresh=function(e){void 0!==e&&($&&i.cancel($),$=i(function(){if(n.$select.search.length>=n.$select.minimumInputLength){var t=n.$eval(e);t&&angular.isFunction(t.then)&&!x.refreshing&&(x.refreshing=!0,t.finally(function(){x.refreshing=!1}))}},x.refreshDelay))},x.isActive=function(e){if(!x.open)return!1;var t=x.items.indexOf(e[x.itemProperty]),n=t==x.activeIndex;return!(!n||t<0)&&(n&&!angular.isUndefined(x.onHighlightCallback)&&e.$eval(x.onHighlightCallback),n)};var C=function(e){return x.selected&&angular.isArray(x.selected)&&x.selected.filter(function(t){return angular.equals(t,e)}).length>0},A=[];x.isDisabled=function(e){if(x.open){var t=e[x.itemProperty],n=x.items.indexOf(t),r=!1;if(n>=0&&(angular.isDefined(x.disableChoiceExpression)||x.multiple)){if(t.isTag)return!1;x.multiple&&(r=C(t)),!r&&angular.isDefined(x.disableChoiceExpression)&&(r=!!e.$eval(x.disableChoiceExpression)),m(t,r)}return r}},x.select=function(t,r,i){if(e(t)||!v(t)){if(!x.items&&!x.search&&!x.tagging.isActivated)return;if(!t||!v(t)){if(x.clickTriggeredSelect=!1,i&&("click"===i.type||"touchend"===i.type)&&t&&(x.clickTriggeredSelect=!0),x.tagging.isActivated&&!1===x.clickTriggeredSelect){if(!1===x.taggingLabel)if(x.activeIndex<0){if(void 0===t&&(t=void 0!==x.tagging.fct?x.tagging.fct(x.search):x.search),!t||angular.equals(x.items[0],t))return}else t=x.items[x.activeIndex];else if(0===x.activeIndex){if(void 0===t)return;if(void 0!==x.tagging.fct&&"string"==typeof t){if(!(t=x.tagging.fct(t)))return}else"string"==typeof t&&(t=t.replace(x.taggingLabel,"").trim())}if(C(t))return void x.close(r)}p(),n.$broadcast("uis:select",t),x.closeOnSelect&&x.close(r)}}},x.close=function(e){x.open&&(x.ngModel&&x.ngModel.$setTouched&&x.ngModel.$setTouched(),x.open=!1,p(),n.$broadcast("uis:close",e))},x.setFocus=function(){x.focus||x.focusInput[0].focus()},x.clear=function(e){x.select(null),e.stopPropagation(),i(function(){x.focusser[0].focus()},0,!1)},x.toggle=function(e){x.open?(x.close(),e.preventDefault(),e.stopPropagation()):x.activate()},x.isLocked=function(){return!1},n.$watch(function(){return angular.isDefined(x.lockChoiceExpression)&&""!==x.lockChoiceExpression},y);var k=null,_=!1;x.sizeSearchInput=function(){var e=x.searchInput[0],t=x.$element[0],r=function(){return t.clientWidth*!!e.offsetParent},o=function(t){if(0===t)return!1;var n=t-e.offsetLeft;return n<50&&(n=t),x.searchInput.css("width",n+"px"),!0};x.searchInput.css("width","10px"),i(function(){null!==k||o(r())||(k=n.$watch(function(){_||(_=!0,n.$$postDigest(function(){_=!1,o(r())&&(k(),k=null)}))},angular.noop))})},x.searchInput.on("keydown",function(e){var r=e.which;~[t.ENTER,t.ESC].indexOf(r)&&(e.preventDefault(),e.stopPropagation()),n.$apply(function(){var n=!1;if((x.items.length>0||x.tagging.isActivated)&&(b(r)||x.searchEnabled||(e.preventDefault(),e.stopPropagation()),x.taggingTokens.isActivated)){for(var o=0;o<x.taggingTokens.tokens.length;o++)x.taggingTokens.tokens[o]===t.MAP[e.keyCode]&&x.search.length>0&&(n=!0);n&&i(function(){x.searchInput.triggerHandler("tagged");var n=x.search.replace(t.MAP[e.keyCode],"").trim();x.tagging.fct&&(n=x.tagging.fct(n)),n&&x.select(n,!0)})}}),t.isVerticalMovement(r)&&x.items.length>0&&w(),r!==t.ENTER&&r!==t.ESC||(e.preventDefault(),e.stopPropagation())}),x.searchInput.on("paste",function(e){var n;if(n=window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):(e.originalEvent||e).clipboardData.getData("text/plain"),(n=x.search+n)&&n.length>0)if(x.taggingTokens.isActivated){for(var r=[],i=0;i<x.taggingTokens.tokens.length;i++){var o=t.toSeparator(x.taggingTokens.tokens[i])||x.taggingTokens.tokens[i];if(n.indexOf(o)>-1){r=n.split(o);break}}0===r.length&&(r=[n]);var a=x.search;angular.forEach(r,function(e){var t=x.tagging.fct?x.tagging.fct(e):e;t&&x.select(t,!0)}),x.search=a||S,e.preventDefault(),e.stopPropagation()}else x.paste&&(x.paste(n),x.search=S,e.preventDefault(),e.stopPropagation())}),x.searchInput.on("tagged",function(){i(function(){p()})});var T=a(function(){x.sizeSearchInput()},50);angular.element(h).bind("resize",T),n.$on("$destroy",function(){x.searchInput.off("keyup keydown tagged blur paste"),angular.element(h).off("resize",T)}),n.$watch("$select.activeIndex",function(e){e&&r.find("input").attr("aria-activedescendant","ui-select-choices-row-"+x.generatedId+"-"+e)}),n.$watch("$select.open",function(e){e||r.find("input").removeAttr("aria-activedescendant")})}]),r.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function(e,t,n,r,i,o,a){return{restrict:"EA",templateUrl:function(e,n){return(n.theme||t.theme)+(angular.isDefined(n.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(i,s){var l=/{(.*)}\s*{(.*)}/.exec(s.ngClass);if(l){var u="{"+l[1]+", "+l[2]+"}";s.ngClass=u,i.attr("ng-class",u)}return angular.isDefined(s.multiple)?i.append("<ui-select-multiple/>").removeAttr("multiple"):i.append("<ui-select-single/>"),s.inputId&&(i.querySelectorAll("input.ui-select-search")[0].id=s.inputId),function(i,s,l,u,c){function f(e){if(p.open){if(!(window.jQuery?window.jQuery.contains(s[0],e.target):s[0].contains(e.target))&&!p.clickTriggeredSelect){var t;if(p.skipFocusser)t=!0;else{var n=["input","button","textarea","select"],r=angular.element(e.target).controller("uiSelect");t=r&&r!==p,t||(t=~n.indexOf(e.target.tagName.toLowerCase()))}p.close(t),i.$digest()}p.clickTriggeredSelect=!1}}function h(){var t=r(s);v=angular.element('<div class="ui-select-placeholder"></div>'),v[0].style.width=t.width+"px",v[0].style.height=t.height+"px",s.after(v),y=s[0].style.width,e.find("body").append(s),s[0].style.position="absolute",s[0].style.left=t.left+"px",s[0].style.top=t.top+"px",s[0].style.width=t.width+"px"}function d(){null!==v&&(v.replaceWith(s),v=null,s[0].style.position="",s[0].style.left="",s[0].style.top="",s[0].style.width=y,p.setFocus())}var p=u[0],g=u[1];p.generatedId=t.generateId(),p.baseTitle=l.title||"Select box",p.focusserTitle=p.baseTitle+" focus",p.focusserId="focusser-"+p.generatedId,p.closeOnSelect=function(){return angular.isDefined(l.closeOnSelect)?o(l.closeOnSelect)():t.closeOnSelect}(),i.$watch("skipFocusser",function(){var e=i.$eval(l.skipFocusser);p.skipFocusser=void 0!==e?e:t.skipFocusser}),p.onSelectCallback=o(l.onSelect),p.onRemoveCallback=o(l.onRemove),p.ngModel=g,p.choiceGrouped=function(e){return p.isGrouped&&e&&e.name},l.tabindex&&l.$observe("tabindex",function(e){p.focusInput.attr("tabindex",e),s.removeAttr("tabindex")}),i.$watch(function(){return i.$eval(l.searchEnabled)},function(e){p.searchEnabled=void 0!==e?e:t.searchEnabled}),i.$watch("sortable",function(){var e=i.$eval(l.sortable);p.sortable=void 0!==e?e:t.sortable}),l.$observe("backspaceReset",function(){var e=i.$eval(l.backspaceReset);p.backspaceReset=void 0===e||e}),l.$observe("limit",function(){p.limit=angular.isDefined(l.limit)?parseInt(l.limit,10):void 0}),i.$watch("removeSelected",function(){var e=i.$eval(l.removeSelected);p.removeSelected=void 0!==e?e:t.removeSelected}),l.$observe("disabled",function(){p.disabled=void 0!==l.disabled&&l.disabled}),l.$observe("resetSearchInput",function(){var e=i.$eval(l.resetSearchInput);p.resetSearchInput=void 0===e||e}),l.$observe("paste",function(){p.paste=i.$eval(l.paste)}),l.$observe("tagging",function(){if(void 0!==l.tagging){var e=i.$eval(l.tagging);p.tagging={isActivated:!0,fct:!0!==e?e:void 0}}else p.tagging={isActivated:!1,fct:void 0}}),l.$observe("taggingLabel",function(){void 0!==l.tagging&&("false"===l.taggingLabel?p.taggingLabel=!1:p.taggingLabel=void 0!==l.taggingLabel?l.taggingLabel:"(new)")}),l.$observe("taggingTokens",function(){if(void 0!==l.tagging){var e=void 0!==l.taggingTokens?l.taggingTokens.split("|"):[",","ENTER"];p.taggingTokens={isActivated:!0,tokens:e}}}),l.$observe("spinnerEnabled",function(){var e=i.$eval(l.spinnerEnabled);p.spinnerEnabled=void 0!==e?e:t.spinnerEnabled}),l.$observe("spinnerClass",function(){var e=l.spinnerClass;p.spinnerClass=void 0!==e?l.spinnerClass:t.spinnerClass}),angular.isDefined(l.autofocus)&&a(function(){p.setFocus()}),angular.isDefined(l.focusOn)&&i.$on(l.focusOn,function(){a(function(){p.setFocus()})}),e.on("click",f),i.$on("$destroy",function(){e.off("click",f)}),c(i,function(e){var t=angular.element("<div>").append(e),r=t.querySelectorAll(".ui-select-match");if(r.removeAttr("ui-select-match"),r.removeAttr("data-ui-select-match"),1!==r.length)throw n("transcluded","Expected 1 .ui-select-match but got '{0}'.",r.length);s.querySelectorAll(".ui-select-match").replaceWith(r);var i=t.querySelectorAll(".ui-select-choices");if(i.removeAttr("ui-select-choices"),i.removeAttr("data-ui-select-choices"),1!==i.length)throw n("transcluded","Expected 1 .ui-select-choices but got '{0}'.",i.length);s.querySelectorAll(".ui-select-choices").replaceWith(i);var o=t.querySelectorAll(".ui-select-no-choice");o.removeAttr("ui-select-no-choice"),o.removeAttr("data-ui-select-no-choice"),1==o.length&&s.querySelectorAll(".ui-select-no-choice").replaceWith(o)});var m=i.$eval(l.appendToBody);(void 0!==m?m:t.appendToBody)&&(i.$watch("$select.open",function(e){e?h():d()}),i.$on("$destroy",function(){d()}));var v=null,y="",b=null;i.$watch("$select.open",function(){"auto"!==p.dropdownPosition&&"up"!==p.dropdownPosition||i.calculateDropdownPos()});var w=function(e,t){e=e||r(s),t=t||r(b),b[0].style.position="absolute",b[0].style.top=-1*t.height+"px",s.addClass("direction-up")},x=function(e,t){s.removeClass("direction-up"),e=e||r(s),t=t||r(b),b[0].style.position="",b[0].style.top=""},S=function(){a(function(){if("up"===p.dropdownPosition)w();else{s.removeClass("direction-up");var t=r(s),n=r(b),i=e[0].documentElement.scrollTop||e[0].body.scrollTop;t.top+t.height+n.height>i+e[0].documentElement.clientHeight?w(t,n):x(t,n)}b[0].style.opacity=1})},$=!1;i.calculateDropdownPos=function(){if(p.open){if(b=angular.element(s).querySelectorAll(".ui-select-dropdown"),0===b.length)return;if(""!==p.search||$||(b[0].style.opacity=0,$=!0),!r(b).height&&p.$animate&&p.$animate.on&&p.$animate.enabled(b)){var e=!0;p.$animate.on("enter",b,function(t,n){"close"===n&&e&&(S(),e=!1)})}else S()}else{if(null===b||0===b.length)return;b[0].style.opacity=0,b[0].style.position="",b[0].style.top="",s.removeClass("direction-up")}}}}}}]),r.directive("uiSelectMatch",["uiSelectConfig",function(e){function t(e,t){return e[0].hasAttribute(t)?e.attr(t):e[0].hasAttribute("data-"+t)?e.attr("data-"+t):e[0].hasAttribute("x-"+t)?e.attr("x-"+t):void 0}return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(n){n.addClass("ui-select-match");var r=n.parent();return(t(r,"theme")||e.theme)+(angular.isDefined(t(r,"multiple"))?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(t,n,r,i){function o(e){i.allowClear=!!angular.isDefined(e)&&(""===e||"true"===e.toLowerCase())}i.lockChoiceExpression=r.uiLockChoice,r.$observe("placeholder",function(t){i.placeholder=void 0!==t?t:e.placeholder}),r.$observe("allowClear",o),o(r.allowClear),i.multiple&&i.sizeSearchInput()}}}]),r.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(n,r){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function(e,t){var n,r=this,i=e.$select;angular.isUndefined(i.selected)&&(i.selected=[]),e.$evalAsync(function(){n=e.ngModel}),r.activeMatchIndex=-1,r.updateModel=function(){n.$setViewValue(Date.now()),r.refreshComponent()},r.refreshComponent=function(){i.refreshItems&&i.refreshItems(),i.sizeSearchInput&&i.sizeSearchInput()},r.removeChoice=function(n){if(i.isLocked(null,n))return!1;var o=i.selected[n],a={};return a[i.parserResult.itemName]=o,i.selected.splice(n,1),r.activeMatchIndex=-1,i.sizeSearchInput(),t(function(){i.onRemoveCallback(e,{$item:o,$model:i.parserResult.modelMapper(e,a)})}),r.updateModel(),!0},r.getPlaceholder=function(){if(!i.selected||!i.selected.length)return i.placeholder}}],controllerAs:"$selectMultiple",link:function(i,o,a,s){function l(e){return angular.isNumber(e.selectionStart)?e.selectionStart:e.value.length}function u(e){var n=l(h.searchInput[0]),r=h.selected.length,i=r-1,o=p.activeMatchIndex,a=p.activeMatchIndex+1,s=p.activeMatchIndex-1,u=o;return!(n>0||h.search.length&&e==t.RIGHT)&&(h.close(),u=function(){switch(e){case t.LEFT:return~p.activeMatchIndex?s:i;case t.RIGHT:return~p.activeMatchIndex&&o!==i?a:(h.activate(),!1);case t.BACKSPACE:return~p.activeMatchIndex?p.removeChoice(o)?s:o:i;case t.DELETE:return!!~p.activeMatchIndex&&(p.removeChoice(p.activeMatchIndex),o)}}(),h.selected.length&&!1!==u?p.activeMatchIndex=Math.min(i,Math.max(0,u)):p.activeMatchIndex=-1,!0)}function c(e){return void 0!==e&&void 0!==h.search&&e.filter(function(e){return void 0!==h.search.toUpperCase()&&void 0!==e&&e.toUpperCase()===h.search.toUpperCase()}).length>0}function f(e,t){var n=-1;if(angular.isArray(e))for(var r=angular.copy(e),i=0;i<r.length;i++)if(void 0===h.tagging.fct)r[i]+" "+h.taggingLabel===t&&(n=i);else{var o=r[i];angular.isObject(o)&&(o.isTag=!0),angular.equals(o,t)&&(n=i)}return n}var h=s[0],d=i.ngModel=s[1],p=i.$selectMultiple;h.multiple=!0,h.focusInput=h.searchInput,d.$isEmpty=function(e){return!e||0===e.length},d.$parsers.unshift(function(){for(var e,t={},n=[],r=h.selected.length-1;r>=0;r--)t={},t[h.parserResult.itemName]=h.selected[r],e=h.parserResult.modelMapper(i,t),n.unshift(e);return n}),d.$formatters.unshift(function(e){var t,n=h.parserResult&&h.parserResult.source(i,{$select:{search:""}}),r={};if(!n)return e;var o=[],a=function(e,n){if(e&&e.length){for(var a=e.length-1;a>=0;a--){if(r[h.parserResult.itemName]=e[a],t=h.parserResult.modelMapper(i,r),h.parserResult.trackByExp){var s=/(\w*)\./.exec(h.parserResult.trackByExp),l=/\.([^\s]+)/.exec(h.parserResult.trackByExp);if(s&&s.length>0&&s[1]==h.parserResult.itemName&&l&&l.length>0&&t[l[1]]==n[l[1]])return o.unshift(e[a]),!0}if(angular.equals(t,n))return o.unshift(e[a]),!0}return!1}};if(!e)return o;for(var s=e.length-1;s>=0;s--)a(h.selected,e[s])||a(n,e[s])||o.unshift(e[s]);return o}),i.$watchCollection(function(){return d.$modelValue},function(e,t){t!=e&&(angular.isDefined(d.$modelValue)&&(d.$modelValue=null),p.refreshComponent())}),d.$render=function(){if(!angular.isArray(d.$viewValue)){if(!e(d.$viewValue))throw n("multiarr","Expected model value to be array but got '{0}'",d.$viewValue);d.$viewValue=[]}h.selected=d.$viewValue,p.refreshComponent(),i.$evalAsync()},i.$on("uis:select",function(e,t){if(!(h.selected.length>=h.limit)){h.selected.push(t);var n={};n[h.parserResult.itemName]=t,r(function(){h.onSelectCallback(i,{$item:t,$model:h.parserResult.modelMapper(i,n)})}),p.updateModel()}}),i.$on("uis:activate",function(){p.activeMatchIndex=-1}),i.$watch("$select.disabled",function(e,t){t&&!e&&h.sizeSearchInput()}),h.searchInput.on("keydown",function(e){var n=e.which;i.$apply(function(){var r=!1;t.isHorizontalMovement(n)&&(r=u(n)),r&&n!=t.TAB&&(e.preventDefault(),e.stopPropagation())})}),h.searchInput.on("keyup",function(e){if(t.isVerticalMovement(e.which)||i.$evalAsync(function(){h.activeIndex=!1===h.taggingLabel?-1:0}),h.tagging.isActivated&&h.search.length>0){if(e.which===t.TAB||t.isControl(e)||t.isFunctionKey(e)||e.which===t.ESC||t.isVerticalMovement(e.which))return;if(h.activeIndex=!1===h.taggingLabel?-1:0,!1===h.taggingLabel)return;var n,r,o,a,s=angular.copy(h.items),l=angular.copy(h.items),u=!1,d=-1;if(void 0!==h.tagging.fct){if(o=h.$filter("filter")(s,{isTag:!0}),o.length>0&&(a=o[0]),s.length>0&&a&&(u=!0,s=s.slice(1,s.length),l=l.slice(1,l.length)),n=h.tagging.fct(h.search),l.some(function(e){return angular.equals(e,n)})||h.selected.some(function(e){return angular.equals(e,n)}))return void i.$evalAsync(function(){h.activeIndex=0,h.items=s});n&&(n.isTag=!0)}else{if(o=h.$filter("filter")(s,function(e){return e.match(h.taggingLabel)}),o.length>0&&(a=o[0]),r=s[0],void 0!==r&&s.length>0&&a&&(u=!0,s=s.slice(1,s.length),l=l.slice(1,l.length)),n=h.search+" "+h.taggingLabel,f(h.selected,h.search)>-1)return;if(c(l.concat(h.selected)))return void(u&&(s=l,i.$evalAsync(function(){h.activeIndex=0,h.items=s})));if(c(l))return void(u&&(h.items=l.slice(1,l.length)))}u&&(d=f(h.selected,n)),d>-1?s=s.slice(d+1,s.length-1):(s=[],n&&s.push(n),s=s.concat(l)),i.$evalAsync(function(){if(h.activeIndex=0,h.items=s,h.isGrouped){var e=n?s.slice(1):s;h.setItemsFn(e),n&&(h.items.unshift(n),h.groups.unshift({name:"",items:[n],tagging:!0}))}})}}),h.searchInput.on("blur",function(){r(function(){p.activeMatchIndex=-1})})}}}]),r.directive("uiSelectNoChoice",["uiSelectConfig",function(e){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){return t.addClass("ui-select-no-choice"),(t.parent().attr("theme")||e.theme)+"/no-choice.tpl.html"}}}]),r.directive("uiSelectSingle",["$timeout","$compile",function(n,r){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(i,o,a,s){var l=s[0],u=s[1];u.$parsers.unshift(function(t){if(e(t))return t;var n={};return n[l.parserResult.itemName]=t,l.parserResult.modelMapper(i,n)}),u.$formatters.unshift(function(t){if(e(t))return t;var n,r=l.parserResult&&l.parserResult.source(i,{$select:{search:""}}),o={};if(r){var a=function(e){return o[l.parserResult.itemName]=e,(n=l.parserResult.modelMapper(i,o))===t};if(l.selected&&a(l.selected))return l.selected;for(var s=r.length-1;s>=0;s--)if(a(r[s]))return r[s]}return t}),i.$watch("$select.selected",function(e){u.$viewValue!==e&&u.$setViewValue(e)}),u.$render=function(){l.selected=u.$viewValue},i.$on("uis:select",function(t,r){l.selected=r;var o={};o[l.parserResult.itemName]=r,n(function(){l.onSelectCallback(i,{$item:r,$model:e(r)?r:l.parserResult.modelMapper(i,o)})})}),i.$on("uis:close",function(e,t){n(function(){l.focusser.prop("disabled",!1),t||l.focusser[0].focus()},0,!1)}),i.$on("uis:activate",function(){c.prop("disabled",!0)});var c=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");r(c)(i),l.focusser=c,l.focusInput=c,o.parent().append(c),c.bind("focus",function(){i.$evalAsync(function(){l.focus=!0})}),c.bind("blur",function(){i.$evalAsync(function(){l.focus=!1})}),c.bind("keydown",function(e){if(e.which===t.BACKSPACE&&!1!==l.backspaceReset)return e.preventDefault(),e.stopPropagation(),l.select(void 0),void i.$apply();e.which===t.TAB||t.isControl(e)||t.isFunctionKey(e)||e.which===t.ESC||(e.which!=t.DOWN&&e.which!=t.UP&&e.which!=t.ENTER&&e.which!=t.SPACE||(e.preventDefault(),e.stopPropagation(),l.activate()),i.$digest())}),c.bind("keyup input",function(e){e.which===t.TAB||t.isControl(e)||t.isFunctionKey(e)||e.which===t.ESC||e.which==t.ENTER||e.which===t.BACKSPACE||(l.activate(c.val()),c.val(""),i.$digest())})}}}]),r.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function(e,t,n){return{
require:["^^uiSelect","^ngModel"],link:function(t,r,i,o){if(null===t[i.uiSelectSort])throw n("sort","Expected a list to sort");var a=o[0],s=o[1],l=angular.extend({axis:"horizontal"},t.$eval(i.uiSelectSortOptions)),u=l.axis;t.$watch(function(){return a.sortable},function(e){e?r.attr("draggable",!0):r.removeAttr("draggable")}),r.on("dragstart",function(e){r.addClass("dragging"),(e.dataTransfer||e.originalEvent.dataTransfer).setData("text",t.$index.toString())}),r.on("dragend",function(){h("dragging")});var c,f=function(e,t){this.splice(t,0,this.splice(e,1)[0])},h=function(e){angular.forEach(a.$element.querySelectorAll("."+e),function(t){angular.element(t).removeClass(e)})},d=function(e){e.preventDefault(),("vertical"===u?e.offsetY||e.layerY||(e.originalEvent?e.originalEvent.offsetY:0):e.offsetX||e.layerX||(e.originalEvent?e.originalEvent.offsetX:0))<this["vertical"===u?"offsetHeight":"offsetWidth"]/2?(h("dropping-after"),r.addClass("dropping-before")):(h("dropping-before"),r.addClass("dropping-after"))},p=function(t){t.preventDefault();var n=parseInt((t.dataTransfer||t.originalEvent.dataTransfer).getData("text"),10);e.cancel(c),c=e(function(){g(n)},20)},g=function(e){var n=t.$eval(i.uiSelectSort),o=n[e],a=null;a=r.hasClass("dropping-before")?e<t.$index?t.$index-1:t.$index:e<t.$index?t.$index:t.$index+1,f.apply(n,[e,a]),s.$setViewValue(Date.now()),t.$apply(function(){t.$emit("uiSelectSort:change",{array:n,item:o,from:e,to:a})}),h("dropping"),h("dropping-before"),h("dropping-after"),r.off("drop",p)};r.on("dragenter",function(){r.hasClass("dragging")||(r.addClass("dropping"),r.on("dragover",d),r.on("drop",p))}),r.on("dragleave",function(e){e.target==r&&(h("dropping"),h("dropping-before"),h("dropping-after"),r.off("dragover",d),r.off("drop",p))})}}}]),r.directive("uisOpenClose",["$parse","$timeout",function(e,t){return{restrict:"A",require:"uiSelect",link:function(n,r,i,o){o.onOpenCloseCallback=e(i.uisOpenClose),n.$watch("$select.open",function(e,r){e!==r&&t(function(){o.onOpenCloseCallback(n,{isOpen:e})})})}}}]),r.service("uisRepeatParser",["uiSelectMinErr","$parse",function(e,t){var n=this;n.parse=function(n){var r;if(!(r=n.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(\s*[\s\S]+?)?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/)))throw e("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",n);var i=r[5],o="";if(r[3]){i=r[5].replace(/(^\()|(\)$)/g,"");var a=r[5].match(/^\s*(?:[\s\S]+?)(?:[^\|]|\|\|)+([\s\S]*)\s*$/);a&&a[1].trim()&&(o=a[1],i=i.replace(o,""))}return{itemName:r[4]||r[2],keyName:r[3],source:t(i),filters:o,trackByExp:r[6],modelMapper:t(r[1]||r[4]||r[2]),repeatExpression:function(e){var t=this.itemName+" in "+(e?"$group.items":"$select.items");return this.trackByExp&&(t+=" track by "+this.trackByExp),t}}},n.getGroupNgRepeatExpression=function(){return"$group in $select.groups track by $group.name"}}])}(),angular.module("ui.select").run(["$templateCache",function(e){e.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" ng-show="$select.open && $select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><span class="ui-select-choices-row-inner"></span></div></li></ul>'),e.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected track by $index"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'),e.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open && $select.searchEnabled" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty() && ($select.disabled !== true)" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>'),e.put("bootstrap/no-choice.tpl.html",'<ul class="ui-select-no-choice dropdown-menu" ng-show="$select.items.length == 0"><li ng-transclude=""></li></ul>'),e.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-expanded="{{$select.open}}" aria-label="{{$select.baseTitle}}" ng-class="{\'spinner\': $select.refreshing}" ondrop="return false;"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),e.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><span ng-show="$select.open && $select.refreshing && $select.spinnerEnabled" class="ui-select-refreshing {{$select.spinnerClass}}"></span> <input type="search" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" class="form-control ui-select-search" ng-class="{ \'ui-select-search-hidden\' : !$select.searchEnabled }" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.open"><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),e.put("select2/choices.tpl.html",'<ul tabindex="-1" class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'),e.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected track by $index" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'),e.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'),e.put("select2/no-choice.tpl.html",'<div class="ui-select-no-choice dropdown" ng-show="$select.items.length == 0"><div class="dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>'),e.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open || $select.items.length === 0}"><div class="ui-select-choices"></div></div></div>'),e.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="search-container" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled, \'select2-search\':$select.searchEnabled}"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" ng-class="{\'select2-active\': $select.refreshing}" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div></div>'),e.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown" ng-class="{\'single\': !$select.multiple, \'multi\': $select.multiple}"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'),e.put("selectize/match-multiple.tpl.html",'<div class="ui-select-match" data-value="" ng-repeat="$item in $select.selected track by $index" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'active\':$selectMultiple.activeMatchIndex === $index}" ui-select-sort="$select.selected"><span class="ui-select-match-item" ng-class="{\'select-locked\':$select.isLocked(this, $index)}"><span uis-transclude-append=""></span> <span class="remove ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&times;</span></span></div>'),e.put("selectize/match.tpl.html",'<div ng-hide="$select.searchEnabled && ($select.open || $select.isEmpty())" class="ui-select-match"><span ng-show="!$select.searchEnabled && ($select.isEmpty() || $select.open)" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty() || $select.open" ng-transclude=""></span></div>'),e.put("selectize/no-choice.tpl.html",'<div class="ui-select-no-choice selectize-dropdown" ng-show="$select.items.length == 0"><div class="selectize-dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>'),e.put("selectize/select-multiple.tpl.html",'<div class="ui-select-container selectize-control multi plugin-remove_button" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" class="ui-select-search" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled}" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-model="$select.search" ng-disabled="$select.disabled" aria-expanded="{{$select.open}}" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),e.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled}" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.isEmpty() && !$select.open" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>')}]),function(e,t){"function"==typeof define&&define.amd?define(e):"undefined"!=typeof module&&"object"==typeof exports?module.exports=e():t.rangy=e()}(function(){function e(e,t){var n=typeof e[t];return n==w||!(n!=b||!e[t])||"unknown"==n}function t(e,t){return!(typeof e[t]!=b||!e[t])}function n(e,t){return typeof e[t]!=x}function r(e){return function(t,n){for(var r=n.length;r--;)if(!e(t,n[r]))return!1;return!0}}function i(e){return e&&k(e,A)&&T(e,C)}function o(e){return t(e,"body")?e.body:e.getElementsByTagName("body")[0]}function a(t){typeof console!=x&&e(console,"log")&&console.log(t)}function s(e,t){D&&t?alert(e):a(e)}function l(e){R.initialized=!0,R.supported=!1,s("Rangy is not supported in this environment. Reason: "+e,R.config.alertOnFail)}function u(e){s("Rangy warning: "+e,R.config.alertOnWarn)}function c(e){return e.message||e.description||String(e)}function f(){if(D&&!R.initialized){var t,n=!1,r=!1;e(document,"createRange")&&(t=document.createRange(),k(t,$)&&T(t,S)&&(n=!0));var s=o(document);if(!s||"body"!=s.nodeName.toLowerCase())return void l("No body element found");if(s&&e(s,"createTextRange")&&(t=s.createTextRange(),i(t)&&(r=!0)),!n&&!r)return void l("Neither Range nor TextRange are available");R.initialized=!0,R.features={implementsDomRange:n,implementsTextRange:r};var u,f;for(var h in M)(u=M[h])instanceof g&&u.init(u,R);for(var d=0,p=L.length;d<p;++d)try{L[d](R)}catch(e){f="Rangy init listener threw an exception. Continuing. Detail: "+c(e),a(f)}}}function h(e,t,n){n&&(e+=" in module "+n.name),R.warn("DEPRECATED: "+e+" is deprecated. Please use "+t+" instead.")}function d(e,t,n,r){e[t]=function(){return h(t,n,r),e[n].apply(e,P.toArray(arguments))}}function p(e){e=e||window,f();for(var t=0,n=I.length;t<n;++t)I[t](e)}function g(e,t,n){this.name=e,this.dependencies=t,this.initialized=!1,this.supported=!1,this.initializer=n}function m(e,t,n){var r=new g(e,t,function(t){if(!t.initialized){t.initialized=!0;try{n(R,t),t.supported=!0}catch(t){var r="Module '"+e+"' failed to load: "+c(t);a(r),t.stack&&a(t.stack)}}});return M[e]=r,r}function v(){}function y(){}var b="object",w="function",x="undefined",S=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],$=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],C=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],A=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"],k=r(e),_=r(t),T=r(n),E=[].forEach?function(e,t){e.forEach(t)}:function(e,t){for(var n=0,r=e.length;n<r;++n)t(e[n],n)},M={},D=typeof window!=x&&typeof document!=x,P={isHostMethod:e,isHostObject:t,isHostProperty:n,areHostMethods:k,areHostObjects:_,areHostProperties:T,isTextRange:i,getBody:o,forEach:E},R={version:"1.3.0",initialized:!1,isBrowser:D,supported:!0,util:P,features:{},modules:M,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==x||rangyAutoInitialize}};R.fail=l,R.warn=u;var O;!{}.hasOwnProperty?l("hasOwnProperty not supported"):(P.extend=O=function(e,t,n){var r,i;for(var o in t)t.hasOwnProperty(o)&&(r=e[o],i=t[o],n&&null!==r&&"object"==typeof r&&null!==i&&"object"==typeof i&&O(r,i,!0),e[o]=i);return t.hasOwnProperty("toString")&&(e.toString=t.toString),e},P.createOptions=function(e,t){var n={};return O(n,t),e&&O(n,e),n}),D||l("Rangy can only run in a browser"),function(){var e;if(D){var t=document.createElement("div");t.appendChild(document.createElement("span"));var n=[].slice;try{1==n.call(t.childNodes,0)[0].nodeType&&(e=function(e){return n.call(e,0)})}catch(e){}}e||(e=function(e){for(var t=[],n=0,r=e.length;n<r;++n)t[n]=e[n];return t}),P.toArray=e}();var N;D&&(e(document,"addEventListener")?N=function(e,t,n){e.addEventListener(t,n,!1)}:e(document,"attachEvent")?N=function(e,t,n){e.attachEvent("on"+t,n)}:l("Document does not have required addEventListener or attachEvent method"),P.addListener=N);var L=[];P.deprecationNotice=h,P.createAliasForDeprecatedMethod=d,R.init=f,R.addInitListener=function(e){R.initialized?e(R):L.push(e)};var I=[];R.addShimListener=function(e){I.push(e)},D&&(R.shim=R.createMissingNativeApi=p,d(R,"createMissingNativeApi","shim")),g.prototype={init:function(){for(var e,t,n=this.dependencies||[],r=0,i=n.length;r<i;++r){if(t=n[r],!((e=M[t])&&e instanceof g))throw new Error("required module '"+t+"' not found");if(e.init(),!e.supported)throw new Error("required module '"+t+"' not supported")}this.initializer(this)},fail:function(e){throw this.initialized=!0,this.supported=!1,new Error(e)},warn:function(e){R.warn("Module "+this.name+": "+e)},deprecationNotice:function(e,t){R.warn("DEPRECATED: "+e+" in module "+this.name+" is deprecated. Please use "+t+" instead")},createError:function(e){return new Error("Error in Rangy "+this.name+" module: "+e)}},R.createModule=function(e){var t,n;2==arguments.length?(t=arguments[1],n=[]):(t=arguments[2],n=arguments[1]);var r=m(e,n,t);R.initialized&&R.supported&&r.init()},R.createCoreModule=function(e,t,n){m(e,t,n)},R.RangePrototype=v,R.rangePrototype=new v,R.selectionPrototype=new y,R.createCoreModule("DomUtil",[],function(e,t){function n(e){var t;return typeof e.namespaceURI==D||null===(t=e.namespaceURI)||"http://www.w3.org/1999/xhtml"==t}function r(e){var t=e.parentNode;return 1==t.nodeType?t:null}function i(e){for(var t=0;e=e.previousSibling;)++t;return t}function o(e){switch(e.nodeType){case 7:case 10:return 0;case 3:case 8:return e.length;default:return e.childNodes.length}}function a(e,t){var n,r=[];for(n=e;n;n=n.parentNode)r.push(n);for(n=t;n;n=n.parentNode)if(L(r,n))return n;return null}function s(e,t,n){for(var r=n?t:t.parentNode;r;){if(r===e)return!0;r=r.parentNode}return!1}function l(e,t){return s(e,t,!0)}function u(e,t,n){for(var r,i=n?e:e.parentNode;i;){if((r=i.parentNode)===t)return i;i=r}return null}function c(e){var t=e.nodeType;return 3==t||4==t||8==t}function f(e){if(!e)return!1;var t=e.nodeType;return 3==t||8==t}function h(e,t){var n=t.nextSibling,r=t.parentNode;return n?r.insertBefore(e,n):r.appendChild(e),e}function d(e,t,n){var r=e.cloneNode(!1);if(r.deleteData(0,t),e.deleteData(t,e.length-t),h(r,e),n)for(var o,a=0;o=n[a++];)o.node==e&&o.offset>t?(o.node=r,o.offset-=t):o.node==e.parentNode&&o.offset>i(e)&&++o.offset;return r}function p(e){if(9==e.nodeType)return e;if(typeof e.ownerDocument!=D)return e.ownerDocument;if(typeof e.document!=D)return e.document;if(e.parentNode)return p(e.parentNode);throw t.createError("getDocument: no document found for node")}function g(e){var n=p(e);if(typeof n.defaultView!=D)return n.defaultView;if(typeof n.parentWindow!=D)return n.parentWindow;throw t.createError("Cannot get a window object for node")}function m(e){if(typeof e.contentDocument!=D)return e.contentDocument;if(typeof e.contentWindow!=D)return e.contentWindow.document;throw t.createError("getIframeDocument: No Document object found for iframe element")}function v(e){if(typeof e.contentWindow!=D)return e.contentWindow;if(typeof e.contentDocument!=D)return e.contentDocument.defaultView;throw t.createError("getIframeWindow: No Window object found for iframe element")}function y(e){return e&&P.isHostMethod(e,"setTimeout")&&P.isHostObject(e,"document")}function b(e,t,n){var r;if(e?P.isHostProperty(e,"nodeType")?r=1==e.nodeType&&"iframe"==e.tagName.toLowerCase()?m(e):p(e):y(e)&&(r=e.document):r=document,!r)throw t.createError(n+"(): Parameter must be a Window object or DOM node");return r}function w(e){for(var t;t=e.parentNode;)e=t;return e}function x(e,n,r,o){var s,l,c,f,h;if(e==r)return n===o?0:n<o?-1:1;if(s=u(r,e,!0))return n<=i(s)?-1:1;if(s=u(e,r,!0))return i(s)<o?-1:1;if(!(l=a(e,r)))throw new Error("comparePoints error: nodes have no common ancestor");if(c=e===l?l:u(e,l,!0),f=r===l?l:u(r,l,!0),c===f)throw t.createError("comparePoints got to case 4 and childA and childB are the same!");for(h=l.firstChild;h;){if(h===c)return-1;if(h===f)return 1;h=h.nextSibling}}function S(e){try{return e.parentNode,!1}catch(e){return!0}}function $(e){if(!e)return"[No node]";if(I&&S(e))return"[Broken node]";if(c(e))return'"'+e.data+'"';if(1==e.nodeType){var t=e.id?' id="'+e.id+'"':"";return"<"+e.nodeName+t+">[index:"+i(e)+",length:"+e.childNodes.length+"]["+(e.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return e.nodeName}function C(e){for(var t,n=p(e).createDocumentFragment();t=e.firstChild;)n.appendChild(t);return n}function A(e,t,n){var r=R(e),i=e.createElement("div");i.contentEditable=""+!!n,t&&(i.innerHTML=t);var o=r.firstChild;return o?r.insertBefore(i,o):r.appendChild(i),i}function k(e){return e.parentNode.removeChild(e)}function _(e){this.root=e,this._next=e}function T(e){return new _(e)}function E(e,t){this.node=e,this.offset=t}function M(e){this.code=this[e],this.codeName=e,this.message="DOMException: "+this.codeName}var D="undefined",P=e.util,R=P.getBody;P.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||t.fail("document missing a Node creation method"),P.isHostMethod(document,"getElementsByTagName")||t.fail("document missing getElementsByTagName method");var O=document.createElement("div");P.areHostMethods(O,["insertBefore","appendChild","cloneNode"]||!P.areHostObjects(O,["previousSibling","nextSibling","childNodes","parentNode"]))||t.fail("Incomplete Element implementation"),P.isHostProperty(O,"innerHTML")||t.fail("Element is missing innerHTML property");var N=document.createTextNode("test");P.areHostMethods(N,["splitText","deleteData","insertData","appendData","cloneNode"]||!P.areHostObjects(O,["previousSibling","nextSibling","childNodes","parentNode"])||!P.areHostProperties(N,["data"]))||t.fail("Incomplete Text Node implementation");var L=function(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1},I=!1;!function(){var t=document.createElement("b");t.innerHTML="1";var n=t.firstChild;t.innerHTML="<br />",I=S(n),e.features.crashyTextNodes=I}();var z;typeof window.getComputedStyle!=D?z=function(e,t){return g(e).getComputedStyle(e,null)[t]}:typeof document.documentElement.currentStyle!=D?z=function(e,t){return e.currentStyle?e.currentStyle[t]:""}:t.fail("No means of obtaining computed style properties found"),_.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var e,t,n=this._current=this._next;if(this._current)if(e=n.firstChild)this._next=e;else{for(t=null;n!==this.root&&!(t=n.nextSibling);)n=n.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}},E.prototype={equals:function(e){return!!e&&this.node===e.node&&this.offset==e.offset},inspect:function(){return"[DomPosition("+$(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},M.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},M.prototype.toString=function(){return this.message},e.dom={arrayContains:L,isHtmlNamespace:n,parentElement:r,getNodeIndex:i,getNodeLength:o,getCommonAncestor:a,isAncestorOf:s,isOrIsAncestorOf:l,getClosestAncestorIn:u,isCharacterDataNode:c,isTextOrCommentNode:f,insertAfter:h,splitDataNode:d,getDocument:p,getWindow:g,getIframeWindow:v,getIframeDocument:m,getBody:R,isWindow:y,getContentDocument:b,getRootContainer:w,comparePoints:x,isBrokenNode:S,inspectNode:$,getComputedStyleProperty:z,createTestElement:A,removeNode:k,fragmentFromNodeChildren:C,createIterator:T,DomPosition:E},e.DOMException=M}),R.createCoreModule("DomRange",["DomUtil"],function(e,t){function n(e,t){return 3!=e.nodeType&&(j(e,t.startContainer)||j(e,t.endContainer))}function r(e){return e.document||H(e.startContainer)}function i(e){return G(e.startContainer)}function o(e){return new I(e.parentNode,F(e))}function a(e){return new I(e.parentNode,F(e)+1)}function s(e,t,n){var r=11==e.nodeType?e.firstChild:e;return B(t)?n==t.length?N.insertAfter(e,t):t.parentNode.insertBefore(e,0==n?t:W(t,n)):n>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[n]),r}function l(e,t,n){if(A(e),A(t),r(t)!=r(e))throw new z("WRONG_DOCUMENT_ERR");var i=U(e.startContainer,e.startOffset,t.endContainer,t.endOffset),o=U(e.endContainer,e.endOffset,t.startContainer,t.startOffset);return n?i<=0&&o>=0:i<0&&o>0}function u(e){for(var t,n,i,o=r(e.range).createDocumentFragment();n=e.next();){if(t=e.isPartiallySelectedSubtree(),n=n.cloneNode(!t),t&&(i=e.getSubtreeIterator(),n.appendChild(u(i)),i.detach()),10==n.nodeType)throw new z("HIERARCHY_REQUEST_ERR");o.appendChild(n)}return o}function c(e,t,n){var r,i;n=n||{stop:!1};for(var o,a;o=e.next();)if(e.isPartiallySelectedSubtree()){if(!1===t(o))return void(n.stop=!0);if(a=e.getSubtreeIterator(),c(a,t,n),a.detach(),n.stop)return}else for(r=N.createIterator(o);i=r.next();)if(!1===t(i))return void(n.stop=!0)}function f(e){for(var t;e.next();)e.isPartiallySelectedSubtree()?(t=e.getSubtreeIterator(),f(t),t.detach()):e.remove()}function h(e){for(var t,n,i=r(e.range).createDocumentFragment();t=e.next();){if(e.isPartiallySelectedSubtree()?(t=t.cloneNode(!1),n=e.getSubtreeIterator(),t.appendChild(h(n)),n.detach()):e.remove(),10==t.nodeType)throw new z("HIERARCHY_REQUEST_ERR");i.appendChild(t)}return i}function d(e,t,n){var r,i=!(!t||!t.length),o=!!n;i&&(r=new RegExp("^("+t.join("|")+")$"));var a=[];return c(new g(e,!1),function(t){if((!i||r.test(t.nodeType))&&(!o||n(t))){var s=e.startContainer;if(t!=s||!B(s)||e.startOffset!=s.length){var l=e.endContainer;t==l&&B(l)&&0==e.endOffset||a.push(t)}}}),a}function p(e){return"["+(void 0===e.getName?"Range":e.getName())+"("+N.inspectNode(e.startContainer)+":"+e.startOffset+", "+N.inspectNode(e.endContainer)+":"+e.endOffset+")]"}function g(e,t){if(this.range=e,this.clonePartiallySelectedTextNodes=t,!e.collapsed){this.sc=e.startContainer,this.so=e.startOffset,this.ec=e.endContainer,this.eo=e.endOffset;var n=e.commonAncestorContainer;this.sc===this.ec&&B(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||B(this.sc)?V(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||B(this.ec)?V(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}function m(e){return function(t,n){for(var r,i=n?t:t.parentNode;i;){if(r=i.nodeType,Y(e,r))return i;i=i.parentNode}return null}}function v(e,t){if(ie(e,t))throw new z("INVALID_NODE_TYPE_ERR")}function y(e,t){if(!Y(t,e.nodeType))throw new z("INVALID_NODE_TYPE_ERR")}function b(e,t){if(t<0||t>(B(e)?e.length:e.childNodes.length))throw new z("INDEX_SIZE_ERR")}function w(e,t){if(ne(e,!0)!==ne(t,!0))throw new z("WRONG_DOCUMENT_ERR")}function x(e){if(re(e,!0))throw new z("NO_MODIFICATION_ALLOWED_ERR")}function S(e,t){if(!e)throw new z(t)}function $(e,t){return t<=(B(e)?e.length:e.childNodes.length)}function C(e){return!!e.startContainer&&!!e.endContainer&&!(X&&(N.isBrokenNode(e.startContainer)||N.isBrokenNode(e.endContainer)))&&G(e.startContainer)==G(e.endContainer)&&$(e.startContainer,e.startOffset)&&$(e.endContainer,e.endOffset)}function A(e){if(!C(e))throw new Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+e.inspect()+")")}function k(e,t){A(e);var n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,a=n===i;B(i)&&o>0&&o<i.length&&W(i,o,t),B(n)&&r>0&&r<n.length&&(n=W(n,r,t),a?(o-=r,i=n):i==n.parentNode&&o>=F(n)&&o++,r=0),e.setStartAndEnd(n,r,i,o)}function _(e){A(e);var t=e.commonAncestorContainer.parentNode.cloneNode(!1);return t.appendChild(e.cloneContents()),t.innerHTML}function T(e){e.START_TO_START=ue,e.START_TO_END=ce,e.END_TO_END=fe,e.END_TO_START=he,e.NODE_BEFORE=de,e.NODE_AFTER=pe,e.NODE_BEFORE_AND_AFTER=ge,e.NODE_INSIDE=me}function E(e){T(e),T(e.prototype)}function M(e,t){return function(){A(this);var n,r,i=this.startContainer,o=this.startOffset,s=this.commonAncestorContainer,l=new g(this,!0);i!==s&&(n=V(i,s,!0),r=a(n),i=r.node,o=r.offset),c(l,x),l.reset();var u=e(l);return l.detach(),t(this,i,o,i,o),u}}function D(t,r){function i(e,t){return function(n){y(n,Z),y(G(n),J);var r=(e?o:a)(n);(t?s:l)(this,r.node,r.offset)}}function s(e,t,n){var i=e.endContainer,o=e.endOffset;t===e.startContainer&&n===e.startOffset||(G(t)==G(i)&&1!=U(t,n,i,o)||(i=t,o=n),r(e,t,n,i,o))}function l(e,t,n){var i=e.startContainer,o=e.startOffset;t===e.endContainer&&n===e.endOffset||(G(t)==G(i)&&-1!=U(t,n,i,o)||(i=t,o=n),r(e,i,o,t,n))}var u=function(){};u.prototype=e.rangePrototype,t.prototype=new u,L.extend(t.prototype,{setStart:function(e,t){v(e,!0),b(e,t),s(this,e,t)},setEnd:function(e,t){v(e,!0),b(e,t),l(this,e,t)},setStartAndEnd:function(){
var e=arguments,t=e[0],n=e[1],i=t,o=n;switch(e.length){case 3:o=e[2];break;case 4:i=e[2],o=e[3]}r(this,t,n,i,o)},setBoundary:function(e,t,n){this["set"+(n?"Start":"End")](e,t)},setStartBefore:i(!0,!0),setStartAfter:i(!1,!0),setEndBefore:i(!0,!1),setEndAfter:i(!1,!1),collapse:function(e){A(this),e?r(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):r(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(e){v(e,!0),r(this,e,0,e,q(e))},selectNode:function(e){v(e,!1),y(e,Z);var t=o(e),n=a(e);r(this,t.node,t.offset,n.node,n.offset)},extractContents:M(h,r),deleteContents:M(f,r),canSurroundContents:function(){A(this),x(this.startContainer),x(this.endContainer);var e=new g(this,!0),t=e._first&&n(e._first,this)||e._last&&n(e._last,this);return e.detach(),!t},splitBoundaries:function(){k(this)},splitBoundariesPreservingPositions:function(e){k(this,e)},normalizeBoundaries:function(){A(this);var e,t=this.startContainer,n=this.startOffset,i=this.endContainer,o=this.endOffset,a=function(e){var t=e.nextSibling;t&&t.nodeType==e.nodeType&&(i=e,o=e.length,e.appendData(t.data),K(t))},s=function(e){var r=e.previousSibling;if(r&&r.nodeType==e.nodeType){t=e;var a=e.length;if(n=r.length,e.insertData(0,r.data),K(r),t==i)o+=n,i=t;else if(i==e.parentNode){var s=F(e);o==s?(i=e,o=a):o>s&&o--}}},l=!0;if(B(i))o==i.length?a(i):0==o&&(e=i.previousSibling)&&e.nodeType==i.nodeType&&(o=e.length,t==i&&(l=!1),e.appendData(i.data),K(i),i=e);else{if(o>0){var u=i.childNodes[o-1];u&&B(u)&&a(u)}l=!this.collapsed}if(l){if(B(t))0==n?s(t):n==t.length&&(e=t.nextSibling)&&e.nodeType==t.nodeType&&(i==e&&(i=t,o+=t.length),t.appendData(e.data),K(e));else if(n<t.childNodes.length){var c=t.childNodes[n];c&&B(c)&&s(c)}}else t=i,n=o;r(this,t,n,i,o)},collapseToPoint:function(e,t){v(e,!0),b(e,t),this.setStartAndEnd(e,t)}}),E(t)}function P(e){e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e.commonAncestorContainer=e.collapsed?e.startContainer:N.getCommonAncestor(e.startContainer,e.endContainer)}function R(e,t,n,r,i){e.startContainer=t,e.startOffset=n,e.endContainer=r,e.endOffset=i,e.document=N.getDocument(t),P(e)}function O(e){this.startContainer=e,this.startOffset=0,this.endContainer=e,this.endOffset=0,this.document=e,P(this)}var N=e.dom,L=e.util,I=N.DomPosition,z=e.DOMException,B=N.isCharacterDataNode,F=N.getNodeIndex,j=N.isOrIsAncestorOf,H=N.getDocument,U=N.comparePoints,W=N.splitDataNode,V=N.getClosestAncestorIn,q=N.getNodeLength,Y=N.arrayContains,G=N.getRootContainer,X=e.features.crashyTextNodes,K=N.removeNode;g.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next;return e&&(this._next=e!==this._last?e.nextSibling:null,B(e)&&this.clonePartiallySelectedTextNodes&&(e===this.ec&&(e=e.cloneNode(!0)).deleteData(this.eo,e.length-this.eo),this._current===this.sc&&(e=e.cloneNode(!0)).deleteData(0,this.so))),e},remove:function(){var e,t,n=this._current;!B(n)||n!==this.sc&&n!==this.ec?n.parentNode&&K(n):(e=n===this.sc?this.so:0,t=n===this.ec?this.eo:n.length,e!=t&&n.deleteData(e,t-e))},isPartiallySelectedSubtree:function(){return n(this._current,this.range)},getSubtreeIterator:function(){var e;if(this.isSingleCharacterDataNode)e=this.range.cloneRange(),e.collapse(!1);else{e=new O(r(this.range));var t=this._current,n=t,i=0,o=t,a=q(t);j(t,this.sc)&&(n=this.sc,i=this.so),j(t,this.ec)&&(o=this.ec,a=this.eo),R(e,n,i,o,a)}return new g(e,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var Z=[1,3,4,5,7,8,10],J=[2,9,11],Q=[5,6,10,12],ee=[1,3,4,5,7,8,10,11],te=[1,3,4,5,7,8],ne=m([9,11]),re=m(Q),ie=m([6,10,12]),oe=document.createElement("style"),ae=!1;try{oe.innerHTML="<b>x</b>",ae=3==oe.firstChild.nodeType}catch(e){}e.features.htmlParsingConforms=ae;var se=ae?function(e){var t=this.startContainer,n=H(t);if(!t)throw new z("INVALID_STATE_ERR");var r=null;return 1==t.nodeType?r=t:B(t)&&(r=N.parentElement(t)),r=null===r||"HTML"==r.nodeName&&N.isHtmlNamespace(H(r).documentElement)&&N.isHtmlNamespace(r)?n.createElement("body"):r.cloneNode(!1),r.innerHTML=e,N.fragmentFromNodeChildren(r)}:function(e){var t=r(this),n=t.createElement("body");return n.innerHTML=e,N.fragmentFromNodeChildren(n)},le=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],ue=0,ce=1,fe=2,he=3,de=0,pe=1,ge=2,me=3;L.extend(e.rangePrototype,{compareBoundaryPoints:function(e,t){A(this),w(this.startContainer,t.startContainer);var n,r,i,o,a=e==he||e==ue?"start":"end",s=e==ce||e==ue?"start":"end";return n=this[a+"Container"],r=this[a+"Offset"],i=t[s+"Container"],o=t[s+"Offset"],U(n,r,i,o)},insertNode:function(e){if(A(this),y(e,ee),x(this.startContainer),j(e,this.startContainer))throw new z("HIERARCHY_REQUEST_ERR");var t=s(e,this.startContainer,this.startOffset);this.setStartBefore(t)},cloneContents:function(){A(this);var e,t;if(this.collapsed)return r(this).createDocumentFragment();if(this.startContainer===this.endContainer&&B(this.startContainer))return e=this.startContainer.cloneNode(!0),e.data=e.data.slice(this.startOffset,this.endOffset),t=r(this).createDocumentFragment(),t.appendChild(e),t;var n=new g(this,!0);return e=u(n),n.detach(),e},canSurroundContents:function(){A(this),x(this.startContainer),x(this.endContainer);var e=new g(this,!0),t=e._first&&n(e._first,this)||e._last&&n(e._last,this);return e.detach(),!t},surroundContents:function(e){if(y(e,te),!this.canSurroundContents())throw new z("INVALID_STATE_ERR");var t=this.extractContents();if(e.hasChildNodes())for(;e.lastChild;)e.removeChild(e.lastChild);s(e,this.startContainer,this.startOffset),e.appendChild(t),this.selectNode(e)},cloneRange:function(){A(this);for(var e,t=new O(r(this)),n=le.length;n--;)e=le[n],t[e]=this[e];return t},toString:function(){A(this);var e=this.startContainer;if(e===this.endContainer&&B(e))return 3==e.nodeType||4==e.nodeType?e.data.slice(this.startOffset,this.endOffset):"";var t=[],n=new g(this,!0);return c(n,function(e){3!=e.nodeType&&4!=e.nodeType||t.push(e.data)}),n.detach(),t.join("")},compareNode:function(e){A(this);var t=e.parentNode,n=F(e);if(!t)throw new z("NOT_FOUND_ERR");var r=this.comparePoint(t,n),i=this.comparePoint(t,n+1);return r<0?i>0?ge:de:i>0?pe:me},comparePoint:function(e,t){return A(this),S(e,"HIERARCHY_REQUEST_ERR"),w(e,this.startContainer),U(e,t,this.startContainer,this.startOffset)<0?-1:U(e,t,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:se,toHtml:function(){return _(this)},intersectsNode:function(e,t){if(A(this),G(e)!=i(this))return!1;var n=e.parentNode,r=F(e);if(!n)return!0;var o=U(n,r,this.endContainer,this.endOffset),a=U(n,r+1,this.startContainer,this.startOffset);return t?o<=0&&a>=0:o<0&&a>0},isPointInRange:function(e,t){return A(this),S(e,"HIERARCHY_REQUEST_ERR"),w(e,this.startContainer),U(e,t,this.startContainer,this.startOffset)>=0&&U(e,t,this.endContainer,this.endOffset)<=0},intersectsRange:function(e){return l(this,e,!1)},intersectsOrTouchesRange:function(e){return l(this,e,!0)},intersection:function(e){if(this.intersectsRange(e)){var t=U(this.startContainer,this.startOffset,e.startContainer,e.startOffset),n=U(this.endContainer,this.endOffset,e.endContainer,e.endOffset),r=this.cloneRange();return-1==t&&r.setStart(e.startContainer,e.startOffset),1==n&&r.setEnd(e.endContainer,e.endOffset),r}return null},union:function(e){if(this.intersectsOrTouchesRange(e)){var t=this.cloneRange();return-1==U(e.startContainer,e.startOffset,this.startContainer,this.startOffset)&&t.setStart(e.startContainer,e.startOffset),1==U(e.endContainer,e.endOffset,this.endContainer,this.endOffset)&&t.setEnd(e.endContainer,e.endOffset),t}throw new z("Ranges do not intersect")},containsNode:function(e,t){return t?this.intersectsNode(e,!1):this.compareNode(e)==me},containsNodeContents:function(e){return this.comparePoint(e,0)>=0&&this.comparePoint(e,q(e))<=0},containsRange:function(e){var t=this.intersection(e);return null!==t&&e.equals(t)},containsNodeText:function(e){var t=this.cloneRange();t.selectNode(e);var n=t.getNodes([3]);if(n.length>0){t.setStart(n[0],0);var r=n.pop();return t.setEnd(r,r.length),this.containsRange(t)}return this.containsNodeContents(e)},getNodes:function(e,t){return A(this),d(this,e,t)},getDocument:function(){return r(this)},collapseBefore:function(e){this.setEndBefore(e),this.collapse(!1)},collapseAfter:function(e){this.setStartAfter(e),this.collapse(!0)},getBookmark:function(t){var n=r(this),i=e.createRange(n);t=t||N.getBody(n),i.selectNodeContents(t);var o=this.intersection(i),a=0,s=0;return o&&(i.setEnd(o.startContainer,o.startOffset),a=i.toString().length,s=a+o.toString().length),{start:a,end:s,containerNode:t}},moveToBookmark:function(e){var t=e.containerNode,n=0;this.setStart(t,0),this.collapse(!0);for(var r,i,o,a,s=[t],l=!1,u=!1;!u&&(r=s.pop());)if(3==r.nodeType)i=n+r.length,!l&&e.start>=n&&e.start<=i&&(this.setStart(r,e.start-n),l=!0),l&&e.end>=n&&e.end<=i&&(this.setEnd(r,e.end-n),u=!0),n=i;else for(a=r.childNodes,o=a.length;o--;)s.push(a[o])},getName:function(){return"DomRange"},equals:function(e){return O.rangesEqual(this,e)},isValid:function(){return C(this)},inspect:function(){return p(this)},detach:function(){}}),D(O,R),L.extend(O,{rangeProperties:le,RangeIterator:g,copyComparisonConstants:E,createPrototypeRange:D,inspect:p,toHtml:_,getRangeDocument:r,rangesEqual:function(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}}),e.DomRange=O}),R.createCoreModule("WrappedRange",["DomRange"],function(e,t){var n,r,i=e.dom,o=e.util,a=i.DomPosition,s=e.DomRange,l=i.getBody,u=i.getContentDocument,c=i.isCharacterDataNode;if(e.features.implementsDomRange&&function(){function r(e){for(var t,n=h.length;n--;)t=h[n],e[t]=e.nativeRange[t];e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset}function a(e,t,n,r,i){var o=e.startContainer!==t||e.startOffset!=n,a=e.endContainer!==r||e.endOffset!=i,s=!e.equals(e.nativeRange);(o||a||s)&&(e.setEnd(r,i),e.setStart(t,n))}var c,f,h=s.rangeProperties;n=function(e){if(!e)throw t.createError("WrappedRange: Range must be specified");this.nativeRange=e,r(this)},s.createPrototypeRange(n,a),c=n.prototype,c.selectNode=function(e){this.nativeRange.selectNode(e),r(this)},c.cloneContents=function(){return this.nativeRange.cloneContents()},c.surroundContents=function(e){this.nativeRange.surroundContents(e),r(this)},c.collapse=function(e){this.nativeRange.collapse(e),r(this)},c.cloneRange=function(){return new n(this.nativeRange.cloneRange())},c.refresh=function(){r(this)},c.toString=function(){return this.nativeRange.toString()};var d=document.createTextNode("test");l(document).appendChild(d);var p=document.createRange();p.setStart(d,0),p.setEnd(d,0);try{p.setStart(d,1),c.setStart=function(e,t){this.nativeRange.setStart(e,t),r(this)},c.setEnd=function(e,t){this.nativeRange.setEnd(e,t),r(this)},f=function(e){return function(t){this.nativeRange[e](t),r(this)}}}catch(e){c.setStart=function(e,t){try{this.nativeRange.setStart(e,t)}catch(n){this.nativeRange.setEnd(e,t),this.nativeRange.setStart(e,t)}r(this)},c.setEnd=function(e,t){try{this.nativeRange.setEnd(e,t)}catch(n){this.nativeRange.setStart(e,t),this.nativeRange.setEnd(e,t)}r(this)},f=function(e,t){return function(n){try{this.nativeRange[e](n)}catch(r){this.nativeRange[t](n),this.nativeRange[e](n)}r(this)}}}c.setStartBefore=f("setStartBefore","setEndBefore"),c.setStartAfter=f("setStartAfter","setEndAfter"),c.setEndBefore=f("setEndBefore","setStartBefore"),c.setEndAfter=f("setEndAfter","setStartAfter"),c.selectNodeContents=function(e){this.setStartAndEnd(e,0,i.getNodeLength(e))},p.selectNodeContents(d),p.setEnd(d,3);var g=document.createRange();g.selectNodeContents(d),g.setEnd(d,4),g.setStart(d,2),-1==p.compareBoundaryPoints(p.START_TO_END,g)&&1==p.compareBoundaryPoints(p.END_TO_START,g)?c.compareBoundaryPoints=function(e,t){return t=t.nativeRange||t,e==t.START_TO_END?e=t.END_TO_START:e==t.END_TO_START&&(e=t.START_TO_END),this.nativeRange.compareBoundaryPoints(e,t)}:c.compareBoundaryPoints=function(e,t){return this.nativeRange.compareBoundaryPoints(e,t.nativeRange||t)};var m=document.createElement("div");m.innerHTML="123";var v=m.firstChild,y=l(document);y.appendChild(m),p.setStart(v,1),p.setEnd(v,2),p.deleteContents(),"13"==v.data&&(c.deleteContents=function(){this.nativeRange.deleteContents(),r(this)},c.extractContents=function(){var e=this.nativeRange.extractContents();return r(this),e}),y.removeChild(m),y=null,o.isHostMethod(p,"createContextualFragment")&&(c.createContextualFragment=function(e){return this.nativeRange.createContextualFragment(e)}),l(document).removeChild(d),c.getName=function(){return"WrappedRange"},e.WrappedRange=n,e.createNativeRange=function(e){return e=u(e,t,"createNativeRange"),e.createRange()}}(),e.features.implementsTextRange){var f=function(e){var t=e.parentElement(),n=e.duplicate();n.collapse(!0);var r=n.parentElement();n=e.duplicate(),n.collapse(!1);var o=n.parentElement(),a=r==o?r:i.getCommonAncestor(r,o);return a==t?a:i.getCommonAncestor(t,a)},h=function(e){return 0==e.compareEndPoints("StartToEnd",e)},d=function(e,t,n,r,o){var s=e.duplicate();s.collapse(n);var l=s.parentElement();if(i.isOrIsAncestorOf(t,l)||(l=t),!l.canHaveHTML){var u=new a(l.parentNode,i.getNodeIndex(l));return{boundaryPosition:u,nodeInfo:{nodeIndex:u.offset,containerElement:u.node}}}var f=i.getDocument(l).createElement("span");f.parentNode&&i.removeNode(f);for(var h,d,p,g,m,v=n?"StartToStart":"StartToEnd",y=o&&o.containerElement==l?o.nodeIndex:0,b=l.childNodes.length,w=b,x=w;;){if(x==b?l.appendChild(f):l.insertBefore(f,l.childNodes[x]),s.moveToElementText(f),0==(h=s.compareEndPoints(v,e))||y==w)break;if(-1==h){if(w==y+1)break;y=x}else w=w==y+1?y:x;x=Math.floor((y+w)/2),l.removeChild(f)}if(m=f.nextSibling,-1==h&&m&&c(m)){s.setEndPoint(n?"EndToStart":"EndToEnd",e);var S;if(/[\r\n]/.test(m.data)){var $=s.duplicate(),C=$.text.replace(/\r\n/g,"\r").length;for(S=$.moveStart("character",C);-1==(h=$.compareEndPoints("StartToEnd",$));)S++,$.moveStart("character",1)}else S=s.text.length;g=new a(m,S)}else d=(r||!n)&&f.previousSibling,p=(r||n)&&f.nextSibling,g=p&&c(p)?new a(p,0):d&&c(d)?new a(d,d.data.length):new a(l,i.getNodeIndex(f));return i.removeNode(f),{boundaryPosition:g,nodeInfo:{nodeIndex:x,containerElement:l}}},p=function(e,t){var n,r,o,a,s=e.offset,u=i.getDocument(e.node),f=l(u).createTextRange(),h=c(e.node);return h?(n=e.node,r=n.parentNode):(a=e.node.childNodes,n=s<a.length?a[s]:null,r=e.node),o=u.createElement("span"),o.innerHTML="&#feff;",n?r.insertBefore(o,n):r.appendChild(o),f.moveToElementText(o),f.collapse(!t),r.removeChild(o),h&&f[t?"moveStart":"moveEnd"]("character",s),f};r=function(e){this.textRange=e,this.refresh()},r.prototype=new s(document),r.prototype.refresh=function(){var e,t,n,r=f(this.textRange);h(this.textRange)?t=e=d(this.textRange,r,!0,!0).boundaryPosition:(n=d(this.textRange,r,!0,!1),e=n.boundaryPosition,t=d(this.textRange,r,!1,!1,n.nodeInfo).boundaryPosition),this.setStart(e.node,e.offset),this.setEnd(t.node,t.offset)},r.prototype.getName=function(){return"WrappedTextRange"},s.copyComparisonConstants(r);var g=function(e){if(e.collapsed)return p(new a(e.startContainer,e.startOffset),!0);var t=p(new a(e.startContainer,e.startOffset),!0),n=p(new a(e.endContainer,e.endOffset),!1),r=l(s.getRangeDocument(e)).createTextRange();return r.setEndPoint("StartToStart",t),r.setEndPoint("EndToEnd",n),r};if(r.rangeToTextRange=g,r.prototype.toTextRange=function(){return g(this)},e.WrappedTextRange=r,!e.features.implementsDomRange||e.config.preferTextRange){var m=function(e){return e("return this;")()}(Function);void 0===m.Range&&(m.Range=r),e.createNativeRange=function(e){return e=u(e,t,"createNativeRange"),l(e).createTextRange()},e.WrappedRange=r}}e.createRange=function(n){return n=u(n,t,"createRange"),new e.WrappedRange(e.createNativeRange(n))},e.createRangyRange=function(e){return e=u(e,t,"createRangyRange"),new s(e)},o.createAliasForDeprecatedMethod(e,"createIframeRange","createRange"),o.createAliasForDeprecatedMethod(e,"createIframeRangyRange","createRangyRange"),e.addShimListener(function(t){var n=t.document;void 0===n.createRange&&(n.createRange=function(){return e.createRange(n)}),n=t=null})}),R.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(e,t){function n(e){return"string"==typeof e?/^backward(s)?$/i.test(e):!!e}function r(e,n){if(e){if(k.isWindow(e))return e;if(e instanceof v)return e.win;var r=k.getContentDocument(e,t,n);return k.getWindow(r)}return window}function i(e){return r(e,"getWinSelection").getSelection()}function o(e){return r(e,"getDocSelection").document.selection}function a(e){var t=!1;return e.anchorNode&&(t=1==k.comparePoints(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)),t}function s(e,t,n){var r=n?"end":"start",i=n?"start":"end";e.anchorNode=t[r+"Container"],e.anchorOffset=t[r+"Offset"],e.focusNode=t[i+"Container"],e.focusOffset=t[i+"Offset"]}function l(e){var t=e.nativeSelection;e.anchorNode=t.anchorNode,e.anchorOffset=t.anchorOffset,e.focusNode=t.focusNode,e.focusOffset=t.focusOffset}function u(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0}function c(t){var n;return t instanceof E?(n=e.createNativeRange(t.getDocument()),n.setEnd(t.endContainer,t.endOffset),n.setStart(t.startContainer,t.startOffset)):t instanceof M?n=t.nativeRange:R.implementsDomRange&&t instanceof k.getWindow(t.startContainer).Range&&(n=t),n}function f(e){if(!e.length||1!=e[0].nodeType)return!1;for(var t=1,n=e.length;t<n;++t)if(!k.isAncestorOf(e[0],e[t]))return!1;return!0}function h(e){var n=e.getNodes();if(!f(n))throw t.createError("getSingleElementFromRange: range "+e.inspect()+" did not consist of a single element");return n[0]}function d(e){return!!e&&void 0!==e.text}function p(e,t){var n=new M(t);e._ranges=[n],s(e,n,!1),e.rangeCount=1,e.isCollapsed=n.collapsed}function g(t){if(t._ranges.length=0,"None"==t.docSelection.type)u(t);else{var n=t.docSelection.createRange();if(d(n))p(t,n);else{t.rangeCount=n.length;for(var r,i=O(n.item(0)),o=0;o<t.rangeCount;++o)r=e.createRange(i),r.selectNode(n.item(o)),t._ranges.push(r);t.isCollapsed=1==t.rangeCount&&t._ranges[0].collapsed,s(t,t._ranges[t.rangeCount-1],!1)}}}function m(e,n){for(var r=e.docSelection.createRange(),i=h(n),o=O(r.item(0)),a=N(o).createControlRange(),s=0,l=r.length;s<l;++s)a.add(r.item(s));try{a.add(i)}catch(e){throw t.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}a.select(),g(e)}function v(e,t,n){this.nativeSelection=e,this.docSelection=t,this._ranges=[],this.win=n,this.refresh()}function y(e){e.win=e.anchorNode=e.focusNode=e._ranges=null,e.rangeCount=e.anchorOffset=e.focusOffset=0,e.detached=!0}function b(e,t){for(var n,r,i=J.length;i--;)if(n=J[i],r=n.selection,"deleteAll"==t)y(r);else if(n.win==e)return"delete"==t?(J.splice(i,1),!0):r;return"deleteAll"==t&&(J.length=0),null}function w(e,n){for(var r,i=O(n[0].startContainer),o=N(i).createControlRange(),a=0,s=n.length;a<s;++a){r=h(n[a]);try{o.add(r)}catch(e){throw t.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}o.select(),g(e)}function x(e,t){if(e.win.document!=O(t))throw new D("WRONG_DOCUMENT_ERR")}function S(t){return function(n,r){var i;this.rangeCount?(i=this.getRangeAt(0),i["set"+(t?"Start":"End")](n,r)):(i=e.createRange(this.win.document),i.setStartAndEnd(n,r)),this.setSingleRange(i,this.isBackward())}}function $(e){var t=[],n=new P(e.anchorNode,e.anchorOffset),r=new P(e.focusNode,e.focusOffset),i="function"==typeof e.getName?e.getName():"Selection";if(void 0!==e.rangeCount)for(var o=0,a=e.rangeCount;o<a;++o)t[o]=E.inspect(e.getRangeAt(o));return"["+i+"(Ranges: "+t.join(", ")+")(anchor: "+n.inspect()+", focus: "+r.inspect()+"]"}e.config.checkSelectionRanges=!0;var C,A,k=e.dom,_=e.util,T=_.isHostMethod,E=e.DomRange,M=e.WrappedRange,D=e.DOMException,P=k.DomPosition,R=e.features,O=k.getDocument,N=k.getBody,L=E.rangesEqual,I=T(window,"getSelection"),z=_.isHostObject(document,"selection");R.implementsWinGetSelection=I,R.implementsDocSelection=z;var B=z&&(!I||e.config.preferTextRange);if(B)C=o,e.isSelectionValid=function(e){var t=r(e,"isSelectionValid").document,n=t.selection;return"None"!=n.type||O(n.createRange().parentElement())==t};else{if(!I)return t.fail("Neither document.selection or window.getSelection() detected."),!1;C=i,e.isSelectionValid=function(){return!0}}e.getNativeSelection=C;var F=C();if(!F)return t.fail("Native selection was null (possibly issue 138?)"),!1;var j=e.createNativeRange(document),H=N(document),U=_.areHostProperties(F,["anchorNode","focusNode","anchorOffset","focusOffset"]);R.selectionHasAnchorAndFocus=U;var W=T(F,"extend");R.selectionHasExtend=W;var V="number"==typeof F.rangeCount;R.selectionHasRangeCount=V;var q=!1,Y=!0,G=W?function(t,n){var r=E.getRangeDocument(n),i=e.createRange(r);i.collapseToPoint(n.endContainer,n.endOffset),t.addRange(c(i)),t.extend(n.startContainer,n.startOffset)}:null;_.areHostMethods(F,["addRange","getRangeAt","removeAllRanges"])&&"number"==typeof F.rangeCount&&R.implementsDomRange&&function(){var t=window.getSelection();if(t){for(var n=t.rangeCount,r=n>1,i=[],o=a(t),s=0;s<n;++s)i[s]=t.getRangeAt(s);var l=k.createTestElement(document,"",!1),u=l.appendChild(document.createTextNode("Â Â Â ")),c=document.createRange();if(c.setStart(u,1),c.collapse(!0),t.removeAllRanges(),t.addRange(c),Y=1==t.rangeCount,t.removeAllRanges(),!r){var f=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(f&&parseInt(f[1])>=36)q=!1;else{var h=c.cloneRange();c.setStart(u,0),h.setEnd(u,3),h.setStart(u,2),t.addRange(c),t.addRange(h),q=2==t.rangeCount}}for(k.removeNode(l),t.removeAllRanges(),s=0;s<n;++s)0==s&&o?G?G(t,i[s]):(e.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),t.addRange(i[s])):t.addRange(i[s])}}(),R.selectionSupportsMultipleRanges=q,R.collapsedNonEditableSelectionsSupported=Y;var X,K=!1;H&&T(H,"createControlRange")&&(X=H.createControlRange(),_.areHostProperties(X,["item","add"])&&(K=!0)),R.implementsControlRange=K,A=U?function(e){return e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset}:function(e){return!!e.rangeCount&&e.getRangeAt(e.rangeCount-1).collapsed};var Z;T(F,"getRangeAt")?Z=function(e,t){try{return e.getRangeAt(t)}catch(e){return null}}:U&&(Z=function(t){var n=O(t.anchorNode),r=e.createRange(n);return r.setStartAndEnd(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),r.collapsed!==this.isCollapsed&&r.setStartAndEnd(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset),r}),v.prototype=e.selectionPrototype;var J=[],Q=function(e){if(e&&e instanceof v)return e.refresh(),e;e=r(e,"getNativeSelection");var t=b(e),n=C(e),i=z?o(e):null;return t?(t.nativeSelection=n,t.docSelection=i,t.refresh()):(t=new v(n,i,e),J.push({win:e,selection:t})),t};e.getSelection=Q,_.createAliasForDeprecatedMethod(e,"getIframeSelection","getSelection");var ee=v.prototype;if(!B&&U&&_.areHostMethods(F,["removeAllRanges","addRange"])){ee.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),u(this)};var te=function(e,t){G(e.nativeSelection,t),e.refresh()};ee.addRange=V?function(t,r){if(K&&z&&"Control"==this.docSelection.type)m(this,t);else if(n(r)&&W)te(this,t);else{var i;q?i=this.rangeCount:(this.removeAllRanges(),i=0);var o=c(t).cloneRange();try{this.nativeSelection.addRange(o)}catch(e){}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==i+1){if(e.config.checkSelectionRanges){var a=Z(this.nativeSelection,this.rangeCount-1);a&&!L(a,t)&&(t=new M(a))}this._ranges[this.rangeCount-1]=t,s(this,t,ie(this.nativeSelection)),this.isCollapsed=A(this)}else this.refresh()}}:function(e,t){n(t)&&W?te(this,e):(this.nativeSelection.addRange(c(e)),this.refresh())},ee.setRanges=function(e){if(K&&z&&e.length>1)w(this,e);else{this.removeAllRanges();for(var t=0,n=e.length;t<n;++t)this.addRange(e[t])}}}else{if(!(T(F,"empty")&&T(j,"select")&&K&&B))return t.fail("No means of selecting a Range or TextRange was found"),!1;ee.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var e;if(this.anchorNode)e=O(this.anchorNode);else if("Control"==this.docSelection.type){var t=this.docSelection.createRange();t.length&&(e=O(t.item(0)))}if(e){N(e).createTextRange().select(),this.docSelection.empty()}}}catch(e){}u(this)},ee.addRange=function(t){"Control"==this.docSelection.type?m(this,t):(e.WrappedTextRange.rangeToTextRange(t).select(),this._ranges[0]=t,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,s(this,t,!1))},ee.setRanges=function(e){this.removeAllRanges();var t=e.length;t>1?w(this,e):t&&this.addRange(e[0])}}ee.getRangeAt=function(e){if(e<0||e>=this.rangeCount)throw new D("INDEX_SIZE_ERR");return this._ranges[e].cloneRange()};var ne;if(B)ne=function(t){var n;e.isSelectionValid(t.win)?n=t.docSelection.createRange():(n=N(t.win.document).createTextRange(),n.collapse(!0)),"Control"==t.docSelection.type?g(t):d(n)?p(t,n):u(t)};else if(T(F,"getRangeAt")&&"number"==typeof F.rangeCount)ne=function(t){if(K&&z&&"Control"==t.docSelection.type)g(t);else if(t._ranges.length=t.rangeCount=t.nativeSelection.rangeCount,t.rangeCount){for(var n=0,r=t.rangeCount;n<r;++n)t._ranges[n]=new e.WrappedRange(t.nativeSelection.getRangeAt(n));s(t,t._ranges[t.rangeCount-1],ie(t.nativeSelection)),t.isCollapsed=A(t)}else u(t)};else{if(!U||"boolean"!=typeof F.isCollapsed||"boolean"!=typeof j.collapsed||!R.implementsDomRange)return t.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;ne=function(e){var t,n=e.nativeSelection;n.anchorNode?(t=Z(n,0),e._ranges=[t],e.rangeCount=1,l(e),e.isCollapsed=A(e)):u(e)}}ee.refresh=function(e){var t=e?this._ranges.slice(0):null,n=this.anchorNode,r=this.anchorOffset;if(ne(this),e){var i=t.length;if(i!=this._ranges.length)return!0;if(this.anchorNode!=n||this.anchorOffset!=r)return!0;for(;i--;)if(!L(t[i],this._ranges[i]))return!0;return!1}};var re=function(e,t){var n=e.getAllRanges();e.removeAllRanges();for(var r=0,i=n.length;r<i;++r)L(t,n[r])||e.addRange(n[r]);e.rangeCount||u(e)};ee.removeRange=K&&z?function(e){if("Control"==this.docSelection.type){for(var t,n=this.docSelection.createRange(),r=h(e),i=O(n.item(0)),o=N(i).createControlRange(),a=!1,s=0,l=n.length;s<l;++s)t=n.item(s),t!==r||a?o.add(n.item(s)):a=!0;o.select(),g(this)}else re(this,e)}:function(e){re(this,e)};var ie;!B&&U&&R.implementsDomRange?(ie=a,ee.isBackward=function(){return ie(this)}):ie=ee.isBackward=function(){return!1},ee.isBackwards=ee.isBackward,ee.toString=function(){for(var e=[],t=0,n=this.rangeCount;t<n;++t)e[t]=""+this._ranges[t];return e.join("")},ee.collapse=function(t,n){x(this,t);var r=e.createRange(t);r.collapseToPoint(t,n),this.setSingleRange(r),this.isCollapsed=!0},ee.collapseToStart=function(){if(!this.rangeCount)throw new D("INVALID_STATE_ERR");var e=this._ranges[0];this.collapse(e.startContainer,e.startOffset)},ee.collapseToEnd=function(){if(!this.rangeCount)throw new D("INVALID_STATE_ERR");var e=this._ranges[this.rangeCount-1];this.collapse(e.endContainer,e.endOffset)},ee.selectAllChildren=function(t){x(this,t);var n=e.createRange(t);n.selectNodeContents(t),this.setSingleRange(n)},ee.deleteFromDocument=function(){if(K&&z&&"Control"==this.docSelection.type){for(var e,t=this.docSelection.createRange();t.length;)e=t.item(0),t.remove(e),k.removeNode(e);this.refresh()}else if(this.rangeCount){var n=this.getAllRanges();if(n.length){this.removeAllRanges();for(var r=0,i=n.length;r<i;++r)n[r].deleteContents();this.addRange(n[i-1])}}},ee.eachRange=function(e,t){for(var n=0,r=this._ranges.length;n<r;++n)if(e(this.getRangeAt(n)))return t},ee.getAllRanges=function(){var e=[];return this.eachRange(function(t){e.push(t)}),e},ee.setSingleRange=function(e,t){this.removeAllRanges(),this.addRange(e,t)},ee.callMethodOnEachRange=function(e,t){var n=[];return this.eachRange(function(r){n.push(r[e].apply(r,t||[]))}),n},ee.setStart=S(!0),ee.setEnd=S(!1),e.rangePrototype.select=function(e){Q(this.getDocument()).setSingleRange(this,e)},ee.changeEachRange=function(e){var t=[],n=this.isBackward();this.eachRange(function(n){e(n),t.push(n)}),this.removeAllRanges(),n&&1==t.length?this.addRange(t[0],"backward"):this.setRanges(t)},ee.containsNode=function(e,t){return this.eachRange(function(n){return n.containsNode(e,t)},!0)||!1},ee.getBookmark=function(e){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[e])}},ee.moveToBookmark=function(t){for(var n,r,i=[],o=0;n=t.rangeBookmarks[o++];)r=e.createRange(this.win),r.moveToBookmark(n),i.push(r);t.backward?this.setSingleRange(i[0],"backward"):this.setRanges(i)},ee.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}},ee.restoreRanges=function(e){this.removeAllRanges();for(var t,n=0;t=e.ranges[n];++n)this.addRange(t,e.backward&&0==n)},ee.toHtml=function(){var e=[];return this.eachRange(function(t){e.push(E.toHtml(t))}),e.join("")},R.implementsTextRange&&(ee.getNativeTextRange=function(){var n;if(n=this.docSelection){var r=n.createRange();if(d(r))return r;throw t.createError("getNativeTextRange: selection is a control selection")}if(this.rangeCount>0)return e.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw t.createError("getNativeTextRange: selection contains no range")}),ee.getName=function(){return"WrappedSelection"},ee.inspect=function(){return $(this)},ee.detach=function(){b(this.win,"delete"),y(this)},v.detachAll=function(){b(null,"deleteAll")},v.inspect=$,v.isDirectionBackward=n,e.Selection=v,e.selectionPrototype=ee,e.addShimListener(function(e){void 0===e.getSelection&&(e.getSelection=function(){return Q(e)}),e=null})});var z=!1,B=function(e){z||(z=!0,!R.initialized&&R.config.autoInitialize&&f())};return D&&("complete"==document.readyState?B():(e(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",B,!1),N(window,"load",B))),R},this),function(e,t){"function"==typeof define&&define.amd?define(["./rangy-core"],e):"undefined"!=typeof module&&"object"==typeof exports?module.exports=e(require("rangy")):e(t.rangy)}(function(e){return e.createModule("ClassApplier",["WrappedSelection"],function(e,t){function n(e,t){for(var n in e)if(e.hasOwnProperty(n)&&!1===t(n,e[n]))return!1;return!0}function r(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function o(e,t){return!!e&&new RegExp("(?:^|\\s)"+t+"(?:\\s|$)").test(e)}function a(e,t){return"object"==typeof e.classList?e.classList.contains(t):o("string"==typeof e.className?e.className:e.getAttribute("class"),t)}function s(e,t){if("object"==typeof e.classList)e.classList.add(t);else{var n="string"==typeof e.className,r=n?e.className:e.getAttribute("class");r?o(r,t)||(r+=" "+t):r=t,n?e.className=r:e.setAttribute("class",r)}}function l(e){return"string"==typeof e.className?e.className:e.getAttribute("class")}function u(e){return e&&e.split(/\s+/).sort().join(" ")}function c(e){return u(l(e))}function f(e,t){return c(e)==c(t)}function h(e,t){for(var n=t.split(/\s+/),i=0,o=n.length;i<o;++i)if(!a(e,r(n[i])))return!1;return!0}function d(e){var t=e.parentNode;return t&&1==t.nodeType&&!/^(textarea|style|script|select|iframe)$/i.test(t.nodeName)}function p(e,t,n,r,i){var o=e.node,a=e.offset,s=o,l=a;o==r&&a>i&&++l,o!=t||a!=n&&a!=n+1||(s=r,l+=i-n),o==t&&a>n+1&&--l,e.node=s,e.offset=l}function g(e,t,n){e.node==t&&e.offset>n&&--e.offset}function m(e,t,n,r){
-1==n&&(n=t.childNodes.length);var i=e.parentNode,o=I.getNodeIndex(e);j(r,function(e){p(e,i,o,t,n)}),t.childNodes.length==n?t.appendChild(e):t.insertBefore(e,t.childNodes[n])}function v(e,t){var n=e.parentNode,r=I.getNodeIndex(e);j(t,function(e){g(e,n,r)}),I.removeNode(e)}function y(e,t,n,r,i){for(var o,a=[];o=e.firstChild;)m(o,t,n++,i),a.push(o);return r&&v(e,i),a}function b(e,t){return y(e,e.parentNode,I.getNodeIndex(e),!0,t)}function w(e,t){var n=e.cloneRange();n.selectNodeContents(t);var r=n.intersection(e);return""!=(r?r.toString():"")}function x(e){for(var t,n=e.getNodes([3]),r=0;(t=n[r])&&!w(e,t);)++r;for(var i=n.length-1;(t=n[i])&&!w(e,t);)--i;return n.slice(r,i+1)}function S(e,t){if(e.attributes.length!=t.attributes.length)return!1;for(var n,r,i,o=0,a=e.attributes.length;o<a;++o)if(n=e.attributes[o],"class"!=(i=n.name)){if(r=t.attributes.getNamedItem(i),null===n!=(null===r))return!1;if(n.specified!=r.specified)return!1;if(n.specified&&n.nodeValue!==r.nodeValue)return!1}return!0}function $(e,t){for(var n,r=0,i=e.attributes.length;r<i;++r)if(n=e.attributes[r].name,(!t||!B(t,n))&&e.attributes[r].specified&&"class"!=n)return!0;return!1}function C(e){var t;return e&&1==e.nodeType&&((t=e.parentNode)&&9==t.nodeType&&"on"==t.designMode||V(e)&&!V(e.parentNode))}function A(e){return(V(e)||1!=e.nodeType&&V(e.parentNode))&&!C(e)}function k(e){return e&&1==e.nodeType&&!q.test(W(e,"display"))}function _(e){if(0==e.data.length)return!0;if(Y.test(e.data))return!1;switch(W(e.parentNode,"whiteSpace")){case"pre":case"pre-wrap":case"-moz-pre-wrap":return!1;case"pre-line":if(/[\r\n]/.test(e.data))return!1}return k(e.previousSibling)||k(e.nextSibling)}function T(e){var t,n,r=[];for(t=0;n=e[t++];)r.push(new z(n.startContainer,n.startOffset),new z(n.endContainer,n.endOffset));return r}function E(e,t){for(var n,r,i,o=0,a=e.length;o<a;++o)n=e[o],r=t[2*o],i=t[2*o+1],n.setStartAndEnd(r.node,r.offset,i.node,i.offset)}function M(e,t){return I.isCharacterDataNode(e)?0==t?!!e.previousSibling:t!=e.length||!!e.nextSibling:t>0&&t<e.childNodes.length}function D(e,n,r,i){var o,a,s=0==r;if(I.isAncestorOf(n,e))return e;if(I.isCharacterDataNode(n)){var l=I.getNodeIndex(n);if(0==r)r=l;else{if(r!=n.length)throw t.createError("splitNodeAt() should not be called with offset in the middle of a data node ("+r+" in "+n.data);r=l+1}n=n.parentNode}if(M(n,r)){o=n.cloneNode(!1),a=n.parentNode,o.id&&o.removeAttribute("id");for(var u,c=0;u=n.childNodes[r];)m(u,o,c++,i);return m(o,a,I.getNodeIndex(n)+1,i),n==e?o:D(e,a,I.getNodeIndex(o),i)}if(e!=n){o=n.parentNode;var f=I.getNodeIndex(n);return s||f++,D(e,o,f,i)}return e}function P(e,t){return e.namespaceURI==t.namespaceURI&&e.tagName.toLowerCase()==t.tagName.toLowerCase()&&f(e,t)&&S(e,t)&&"inline"==W(e,"display")&&"inline"==W(t,"display")}function R(e){var t=e?"nextSibling":"previousSibling";return function(n,r){var i=n.parentNode,o=n[t];if(o){if(o&&3==o.nodeType)return o}else if(r&&(o=i[t])&&1==o.nodeType&&P(i,o)){var a=o[e?"firstChild":"lastChild"];if(a&&3==a.nodeType)return a}return null}}function O(e){this.isElementMerge=1==e.nodeType,this.textNodes=[];var t=this.isElementMerge?e.lastChild:e;t&&(this.textNodes[0]=t)}function N(e,t,i){var o,a,s,l,c=this;c.cssClass=c.className=e;var f=null,h={};if("object"==typeof t&&null!==t){for(void 0!==t.elementTagName&&(t.elementTagName=t.elementTagName.toLowerCase()),i=t.tagNames,f=t.elementProperties,h=t.elementAttributes,a=0;l=K[a++];)t.hasOwnProperty(l)&&(c[l]=t[l]);o=t.normalize}else o=t;c.normalize=void 0===o||o,c.attrExceptions=[];var d=document.createElement(c.elementTagName);c.elementProperties=c.copyPropertiesToElement(f,d,!0),n(h,function(e,t){c.attrExceptions.push(e),h[e]=""+t}),c.elementAttributes=h,c.elementSortedClassName=c.elementProperties.hasOwnProperty("className")?u(c.elementProperties.className+" "+e):e,c.applyToAnyTagName=!1;var p=typeof i;if("string"==p)"*"==i?c.applyToAnyTagName=!0:c.tagNames=r(i.toLowerCase()).split(/\s*,\s*/);else if("object"==p&&"number"==typeof i.length)for(c.tagNames=[],a=0,s=i.length;a<s;++a)"*"==i[a]?c.applyToAnyTagName=!0:c.tagNames.push(i[a].toLowerCase());else c.tagNames=[c.elementTagName]}function L(e,t,n){return new N(e,t,n)}var I=e.dom,z=I.DomPosition,B=I.arrayContains,F=e.util,j=F.forEach,H=F.isHostMethod(document,"createElementNS"),U=function(){function e(e,t,n){return t&&n?" ":""}return function(t,n){if("object"==typeof t.classList)t.classList.remove(n);else{var r="string"==typeof t.className,i=r?t.className:t.getAttribute("class");i=i.replace(new RegExp("(^|\\s)"+n+"(\\s|$)"),e),r?t.className=i:t.setAttribute("class",i)}}}(),W=I.getComputedStyleProperty,V=function(){return"boolean"==typeof document.createElement("div").isContentEditable?function(e){return e&&1==e.nodeType&&e.isContentEditable}:function(e){return!(!e||1!=e.nodeType||"false"==e.contentEditable)&&("true"==e.contentEditable||V(e.parentNode))}}(),q=/^inline(-block|-table)?$/i,Y=/[^\r\n\t\f \u200B]/,G=R(!1),X=R(!0);O.prototype={doMerge:function(e){var t=this.textNodes,n=t[0];if(t.length>1){var r,i=I.getNodeIndex(n),o=[],a=0;j(t,function(t,s){r=t.parentNode,s>0&&(r.removeChild(t),r.hasChildNodes()||I.removeNode(r),e&&j(e,function(e){e.node==t&&(e.node=n,e.offset+=a),e.node==r&&e.offset>i&&--e.offset==i+1&&s<len-1&&(e.node=n,e.offset=a)})),o[s]=t.data,a+=t.data.length}),n.data=o.join("")}return n.data},getLength:function(){for(var e=this.textNodes.length,t=0;e--;)t+=this.textNodes[e].length;return t},toString:function(){var e=[];return j(this.textNodes,function(t,n){e[n]="'"+t.data+"'"}),"[Merge("+e.join(",")+")]"}};var K=["elementTagName","ignoreWhiteSpace","applyToEditableOnly","useExistingElements","removeEmptyElements","onElementCreate"],Z={};N.prototype={elementTagName:"span",elementProperties:{},elementAttributes:{},ignoreWhiteSpace:!0,applyToEditableOnly:!1,useExistingElements:!0,removeEmptyElements:!0,onElementCreate:null,copyPropertiesToElement:function(e,t,n){var r,i,o,a,l,c,f={};for(var h in e)if(e.hasOwnProperty(h))if(a=e[h],l=t[h],"className"==h)s(t,a),s(t,this.className),t[h]=u(t[h]),n&&(f[h]=a);else if("style"==h){i=l,n&&(f[h]=o={});for(r in e[h])e[h].hasOwnProperty(r)&&(i[r]=a[r],n&&(o[r]=i[r]));this.attrExceptions.push(h)}else t[h]=a,n&&(f[h]=t[h],c=Z.hasOwnProperty(h)?Z[h]:h,this.attrExceptions.push(c));return n?f:""},copyAttributesToElement:function(e,t){for(var n in e)e.hasOwnProperty(n)&&!/^class(?:Name)?$/i.test(n)&&t.setAttribute(n,e[n])},appliesToElement:function(e){return B(this.tagNames,e.tagName.toLowerCase())},getEmptyElements:function(e){var t=this;return e.getNodes([1],function(e){return t.appliesToElement(e)&&!e.hasChildNodes()})},hasClass:function(e){return 1==e.nodeType&&(this.applyToAnyTagName||this.appliesToElement(e))&&a(e,this.className)},getSelfOrAncestorWithClass:function(e){for(;e;){if(this.hasClass(e))return e;e=e.parentNode}return null},isModifiable:function(e){return!this.applyToEditableOnly||A(e)},isIgnorableWhiteSpaceNode:function(e){return this.ignoreWhiteSpace&&e&&3==e.nodeType&&_(e)},postApply:function(e,t,n,r){var o,a,s=e[0],l=e[e.length-1],u=[],c=s,f=l,h=0,d=l.length;j(e,function(e){a=G(e,!r),a?(o||(o=new O(a),u.push(o)),o.textNodes.push(e),e===s&&(c=o.textNodes[0],h=c.length),e===l&&(f=o.textNodes[0],d=o.getLength())):o=null});var p=X(l,!r);if(p&&(o||(o=new O(l),u.push(o)),o.textNodes.push(p)),u.length){for(i=0,len=u.length;i<len;++i)u[i].doMerge(n);t.setStartAndEnd(c,h,f,d)}},createContainer:function(e){var t,n=I.getDocument(e),r=H&&!I.isHtmlNamespace(e)&&(t=e.namespaceURI)?n.createElementNS(e.namespaceURI,this.elementTagName):n.createElement(this.elementTagName);return this.copyPropertiesToElement(this.elementProperties,r,!1),this.copyAttributesToElement(this.elementAttributes,r),s(r,this.className),this.onElementCreate&&this.onElementCreate(r,this),r},elementHasProperties:function(e,t){var r=this;return n(t,function(t,n){if("className"==t)return h(e,n);if("object"==typeof n){if(!r.elementHasProperties(e[t],n))return!1}else if(e[t]!==n)return!1})},elementHasAttributes:function(e,t){return n(t,function(t,n){if(e.getAttribute(t)!==n)return!1})},applyToTextNode:function(e,t){if(d(e)){var n=e.parentNode;if(1==n.childNodes.length&&this.useExistingElements&&this.appliesToElement(n)&&this.elementHasProperties(n,this.elementProperties)&&this.elementHasAttributes(n,this.elementAttributes))s(n,this.className);else{var r=e.parentNode,i=this.createContainer(r);r.insertBefore(i,e),i.appendChild(e)}}},isRemovable:function(e){return e.tagName.toLowerCase()==this.elementTagName&&c(e)==this.elementSortedClassName&&this.elementHasProperties(e,this.elementProperties)&&!$(e,this.attrExceptions)&&this.elementHasAttributes(e,this.elementAttributes)&&this.isModifiable(e)},isEmptyContainer:function(e){var t=e.childNodes.length;return 1==e.nodeType&&this.isRemovable(e)&&(0==t||1==t&&this.isEmptyContainer(e.firstChild))},removeEmptyContainers:function(e){var t=this,n=e.getNodes([1],function(e){return t.isEmptyContainer(e)}),r=[e],i=T(r);j(n,function(e){v(e,i)}),E(r,i)},undoToTextNode:function(e,t,n,r){if(!t.containsNode(n)){var i=t.cloneRange();i.selectNode(n),i.isPointInRange(t.endContainer,t.endOffset)&&(D(n,t.endContainer,t.endOffset,r),t.setEndAfter(n)),i.isPointInRange(t.startContainer,t.startOffset)&&(n=D(n,t.startContainer,t.startOffset,r))}this.isRemovable(n)?b(n,r):U(n,this.className)},splitAncestorWithClass:function(e,t,n){var r=this.getSelfOrAncestorWithClass(e);r&&D(r,e,t,n)},undoToAncestor:function(e,t){this.isRemovable(e)?b(e,t):U(e,this.className)},applyToRange:function(e,t){var n=this;t=t||[];var r=T(t||[]);e.splitBoundariesPreservingPositions(r),n.removeEmptyElements&&n.removeEmptyContainers(e);var i=x(e);if(i.length){j(i,function(e){n.isIgnorableWhiteSpaceNode(e)||n.getSelfOrAncestorWithClass(e)||!n.isModifiable(e)||n.applyToTextNode(e,r)});var o=i[i.length-1];e.setStartAndEnd(i[0],0,o,o.length),n.normalize&&n.postApply(i,e,r,!1),E(t,r)}var a=n.getEmptyElements(e);j(a,function(e){s(e,n.className)})},applyToRanges:function(e){for(var t=e.length;t--;)this.applyToRange(e[t],e);return e},applyToSelection:function(t){var n=e.getSelection(t);n.setRanges(this.applyToRanges(n.getAllRanges()))},undoToRange:function(e,t){var n=this;t=t||[];var r=T(t);e.splitBoundariesPreservingPositions(r),n.removeEmptyElements&&n.removeEmptyContainers(e,r);var i,o,a=x(e),s=a[a.length-1];if(a.length){n.splitAncestorWithClass(e.endContainer,e.endOffset,r),n.splitAncestorWithClass(e.startContainer,e.startOffset,r);for(var l=0,u=a.length;l<u;++l)i=a[l],(o=n.getSelfOrAncestorWithClass(i))&&n.isModifiable(i)&&n.undoToAncestor(o,r);e.setStartAndEnd(a[0],0,s,s.length),n.normalize&&n.postApply(a,e,r,!0),E(t,r)}var c=n.getEmptyElements(e);j(c,function(e){U(e,n.className)})},undoToRanges:function(e){for(var t=e.length;t--;)this.undoToRange(e[t],e);return e},undoToSelection:function(t){var n=e.getSelection(t),r=e.getSelection(t).getAllRanges();this.undoToRanges(r),n.setRanges(r)},isAppliedToRange:function(e){if(e.collapsed||""==e.toString())return!!this.getSelfOrAncestorWithClass(e.commonAncestorContainer);var t=e.getNodes([3]);if(t.length)for(var n,r=0;n=t[r++];)if(!this.isIgnorableWhiteSpaceNode(n)&&w(e,n)&&this.isModifiable(n)&&!this.getSelfOrAncestorWithClass(n))return!1;return!0},isAppliedToRanges:function(e){var t=e.length;if(0==t)return!1;for(;t--;)if(!this.isAppliedToRange(e[t]))return!1;return!0},isAppliedToSelection:function(t){var n=e.getSelection(t);return this.isAppliedToRanges(n.getAllRanges())},toggleRange:function(e){this.isAppliedToRange(e)?this.undoToRange(e):this.applyToRange(e)},toggleSelection:function(e){this.isAppliedToSelection(e)?this.undoToSelection(e):this.applyToSelection(e)},getElementsWithClassIntersectingRange:function(e){var t=[],n=this;return e.getNodes([3],function(e){var r=n.getSelfOrAncestorWithClass(e);r&&!B(t,r)&&t.push(r)}),t},detach:function(){}},N.util={hasClass:a,addClass:s,removeClass:U,getClass:l,hasSameClasses:f,hasAllClasses:h,replaceWithOwnChildren:b,elementsHaveSameNonClassAttributes:S,elementHasNonClassAttributes:$,splitNodeAt:D,isEditableElement:V,isEditingHost:C,isEditable:A},e.CssClassApplier=e.ClassApplier=N,e.createClassApplier=L,F.createAliasForDeprecatedMethod(e,"createCssClassApplier","createClassApplier",t)}),e},this),function(e,t){"function"==typeof define&&define.amd?define(["./rangy-core"],e):"undefined"!=typeof module&&"object"==typeof exports?module.exports=e(require("rangy")):e(t.rangy)}(function(e){return e.createModule("Highlighter",["ClassApplier"],function(e,t){function n(e,t){return e.characterRange.start-t.characterRange.start}function r(e,t){return t?e.getElementById(t):h(e)}function i(e,t){this.type=e,this.converterCreator=t}function o(e,t){m[e]=new i(e,t)}function a(e){var t=m[e];if(t instanceof i)return t.create();throw new Error("Highlighter type '"+e+"' is not valid")}function s(e,t){this.start=e,this.end=t}function l(e,t,n,r,i,o){i?(this.id=i,g=Math.max(g,i+1)):this.id=g++,this.characterRange=t,this.doc=e,this.classApplier=n,this.converter=r,this.containerElementId=o||null,this.applied=!1}function u(e,t){t=t||"textContent",this.doc=e||document,this.classAppliers={},this.highlights=[],this.converter=a(t)}var c=e.dom,f=c.arrayContains,h=c.getBody,d=e.util.createOptions,p=e.util.forEach,g=1,m={};i.prototype.create=function(){var e=this.converterCreator();return e.type=this.type,e},e.registerHighlighterType=o,s.prototype={intersects:function(e){return this.start<e.end&&this.end>e.start},isContiguousWith:function(e){return this.start==e.end||this.end==e.start},union:function(e){return new s(Math.min(this.start,e.start),Math.max(this.end,e.end))},intersection:function(e){return new s(Math.max(this.start,e.start),Math.min(this.end,e.end))},getComplements:function(e){var t=[];if(this.start>=e.start){if(this.end<=e.end)return[];t.push(new s(e.end,this.end))}else t.push(new s(this.start,Math.min(this.end,e.start))),this.end>e.end&&t.push(new s(e.end,this.end));return t},toString:function(){return"[CharacterRange("+this.start+", "+this.end+")]"}},s.fromCharacterRange=function(e){return new s(e.start,e.end)};var v={rangeToCharacterRange:function(e,t){var n=e.getBookmark(t);return new s(n.start,n.end)},characterRangeToRange:function(t,n,r){var i=e.createRange(t);return i.moveToBookmark({start:n.start,end:n.end,containerNode:r}),i},serializeSelection:function(e,t){for(var n=e.getAllRanges(),r=n.length,i=[],o=1==r&&e.isBackward(),a=0,s=n.length;a<s;++a)i[a]={characterRange:this.rangeToCharacterRange(n[a],t),backward:o};return i},restoreSelection:function(e,t,n){e.removeAllRanges();for(var r,i,o=e.win.document,a=0,s=t.length;a<s;++a)i=t[a],i.characterRange,r=this.characterRangeToRange(o,i.characterRange,n),e.addRange(r,i.backward)}};o("textContent",function(){return v}),o("TextRange",function(){var t;return function(){if(!t){var n=e.modules.TextRange;if(!n)throw new Error("TextRange module is missing.");if(!n.supported)throw new Error("TextRange module is present but not supported.");t={rangeToCharacterRange:function(e,t){return s.fromCharacterRange(e.toCharacterRange(t))},characterRangeToRange:function(t,n,r){var i=e.createRange(t);return i.selectCharacters(r,n.start,n.end),i},serializeSelection:function(e,t){return e.saveCharacterRanges(t)},restoreSelection:function(e,t,n){e.restoreCharacterRanges(n,t)}}}return t}}()),l.prototype={getContainerElement:function(){return r(this.doc,this.containerElementId)},getRange:function(){return this.converter.characterRangeToRange(this.doc,this.characterRange,this.getContainerElement())},fromRange:function(e){this.characterRange=this.converter.rangeToCharacterRange(e,this.getContainerElement())},getText:function(){return this.getRange().toString()},containsElement:function(e){return this.getRange().containsNodeContents(e.firstChild)},unapply:function(){this.classApplier.undoToRange(this.getRange()),this.applied=!1},apply:function(){this.classApplier.applyToRange(this.getRange()),this.applied=!0},getHighlightElements:function(){return this.classApplier.getElementsWithClassIntersectingRange(this.getRange())},toString:function(){return"[Highlight(ID: "+this.id+", class: "+this.classApplier.className+", character range: "+this.characterRange.start+" - "+this.characterRange.end+")]"}},u.prototype={addClassApplier:function(e){this.classAppliers[e.className]=e},getHighlightForElement:function(e){for(var t=this.highlights,n=0,r=t.length;n<r;++n)if(t[n].containsElement(e))return t[n];return null},removeHighlights:function(e){for(var t,n=0,r=this.highlights.length;n<r;++n)t=this.highlights[n],f(e,t)&&(t.unapply(),this.highlights.splice(n--,1))},removeAllHighlights:function(){this.removeHighlights(this.highlights)},getIntersectingHighlights:function(e){var t=[],n=this.highlights;return p(e,function(e){p(n,function(n){e.intersectsRange(n.getRange())&&!f(t,n)&&t.push(n)})}),t},highlightCharacterRanges:function(t,n,r){var i,o,a,u=this.highlights,c=this.converter,f=this.doc,h=[],g=t?this.classAppliers[t]:null;r=d(r,{containerElementId:null,exclusive:!0});var m,v,y,b=r.containerElementId,w=r.exclusive;b&&(m=this.doc.getElementById(b))&&(v=e.createRange(this.doc),v.selectNodeContents(m),y=new s(0,v.toString().length));var x,S,$,C,A,k;for(i=0,o=n.length;i<o;++i)if(x=n[i],A=[],y&&(x=x.intersection(y)),x.start!=x.end){for(a=0;a<u.length;++a)$=!1,b==u[a].containerElementId&&(S=u[a].characterRange,C=g==u[a].classApplier,k=!C&&w,(S.intersects(x)||S.isContiguousWith(x))&&(C||k)&&(k&&p(S.getComplements(x),function(e){A.push(new l(f,e,u[a].classApplier,c,null,b))}),$=!0,C&&(x=S.union(x)))),$?(h.push(u[a]),u[a]=new l(f,S.union(x),g,c,null,b)):A.push(u[a]);g&&A.push(new l(f,x,g,c,null,b)),this.highlights=u=A}p(h,function(e){e.unapply()});var _=[];return p(u,function(e){e.applied||(e.apply(),_.push(e))}),_},highlightRanges:function(t,n,r){var i=[],o=this.converter;r=d(r,{containerElement:null,exclusive:!0});var a,s=r.containerElement,l=s?s.id:null;return s&&(a=e.createRange(s),a.selectNodeContents(s)),p(n,function(e){var t=s?a.intersection(e):e;i.push(o.rangeToCharacterRange(t,s||h(e.getDocument())))}),this.highlightCharacterRanges(t,i,{containerElementId:l,exclusive:r.exclusive})},highlightSelection:function(t,n){var i=this.converter,o=!!t&&this.classAppliers[t];n=d(n,{containerElementId:null,selection:e.getSelection(this.doc),exclusive:!0});var a=n.containerElementId,l=n.exclusive,u=n.selection,c=u.win.document,f=r(c,a);if(!o&&!1!==t)throw new Error("No class applier found for class '"+t+"'");var h=i.serializeSelection(u,f),g=[];p(h,function(e){g.push(s.fromCharacterRange(e.characterRange))});var m=this.highlightCharacterRanges(t,g,{containerElementId:a,exclusive:l});return i.restoreSelection(u,h,f),m},unhighlightSelection:function(t){t=t||e.getSelection(this.doc);var n=this.getIntersectingHighlights(t.getAllRanges());return this.removeHighlights(n),t.removeAllRanges(),n},getHighlightsInSelection:function(t){return t=t||e.getSelection(this.doc),this.getIntersectingHighlights(t.getAllRanges())},selectionOverlapsHighlight:function(e){return this.getHighlightsInSelection(e).length>0},serialize:function(e){var t,r,i,o,s=this,l=s.highlights;return l.sort(n),e=d(e,{serializeHighlightText:!1,type:s.converter.type}),t=e.type,i=t!=s.converter.type,i&&(o=a(t)),r=["type:"+t],p(l,function(t){var n,a=t.characterRange;i&&(n=t.getContainerElement(),a=o.rangeToCharacterRange(s.converter.characterRangeToRange(s.doc,a,n),n));var l=[a.start,a.end,t.id,t.classApplier.className,t.containerElementId];e.serializeHighlightText&&l.push(t.getText()),r.push(l.join("$"))}),r.join("|")},deserialize:function(e){var t,n,i,o=e.split("|"),u=[],c=o[0],f=!1;if(!c||!(t=/^type:(\w+)$/.exec(c)))throw new Error("Serialized highlights are invalid.");n=t[1],n!=this.converter.type&&(i=a(n),f=!0),o.shift();for(var h,d,p,g,m,v,y=o.length;y-- >0;){if(v=o[y].split("$"),p=new s(+v[0],+v[1]),g=v[4]||null,f&&(m=r(this.doc,g),p=this.converter.rangeToCharacterRange(i.characterRangeToRange(this.doc,p,m),m)),!(h=this.classAppliers[v[3]]))throw new Error("No class applier found for class '"+v[3]+"'");d=new l(this.doc,p,h,this.converter,parseInt(v[2]),g),d.apply(),u.push(d)}this.highlights=u}},e.Highlighter=u,e.createHighlighter=function(e,t){return new u(e,t)}}),e},this),function(e,t){"function"==typeof define&&define.amd?define(["./rangy-core"],e):"undefined"!=typeof module&&"object"==typeof exports?module.exports=e(require("rangy")):e(t.rangy)}(function(e){return e.createModule("SaveRestore",["WrappedRange"],function(e,t){function n(e,t){return(t||document).getElementById(e)}function r(e,t){var n,r="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),i=p.getDocument(e.startContainer),o=e.cloneRange();return o.collapse(t),n=i.createElement("span"),n.id=r,n.style.lineHeight="0",n.style.display="none",n.className="rangySelectionBoundary",n.appendChild(i.createTextNode(v)),o.insertNode(n),n}function i(e,r,i,o){var a=n(i,e);a?(r[o?"setStartBefore":"setEndBefore"](a),g(a)):t.warn("Marker element has been removed. Cannot restore selection.")}function o(e,t){return t.compareBoundaryPoints(e.START_TO_START,e)}function a(t,n){var i,o,a=e.DomRange.getRangeDocument(t),s=t.toString(),l=m(n);return t.collapsed?(o=r(t,!1),{document:a,markerId:o.id,collapsed:!0}):(o=r(t,!1),i=r(t,!0),{document:a,startMarkerId:i.id,endMarkerId:o.id,collapsed:!1,backward:l,toString:function(){return"original text: '"+s+"', new text: '"+t.toString()+"'"}})}function s(r,o){var a=r.document;void 0===o&&(o=!0);var s=e.createRange(a);if(r.collapsed){var l=n(r.markerId,a);if(l){l.style.display="inline";var u=l.previousSibling;u&&3==u.nodeType?(g(l),s.collapseToPoint(u,u.length)):(s.collapseBefore(l),g(l))}else t.warn("Marker element has been removed. Cannot restore selection.")}else i(a,s,r.startMarkerId,!0),i(a,s,r.endMarkerId,!1);return o&&s.normalizeBoundaries(),s}function l(t,r){var i,s,l=[],u=m(r);t=t.slice(0),t.sort(o);for(var c=0,f=t.length;c<f;++c)l[c]=a(t[c],u);for(c=f-1;c>=0;--c)i=t[c],s=e.DomRange.getRangeDocument(i),i.collapsed?i.collapseAfter(n(l[c].markerId,s)):(i.setEndBefore(n(l[c].endMarkerId,s)),i.setStartAfter(n(l[c].startMarkerId,s)));return l}function u(n){if(!e.isSelectionValid(n))return t.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),null;var r=e.getSelection(n),i=r.getAllRanges(),o=1==i.length&&r.isBackward(),a=l(i,o);return o?r.setSingleRange(i[0],o):r.setRanges(i),{win:n,rangeInfos:a,restored:!1}}function c(e){for(var t=[],n=e.length,r=n-1;r>=0;r--)t[r]=s(e[r],!0);return t}function f(t,n){if(!t.restored){var r=t.rangeInfos,i=e.getSelection(t.win),o=c(r);1==r.length&&n&&e.features.selectionHasExtend&&r[0].backward?(i.removeAllRanges(),i.addRange(o[0],!0)):i.setRanges(o),t.restored=!0}}function h(e,t){var r=n(t,e);r&&g(r)}function d(e){for(var t,n=e.rangeInfos,r=0,i=n.length;r<i;++r)t=n[r],t.collapsed?h(e.doc,t.markerId):(h(e.doc,t.startMarkerId),h(e.doc,t.endMarkerId))}var p=e.dom,g=p.removeNode,m=e.Selection.isDirectionBackward,v="\ufeff";e.util.extend(e,{saveRange:a,restoreRange:s,saveRanges:l,restoreRanges:c,saveSelection:u,restoreSelection:f,removeMarkerElement:h,removeMarkers:d})}),e},this),function(e,t){"function"==typeof define&&define.amd?define(["./rangy-core"],e):"undefined"!=typeof module&&"object"==typeof exports?module.exports=e(require("rangy")):e(t.rangy)}(function(e){return e.createModule("Serializer",["WrappedSelection"],function(e,t){function n(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function r(e,t){t=t||[];var i=e.nodeType,o=e.childNodes,a=o.length,s=[i,e.nodeName,a].join(":"),l="",u="";switch(i){case 3:l=n(e.nodeValue);break;case 8:l="\x3c!--"+n(e.nodeValue)+"--\x3e";break;default:l="<"+s+">",u="</>"}l&&t.push(l);for(var c=0;c<a;++c)r(o[c],t);return u&&t.push(u),t}function i(e){var t=r(e).join("");return v(t).toString(16)}function o(e,t,n){var r=[],i=e;for(n=n||y.getDocument(e).documentElement;i&&i!=n;)r.push(y.getNodeIndex(i,!0)),i=i.parentNode;return r.join("/")+":"+t}function a(e,n,r){n||(n=(r||document).documentElement);for(var i,o=e.split(":"),a=n,s=o[0]?o[0].split("/"):[],l=s.length;l--;){if(!((i=parseInt(s[l],10))<a.childNodes.length))throw t.createError("deserializePosition() failed: node "+y.inspectNode(a)+" has no child with index "+i+", "+l);a=a.childNodes[i]}return new y.DomPosition(a,parseInt(o[1],10))}function s(n,r,a){if(a=a||e.DomRange.getRangeDocument(n).documentElement,!y.isOrIsAncestorOf(a,n.commonAncestorContainer))throw t.createError("serializeRange(): range "+n.inspect()+" is not wholly contained within specified root node "+y.inspectNode(a));var s=o(n.startContainer,n.startOffset,a)+","+o(n.endContainer,n.endOffset,a);return r||(s+="{"+i(a)+"}"),s}function l(n,r,o){r?o=o||y.getDocument(r):(o=o||document,r=o.documentElement);var s=b.exec(n),l=s[4];if(l){var u=i(r);if(l!==u)throw t.createError("deserializeRange(): checksums of serialized range root node ("+l+") and target root node ("+u+") do not match")}var c=a(s[1],r,o),f=a(s[2],r,o),h=e.createRange(o);return h.setStartAndEnd(c.node,c.offset,f.node,f.offset),h}function u(e,t,n){t||(t=(n||document).documentElement);var r=b.exec(e),o=r[3];return!o||o===i(t)}function c(t,n,r){t=e.getSelection(t);for(var i=t.getAllRanges(),o=[],a=0,l=i.length;a<l;++a)o[a]=s(i[a],n,r);return o.join("|")}function f(t,n,r){n?r=r||y.getWindow(n):(r=r||window,n=r.document.documentElement);for(var i=t.split("|"),o=e.getSelection(r),a=[],s=0,u=i.length;s<u;++s)a[s]=l(i[s],n,r.document);return o.setRanges(a),o}function h(e,t,n){var r;t?r=n?n.document:y.getDocument(t):(n=n||window,t=n.document.documentElement);for(var i=e.split("|"),o=0,a=i.length;o<a;++o)if(!u(i[o],t,r))return!1;return!0}function d(e){for(var t,n,r=e.split(/[;,]/),i=0,o=r.length;i<o;++i)if(t=r[i].split("="),t[0].replace(/^\s+/,"")==w&&(n=t[1]))return decodeURIComponent(n.replace(/\s+$/,""));return null}function p(e){e=e||window;var t=d(e.document.cookie);t&&f(t,e.doc)}function g(t,n){t=t||window,n="object"==typeof n?n:{};var r=n.expires?";expires="+n.expires.toUTCString():"",i=n.path?";path="+n.path:"",o=n.domain?";domain="+n.domain:"",a=n.secure?";secure":"",s=c(e.getSelection(t));t.document.cookie=encodeURIComponent(w)+"="+encodeURIComponent(s)+r+i+o+a}var m=e.util;"undefined"!=typeof encodeURIComponent&&"undefined"!=typeof decodeURIComponent||t.fail("encodeURIComponent and/or decodeURIComponent method is missing");var v=function(){function e(e){for(var t,n=[],r=0,i=e.length;r<i;++r)t=e.charCodeAt(r),t<128?n.push(t):t<2048?n.push(t>>6|192,63&t|128):n.push(t>>12|224,t>>6&63|128,63&t|128);return n}function t(){for(var e,t,n=[],r=0;r<256;++r){for(t=r,e=8;e--;)1==(1&t)?t=t>>>1^3988292384:t>>>=1;n[r]=t>>>0}return n}function n(){return r||(r=t()),r}var r=null;return function(t){for(var r,i=e(t),o=-1,a=n(),s=0,l=i.length;s<l;++s)r=255&(o^i[s]),o=o>>>8^a[r];return(-1^o)>>>0}}(),y=e.dom,b=/^([^,]+),([^,\{]+)(\{([^}]+)\})?$/,w="rangySerializedSelection";m.extend(e,{serializePosition:o,deserializePosition:a,serializeRange:s,deserializeRange:l,canDeserializeRange:u,serializeSelection:c,deserializeSelection:f,canDeserializeSelection:h,restoreSelectionFromCookie:p,saveSelectionCookie:g,getElementChecksum:i,nodeToInfoString:r}),m.crc32=v}),e},this),function(e,t){"function"==typeof define&&define.amd?define(["./rangy-core"],e):"undefined"!=typeof module&&"object"==typeof exports?module.exports=e(require("rangy")):e(t.rangy)}(function(e){return e.createModule("TextRange",["WrappedSelection"],function(e,t){function n(e,t){function n(e,t,n){s.push({start:e,end:t,isWord:n})}for(var r,i,o,a=e.join(""),s=[],l=0;r=t.wordRegex.exec(a);){if(i=r.index,o=i+r[0].length,i>l&&n(l,i,!1),t.includeTrailingSpace)for(;K.test(e[o]);)++o;n(i,o,!0),l=o}return l<e.length&&n(l,e.length,!1),s}function r(e,t){for(var n=e.slice(t.start,t.end),r={isWord:t.isWord,chars:n,toString:function(){return n.join("")}},i=0,o=n.length;i<o;++i)n[i].token=r;return r}function i(e,t,n){for(var i,o=n(e,t),a=[],s=0;i=o[s++];)a.push(r(e,i));return a}function o(e){var t=e||"",n="string"==typeof t?t.split(""):t;return n.sort(function(e,t){return e.charCodeAt(0)-t.charCodeAt(0)}),n.join("").replace(/(.)\1+/g,"$1")}function a(e){var t,n;return e?(t=e.language||Z,n={},q(n,oe[t]||oe[Z]),q(n,e),n):oe[Z]}function s(e,t){var n=Y(e,t);return t.hasOwnProperty("wordOptions")&&(n.wordOptions=a(n.wordOptions)),t.hasOwnProperty("characterOptions")&&(n.characterOptions=Y(n.characterOptions,re)),n}function l(e,t){var n=ce(e,"display",t),r=e.tagName.toLowerCase();return"block"==n&&ne&&fe.hasOwnProperty(r)?fe[r]:n}function u(e){for(var t=p(e),n=0,r=t.length;n<r;++n)if(1==t[n].nodeType&&"none"==l(t[n]))return!0;return!1}function c(e){var t;return 3==e.nodeType&&(t=e.parentNode)&&"hidden"==ce(t,"visibility")}function f(e){return e&&(1==e.nodeType&&!/^(inline(-block|-table)?|none)$/.test(l(e))||9==e.nodeType||11==e.nodeType)}function h(e){return W.isCharacterDataNode(e)||!/^(area|base|basefont|br|col|frame|hr|img|input|isindex|link|meta|param)$/i.test(e.nodeName)}function d(e){for(var t=[];e.parentNode;)t.unshift(e.parentNode),e=e.parentNode;return t}function p(e){return d(e).concat([e])}function g(e){for(;e&&!e.nextSibling;)e=e.parentNode;return e?e.nextSibling:null}function m(e,t){return!t&&e.hasChildNodes()?e.firstChild:g(e)}function v(e){var t=e.previousSibling;if(t){for(e=t;e.hasChildNodes();)e=e.lastChild;return e}var n=e.parentNode;return n&&1==n.nodeType?n:null}function y(e){if(!e||3!=e.nodeType)return!1;var t=e.data;if(""===t)return!0;var n=e.parentNode;if(!n||1!=n.nodeType)return!1;var r=ce(e.parentNode,"whiteSpace");return/^[\t\n\r ]+$/.test(t)&&/^(normal|nowrap)$/.test(r)||/^[\t\r ]+$/.test(t)&&"pre-line"==r}function b(e){return""===e.data||!!y(e)&&(!e.parentNode||!!u(e))}function w(e){var t=e.nodeType;return 7==t||8==t||u(e)||/^(script|style)$/i.test(e.nodeName)||c(e)||b(e)}function x(e,t){var n=e.nodeType;return 7==n||8==n||1==n&&"none"==l(e,t)}function S(){this.store={}}function $(e,t,n){return function(r){var i=this.cache;if(i.hasOwnProperty(e))return he++,i[e];de++;var o=t.call(this,n?this[n]:this,r);return i[e]=o,o}}function C(e,t){this.node=e,this.session=t,this.cache=new S,this.positions=new S}function A(e,t){this.offset=t,this.nodeWrapper=e,this.node=e.node,this.session=e.session,this.cache=new S}function k(){return"[Position("+W.inspectNode(this.node)+":"+this.offset+")]"}function _(){return E(),me=new ve}function T(){return me||_()}function E(){me&&me.detach(),me=null}function M(e,n,r,i){function o(){var e=null;return n?(e=s,l||(s=s.previousVisible(),l=!s||r&&s.equals(r))):l||(e=s=s.nextVisible(),l=!s||r&&s.equals(r)),l&&(s=null),e}r&&(n?w(r.node)&&(r=e.previousVisible()):w(r.node)&&(r=r.nextVisible()));var a,s=e,l=!1,u=!1;return{next:function(){if(u)return u=!1,a;for(var e;e=o();)if(e.getCharacter(i))return a=e,e;return null},rewind:function(){if(!a)throw t.createError("createCharacterIterator: cannot rewind. Only one position can be rewound.");u=!0},dispose:function(){e=r=null}}}function D(e,t,n){function r(e){for(var t,n,r=[],i=e?o:a,s=!1,l=!1;t=i.next();){if(n=t.character,X.test(n))l&&(l=!1,s=!0);else{if(s){i.rewind();break}l=!0}r.push(t)}return r}var o=M(e,!1,null,t),a=M(e,!0,null,t),s=n.tokenizer,l=r(!0),u=r(!1).reverse(),c=i(u.concat(l),n,s),f=l.length?c.slice(ye(c,l[0].token)):[],h=u.length?c.slice(0,ye(c,u.pop().token)+1):[];return{nextEndToken:function(){for(var e,t;1==f.length&&!(e=f[0]).isWord&&(t=r(!0)).length>0;)f=i(e.chars.concat(t),n,s);return f.shift()},previousStartToken:function(){for(var e,t;1==h.length&&!(e=h[0]).isWord&&(t=r(!1)).length>0;)h=i(t.reverse().concat(e.chars),n,s);return h.pop()},dispose:function(){o.dispose(),a.dispose(),f=h=null}}}function P(e,t,n,r,i){var o,a,s,l,u=0,c=e,f=Math.abs(n);if(0!==n){var h=n<0;switch(t){case H:for(a=M(e,h,null,r);(o=a.next())&&u<f;)++u,c=o;s=o,a.dispose();break;case U:for(var d=D(e,r,i),p=h?d.previousStartToken:d.nextEndToken;(l=p())&&u<f;)l.isWord&&(++u,
c=h?l.chars[0]:l.chars[l.chars.length-1]);break;default:throw new Error("movePositionBy: unit '"+t+"' not implemented")}h?(c=c.previousVisible(),u=-u):c&&c.isLeadingSpace&&!c.isTrailingSpace&&(t==U&&(a=M(e,!1,null,r),s=a.next(),a.dispose()),s&&(c=s.previousVisible()))}return{position:c,unitsMoved:u}}function R(e,t,n,r){var i=e.getRangeBoundaryPosition(t,!0),o=e.getRangeBoundaryPosition(t,!1);return M(r?o:i,!!r,r?i:o,n)}function O(e,t,n){for(var r,i=[],o=R(e,t,n);r=o.next();)i.push(r);return o.dispose(),i}function N(t,n,r){var i=e.createRange(t.node);return i.setStartAndEnd(t.node,t.offset,n.node,n.offset),!i.expand("word",{wordOptions:r})}function L(e,t,n,r,i){function o(e,t){var n=g[e].previousVisible(),r=g[t-1];return{startPos:n,endPos:r,valid:!i.wholeWordsOnly||N(n,r,i.wordOptions)}}for(var a,s,l,u,c,f,h=J(i.direction),d=M(e,h,e.session.getRangeBoundaryPosition(r,h),i.characterOptions),p="",g=[],m=null;a=d.next();)if(s=a.character,n||i.caseSensitive||(s=s.toLowerCase()),h?(g.unshift(a),p=s+p):(g.push(a),p+=s),n){if(c=t.exec(p))if(l=c.index,u=l+c[0].length,f){if(!h&&u<p.length||h&&l>0){m=o(l,u);break}}else f=!0}else if(-1!=(l=p.indexOf(t))){m=o(l,l+t.length);break}return f&&(m=o(l,u)),d.dispose(),m}function I(e){return function(){var t=!!me,n=T(),r=[n].concat(V.toArray(arguments)),i=e.apply(this,r);return t||E(),i}}function z(e,t){return I(function(n,r,i,o){typeof i==j&&(i=r,r=H),o=s(o,se);var a=e;t&&(a=i>=0,this.collapse(!a));var l=P(n.getRangeBoundaryPosition(this,a),r,i,o.characterOptions,o.wordOptions),u=l.position;return this[a?"setStart":"setEnd"](u.node,u.offset),l.unitsMoved})}function B(e){return I(function(t,n){n=Y(n,re);for(var r,i=R(t,this,n,!e),o=0;(r=i.next())&&X.test(r.character);)++o;i.dispose();var a=o>0;return a&&this[e?"moveStart":"moveEnd"]("character",e?o:-o,{characterOptions:n}),a})}function F(e){return I(function(t,n){var r=!1;return this.changeEachRange(function(t){r=t[e](n)||r}),r})}var j="undefined",H="character",U="word",W=e.dom,V=e.util,q=V.extend,Y=V.createOptions,G=W.getBody,X=/^[\t-\r \u0085\u00A0\u1680\u180E\u2000-\u200B\u2028\u2029\u202F\u205F\u3000]+$/,K=/^[\t \u00A0\u1680\u180E\u2000-\u200B\u202F\u205F\u3000]+$/,Z="en",J=e.Selection.isDirectionBackward,Q=!1,ee=!1,te=!1;!function(){var t=W.createTestElement(document,"<p>1 </p><p></p>",!0),n=t.firstChild,r=e.getSelection();r.collapse(n.lastChild,2),r.setStart(n.firstChild,0),Q=1==(""+r).length,t.innerHTML="1 <br />",r.collapse(t,2),r.setStart(t.firstChild,0),ee=1==(""+r).length,t.innerHTML="1 <p>1</p>",r.collapse(t,2),r.setStart(t.firstChild,0),te=1==(""+r).length,W.removeNode(t),r.removeAllRanges()}();var ne,re={includeBlockContentTrailingSpace:!0,includeSpaceBeforeBr:!0,includeSpaceBeforeBlock:!0,includePreLineTrailingSpace:!0,ignoreCharacters:""},ie={includeBlockContentTrailingSpace:!1,includeSpaceBeforeBr:!ee,includeSpaceBeforeBlock:!te,includePreLineTrailingSpace:!0},oe={en:{wordRegex:/[a-z0-9]+('[a-z0-9]+)*/gi,includeTrailingSpace:!1,tokenizer:n}},ae={caseSensitive:!1,withinRange:null,wholeWordsOnly:!1,wrap:!1,direction:"forward",wordOptions:null,characterOptions:null},se={wordOptions:null,characterOptions:null},le={wordOptions:null,characterOptions:null,trim:!1,trimStart:!0,trimEnd:!0},ue={wordOptions:null,characterOptions:null,direction:"forward"},ce=W.getComputedStyleProperty;!function(){var e=document.createElement("table"),t=G(document);t.appendChild(e),ne="block"==ce(e,"display"),t.removeChild(e)}();var fe={table:"table",caption:"table-caption",colgroup:"table-column-group",col:"table-column",thead:"table-header-group",tbody:"table-row-group",tfoot:"table-footer-group",tr:"table-row",td:"table-cell",th:"table-cell"};S.prototype={get:function(e){return this.store.hasOwnProperty(e)?this.store[e]:null},set:function(e,t){return this.store[e]=t}};var he=0,de=0,pe={getPosition:function(e){var t=this.positions;return t.get(e)||t.set(e,new A(this,e))},toString:function(){return"[NodeWrapper("+W.inspectNode(this.node)+")]"}};C.prototype=pe;q(pe,{isCharacterDataNode:$("isCharacterDataNode",W.isCharacterDataNode,"node"),getNodeIndex:$("nodeIndex",W.getNodeIndex,"node"),getLength:$("nodeLength",W.getNodeLength,"node"),containsPositions:$("containsPositions",h,"node"),isWhitespace:$("isWhitespace",y,"node"),isCollapsedWhitespace:$("isCollapsedWhitespace",b,"node"),getComputedDisplay:$("computedDisplay",l,"node"),isCollapsed:$("collapsed",w,"node"),isIgnored:$("ignored",x,"node"),next:$("nextPos",m,"node"),previous:$("previous",v,"node"),getTextNodeInfo:$("textNodeInfo",function(e){var t=null,n=!1,r=ce(e.parentNode,"whiteSpace"),i="pre-line"==r;return i?(t=/^[ \t\f\r]+$/,n=!0):"normal"!=r&&"nowrap"!=r||(t=/^[ \t\f\r\n]+$/,n=!0),{node:e,text:e.data,spaceRegex:t,collapseSpaces:n,preLine:i}},"node"),hasInnerText:$("hasInnerText",function(e,t){for(var n=this.session,r=n.getPosition(e.parentNode,this.getNodeIndex()+1),i=n.getPosition(e,0),o=t?r:i,a=t?i:r;o!==a;){if(o.prepopulateChar(),o.isDefinitelyNonEmpty())return!0;o=t?o.previousVisible():o.nextVisible()}return!1},"node"),isRenderedBlock:$("isRenderedBlock",function(e){for(var t=e.getElementsByTagName("br"),n=0,r=t.length;n<r;++n)if(!w(t[n]))return!0;return this.hasInnerText()},"node"),getTrailingSpace:$("trailingSpace",function(e){if("br"==e.tagName.toLowerCase())return"";switch(this.getComputedDisplay()){case"inline":for(var t=e.lastChild;t;){if(!x(t))return 1==t.nodeType?this.session.getNodeWrapper(t).getTrailingSpace():"";t=t.previousSibling}break;case"inline-block":case"inline-table":case"none":case"table-column":case"table-column-group":break;case"table-cell":return"\t";default:return this.isRenderedBlock(!0)?"\n":""}return""},"node"),getLeadingSpace:$("leadingSpace",function(e){switch(this.getComputedDisplay()){case"inline":case"inline-block":case"inline-table":case"none":case"table-column":case"table-column-group":case"table-cell":break;default:return this.isRenderedBlock(!1)?"\n":""}return""},"node")});var ge={character:"",characterType:"EMPTY",isBr:!1,prepopulateChar:function(){var e=this;if(!e.prepopulatedChar){var t=e.node,n=e.offset,r="",i="EMPTY",o=!1;if(n>0)if(3==t.nodeType){var a=t.data,s=a.charAt(n-1),l=e.nodeWrapper.getTextNodeInfo(),u=l.spaceRegex;l.collapseSpaces?u.test(s)?n>1&&u.test(a.charAt(n-2))||(l.preLine&&"\n"===a.charAt(n)?(r=" ",i="PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK"):(r=" ",i="COLLAPSIBLE_SPACE")):(r=s,i="NON_SPACE",o=!0):(r=s,i="UNCOLLAPSIBLE_SPACE",o=!0)}else{var c=t.childNodes[n-1];if(c&&1==c.nodeType&&!w(c)&&("br"==c.tagName.toLowerCase()?(r="\n",e.isBr=!0,i="COLLAPSIBLE_SPACE",o=!1):e.checkForTrailingSpace=!0),!r){var f=t.childNodes[n];f&&1==f.nodeType&&!w(f)&&(e.checkForLeadingSpace=!0)}}e.prepopulatedChar=!0,e.character=r,e.characterType=i,e.isCharInvariant=o}},isDefinitelyNonEmpty:function(){var e=this.characterType;return"NON_SPACE"==e||"UNCOLLAPSIBLE_SPACE"==e},resolveLeadingAndTrailingSpaces:function(){if(this.prepopulatedChar||this.prepopulateChar(),this.checkForTrailingSpace){var e=this.session.getNodeWrapper(this.node.childNodes[this.offset-1]).getTrailingSpace();e&&(this.isTrailingSpace=!0,this.character=e,this.characterType="COLLAPSIBLE_SPACE"),this.checkForTrailingSpace=!1}if(this.checkForLeadingSpace){var t=this.session.getNodeWrapper(this.node.childNodes[this.offset]).getLeadingSpace();t&&(this.isLeadingSpace=!0,this.character=t,this.characterType="COLLAPSIBLE_SPACE"),this.checkForLeadingSpace=!1}},getPrecedingUncollapsedPosition:function(e){for(var t=this;t=t.previousVisible();)if(""!==t.getCharacter(e))return t;return null},getCharacter:function(e){function t(){return h||(u=d.getPrecedingUncollapsedPosition(e),h=!0),u}this.resolveLeadingAndTrailingSpaces();var n=this.character,r=o(e.ignoreCharacters),i=""!==n&&r.indexOf(n)>-1;if(this.isCharInvariant)return i?"":n;var a=["character",e.includeSpaceBeforeBr,e.includeBlockContentTrailingSpace,e.includePreLineTrailingSpace,r].join("_"),s=this.cache.get(a);if(null!==s)return s;var l,u,c="",f="COLLAPSIBLE_SPACE"==this.characterType,h=!1,d=this;return f&&("INCLUDED_TRAILING_LINE_BREAK_AFTER_BR"==this.type?c="\n":" "==n&&(!t()||u.isTrailingSpace||"\n"==u.character||" "==u.character&&"COLLAPSIBLE_SPACE"==u.characterType)||("\n"==n&&this.isLeadingSpace?t()&&"\n"!=u.character&&(c="\n"):(l=this.nextUncollapsed())&&(l.isBr?this.type="TRAILING_SPACE_BEFORE_BR":l.isTrailingSpace&&"\n"==l.character?this.type="TRAILING_SPACE_IN_BLOCK":l.isLeadingSpace&&"\n"==l.character&&(this.type="TRAILING_SPACE_BEFORE_BLOCK"),"\n"==l.character?("TRAILING_SPACE_BEFORE_BR"!=this.type||e.includeSpaceBeforeBr)&&("TRAILING_SPACE_BEFORE_BLOCK"!=this.type||e.includeSpaceBeforeBlock)&&("TRAILING_SPACE_IN_BLOCK"==this.type&&l.isTrailingSpace&&!e.includeBlockContentTrailingSpace||("PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK"!=this.type||"NON_SPACE"!=l.type||e.includePreLineTrailingSpace)&&("\n"==n?l.isTrailingSpace?this.isTrailingSpace||this.isBr&&(l.type="TRAILING_LINE_BREAK_AFTER_BR",t()&&u.isLeadingSpace&&!u.isTrailingSpace&&"\n"==u.character?l.character="":l.type="INCLUDED_TRAILING_LINE_BREAK_AFTER_BR"):c="\n":" "==n&&(c=" "))):c=n))),r.indexOf(c)>-1&&(c=""),this.cache.set(a,c),c},equals:function(e){return!!e&&this.node===e.node&&this.offset===e.offset},inspect:k,toString:function(){return this.character}};A.prototype=ge,q(ge,{next:$("nextPos",function(e){var t=e.nodeWrapper,n=e.node,r=e.offset,i=t.session;if(!n)return null;var o,a,s;return r==t.getLength()?(o=n.parentNode,a=o?t.getNodeIndex()+1:0):t.isCharacterDataNode()?(o=n,a=r+1):(s=n.childNodes[r],i.getNodeWrapper(s).containsPositions()?(o=s,a=0):(o=n,a=r+1)),o?i.getPosition(o,a):null}),previous:$("previous",function(e){var t,n,r,i=e.nodeWrapper,o=e.node,a=e.offset,s=i.session;return 0==a?(t=o.parentNode,n=t?i.getNodeIndex():0):i.isCharacterDataNode()?(t=o,n=a-1):(r=o.childNodes[a-1],s.getNodeWrapper(r).containsPositions()?(t=r,n=W.getNodeLength(r)):(t=o,n=a-1)),t?s.getPosition(t,n):null}),nextVisible:$("nextVisible",function(e){var t=e.next();if(!t)return null;var n=t.nodeWrapper,r=t.node,i=t;return n.isCollapsed()&&(i=n.session.getPosition(r.parentNode,n.getNodeIndex()+1)),i}),nextUncollapsed:$("nextUncollapsed",function(e){for(var t=e;t=t.nextVisible();)if(t.resolveLeadingAndTrailingSpaces(),""!==t.character)return t;return null}),previousVisible:$("previousVisible",function(e){var t=e.previous();if(!t)return null;var n=t.nodeWrapper,r=t.node,i=t;return n.isCollapsed()&&(i=n.session.getPosition(r.parentNode,n.getNodeIndex())),i})});var me=null,ve=function(){function e(e){var t=new S;return{get:function(n){var r=t.get(n[e]);if(r)for(var i,o=0;i=r[o++];)if(i.node===n)return i;return null},set:function(n){var r=n.node[e];(t.get(r)||t.set(r,[])).push(n)}}}function t(){this.initCaches()}var n=V.isHostProperty(document.documentElement,"uniqueID");return t.prototype={initCaches:function(){this.elementCache=n?function(){var e=new S;return{get:function(t){return e.get(t.uniqueID)},set:function(t){e.set(t.node.uniqueID,t)}}}():e("tagName"),this.textNodeCache=e("data"),this.otherNodeCache=e("nodeName")},getNodeWrapper:function(e){var t;switch(e.nodeType){case 1:t=this.elementCache;break;case 3:t=this.textNodeCache;break;default:t=this.otherNodeCache}var n=t.get(e);return n||(n=new C(e,this),t.set(n)),n},getPosition:function(e,t){return this.getNodeWrapper(e).getPosition(t)},getRangeBoundaryPosition:function(e,t){var n=t?"start":"end";return this.getPosition(e[n+"Container"],e[n+"Offset"])},detach:function(){this.elementCache=this.textNodeCache=this.otherNodeCache=null}},t}();q(W,{nextNode:m,previousNode:v});var ye=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return n;return-1};q(e.rangePrototype,{moveStart:z(!0,!1),moveEnd:z(!1,!1),move:z(!0,!0),trimStart:B(!0),trimEnd:B(!1),trim:I(function(e,t){var n=this.trimStart(t),r=this.trimEnd(t);return n||r}),expand:I(function(e,t,n){var r=!1;n=s(n,le);var i=n.characterOptions;if(t||(t=H),t==U){var o,a,l=n.wordOptions,u=e.getRangeBoundaryPosition(this,!0),c=e.getRangeBoundaryPosition(this,!1),f=D(u,i,l),h=f.nextEndToken(),d=h.chars[0].previousVisible();if(this.collapsed)o=h;else{o=D(c,i,l).previousStartToken()}return a=o.chars[o.chars.length-1],d.equals(u)||(this.setStart(d.node,d.offset),r=!0),a&&!a.equals(c)&&(this.setEnd(a.node,a.offset),r=!0),n.trim&&(n.trimStart&&(r=this.trimStart(i)||r),n.trimEnd&&(r=this.trimEnd(i)||r)),r}return this.moveEnd(H,1,n)}),text:I(function(e,t){return this.collapsed?"":O(e,this,Y(t,re)).join("")}),selectCharacters:I(function(e,t,n,r,i){var o={characterOptions:i};t||(t=G(this.getDocument())),this.selectNodeContents(t),this.collapse(!0),this.moveStart("character",n,o),this.collapse(!0),this.moveEnd("character",r-n,o)}),toCharacterRange:I(function(e,t,n){t||(t=G(this.getDocument()));var r,i,o=t.parentNode,a=W.getNodeIndex(t),s=-1==W.comparePoints(this.startContainer,this.endContainer,o,a),l=this.cloneRange();return s?(l.setStartAndEnd(this.startContainer,this.startOffset,o,a),r=-l.text(n).length):(l.setStartAndEnd(o,a,this.startContainer,this.startOffset),r=l.text(n).length),i=r+this.text(n).length,{start:r,end:i}}),findText:I(function(t,n,r){r=s(r,ae),r.wholeWordsOnly&&(r.wordOptions.includeTrailingSpace=!1);var i=J(r.direction),o=r.withinRange;o||(o=e.createRange(),o.selectNodeContents(this.getDocument()));var a=n,l=!1;"string"==typeof a?r.caseSensitive||(a=a.toLowerCase()):l=!0;var u=t.getRangeBoundaryPosition(this,!i),c=o.comparePoint(u.node,u.offset);-1===c?u=t.getRangeBoundaryPosition(o,!0):1===c&&(u=t.getRangeBoundaryPosition(o,!1));for(var f,h=u,d=!1;;)if(f=L(h,a,l,o,r)){if(f.valid)return this.setStartAndEnd(f.startPos.node,f.startPos.offset,f.endPos.node,f.endPos.offset),!0;h=i?f.startPos:f.endPos}else{if(!r.wrap||d)return!1;o=o.cloneRange(),h=t.getRangeBoundaryPosition(o,!i),o.setBoundary(u.node,u.offset,i),d=!0}}),pasteHtml:function(e){if(this.deleteContents(),e){var t=this.createContextualFragment(e),n=t.lastChild;this.insertNode(t),this.collapseAfter(n)}}}),q(e.selectionPrototype,{expand:I(function(e,t,n){this.changeEachRange(function(e){e.expand(t,n)})}),move:I(function(e,t,n,r){var i=0;if(this.focusNode){this.collapse(this.focusNode,this.focusOffset);var o=this.getRangeAt(0);r||(r={}),r.characterOptions=Y(r.characterOptions,ie),i=o.move(t,n,r),this.setSingleRange(o)}return i}),trimStart:F("trimStart"),trimEnd:F("trimEnd"),trim:F("trim"),selectCharacters:I(function(t,n,r,i,o,a){var s=e.createRange(n);s.selectCharacters(n,r,i,a),this.setSingleRange(s,o)}),saveCharacterRanges:I(function(e,t,n){for(var r=this.getAllRanges(),i=r.length,o=[],a=1==i&&this.isBackward(),s=0,l=r.length;s<l;++s)o[s]={characterRange:r[s].toCharacterRange(t,n),backward:a,characterOptions:n};return o}),restoreCharacterRanges:I(function(t,n,r){this.removeAllRanges();for(var i,o,a,s=0,l=r.length;s<l;++s)o=r[s],a=o.characterRange,i=e.createRange(n),i.selectCharacters(n,a.start,a.end,o.characterOptions),this.addRange(i,o.backward)}),text:I(function(e,t){for(var n=[],r=0,i=this.rangeCount;r<i;++r)n[r]=this.getRangeAt(r).text(t);return n.join("")})}),e.innerText=function(t,n){var r=e.createRange(t);return r.selectNodeContents(t),r.text(n)},e.createWordIterator=function(e,t,n){var r=T();n=s(n,ue);var i=r.getPosition(e,t),o=D(i,n.characterOptions,n.wordOptions),a=J(n.direction);return{next:function(){return a?o.previousStartToken():o.nextEndToken()},dispose:function(){o.dispose(),this.next=function(){}}}},e.noMutation=function(e){e(T()),E()},e.noMutation.createEntryPointFunction=I,e.textRange={isBlockNode:f,isCollapsedWhitespaceNode:b,createPosition:I(function(e,t,n){return e.getPosition(t,n)})}}),e},this);var textAngularVersion="v1.5.16",_browserDetect={ie:function(){for(var e=3,t=document.createElement("div"),n=t.getElementsByTagName("i");t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e",n[0];);return e>4?e:void 0}(),webkit:/AppleWebKit\/([\d.]+)/i.test(navigator.userAgent),isFirefox:navigator.userAgent.toLowerCase().indexOf("firefox")>-1},performance=performance||{};performance.now=function(){return performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow||function(){return(new Date).getTime()}}();var BLOCKELEMENTS=/^(address|article|aside|audio|blockquote|canvas|center|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video)$/i,LISTELEMENTS=/^(ul|li|ol)$/i,VALIDELEMENTS=/^(#text|span|address|article|aside|audio|blockquote|canvas|center|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video|li)$/i;String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var sheet,addCSSRule,removeCSSRule,_addCSSRule,_removeCSSRule,_getRuleIndex;if(_browserDetect.ie>8||void 0===_browserDetect.ie){for(var _sheets=document.styleSheets,i=0;i<_sheets.length;i++)if((0===_sheets[i].media.length||_sheets[i].media.mediaText.match(/(all|screen)/gi))&&_sheets[i].href&&_sheets[i].href.match(/textangular\.(min\.|)css/gi)){sheet=_sheets[i];break}sheet||(sheet=function(){var e=document.createElement("style");return _browserDetect.webkit&&e.appendChild(document.createTextNode("")),document.getElementsByTagName("head")[0].appendChild(e),e.sheet}()),addCSSRule=function(e,t){return _addCSSRule(sheet,e,t)},_addCSSRule=function(e,t,n){var r,i;return e.cssRules?r=Math.max(e.cssRules.length-1,0):e.rules&&(r=Math.max(e.rules.length-1,0)),e.insertRule?e.insertRule(t+"{"+n+"}",r):e.addRule(t,n,r),sheet.rules?i=sheet.rules[r]:sheet.cssRules&&(i=sheet.cssRules[r]),i},_getRuleIndex=function(e,t){var n,r;for(n=0;n<t.length;n++)if(t[n].cssText===e.cssText){r=n;break}return r},removeCSSRule=function(e){_removeCSSRule(sheet,e)},_removeCSSRule=function(e,t){var n=e.cssRules||e.rules;if(n&&0!==n.length){var r=_getRuleIndex(t,n);e.removeRule?e.removeRule(r):e.deleteRule(r)}}}angular.module("textAngular.factories",[]).factory("taBrowserTag",[function(){return function(e){return e?""===e?void 0===_browserDetect.ie?"div":_browserDetect.ie<=8?"P":"p":_browserDetect.ie<=8?e.toUpperCase():e:_browserDetect.ie<=8?"P":"p"}}]).factory("taApplyCustomRenderers",["taCustomRenderers","taDOM",function(e,t){return function(n){var r=angular.element("<div></div>");return r[0].innerHTML=n,angular.forEach(e,function(e){var n=[];e.selector&&""!==e.selector?n=r.find(e.selector):e.customAttribute&&""!==e.customAttribute&&(n=t.getByAttribute(r,e.customAttribute)),angular.forEach(n,function(t){t=angular.element(t),e.selector&&""!==e.selector&&e.customAttribute&&""!==e.customAttribute?void 0!==t.attr(e.customAttribute)&&e.renderLogic(t):e.renderLogic(t)})}),r[0].innerHTML}}]).factory("taFixChrome",function(){return function(e,t){if(!e||!angular.isString(e)||e.length<=0)return e;for(var n,r,i,o=/style\s?=\s?(["'])(?:(?=(\\?))\2.)*?\1/gi,a=/<span class="Apple-converted-space">([^<]+)<\/span>/gi,s="",l=0;n=a.exec(e);)i=n[1],i=i.replace(/&nbsp;/gi," "),s+=e.substring(l,n.index)+i,l=n.index+n[0].length;if(l&&(s+=e.substring(l),e=s,s="",l=0),!t){for(;n=o.exec(e);)s+=e.substring(l,n.index-1),r=n[0],n=/font-family: inherit;|line-height: 1.[0-9]{3,12};|color: inherit; line-height: 1.1;|color: rgb\(\d{1,3}, \d{1,3}, \d{1,3}\);|background-color: rgb\(\d{1,3}, \d{1,3}, \d{1,3}\);/gi.exec(r),n?(r=r.replace(/( |)font-family: inherit;|( |)line-height: 1.[0-9]{3,12};|( |)color: inherit;|( |)color: rgb\(\d{1,3}, \d{1,3}, \d{1,3}\);|( |)background-color: rgb\(\d{1,3}, \d{1,3}, \d{1,3}\);/gi,""),r.length>8&&(s+=" "+r)):s+=" "+r,l=o.lastIndex;s+=e.substring(l)}if(l>0){return s.replace(/<span\s?>(.*?)<\/span>(<br(\/|)>|)/gi,"$1")}return e}}).factory("taSanitize",["$sanitize",function(e){function t(e,t){for(var n,r=0,i=0,o=/<[^>]*>/gi;n=o.exec(e);)if(i=n.index,"/"===n[0].substr(1,1)){if(0===r)break;r--}else r++;return t+e.substring(0,i)+angular.element(t)[0].outerHTML.substring(t.length)+e.substring(i)}function n(e){if(!e||!angular.isString(e)||e.length<=0)return e;for(var r,o,a,s,l,c,f=/<([^>\/]+?)style=("([^"]+)"|'([^']+)')([^>]*)>/gi,h="",d="",p=0;o=f.exec(e);){s=o[3]||o[4];var g=new RegExp(u,"i");if(angular.isString(s)&&g.test(s)){l="";for(var m=new RegExp(u,"ig");a=m.exec(s);)for(r=0;r<i.length;r++)a[2*r+2]&&(l+="<"+i[r].tag+">");c=n(e.substring(p,o.index)),h.length>0?d+=t(c,h):d+=c,s=s.replace(new RegExp(u,"ig"),""),d+="<"+o[1].trim(),s.length>0&&(d+=' style="'+s+'"'),d+=o[5]+">",p=o.index+o[0].length,h=l}}return h.length>0?d+=t(e.substring(p),h):d+=e.substring(p),d}function r(e){if(!e||!angular.isString(e)||e.length<=0)return e;for(var t,n=/<([^>\/]+?)align=("([^"]+)"|'([^']+)')([^>]*)>/gi,r="",i=0;t=n.exec(e);){r+=e.substring(i,t.index),i=t.index+t[0].length;var o="<"+t[1]+t[5];/style=("([^"]+)"|'([^']+)')/gi.test(o)?o=o.replace(/style=("([^"]+)"|'([^']+)')/i,'style="$2$3 text-align:'+(t[3]||t[4])+';"'):o+=' style="text-align:'+(t[3]||t[4])+';"',o+=">",r+=o}return r+e.substring(i)}for(var i=[{property:"font-weight",values:["bold"],tag:"b"},{property:"font-style",values:["italic"],tag:"i"}],o=[],a=0;a<i.length;a++){for(var s="("+i[a].property+":\\s*(",l=0;l<i[a].values.length;l++)l>0&&(s+="|"),s+=i[a].values[l];s+=");)",o.push(s)}var u="("+o.join("|")+")",c=new RegExp(/<span id="selectionBoundary_\d+_\d+" class="rangySelectionBoundary">[^<>]+?<\/span>/gi),f=new RegExp(/<span class="rangySelectionBoundary" id="selectionBoundary_\d+_\d+">[^<>]+?<\/span>/gi),h=new RegExp(/<span id="selectionBoundary_\d+_\d+" class="rangySelectionBoundary">[^<>]+?<\/span>/gi);return function(t,i,o){if(!o)try{t=n(t)}catch(e){}if(t=r(t))try{t=t.replace(c,""),t=t.replace(f,""),t=t.replace(c,""),t=t.replace(h,"")}catch(e){}var a;try{a=e(t),o&&(a=t)}catch(e){a=i||""}var s,l=a.match(/(<pre[^>]*>.*?<\/pre[^>]*>)/gi),u=a.replace(/(&#(9|10);)*/gi,""),d=/<pre[^>]*>.*?<\/pre[^>]*>/gi,p=0,g=0;for(a="";null!==(s=d.exec(u))&&p<l.length;)a+=u.substring(g,s.index)+l[p],g=s.index+s[0].length,p++;return a+u.substring(g)}}]).factory("taToolExecuteAction",["$q","$log",function(e,t){return function(n){void 0!==n&&(this.$editor=function(){return n});var r,i=e.defer(),o=i.promise,a=this.$editor();try{r=this.action(i,a.startAction()),o.finally(function(){a.endAction.call(a)})}catch(e){t.error(e)}(r||void 0===r)&&i.resolve()}}]),angular.module("textAngular.DOM",["textAngular.factories"]).factory("taExecCommand",["taSelection","taBrowserTag","$document",function(e,t,n){var r=function(t,n){var r,i,o=t.find("li");for(i=o.length-1;i>=0;i--)r=angular.element("<"+n+">"+o[i].innerHTML+"</"+n+">"),t.after(r);t.remove(),e.setSelectionToElementEnd(r[0])},i=function(n,r,i,o,a){var s,l,u,c,f,h=n.find("li");for(l=0;l<h.length;l++)if(h[l].outerHTML===r[0].outerHTML){f=l,l>0&&(u=h[l-1]),l+1<h.length&&(c=h[l+1]);break}var d="";if(o?d+="<"+a+">"+r[0].innerHTML+"</"+a+">":(d+="<"+t(i)+">",d+="<li>"+r[0].innerHTML+"</li>",d+="</"+t(i)+">"),s=angular.element(d),!u)return r.remove(),n.after(angular.element(n[0].outerHTML)),n.after(s),n.remove(),void e.setSelectionToElementEnd(s[0]);if(c){var p=(n.parent(),""),g=n[0].nodeName.toLowerCase();for(p+="<"+g+">",l=0;l<f;l++)p+="<li>"+h[l].innerHTML+"</li>";p+="</"+g+">";var m="";for(m+="<"+g+">",l=f+1;l<h.length;l++)m+="<li>"+h[l].innerHTML+"</li>";m+="</"+g+">",n.after(angular.element(m)),n.after(s),n.after(angular.element(p)),n.remove(),e.setSelectionToElementEnd(s[0])}else r.remove(),n.after(s),e.setSelectionToElementEnd(s[0])},o=function(n,r,i,o,a){var s,l,u,c,f,h=n.find("li"),d=[];for(l=0;l<h.length;l++)for(u=0;u<r.length;u++)h[l].isEqualNode(r[u])&&(d[u]=l);d[0]>0&&(c=h[d[0]-1]),d[r.length-1]+1<h.length&&(f=h[d[r.length-1]+1]);var p="";if(o)for(u=0;u<r.length;u++)p+="<"+a+">"+r[u].innerHTML+"</"+a+">",r[u].remove();else{for(p+="<"+t(i)+">",u=0;u<r.length;u++)p+=r[u].outerHTML,r[u].remove();p+="</"+t(i)+">"}if(s=angular.element(p),!c)return n.after(angular.element(n[0].outerHTML)),n.after(s),n.remove(),void e.setSelectionToElementEnd(s[0]);if(!f)return n.after(s),void e.setSelectionToElementEnd(s[0]);var g="",m=n[0].nodeName.toLowerCase();for(g+="<"+m+">",l=0;l<d[0];l++)g+="<li>"+h[l].innerHTML+"</li>";g+="</"+m+">";var v="";for(v+="<"+m+">",l=d[r.length-1]+1;l<h.length;l++)v+="<li>"+h[l].innerHTML+"</li>";v+="</"+m+">",n.after(angular.element(v)),n.after(s),n.after(angular.element(g)),n.remove(),e.setSelectionToElementEnd(s[0])},a=function(t){/(<br(|\/)>)$/i.test(t.innerHTML.trim())?e.setSelectionBeforeElement(angular.element(t).find("br")[0]):e.setSelectionToElementEnd(t)},s=function(e,t){var n=angular.element("<"+t+">"+e[0].innerHTML+"</"+t+">");e.after(n),e.remove(),a(n.find("li")[0])},l=function(e,n,r){for(var i="",o=0;o<e.length;o++)i+="<"+t("li")+">"+e[o].innerHTML+"</"+t("li")+">";var s=angular.element("<"+r+">"+i+"</"+r+">");n.after(s),n.remove(),a(s.find("li")[0])},u=function(e,t){for(var n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];r.tagName&&r.tagName.match(BLOCKELEMENTS)&&u(r,t)}if(null===e.parentNode)return e;if("<br>"===t)return e;var i=angular.element(t);return i[0].innerHTML=e.innerHTML,e.parentNode.insertBefore(i[0],e),e.parentNode.removeChild(e),i};return function(a,c){return a=t(a),function(f,h,d,p){var g,m,v,y,b,w,x,S,$=angular.element("<"+a+">");try{e.getSelection&&(S=e.getSelection()),x=e.getSelectionElement();var C,A;void 0!==x.tagName&&("div"===x.tagName.toLowerCase()&&/taTextElement.+/.test(x.id)&&S&&S.start&&1===S.start.offset&&1===S.end.offset?(C=x.innerHTML,/<br>/i.test(C)&&(C=C.replace(/<br>/i,"&#8203;")),/<br\/>/i.test(C)&&(C=C.replace(/<br\/>/i,"&#8203;")),/<span>(<span>)+/i.test(C)&&(C=__.replace(/<span>(<span>)+/i,"<span>")),/<\/span>(<\/span>)+/i.test(C)&&(C=__.replace(/<\/span>(<\/span>)+/i,"</span>")),/<span><\/span>/i.test(C)&&(C=C.replace(/<span><\/span>/i,"")),A="<div>"+C+"</div>",x.innerHTML=A,e.setSelectionToElementEnd(x.childNodes[0]),x=e.getSelectionElement()):"span"===x.tagName.toLowerCase()&&S&&S.start&&1===S.start.offset&&1===S.end.offset?(C=x.innerHTML,/<br>/i.test(C)&&(C=C.replace(/<br>/i,"&#8203;")),/<br\/>/i.test(C)&&(C=C.replace(/<br\/>/i,"&#8203;")),/<span>(<span>)+/i.test(C)&&(C=__.replace(/<span>(<span>)+/i,"<span>")),/<\/span>(<\/span>)+/i.test(C)&&(C=__.replace(/<\/span>(<\/span>)+/i,"</span>")),/<span><\/span>/i.test(C)&&(C=C.replace(/<span><\/span>/i,"")),A="<div>"+C+"</div>",x.innerHTML=A,e.setSelectionToElementEnd(x.childNodes[0]),x=e.getSelectionElement()):"p"===x.tagName.toLowerCase()&&S&&S.start&&1===S.start.offset&&1===S.end.offset?(C=x.innerHTML,/<br>/i.test(C)&&(C=C.replace(/<br>/i,"&#8203;"),x.innerHTML=C)):"li"===x.tagName.toLowerCase()&&S&&S.start&&S.start.offset===S.end.offset&&(C=x.innerHTML,/<br>/i.test(C)&&(C=C.replace(/<br>/i,""),x.innerHTML=C)))}catch(e){}if(x){var k=angular.element(x),_=x&&x.tagName&&x.tagName.toLowerCase()||"";if("insertorderedlist"===f.toLowerCase()||"insertunorderedlist"===f.toLowerCase()){var T=t("insertorderedlist"===f.toLowerCase()?"ol":"ul"),E=e.getOnlySelectedElements();if(E.length>1&&("ol"===_||"ul"===_))return o(k,E,T,T===_,a);if(_===T)return k[0].childNodes.length!==E.length&&1===E.length?(k=angular.element(E[0]),i(k.parent(),k,T,!0,a)):r(k,a);if("li"===_&&k.parent()[0].tagName.toLowerCase()===T&&1===k.parent().children().length)return r(k.parent(),a);if("li"===_&&k.parent()[0].tagName.toLowerCase()!==T&&1===k.parent().children().length)return s(k.parent(),T);if(_.match(BLOCKELEMENTS)&&!k.hasClass("ta-bind")){if(E.length&&k[0].childNodes.length!==E.length&&1===E.length)return k=angular.element(E[0]),i(k.parent(),k,T,T===_,a);if("ol"===_||"ul"===_)return s(k,T);var M=!1;return angular.forEach(k.children(),function(e){e.tagName.match(BLOCKELEMENTS)&&(M=!0)}),M?l(k.children(),k,T):l([angular.element("<div>"+x.innerHTML+"</div>")[0]],k,T)}if(_.match(BLOCKELEMENTS)){if(y=e.getOnlySelectedElements(),0===y.length)m=angular.element("<"+T+"><li>"+x.innerHTML+"</li></"+T+">"),k.html(""),k.append(m);else{if(1===y.length&&("ol"===y[0].tagName.toLowerCase()||"ul"===y[0].tagName.toLowerCase()))return y[0].tagName.toLowerCase()===T?r(angular.element(y[0]),a):s(angular.element(y[0]),T);v="";var D=[];for(g=0;g<y.length;g++)if(3!==y[g].nodeType){var P=angular.element(y[g]);if("li"===y[g].tagName.toLowerCase())continue;"ol"===y[g].tagName.toLowerCase()||"ul"===y[g].tagName.toLowerCase()?v+=P[0].innerHTML:"span"!==y[g].tagName.toLowerCase()||"ol"!==y[g].childNodes[0].tagName.toLowerCase()&&"ul"!==y[g].childNodes[0].tagName.toLowerCase()?v+="<"+t("li")+">"+P[0].innerHTML+"</"+t("li")+">":v+=P[0].childNodes[0].innerHTML,D.unshift(P)}m=angular.element("<"+T+">"+v+"</"+T+">"),D.pop().replaceWith(m),angular.forEach(D,function(e){e.remove()})}return void e.setSelectionToElementEnd(m[0])}}else{if("formatblock"===f.toLowerCase()){for(w=d.toLowerCase().replace(/[<>]/gi,""),"default"===w.trim()&&(w=a,d="<"+a+">"),m="li"===_?k.parent():k;!m[0].tagName||!m[0].tagName.match(BLOCKELEMENTS)&&!m.parent().attr("contenteditable");)m=m.parent(),_=(m[0].tagName||"").toLowerCase();if(_===w){y=m.children();var R=!1;for(g=0;g<y.length;g++)R=R||y[g].tagName.match(BLOCKELEMENTS);R?(m.after(y),b=m.next(),m.remove(),m=b):($.append(m[0].childNodes),m.after($),m.remove(),m=$)}else if(m.parent()[0].tagName.toLowerCase()!==w||m.parent().hasClass("ta-bind"))if(_.match(LISTELEMENTS))m.wrap(d);else{for(y=e.getOnlySelectedElements(),0===y.length&&(y=[m[0]]),g=0;g<y.length;g++)if(3===y[g].nodeType||!y[g].tagName.match(BLOCKELEMENTS))for(;3===y[g].nodeType||!y[g].tagName||!y[g].tagName.match(BLOCKELEMENTS);)y[g]=y[g].parentNode;if(y=y.filter(function(e,t,n){return n.indexOf(e)===t}),y.length>1&&(y=y.filter(function(e,t,n){return!("div"===e.nodeName.toLowerCase()&&/^taTextElement/.test(e.id))})),angular.element(y[0]).hasClass("ta-bind"))m=angular.element(d),m[0].innerHTML=y[0].innerHTML,y[0].innerHTML=m[0].outerHTML;else if("blockquote"===w){for(v="",g=0;g<y.length;g++)v+=y[g].outerHTML;for(m=angular.element(d),m[0].innerHTML=v,y[0].parentNode.insertBefore(m[0],y[0]),g=y.length-1;g>=0;g--)y[g].parentNode&&y[g].parentNode.removeChild(y[g])}else if("pre"===w&&e.getStateShiftKey()){for(v="",g=0;g<y.length;g++)v+=y[g].outerHTML;for(m=angular.element(d),m[0].innerHTML=v,y[0].parentNode.insertBefore(m[0],y[0]),g=y.length-1;g>=0;g--)y[g].parentNode&&y[g].parentNode.removeChild(y[g])}else for(g=0;g<y.length;g++){var O=u(y[g],d);y[g]===m[0]&&(m=angular.element(O))}}else{var N=m.parent(),L=N.contents();for(g=0;g<L.length;g++)N.parent().hasClass("ta-bind")&&3===L[g].nodeType&&($=angular.element("<"+a+">"),$[0].innerHTML=L[g].outerHTML,L[g]=$[0]),N.parent()[0].insertBefore(L[g],N[0]);N.remove()}return e.setSelectionToElementEnd(m[0]),void m[0].focus()}if("createlink"===f.toLowerCase()){if("a"===_)return void(e.getSelectionElement().href=d);var I='<a href="'+d+'" target="'+(p.a.target?p.a.target:"")+'">';if(e.getSelection().collapsed)e.insertHtml(I+d+"</a>",c);else if(rangy.getSelection().getRangeAt(0).canSurroundContents()){var z=angular.element(I+"</a>")[0];rangy.getSelection().getRangeAt(0).surroundContents(z)}return}if("inserthtml"===f.toLowerCase())return void e.insertHtml(d,c)}try{n[0].execCommand(f,h,d)}catch(e){}}}}}]).service("taSelection",["$document","taDOM","$log",function(e,t,n){var r,i=e[0],o=function(e,t){return e.tagName&&e.tagName.match(/^br$/i)&&0===t&&!e.previousSibling?{element:e.parentNode,offset:0}:{element:e,offset:t}},a={getSelection:function(){var e;try{e=rangy.getSelection().getRangeAt(0)}catch(e){return}var t=e.commonAncestorContainer,n={start:o(e.startContainer,e.startOffset),end:o(e.endContainer,e.endOffset),collapsed:e.collapsed};return 3===t.nodeType&&("div"===t.parentNode.nodeName.toLowerCase()&&/^taTextElement/.test(t.parentNode.id)||(t=t.parentNode)),"div"===t.nodeName.toLowerCase()&&/^taTextElement/.test(t.id)?(n.start.element=t.childNodes[n.start.offset],n.end.element=t.childNodes[n.end.offset],
n.container=t):t.parentNode===n.start.element||t.parentNode===n.end.element?n.container=t.parentNode:n.container=t,n},updateLeftArrowKey:function(e){var t=rangy.getSelection().getRangeAt(0);if(t&&t.collapsed){var n=a.getFlattenedDom(t);if(!n.findIndex)return;var r,i=t.startContainer,o=n.findIndex(function(e,t){return e.node===i||-1!==e.parents.indexOf(i)});if(n.forEach(function(e,t){e.parents.forEach(function(e,t){})}),o+1<n.length&&(r=n[o+1].node),r&&r.textContent&&/^\ufeff([^\ufeff]*)$/.exec(r.textContent))return;var s;if(o>0&&(s=n[o-1].node),0===t.startOffset&&s&&/^\ufeff([^\ufeff]*)$/.exec(s.textContent))return void a.setSelectionToElementEnd(s)}},updateRightArrowKey:function(e){},getFlattenedDom:function(e){function t(e){if(e.node.childNodes.length){Array.prototype.slice.call(e.node.childNodes).forEach(function(n){var r=e.parents.slice();r.slice(-1)[0]!==e.node&&r.push(e.node),t({parents:r,node:n})})}else r.push({parents:e.parents,node:e.node})}var n=e.commonAncestorContainer.parentNode;if(!n)return e.commonAncestorContainer.childNodes;var r=Array.prototype.slice.call(n.childNodes),i=r.indexOf(e.startContainer);return i+1<r.length&&i>0||n.parentNode&&(n=n.parentNode),r=[],t({parents:[n],node:n}),r},getOnlySelectedElements:function(){var e=rangy.getSelection().getRangeAt(0),t=e.commonAncestorContainer;return t=3===t.nodeType?t.parentNode:t,e.getNodes([1],function(e){return e.parentNode===t})},getAllSelectedElements:function(){var e=rangy.getSelection().getRangeAt(0),t=e.commonAncestorContainer;t=3===t.nodeType?t.parentNode:t;var n=e.getNodes([1],function(e){return e.parentNode===t}),r=t.innerHTML;if((r=r.replace(/<span id=.selectionBoundary[^>]+>\ufeff?<\/span>/gi,""))===e.toHtml()&&("div"!==t.nodeName.toLowerCase()||!/^taTextElement/.test(t.id))){for(var i=[],o=n.length;o--;i.unshift(n[o]));n=i,n.push(t)}return n},getSelectionElement:function(){return a.getSelection()?a.getSelection().container:void 0},setSelection:function(e,t,n,r){var i=rangy.createRange();i.setStart(e,n),i.setEnd(t,r),rangy.getSelection().setSingleRange(i)},setSelectionBeforeElement:function(e){var t=rangy.createRange();t.selectNode(e),t.collapse(!0),rangy.getSelection().setSingleRange(t)},setSelectionAfterElement:function(e){var t=rangy.createRange();t.selectNode(e),t.collapse(!1),rangy.getSelection().setSingleRange(t)},setSelectionToElementStart:function(e){var t=rangy.createRange();t.selectNodeContents(e),t.collapse(!0),rangy.getSelection().setSingleRange(t)},setSelectionToElementEnd:function(e){var t=rangy.createRange();t.selectNodeContents(e),t.collapse(!1),e.childNodes&&e.childNodes[e.childNodes.length-1]&&"br"===e.childNodes[e.childNodes.length-1].nodeName&&(t.startOffset=t.endOffset=t.startOffset-1),rangy.getSelection().setSingleRange(t)},setStateShiftKey:function(e){r=e},getStateShiftKey:function(){return r},insertHtml:function(e,n){var r,o,s,l,u,c,f,h=angular.element("<div>"+e+"</div>"),d=rangy.getSelection().getRangeAt(0),p=i.createDocumentFragment(),g=h[0].childNodes,m=!0;if(g.length>0){for(l=[],s=0;s<g.length;s++){var v=g[s];"p"===v.nodeName.toLowerCase()&&""===v.innerHTML.trim()||(m=m&&!BLOCKELEMENTS.test(v.nodeName),l.push(v))}for(var y=0;y<l.length;y++)c=p.appendChild(l[y]);!m&&d.collapsed&&/^(|<br(|\/)>)$/i.test(d.startContainer.innerHTML)&&d.selectNode(d.startContainer)}else m=!0,c=p=i.createTextNode(e);if(m)d.deleteContents();else if(d.collapsed&&d.startContainer!==n)if(d.startContainer.innerHTML&&d.startContainer.innerHTML.match(/^<[^>]*>$/i))r=d.startContainer,1===d.startOffset?(d.setStartAfter(r),d.setEndAfter(r)):(d.setStartBefore(r),d.setEndBefore(r));else{if(3===d.startContainer.nodeType&&d.startContainer.parentNode!==n)for(r=d.startContainer.parentNode,o=r.cloneNode(),t.splitNodes(r.childNodes,r,o,d.startContainer,d.startOffset);!VALIDELEMENTS.test(r.nodeName);){angular.element(r).after(o),r=r.parentNode;var b=o;o=r.cloneNode(),t.splitNodes(r.childNodes,r,o,b)}else r=d.startContainer,o=r.cloneNode(),t.splitNodes(r.childNodes,r,o,void 0,void 0,d.startOffset);if(angular.element(r).after(o),d.setStartAfter(r),d.setEndAfter(r),/^(|<br(|\/)>)$/i.test(r.innerHTML.trim())&&(d.setStartBefore(r),d.setEndBefore(r),angular.element(r).remove()),/^(|<br(|\/)>)$/i.test(o.innerHTML.trim())&&angular.element(o).remove(),"li"===r.nodeName.toLowerCase()){for(f=i.createDocumentFragment(),u=0;u<p.childNodes.length;u++)h=angular.element("<li>"),t.transferChildNodes(p.childNodes[u],h[0]),t.transferNodeAttributes(p.childNodes[u],h[0]),f.appendChild(h[0]);p=f,c&&(c=p.childNodes[p.childNodes.length-1],c=c.childNodes[c.childNodes.length-1])}}else d.deleteContents();d.insertNode(p),c&&a.setSelectionToElementEnd(c)}};return a}]).service("taDOM",function(){var e={getByAttribute:function(t,n){var r=[],i=t.children();return i.length&&angular.forEach(i,function(t){r=r.concat(e.getByAttribute(angular.element(t),n))}),void 0!==t.attr(n)&&r.push(t),r},transferChildNodes:function(e,t){for(t.innerHTML="";e.childNodes.length>0;)t.appendChild(e.childNodes[0]);return t},splitNodes:function(t,n,r,i,o,a){if(!i&&isNaN(a))throw new Error("taDOM.splitNodes requires a splitNode or splitIndex");for(var s=document.createDocumentFragment(),l=document.createDocumentFragment(),u=0;t.length>0&&(isNaN(a)||a!==u)&&t[0]!==i;)s.appendChild(t[0]),u++;for(!isNaN(o)&&o>=0&&t[0]&&(s.appendChild(document.createTextNode(t[0].nodeValue.substring(0,o))),t[0].nodeValue=t[0].nodeValue.substring(o));t.length>0;)l.appendChild(t[0]);e.transferChildNodes(s,n),e.transferChildNodes(l,r)},transferNodeAttributes:function(e,t){for(var n=0;n<e.attributes.length;n++)t.setAttribute(e.attributes[n].name,e.attributes[n].value);return t}};return e}),angular.module("textAngular.validators",[]).directive("taMaxText",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){var i=parseInt(e.$eval(n.taMaxText));if(isNaN(i))throw"Max text must be an integer";n.$observe("taMaxText",function(e){if(i=parseInt(e),isNaN(i))throw"Max text must be an integer";r.$dirty&&r.$validate()}),r.$validators.taMaxText=function(e){var t=angular.element("<div/>");return t.html(e),t.text().length<=i}}}}).directive("taMinText",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){var i=parseInt(e.$eval(n.taMinText));if(isNaN(i))throw"Min text must be an integer";n.$observe("taMinText",function(e){if(i=parseInt(e),isNaN(i))throw"Min text must be an integer";r.$dirty&&r.$validate()}),r.$validators.taMinText=function(e){var t=angular.element("<div/>");return t.html(e),!t.text().length||t.text().length>=i}}}}),angular.module("textAngular.taBind",["textAngular.factories","textAngular.DOM"]).service("_taBlankTest",[function(){return function(e){return!e||""===stripHtmlToText(e)&&!/<img[^>]+>/.test(e)}}]).directive("taButton",[function(){return{link:function(e,t,n){t.attr("unselectable","on"),t.on("mousedown",function(e,t){return t&&angular.extend(e,t),e.preventDefault(),!1})}}}]).directive("taBind",["taSanitize","$timeout","$document","taFixChrome","taBrowserTag","taSelection","taSelectableElements","taApplyCustomRenderers","taOptions","_taBlankTest","$parse","taDOM","textAngularManager",function(e,t,n,r,i,o,a,s,l,u,c,f,h){return{priority:2,require:["ngModel","?ngModelOptions"],link:function(i,f,d,p){function g(e){var t;return O.forEach(function(n){if(n.keyCode===e.keyCode){var r=(e.metaKey?D:0)+(e.ctrlKey?M:0)+(e.shiftKey?R:0)+(e.altKey?P:0);if(n.forbiddenModifiers&r)return;n.mustHaveModifiers.every(function(e){return r&e})&&(t=n.specialKey)}}),t}var m,v,y,b=p[0],w=p[1]||{},x=void 0!==f.attr("contenteditable")&&f.attr("contenteditable"),S=x||"textarea"===f[0].tagName.toLowerCase()||"input"===f[0].tagName.toLowerCase(),$=!1,C=!1,A=!1,k=d.taUnsafeSanitizer||l.disableSanitizer,_=d.taKeepStyles||l.keepStyles,T=/^(9|19|20|27|33|34|35|36|37|38|39|40|45|112|113|114|115|116|117|118|119|120|121|122|123|144|145)$/i,E=/^(8|13|32|46|59|61|107|109|173|186|187|188|189|190|191|192|219|220|221|222)$/i,M=1,D=2,P=4,R=8,O=[{specialKey:"UndoKey",forbiddenModifiers:P+R,mustHaveModifiers:[D+M],keyCode:90},{specialKey:"RedoKey",forbiddenModifiers:P,mustHaveModifiers:[D+M,R],keyCode:90},{specialKey:"RedoKey",forbiddenModifiers:P+R,mustHaveModifiers:[D+M],keyCode:89},{specialKey:"TabKey",forbiddenModifiers:D+R+P+M,mustHaveModifiers:[],keyCode:9},{specialKey:"ShiftTabKey",forbiddenModifiers:D+P+M,mustHaveModifiers:[R],keyCode:9}];void 0===d.taDefaultWrap&&(d.taDefaultWrap="p"),""===d.taDefaultWrap?(y="",void 0===_browserDetect.ie||(_browserDetect.ie>=11||_browserDetect.ie)):(y=void 0===_browserDetect.ie||_browserDetect.ie>=11?"br"===d.taDefaultWrap.toLowerCase()?"<BR><BR>":"<"+d.taDefaultWrap+"><br></"+d.taDefaultWrap+">":_browserDetect.ie<=8?"<"+d.taDefaultWrap.toUpperCase()+"></"+d.taDefaultWrap.toUpperCase()+">":"<"+d.taDefaultWrap+"></"+d.taDefaultWrap+">",void 0===_browserDetect.ie||_browserDetect.ie>=11?"br"===d.taDefaultWrap.toLowerCase()||(d.taDefaultWrap,d.taDefaultWrap):_browserDetect.ie<=8?(d.taDefaultWrap.toUpperCase(),d.taDefaultWrap.toUpperCase()):(d.taDefaultWrap,d.taDefaultWrap)),w.$options||(w.$options={});var N=function(e){if(u(e))return e;var t=angular.element("<div>"+e+"</div>");if(0===t.children().length)e="<"+d.taDefaultWrap+">"+e+"</"+d.taDefaultWrap+">";else{var n,r=t[0].childNodes,i=!1;for(n=0;n<r.length&&!(i=r[n].nodeName.toLowerCase().match(BLOCKELEMENTS));n++);if(i)for(e="",n=0;n<r.length;n++){var o=r[n],a=o.nodeName.toLowerCase();if("#comment"===a)e+="\x3c!--"+o.nodeValue+"--\x3e";else if("#text"===a){var s=o.textContent;s.trim()?e+="<"+d.taDefaultWrap+">"+s+"</"+d.taDefaultWrap+">":e+=s}else if(a.match(BLOCKELEMENTS))e+=o.outerHTML;else{var l=o.outerHTML||o.nodeValue;""!==l.trim()?e+="<"+d.taDefaultWrap+">"+l+"</"+d.taDefaultWrap+">":e+=l}}else e="<"+d.taDefaultWrap+">"+e+"</"+d.taDefaultWrap+">"}return e};d.taPaste&&(v=c(d.taPaste)),f.addClass("ta-bind");var L;i["$undoManager"+(d.id||"")]=b.$undoManager={_stack:[],_index:0,_max:1e3,push:function(e){return void 0===e||null===e||void 0!==this.current()&&null!==this.current()&&e===this.current()?e:(this._index<this._stack.length-1&&(this._stack=this._stack.slice(0,this._index+1)),this._stack.push(e),L&&t.cancel(L),this._stack.length>this._max&&this._stack.shift(),this._index=this._stack.length-1,e)},undo:function(){return this.setToIndex(this._index-1)},redo:function(){return this.setToIndex(this._index+1)},setToIndex:function(e){if(!(e<0||e>this._stack.length-1))return this._index=e,this.current()},current:function(){return this._stack[this._index]}};var I,z=function(){if(x)return f[0].innerHTML;if(S)return f.val();throw"textAngular Error: attempting to update non-editable taBind"},B=function(e){return i.$emit("ta-element-select",this),e.preventDefault(),!1},F=i["reApplyOnSelectorHandlers"+(d.id||"")]=function(){$||angular.forEach(a,function(e){f.find(e).off("click",B).on("click",B)})},j=function(e,t,n){A=n||!1,void 0!==t&&null!==t||(t=x),void 0!==e&&null!==e||(e=z()),u(e)?(""!==b.$viewValue&&b.$setViewValue(""),t&&""!==b.$undoManager.current()&&b.$undoManager.push("")):(F(),b.$viewValue!==e&&(b.$setViewValue(e),t&&b.$undoManager.push(e))),b.$render()},H=function(e){f[0].innerHTML=e},U=i["$undoTaBind"+(d.id||"")]=function(){if(!$&&x){var e=b.$undoManager.undo();void 0!==e&&null!==e&&(H(e),j(e,!1),I&&t.cancel(I),I=t(function(){f[0].focus(),o.setSelectionToElementEnd(f[0])},1))}},W=i["$redoTaBind"+(d.id||"")]=function(){if(!$&&x){var e=b.$undoManager.redo();void 0!==e&&null!==e&&(H(e),j(e,!1),I&&t.cancel(I),I=t(function(){f[0].focus(),o.setSelectionToElementEnd(f[0])},1))}};i["updateTaBind"+(d.id||"")]=function(){$||j(void 0,void 0,!0)};var V=function(t){return b.$oldViewValue=e(r(t,_),b.$oldViewValue,k)};if(f.attr("required")&&(b.$validators.required=function(e,t){return!u(e||t)}),b.$parsers.push(V),b.$parsers.unshift(N),b.$formatters.push(V),b.$formatters.unshift(N),b.$formatters.unshift(function(e){return b.$undoManager.push(e||"")}),S)if(i.events={},x){var q=!1,Y=function(n){var r=void 0!==n&&n.match(/content=["']*OneNote.File/i);if(n&&n.trim().length){if(n.match(/class=["']*Mso(Normal|List)/i)||n.match(/content=["']*Word.Document/i)||n.match(/content=["']*OneNote.File/i)){var a=n.match(/<!--StartFragment-->([\s\S]*?)<!--EndFragment-->/i);a=a?a[1]:n,a=a.replace(/<o:p>[\s\S]*?<\/o:p>/gi,"").replace(/class=(["']|)MsoNormal(["']|)/gi,"");var s=angular.element("<div>"+a+"</div>"),l=angular.element("<div></div>"),u={element:null,lastIndent:[],lastLi:null,isUl:!1};u.lastIndent.peek=function(){var e=this.length;if(e>0)return this[e-1]};for(var c=function(e){u.isUl=e,u.element=angular.element(e?"<ul>":"<ol>"),u.lastIndent=[],u.lastIndent.peek=function(){var e=this.length;if(e>0)return this[e-1]},u.lastLevelMatch=null},h=0;h<=s[0].childNodes.length;h++)if(s[0].childNodes[h]&&"#text"!==s[0].childNodes[h].nodeName){var d=s[0].childNodes[h].tagName.toLowerCase();if("p"===d||"ul"===d||"h1"===d||"h2"===d||"h3"===d||"h4"===d||"h5"===d||"h6"===d||"table"===d){var p=angular.element(s[0].childNodes[h]),g=(p.attr("class")||"").match(/MsoList(Bullet|Number|Paragraph)(CxSp(First|Middle|Last)|)/i);if(g){if(p[0].childNodes.length<2||p[0].childNodes[1].childNodes.length<1)continue;var m="bullet"===g[1].toLowerCase()||"number"!==g[1].toLowerCase()&&!(/^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(p[0].childNodes[1].innerHTML)||/^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(p[0].childNodes[1].childNodes[0].innerHTML)),y=(p.attr("style")||"").match(/margin-left:([\-\.0-9]*)/i),w=parseFloat(y?y[1]:0),x=(p.attr("style")||"").match(/mso-list:l([0-9]+) level([0-9]+) lfo[0-9+]($|;)/i);if(x&&x[2]&&(w=parseInt(x[2])),x&&(!u.lastLevelMatch||x[1]!==u.lastLevelMatch[1])||!g[3]||"first"===g[3].toLowerCase()||null===u.lastIndent.peek()||u.isUl!==m&&u.lastIndent.peek()===w)c(m),l.append(u.element);else if(null!=u.lastIndent.peek()&&u.lastIndent.peek()<w)u.element=angular.element(m?"<ul>":"<ol>"),u.lastLi.append(u.element);else if(null!=u.lastIndent.peek()&&u.lastIndent.peek()>w){for(;null!=u.lastIndent.peek()&&u.lastIndent.peek()>w;)if("li"!==u.element.parent()[0].tagName.toLowerCase()){if(!/[uo]l/i.test(u.element.parent()[0].tagName.toLowerCase()))break;u.element=u.element.parent(),u.lastIndent.pop()}else u.element=u.element.parent();u.isUl="ul"===u.element[0].tagName.toLowerCase(),m!==u.isUl&&(c(m),l.append(u.element))}u.lastLevelMatch=x,w!==u.lastIndent.peek()&&u.lastIndent.push(w),u.lastLi=angular.element("<li>"),u.element.append(u.lastLi),u.lastLi.html(p.html().replace(/<!(--|)\[if !supportLists\](--|)>[\s\S]*?<!(--|)\[endif\](--|)>/gi,"")),p.remove()}else c(!1),l.append(p)}}var S=function(e){e=angular.element(e);for(var t=e[0].childNodes.length-1;t>=0;t--)e.after(e[0].childNodes[t]);e.remove()};angular.forEach(l.find("span"),function(e){e.removeAttribute("lang"),e.attributes.length<=0&&S(e)}),angular.forEach(l.find("font"),S),n=l.html(),r&&(n=l.html()||s.html()),n=n.replace(/\n/g," ")}else{if(n=n.replace(/<(|\/)meta[^>]*?>/gi,""),n.match(/<[^>]*?(ta-bind)[^>]*?>/)){if(n.match(/<[^>]*?(text-angular)[^>]*?>/)){var $=angular.element("<div>"+n+"</div>");$.find("textarea").remove();for(var C=0;C<binds.length;C++){for(var A=binds[C][0].parentNode.parentNode,_=0;_<binds[C][0].childNodes.length;_++)A.parentNode.insertBefore(binds[C][0].childNodes[_],A);A.parentNode.removeChild(A)}n=$.html().replace('<br class="Apple-interchange-newline">',"")}}else n.match(/^<span/)&&(n.match(/<span class=(\"Apple-converted-space\"|\'Apple-converted-space\')>.<\/span>/gi)||(n=n.replace(/<(|\/)span[^>]*?>/gi,"")));n=n.replace(/<br class="Apple-interchange-newline"[^>]*?>/gi,"").replace(/<span class="Apple-converted-space">( |&nbsp;)<\/span>/gi,"&nbsp;")}/<li(\s.*)?>/i.test(n)&&!1===/(<ul(\s.*)?>|<ol(\s.*)?>).*<li(\s.*)?>/i.test(n)&&(n=n.replace(/<li(\s.*)?>.*<\/li(\s.*)?>/i,"<ul>$&</ul>")),n=n.replace(/^[ |\u00A0]+/gm,function(e){for(var t="",n=0;n<e.length;n++)t+="&nbsp;";return t}).replace(/\n|\r\n|\r/g,"<br />").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;"),v&&(n=v(i,{$html:n})||n),n=n.replace(/<span style=("|')([^<]*?)vertical-align\s*:\s*super;?([^>]*?)("|')>([^<]+?)<\/span>/g,"<sup style='$2$3'>$5</sup>"),n=e(n,"",k),o.insertHtml(n,f[0]),t(function(){b.$setViewValue(z()),q=!1,f.removeClass("processing-paste")},0)}else q=!1,f.removeClass("processing-paste")};f.on("paste",i.events.paste=function(e,r){if(r&&angular.extend(e,r),$||q)return e.stopPropagation(),e.preventDefault(),!1;q=!0,f.addClass("processing-paste");var i,o=(e.originalEvent||e).clipboardData;if(!o&&window.clipboardData&&window.clipboardData.getData)return i=window.clipboardData.getData("Text"),Y(i),e.stopPropagation(),e.preventDefault(),!1;if(o&&o.getData&&o.types.length>0){for(var a="",s=0;s<o.types.length;s++)a+=" "+o.types[s];return/text\/html/i.test(a)?i=o.getData("text/html"):/text\/plain/i.test(a)&&(i=o.getData("text/plain")),Y(i),e.stopPropagation(),e.preventDefault(),!1}var l=rangy.saveSelection(),u=angular.element('<div class="ta-hidden-input" contenteditable="true"></div>');n.find("body").append(u),u[0].focus(),t(function(){rangy.restoreSelection(l),Y(u[0].innerHTML),f[0].focus(),u.remove()},0)}),f.on("cut",i.events.cut=function(e){$?e.preventDefault():t(function(){b.$setViewValue(z())},0)}),f.on("keydown",i.events.keydown=function(e,t){t&&angular.extend(e,t),16===e.keyCode?o.setStateShiftKey(!0):o.setStateShiftKey(!1),e.specialKey=g(e);var n;if(l.keyMappings.forEach(function(t){e.specialKey===t.commandKeyCode&&(e.specialKey=void 0),t.testForKey(e)&&(n=t.commandKeyCode),"UndoKey"!==t.commandKeyCode&&"RedoKey"!==t.commandKeyCode||t.enablePropagation||e.preventDefault()}),void 0!==n&&(e.specialKey=n),void 0===e.specialKey||"UndoKey"===e.specialKey&&"RedoKey"===e.specialKey||(e.preventDefault(),h.sendKeyCommand(i,e)),!($||("UndoKey"===e.specialKey&&(U(),e.preventDefault()),"RedoKey"===e.specialKey&&(W(),e.preventDefault()),13!==e.keyCode||e.shiftKey||e.ctrlKey||e.metaKey||e.altKey))){var r,a=o.getSelectionElement();if(!a.nodeName.match(VALIDELEMENTS))return;var s=angular.element(y),u=["blockquote","ul","ol"];if(function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1}(u,a.parentNode.tagName.toLowerCase())){if(/^<br(|\/)>$/i.test(a.innerHTML.trim())&&!a.nextSibling){r=angular.element(a);var c=r.parent();c.after(s),r.remove(),0===c.children().length&&c.remove(),o.setSelectionToElementStart(s[0]),e.preventDefault()}/^<[^>]+><br(|\/)><\/[^>]+>$/i.test(a.innerHTML.trim())&&(r=angular.element(a),r.after(s),r.remove(),o.setSelectionToElementStart(s[0]),e.preventDefault())}}});var G;f.on("keyup",i.events.keyup=function(e,n){if(n&&angular.extend(e,n),o.setStateShiftKey(!1),9===e.keyCode){return void(o.getSelection().start.element===f[0]&&f.children().length&&o.setSelectionToElementStart(f.children()[0]))}if(37!==e.keyCode||e.shiftKey||o.updateLeftArrowKey(f),39!==e.keyCode||e.shiftKey||o.updateRightArrowKey(f),L&&t.cancel(L),!$&&!T.test(e.keyCode))if(13===e.keyCode&&(e.ctrlKey||e.metaKey||e.altKey));else{if(""!==y&&"<BR><BR>"!==y&&13===e.keyCode&&!e.ctrlKey&&!e.metaKey&&!e.altKey){for(var r=o.getSelectionElement();!r.nodeName.match(VALIDELEMENTS)&&r!==f[0];)r=r.parentNode;if(e.shiftKey){var i=r.tagName.toLowerCase();if((i===d.taDefaultWrap||"li"===i||"pre"===i||"div"===i)&&!/.+<br><br>/.test(r.innerHTML.trim())){var a=r.previousSibling;a&&(a.innerHTML=a.innerHTML+"<br><br>",angular.element(r).remove(),o.setSelectionToElementEnd(a))}}else if(r.tagName.toLowerCase()!==d.taDefaultWrap&&"li"!==r.nodeName.toLowerCase()&&(""===r.innerHTML.trim()||"<br>"===r.innerHTML.trim())){var s=angular.element(y);angular.element(r).replaceWith(s),o.setSelectionToElementStart(s[0])}}var l=z();""===y||""!==l.trim()&&"<br>"!==l.trim()?"<"!==l.substring(0,1)&&d.taDefaultWrap:(H(y),o.setSelectionToElementStart(f.children()[0]));var u=m!==e.keyCode&&E.test(e.keyCode);G&&t.cancel(G),G=t(function(){j(l,u,!0)},w.$options.debounce||400),u||(L=t(function(){b.$undoManager.push(l)},250)),m=e.keyCode}});var X;if(f.on("input",function(){z()!==b.$viewValue&&(X&&t.cancel(X),X=t(function(){var e=rangy.saveSelection(),t=z();t!==b.$viewValue&&j(t,!0),0!==b.$viewValue.length&&rangy.restoreSelection(e)},1e3))}),f.on("blur",i.events.blur=function(){C=!1,$?(A=!0,b.$render()):j(void 0,void 0,!0)}),d.placeholder&&(_browserDetect.ie>8||void 0===_browserDetect.ie)){var K;if(!d.id)throw"textAngular Error: An unique ID is required for placeholders to work";K=addCSSRule("#"+d.id+".placeholder-text:before",'content: "'+d.placeholder+'"'),i.$on("$destroy",function(){removeCSSRule(K)})}f.on("focus",i.events.focus=function(){C=!0,f.removeClass("placeholder-text"),F()}),f.on("mouseup",i.events.mouseup=function(){var e=o.getSelection();e&&e.start.element===f[0]&&f.children().length&&o.setSelectionToElementStart(f.children()[0])}),f.on("mousedown",i.events.mousedown=function(e,t){t&&angular.extend(e,t),e.stopPropagation()})}else{f.on("change blur",i.events.change=i.events.blur=function(){$||b.$setViewValue(z())}),f.on("keydown",i.events.keydown=function(e,t){if(t&&angular.extend(e,t),9===e.keyCode){var n=this.selectionStart,r=this.selectionEnd,i=f.val();if(e.shiftKey){var o=i.lastIndexOf("\n",n),a=i.lastIndexOf("\t",n);-1!==a&&a>=o&&(f.val(i.substring(0,a)+i.substring(a+1)),this.selectionStart=this.selectionEnd=n-1)}else f.val(i.substring(0,n)+"\t"+i.substring(r)),this.selectionStart=this.selectionEnd=n+1;e.preventDefault()}});var Z=function(e,t){for(var n="",r=0;r<t;r++)n+=e;return n},J=function(e,t,n){for(var r=0;r<e.length;r++)t.call(n,r,e[r])},Q=function(e,t){var n="",r=e.childNodes;return t++,n+=Z("\t",t-1)+e.outerHTML.substring(0,4),J(r,function(e,r){var i=r.nodeName.toLowerCase();return"#comment"===i?void(n+="\x3c!--"+r.nodeValue+"--\x3e"):"#text"===i?void(n+=r.textContent):void(r.outerHTML&&(n+="ul"===i||"ol"===i?"\n"+Q(r,t):"\n"+Z("\t",t)+r.outerHTML))}),n+="\n"+Z("\t",t-1)+e.outerHTML.substring(e.outerHTML.lastIndexOf("<"))};b.$formatters.unshift(function(e){var t=angular.element("<div>"+e+"</div>")[0].childNodes;return t.length>0&&(e="",J(t,function(t,n){var r=n.nodeName.toLowerCase();return"#comment"===r?void(e+="\x3c!--"+n.nodeValue+"--\x3e"):"#text"===r?void(e+=n.textContent):void(n.outerHTML&&(e.length>0&&(e+="\n"),e+="ul"===r||"ol"===r?""+Q(n,0):""+n.outerHTML))})),e})}var ee,te=function(e,n){if(n&&angular.extend(e,n),!dropFired&&!$){dropFired=!0;var r;r=e.originalEvent?e.originalEvent.dataTransfer:e.dataTransfer,i.$emit("ta-drop-event",this,e,r),t(function(){dropFired=!1,j(void 0,void 0,!0)},100)}},ne=!1;b.$render=function(){if(!ne){ne=!0;var e=b.$viewValue||"";A||(x&&C&&(f.removeClass("placeholder-text"),ee&&t.cancel(ee),ee=t(function(){C||(f[0].focus(),o.setSelectionToElementEnd(f.children()[f.children().length-1])),ee=void 0},1)),x?(H(d.placeholder?""===e?y:e:""===e?y:e),$?f.off("drop",te):(F(),f.on("drop",te))):"textarea"!==f[0].tagName.toLowerCase()&&"input"!==f[0].tagName.toLowerCase()?H(s(e)):f.val(e)),x&&d.placeholder&&(""===e?C?f.removeClass("placeholder-text"):f.addClass("placeholder-text"):f.removeClass("placeholder-text")),ne=A=!1}},d.taReadonly&&($=i.$eval(d.taReadonly),$?(f.addClass("ta-readonly"),"textarea"!==f[0].tagName.toLowerCase()&&"input"!==f[0].tagName.toLowerCase()||f.attr("disabled","disabled"),void 0!==f.attr("contenteditable")&&f.attr("contenteditable")&&f.removeAttr("contenteditable")):(f.removeClass("ta-readonly"),"textarea"===f[0].tagName.toLowerCase()||"input"===f[0].tagName.toLowerCase()?f.removeAttr("disabled"):x&&f.attr("contenteditable","true")),i.$watch(d.taReadonly,function(e,t){t!==e&&(e?(f.addClass("ta-readonly"),"textarea"!==f[0].tagName.toLowerCase()&&"input"!==f[0].tagName.toLowerCase()||f.attr("disabled","disabled"),void 0!==f.attr("contenteditable")&&f.attr("contenteditable")&&f.removeAttr("contenteditable"),angular.forEach(a,function(e){f.find(e).on("click",B)}),f.off("drop",te)):(f.removeClass("ta-readonly"),"textarea"===f[0].tagName.toLowerCase()||"input"===f[0].tagName.toLowerCase()?f.removeAttr("disabled"):x&&f.attr("contenteditable","true"),angular.forEach(a,function(e){f.find(e).off("click",B)}),f.on("drop",te)),$=e)})),x&&!$&&(angular.forEach(a,function(e){f.find(e).on("click",B)}),f.on("drop",te))}}}]);var dropFired=!1,textAngular=angular.module("textAngular",["ngSanitize","textAngularSetup","textAngular.factories","textAngular.DOM","textAngular.validators","textAngular.taBind"]);textAngular.config([function(){angular.forEach(taTools,function(e,t){delete taTools[t]})}]),textAngular.directive("textAngular",["$compile","$timeout","taOptions","taSelection","taExecCommand","textAngularManager","$document","$animate","$log","$q","$parse",function(e,t,n,r,i,o,a,s,l,u,c){return{require:"?ngModel",scope:{},restrict:"EA",priority:2,link:function(f,h,d,p){var g,m,v,y,b,w,x,S,$,C,A,k,_=d.serial?d.serial:Math.floor(1e16*Math.random());f._name=d.name?d.name:"textAngularEditor"+_;var T=function(e,n,r){t(function(){e.one(n,r)},100)};if($=i(d.taDefaultWrap),angular.extend(f,angular.copy(n),{wrapSelection:function(e,t,n){"undo"===e.toLowerCase()?f["$undoTaBindtaTextElement"+_]():"redo"===e.toLowerCase()?f["$redoTaBindtaTextElement"+_]():($(e,!1,t,f.defaultTagAttributes),n&&f["reApplyOnSelectorHandlerstaTextElement"+_](),f.displayElements.text[0].focus())},showHtml:f.$eval(d.taShowHtml)||!1}),d.taFocussedClass&&(f.classes.focussed=d.taFocussedClass),d.taTextEditorClass&&(f.classes.textEditor=d.taTextEditorClass),d.taHtmlEditorClass&&(f.classes.htmlEditor=d.taHtmlEditorClass),d.taDefaultTagAttributes)try{angular.extend(f.defaultTagAttributes,angular.fromJson(d.taDefaultTagAttributes))}catch(e){l.error(e)}d.taTextEditorSetup&&(f.setup.textEditorSetup=f.$parent.$eval(d.taTextEditorSetup)),d.taHtmlEditorSetup&&(f.setup.htmlEditorSetup=f.$parent.$eval(d.taHtmlEditorSetup)),d.taFileDrop?f.fileDropHandler=f.$parent.$eval(d.taFileDrop):f.fileDropHandler=f.defaultFileDropHandler,x=h[0].innerHTML,h[0].innerHTML="",f.displayElements={forminput:angular.element("<input type='hidden' tabindex='-1' style='display: none;'>"),html:angular.element("<textarea></textarea>"),text:angular.element("<div></div>"),scrollWindow:angular.element("<div class='ta-scroll-window'></div>"),popover:angular.element('<div class="popover fade bottom" style="max-width: none; width: 305px;"></div>'),popoverArrow:angular.element('<div class="arrow"></div>'),popoverContainer:angular.element('<div class="popover-content"></div>'),resize:{overlay:angular.element('<div class="ta-resizer-handle-overlay"></div>'),background:angular.element('<div class="ta-resizer-handle-background"></div>'),anchors:[angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-tl"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-tr"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-bl"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-br"></div>')],info:angular.element('<div class="ta-resizer-handle-info"></div>')}},f.displayElements.popover.append(f.displayElements.popoverArrow),f.displayElements.popover.append(f.displayElements.popoverContainer),f.displayElements.scrollWindow.append(f.displayElements.popover),f.displayElements.popover.on("mousedown",function(e,t){return t&&angular.extend(e,t),e.preventDefault(),!1}),f.handlePopoverEvents=function(){"block"===f.displayElements.popover.css("display")&&(k&&t.cancel(k),k=t(function(){f.reflowPopover(f.resizeElement),f.reflowResizeOverlay(f.resizeElement)},100))},angular.element(window).on("resize",f.handlePopoverEvents),angular.element(window).on("scroll",f.handlePopoverEvents);var E=function(e){var t,n={vertical:!1,horizontal:!1};try{if(null===(t=window.getComputedStyle(e)))return n}catch(e){return n}var r=t["overflow-y"],i=t["overflow-x"];return{vertical:("scroll"===r||"auto"===r)&&e.scrollHeight>e.clientHeight,horizontal:("scroll"===i||"auto"===i)&&e.scrollWidth>e.clientWidth}};f.getScrollTop=function(e,t){var n=e.scrollTop;return void 0===n&&(n=0),t&&E(e).vertical&&(e.removeEventListener("scroll",f._scrollListener,!1),e.addEventListener("scroll",f._scrollListener,!1)),0!==n?{node:e.nodeName,top:n}:e.parentNode?f.getScrollTop(e.parentNode,t):{node:"<none>",top:0}},f.showPopover=function(e){f.getScrollTop(f.displayElements.scrollWindow[0],!0),f.displayElements.popover.css("display","block"),t(function(){f.displayElements.resize.overlay.css("display","block")}),f.resizeElement=e,f.reflowPopover(e),s.addClass(f.displayElements.popover,"in"),T(a.find("body"),"click keyup",function(){f.hidePopover()})},f._scrollListener=function(e,t){f.handlePopoverEvents()},f.reflowPopover=function(e){var t=f.getScrollTop(f.displayElements.scrollWindow[0],!1);e[0].offsetTop-t.top<51?(f.displayElements.popover.css("top",e[0].offsetTop+e[0].offsetHeight+f.displayElements.scrollWindow[0].scrollTop+"px"),f.displayElements.popover.removeClass("top").addClass("bottom")):(f.displayElements.popover.css("top",e[0].offsetTop-54+f.displayElements.scrollWindow[0].scrollTop+"px"),f.displayElements.popover.removeClass("bottom").addClass("top"));var n=f.displayElements.text[0].offsetWidth-f.displayElements.popover[0].offsetWidth,r=e[0].offsetLeft+e[0].offsetWidth/2-f.displayElements.popover[0].offsetWidth/2,i=Math.max(0,Math.min(n,r)),o=Math.min(r,Math.max(0,r-n))-11;i+=window.scrollX,o-=window.scrollX,f.displayElements.popover.css("left",i+"px"),f.displayElements.popoverArrow.css("margin-left",o+"px")},f.hidePopover=function(){f.displayElements.popover.css("display","none"),f.displayElements.popoverContainer.attr("style",""),f.displayElements.popoverContainer.attr("class","popover-content"),f.displayElements.popover.removeClass("in"),f.displayElements.resize.overlay.css("display","none")},f.displayElements.resize.overlay.append(f.displayElements.resize.background),angular.forEach(f.displayElements.resize.anchors,function(e){f.displayElements.resize.overlay.append(e)}),f.displayElements.resize.overlay.append(f.displayElements.resize.info),f.displayElements.scrollWindow.append(f.displayElements.resize.overlay),f.displayElements.resize.background.on("click",function(e){f.displayElements.text[0].focus()}),f.reflowResizeOverlay=function(e){e=angular.element(e)[0],f.displayElements.resize.overlay.css({display:"block",left:e.offsetLeft-5+"px",top:e.offsetTop-5+"px",width:e.offsetWidth+10+"px",height:e.offsetHeight+10+"px"}),f.displayElements.resize.info.text(e.offsetWidth+" x "+e.offsetHeight)},f.showResizeOverlay=function(e){var t=a.find("body");C=function(n){var r={width:parseInt(e.attr("width")),height:parseInt(e.attr("height")),x:n.clientX,y:n.clientY};(void 0===r.width||isNaN(r.width))&&(r.width=e[0].offsetWidth),(void 0===r.height||isNaN(r.height))&&(r.height=e[0].offsetHeight),f.hidePopover();var i=r.height/r.width,o=function(t){function n(e){return Math.round(Math.max(0,e))}var o={x:Math.max(0,r.width+(t.clientX-r.x)),y:Math.max(0,r.height+(t.clientY-r.y))},a=void 0!==d.taResizeForceAspectRatio,s=d.taResizeMaintainAspectRatio;if(a||s&&!t.shiftKey){var l=o.y/o.x;o.x=i>l?o.x:o.y/i,o.y=i>l?o.x*i:o.y}var u=angular.element(e);u.css("height",n(o.y)+"px"),u.css("width",n(o.x)+"px"),f.reflowResizeOverlay(e)};t.on("mousemove",o),T(t,"mouseup",function(e){e.preventDefault(),e.stopPropagation(),t.off("mousemove",o),f.$apply(function(){f.hidePopover(),f.updateTaBindtaTextElement()},100)}),n.stopPropagation(),n.preventDefault()},f.displayElements.resize.anchors[3].off("mousedown"),f.displayElements.resize.anchors[3].on("mousedown",C),f.reflowResizeOverlay(e),T(t,"click",function(){f.hideResizeOverlay()})},f.hideResizeOverlay=function(){f.displayElements.resize.anchors[3].off("mousedown",C),f.displayElements.resize.overlay.css("display","none")},f.setup.htmlEditorSetup(f.displayElements.html),f.setup.textEditorSetup(f.displayElements.text),f.displayElements.html.attr({id:"taHtmlElement"+_,"ng-show":"showHtml","ta-bind":"ta-bind","ng-model":"html","ng-model-options":h.attr("ng-model-options")}),f.displayElements.text.attr({
id:"taTextElement"+_,contentEditable:"true","ta-bind":"ta-bind","ng-model":"html","ng-model-options":h.attr("ng-model-options")}),f.displayElements.scrollWindow.attr({"ng-hide":"showHtml"}),d.taDefaultWrap&&f.displayElements.text.attr("ta-default-wrap",d.taDefaultWrap),d.taUnsafeSanitizer&&(f.displayElements.text.attr("ta-unsafe-sanitizer",d.taUnsafeSanitizer),f.displayElements.html.attr("ta-unsafe-sanitizer",d.taUnsafeSanitizer)),d.taKeepStyles&&(f.displayElements.text.attr("ta-keep-styles",d.taKeepStyles),f.displayElements.html.attr("ta-keep-styles",d.taKeepStyles)),f.displayElements.scrollWindow.append(f.displayElements.text),h.append(f.displayElements.scrollWindow),h.append(f.displayElements.html),f.displayElements.forminput.attr("name",f._name),h.append(f.displayElements.forminput),d.tabindex&&(h.removeAttr("tabindex"),f.displayElements.text.attr("tabindex",d.tabindex),f.displayElements.html.attr("tabindex",d.tabindex)),d.placeholder&&(f.displayElements.text.attr("placeholder",d.placeholder),f.displayElements.html.attr("placeholder",d.placeholder)),d.taDisabled&&(f.displayElements.text.attr("ta-readonly","disabled"),f.displayElements.html.attr("ta-readonly","disabled"),f.disabled=f.$parent.$eval(d.taDisabled),f.$parent.$watch(d.taDisabled,function(e){f.disabled=e,f.disabled?h.addClass(f.classes.disabled):h.removeClass(f.classes.disabled)})),d.taPaste&&(f._pasteHandler=function(e){return c(d.taPaste)(f.$parent,{$html:e})},f.displayElements.text.attr("ta-paste","_pasteHandler($html)")),e(f.displayElements.scrollWindow)(f),e(f.displayElements.html)(f),f.updateTaBindtaTextElement=f["updateTaBindtaTextElement"+_],f.updateTaBindtaHtmlElement=f["updateTaBindtaHtmlElement"+_],h.addClass("ta-root"),f.displayElements.scrollWindow.addClass("ta-text ta-editor "+f.classes.textEditor),f.displayElements.html.addClass("ta-html ta-editor "+f.classes.htmlEditor);var M=function(e,t){t!==a[0].queryCommandState(e)&&a[0].execCommand(e,!1,null)};f._actionRunning=!1;var D=!1;if(f.startAction=function(){var e=!1,t=!1,n=!1,r=!1;return f._actionRunning=!0,e=a[0].queryCommandState("bold"),t=a[0].queryCommandState("italic"),n=a[0].queryCommandState("underline"),r=a[0].queryCommandState("strikeThrough"),D=rangy.saveSelection(),M("bold",e),M("italic",t),M("underline",n),M("strikeThrough",r),function(){D&&rangy.restoreSelection(D)}},f.endAction=function(){f._actionRunning=!1,D&&(f.showHtml?f.displayElements.html[0].focus():f.displayElements.text[0].focus(),rangy.removeMarkers(D)),D=!1,f.updateSelectedStyles(),f.showHtml||f["updateTaBindtaTextElement"+_]()},b=function(e){f.focussed=!0,h.addClass(f.classes.focussed),S.focus(),h.triggerHandler("focus"),f.updateSelectedStyles&&!f._bUpdateSelectedStyles&&t(function(){f.updateSelectedStyles()},0)},f.displayElements.html.on("focus",b),f.displayElements.text.on("focus",b),w=function(e){return f._actionRunning||a[0].activeElement===f.displayElements.html[0]||a[0].activeElement===f.displayElements.text[0]||(h.removeClass(f.classes.focussed),S.unfocus(),t(function(){f._bUpdateSelectedStyles=!1,h.triggerHandler("blur"),f.focussed=!1},0)),e.preventDefault(),!1},f.displayElements.html.on("blur",w),f.displayElements.text.on("blur",w),f.displayElements.text.on("paste",function(e){h.triggerHandler("paste",e)}),f.queryFormatBlockState=function(e){return!f.showHtml&&e.toLowerCase()===a[0].queryCommandValue("formatBlock").toLowerCase()},f.queryCommandState=function(e){return f.showHtml?"":a[0].queryCommandState(e)},f.switchView=function(){f.showHtml=!f.showHtml,s.enabled(!1,f.displayElements.html),s.enabled(!1,f.displayElements.text),f.showHtml?t(function(){return s.enabled(!0,f.displayElements.html),s.enabled(!0,f.displayElements.text),f.displayElements.html[0].focus()},100):t(function(){return s.enabled(!0,f.displayElements.html),s.enabled(!0,f.displayElements.text),f.displayElements.text[0].focus()},100)},d.ngModel){var P=!0;p.$render=function(){if(P){P=!1;var e=f.$parent.$eval(d.ngModel);void 0!==e&&null!==e||!x||""===x||p.$setViewValue(x)}f.displayElements.forminput.val(p.$viewValue),f.html=p.$viewValue||""},h.attr("required")&&(p.$validators.required=function(e,t){var n=e||t;return!(!n||""===n.trim())})}else f.displayElements.forminput.val(x),f.html=x;if(f.$watch("html",function(e,t){e!==t&&(d.ngModel&&p.$viewValue!==e&&p.$setViewValue(e),f.displayElements.forminput.val(e))}),d.taTargetToolbars)S=o.registerEditor(f._name,f,d.taTargetToolbars.split(","));else{var R=angular.element('<div text-angular-toolbar name="textAngularToolbar'+_+'">');d.taToolbar&&R.attr("ta-toolbar",d.taToolbar),d.taToolbarClass&&R.attr("ta-toolbar-class",d.taToolbarClass),d.taToolbarGroupClass&&R.attr("ta-toolbar-group-class",d.taToolbarGroupClass),d.taToolbarButtonClass&&R.attr("ta-toolbar-button-class",d.taToolbarButtonClass),d.taToolbarActiveButtonClass&&R.attr("ta-toolbar-active-button-class",d.taToolbarActiveButtonClass),d.taFocussedClass&&R.attr("ta-focussed-class",d.taFocussedClass),h.prepend(R),e(R)(f.$parent),S=o.registerEditor(f._name,f,["textAngularToolbar"+_])}f.$on("$destroy",function(){o.unregisterEditor(f._name),angular.element(window).off("blur"),angular.element(window).off("resize",f.handlePopoverEvents),angular.element(window).off("scroll",f.handlePopoverEvents)}),f.$on("ta-element-select",function(e,t){S.triggerElementSelect(e,t)&&f["reApplyOnSelectorHandlerstaTextElement"+_]()}),f.$on("ta-drop-event",function(e,n,i,o){o&&o.files&&o.files.length>0?(f.displayElements.text[0].focus(),r.setSelectionToElementEnd(i.target),angular.forEach(o.files,function(e){try{u.when(f.fileDropHandler(e,f.wrapSelection)||f.fileDropHandler!==f.defaultFileDropHandler&&u.when(f.defaultFileDropHandler(e,f.wrapSelection))).then(function(){f["updateTaBindtaTextElement"+_]()})}catch(e){l.error(e)}}),i.preventDefault(),i.stopPropagation()):t(function(){f["updateTaBindtaTextElement"+_]()},0)}),f._bUpdateSelectedStyles=!1,angular.element(window).on("blur",function(){f._bUpdateSelectedStyles=!1,f.focussed=!1}),f.updateSelectedStyles=function(){var e;A&&t.cancel(A),void 0!==(e=r.getSelectionElement())&&e.parentNode!==f.displayElements.text[0]?S.updateSelectedStyles(angular.element(e)):S.updateSelectedStyles(),f._bUpdateSelectedStyles&&(A=t(f.updateSelectedStyles,200))},g=function(){if(!f.focussed)return void(f._bUpdateSelectedStyles=!1);f._bUpdateSelectedStyles||(f._bUpdateSelectedStyles=!0,f.$apply(function(){f.updateSelectedStyles()}))},f.displayElements.html.on("keydown",g),f.displayElements.text.on("keydown",g),m=function(){f._bUpdateSelectedStyles=!1},f.displayElements.html.on("keyup",m),f.displayElements.text.on("keyup",m),v=function(e,t){if(r.getSelection){var n=r.getSelection();r.getSelectionElement()&&"a"===r.getSelectionElement().nodeName.toLowerCase()&&(3===n.start.element.nodeType&&n.start.element.textContent.length===n.end.offset&&r.setSelectionAfterElement(r.getSelectionElement()),3===n.start.element.nodeType&&0===n.start.offset&&r.setSelectionBeforeElement(r.getSelectionElement()))}t&&angular.extend(e,t),f.$apply(function(){if(S.sendKeyCommand(e))return f._bUpdateSelectedStyles||f.updateSelectedStyles(),e.preventDefault(),!1})},f.displayElements.html.on("keypress",v),f.displayElements.text.on("keypress",v),y=function(){f._bUpdateSelectedStyles=!1,t(function(){f.updateSelectedStyles()},0)},f.displayElements.html.on("mouseup",y),f.displayElements.text.on("mouseup",y)}}}]),textAngular.service("textAngularManager",["taToolExecuteAction","taTools","taRegisterTool","$interval","$rootScope","$log",function(e,t,n,r,i,o){var a,s={},l={},u=0,c=function(e){angular.forEach(l,function(t){t.editorFunctions.updateSelectedStyles(e)})},f=function(){u=Date.now(),a=r(function(){c(),a=void 0},50,1)};i.$on("destroy",function(){a&&(r.cancel(a),a=void 0)});var h=function(){Math.abs(Date.now()-u)>50&&f()};return{registerEditor:function(n,r,i){if(!n||""===n)throw"textAngular Error: An editor requires a name";if(!r)throw"textAngular Error: An editor requires a scope";if(l[n])throw'textAngular Error: An Editor with name "'+n+'" already exists';return l[n]={scope:r,toolbars:i,toolbarScopes:[],_registerToolbarScope:function(e){this.toolbars.indexOf(e.name)>=0&&this.toolbarScopes.push(e)},editorFunctions:{disable:function(){angular.forEach(l[n].toolbarScopes,function(e){e.disabled=!0})},enable:function(){angular.forEach(l[n].toolbarScopes,function(e){e.disabled=!1})},focus:function(){angular.forEach(l[n].toolbarScopes,function(e){e._parent=r,e.disabled=!1,e.focussed=!0}),r.focussed=!0},unfocus:function(){angular.forEach(l[n].toolbarScopes,function(e){e.disabled=!0,e.focussed=!1}),r.focussed=!1},updateSelectedStyles:function(e){angular.forEach(l[n].toolbarScopes,function(t){angular.forEach(t.tools,function(n){n.activeState&&(t._parent=r,n.active=n.activeState(e))})})},sendKeyCommand:function(i){var o=!1;return(i.ctrlKey||i.metaKey||i.specialKey)&&angular.forEach(t,function(t,a){if(t.commandKeyCode&&(t.commandKeyCode===i.which||t.commandKeyCode===i.specialKey))for(var s=0;s<l[n].toolbarScopes.length;s++)if(void 0!==l[n].toolbarScopes[s].tools[a]){e.call(l[n].toolbarScopes[s].tools[a],r),o=!0;break}}),o},triggerElementSelect:function(e,i){var o=function(e,t){for(var n=!0,r=0;r<t.length;r++)n=n&&e.attr(t[r]);return n},a=[],s={},u=!1;i=angular.element(i);var c=!1;if(angular.forEach(t,function(e,t){e.onElementSelect&&e.onElementSelect.element&&e.onElementSelect.element.toLowerCase()===i[0].tagName.toLowerCase()&&(!e.onElementSelect.filter||e.onElementSelect.filter(i))&&(c=c||angular.isArray(e.onElementSelect.onlyWithAttrs)&&o(i,e.onElementSelect.onlyWithAttrs),e.onElementSelect.onlyWithAttrs&&!o(i,e.onElementSelect.onlyWithAttrs)||(s[t]=e))}),c?(angular.forEach(s,function(e,t){e.onElementSelect.onlyWithAttrs&&o(i,e.onElementSelect.onlyWithAttrs)&&a.push({name:t,tool:e})}),a.sort(function(e,t){return t.tool.onElementSelect.onlyWithAttrs.length-e.tool.onElementSelect.onlyWithAttrs.length})):angular.forEach(s,function(e,t){a.push({name:t,tool:e})}),a.length>0)for(var f=0;f<a.length;f++){for(var h=a[f].tool,d=a[f].name,p=0;p<l[n].toolbarScopes.length;p++)if(void 0!==l[n].toolbarScopes[p].tools[d]){h.onElementSelect.action.call(l[n].toolbarScopes[p].tools[d],e,i,r),u=!0;break}if(u)break}return u}}},angular.forEach(i,function(e){s[e]&&l[n].toolbarScopes.push(s[e])}),h(),l[n].editorFunctions},retrieveEditor:function(e){return l[e]},unregisterEditor:function(e){delete l[e],h()},registerToolbar:function(e){if(!e)throw"textAngular Error: A toolbar requires a scope";if(!e.name||""===e.name)throw"textAngular Error: A toolbar requires a name";if(s[e.name])throw'textAngular Error: A toolbar with name "'+e.name+'" already exists';s[e.name]=e,angular.forEach(l,function(t){t._registerToolbarScope(e)}),h()},retrieveToolbar:function(e){return s[e]},retrieveToolbarsViaEditor:function(e){var t=[],n=this;return angular.forEach(this.retrieveEditor(e).toolbars,function(e){t.push(n.retrieveToolbar(e))}),t},unregisterToolbar:function(e){delete s[e],h()},updateToolsDisplay:function(e){var t=this;angular.forEach(e,function(e,n){t.updateToolDisplay(n,e)})},resetToolsDisplay:function(){var e=this;angular.forEach(t,function(t,n){e.resetToolDisplay(n)}),h()},updateToolDisplay:function(e,t){var n=this;angular.forEach(s,function(r,i){n.updateToolbarToolDisplay(i,e,t)}),h()},resetToolDisplay:function(e){var t=this;angular.forEach(s,function(n,r){t.resetToolbarToolDisplay(r,e)}),h()},updateToolbarToolDisplay:function(e,t,n){if(!s[e])throw'textAngular Error: No Toolbar with name "'+e+'" exists';s[e].updateToolDisplay(t,n)},resetToolbarToolDisplay:function(e,n){if(!s[e])throw'textAngular Error: No Toolbar with name "'+e+'" exists';s[e].updateToolDisplay(n,t[n],!0)},removeTool:function(e){delete t[e],angular.forEach(s,function(t){delete t.tools[e];for(var n=0;n<t.toolbar.length;n++){for(var r,i=0;i<t.toolbar[n].length;i++){if(t.toolbar[n][i]===e){r={group:n,index:i};break}if(void 0!==r)break}void 0!==r&&(t.toolbar[r.group].slice(r.index,1),t._$element.children().eq(r.group).children().eq(r.index).remove())}}),h()},addTool:function(e,t,r,i){n(e,t),angular.forEach(s,function(n){n.addTool(e,t,r,i)}),h()},addToolToToolbar:function(e,t,r,i,o){n(e,t),s[r].addTool(e,t,i,o),h()},refreshEditor:function(e){if(!l[e])throw'textAngular Error: No Editor with name "'+e+'" exists';l[e].scope.updateTaBindtaTextElement(),l[e].scope.$$phase||l[e].scope.$digest(),h()},sendKeyCommand:function(e,t){var n=l[e._name];if(n&&n.editorFunctions.sendKeyCommand(t))return e._bUpdateSelectedStyles||e.updateSelectedStyles(),t.preventDefault(),!1},updateStyles:c,getVersion:function(){return textAngularVersion},getToolbarScopes:function(){var e=[];return angular.forEach(l,function(t){e=e.concat(t.toolbarScopes)}),e}}}]),textAngular.directive("textAngularToolbar",["$compile","textAngularManager","taOptions","taTools","taToolExecuteAction","$window",function(e,t,n,r,i,o){return{scope:{name:"@"},restrict:"EA",link:function(a,s,l){if(!a.name||""===a.name)throw"textAngular Error: A toolbar requires a name";angular.extend(a,angular.copy(n)),l.taToolbar&&(a.toolbar=a.$parent.$eval(l.taToolbar)),l.taToolbarClass&&(a.classes.toolbar=l.taToolbarClass),l.taToolbarGroupClass&&(a.classes.toolbarGroup=l.taToolbarGroupClass),l.taToolbarButtonClass&&(a.classes.toolbarButton=l.taToolbarButtonClass),l.taToolbarActiveButtonClass&&(a.classes.toolbarButtonActive=l.taToolbarActiveButtonClass),l.taFocussedClass&&(a.classes.focussed=l.taFocussedClass),a.disabled=!0,a.focussed=!1,a._$element=s,s[0].innerHTML="",s.addClass("ta-toolbar "+a.classes.toolbar),a.$watch("focussed",function(){a.focussed?s.addClass(a.classes.focussed):s.removeClass(a.classes.focussed)});var u=function(t,n){var r;if(r=t&&t.display?angular.element(t.display):angular.element("<button type='button'>"),t&&t.class?r.addClass(t.class):r.addClass(a.classes.toolbarButton),r.attr("name",n.name),r.attr("ta-button","ta-button"),r.attr("ng-disabled","isDisabled()"),r.attr("tabindex","-1"),r.attr("ng-click","executeAction()"),r.attr("ng-class","displayActiveToolClass(active)"),t&&t.tooltiptext&&r.attr("title",t.tooltiptext),t&&!t.display&&!n._display&&(r[0].innerHTML="",t.buttontext&&(r[0].innerHTML=t.buttontext),t.iconclass)){var i=angular.element("<i>"),o=r[0].innerHTML;i.addClass(t.iconclass),r[0].innerHTML="",r.append(i),o&&""!==o&&r.append("&nbsp;"+o)}return n._lastToolDefinition=angular.copy(t),e(r)(n)};a.tools={},a._parent={disabled:!0,showHtml:!1,queryFormatBlockState:function(){return!1},queryCommandState:function(){return!1}};var c={$window:o,$editor:function(){return a._parent},isDisabled:function(){return("html"!==this.name||!a._parent.startAction)&&("function"!=typeof this.$eval("disabled")&&this.$eval("disabled")||this.$eval("disabled()")||"html"!==this.name&&this.$editor().showHtml||this.$parent.disabled||this.$editor().disabled)},displayActiveToolClass:function(e){return e?a.classes.toolbarButtonActive:""},executeAction:i};angular.forEach(a.toolbar,function(e){var t=angular.element("<div>");t.addClass(a.classes.toolbarGroup),angular.forEach(e,function(e){a.tools[e]=angular.extend(a.$new(!0),r[e],c,{name:e}),a.tools[e].$element=u(r[e],a.tools[e]),t.append(a.tools[e].$element)}),s.append(t)}),a.updateToolDisplay=function(e,t,n){var r=a.tools[e];if(r){if(r._lastToolDefinition&&!n&&(t=angular.extend({},r._lastToolDefinition,t)),null===t.buttontext&&null===t.iconclass&&null===t.display)throw'textAngular Error: Tool Definition for updating "'+e+'" does not have a valid display/iconclass/buttontext value';null===t.buttontext&&delete t.buttontext,null===t.iconclass&&delete t.iconclass,null===t.display&&delete t.display;var i=u(t,r);r.$element.replaceWith(i),r.$element=i}},a.addTool=function(e,t,n,i){a.tools[e]=angular.extend(a.$new(!0),r[e],c,{name:e}),a.tools[e].$element=u(r[e],a.tools[e]);var o;void 0===n&&(n=a.toolbar.length-1),o=angular.element(s.children()[n]),void 0===i?(o.append(a.tools[e].$element),a.toolbar[n][a.toolbar[n].length-1]=e):(o.children().eq(i).after(a.tools[e].$element),a.toolbar[n][i]=e)},t.registerToolbar(a),a.$on("$destroy",function(){t.unregisterToolbar(a.name)})}}}]),textAngular.directive("textAngularVersion",["textAngularManager",function(e){var t=e.getVersion();return{restrict:"EA",link:function(e,n,r){n.html(t)}}}]),function(e,t,n){"use strict";function r(){this.$get=["$$sanitizeUri",function(e){return function(t){void 0!==arguments[1]&&(arguments[1].version="taSanitize");var n=[];return a(t,f(n,function(t,n){return!/^unsafe/.test(e(t,n))})),n.join("")}}]}function i(e){var n=[];return f(n,t.noop).chars(e),n.join("")}function o(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}function a(e,n){function r(e,r,o,a){if(r=t.lowercase(r),E[r])for(;c.last()&&M[c.last()];)i("",c.last());T[r]&&c.last()==r&&i("",r),(a=A[r]||!!a)||c.push(r);var l={};o.replace(g,function(e,t,n,r,i){var o=n||r||i||"";l[t]=s(o)}),n.start&&n.start(r,l,a)}function i(e,r){var i,o=0;if(r=t.lowercase(r))for(o=c.length-1;o>=0&&c[o]!=r;o--);if(o>=0){for(i=c.length-1;i>=o;i--)n.end&&n.end(c[i]);c.length=o}}"string"!=typeof e&&(e=null===e||void 0===e?"":""+e);var o,a,l,u,c=[],f=e;for(c.last=function(){return c[c.length-1]};e;){if(u="",a=!0,c.last()&&P[c.last()])e=e.replace(new RegExp("([^]*)<\\s*\\/\\s*"+c.last()+"[^>]*>","i"),function(e,t){return t=t.replace(y,"$1").replace(x,"$1"),n.chars&&n.chars(s(t)),""}),i("",c.last());else{if(C.test(e)){if(l=e.match(C)){l[0];n.whitespace&&n.whitespace(l[0]),e=e.replace(l[0],""),a=!1}}else b.test(e)?(l=e.match(b))&&(n.comment&&n.comment(l[1]),e=e.replace(l[0],""),a=!1):w.test(e)?(l=e.match(w))&&(e=e.replace(l[0],""),a=!1):v.test(e)?(l=e.match(p))&&(e=e.substring(l[0].length),l[0].replace(p,i),a=!1):m.test(e)&&(l=e.match(d),l?(l[4]&&(e=e.substring(l[0].length),l[0].replace(d,r)),a=!1):(u+="<",e=e.substring(1)));a&&(o=e.indexOf("<"),u+=o<0?e:e.substring(0,o),e=o<0?"":e.substring(o),n.chars&&n.chars(s(u)))}if(e==f)throw h("badparse","The sanitizer was unable to parse the following block of html: {0}",e);f=e}i()}function s(e){if(!e)return"";var t=B.exec(e),n=t[1],r=t[3],i=t[2];return i&&(z.innerHTML=i.replace(/</g,"&lt;"),i="textContent"in z?z.textContent:z.innerText),n+i+r}function l(e){return e.replace(/&/g,"&amp;").replace(S,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace($,function(e){var t=e.charCodeAt(0);return t<=159||173==t||t>=1536&&t<=1540||1807==t||6068==t||6069==t||t>=8204&&t<=8207||t>=8232&&t<=8239||t>=8288&&t<=8303||65279==t||t>=65520&&t<=65535?"&#"+t+";":e}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function u(e){var n="",r=e.split(";");return t.forEach(r,function(e){var r=e.split(":");if(2==r.length){var i=F(t.lowercase(r[0])),e=F(t.lowercase(r[1]));(("color"===i||"background-color"===i)&&(e.match(/^rgb\([0-9%,\. ]*\)$/i)||e.match(/^rgba\([0-9%,\. ]*\)$/i)||e.match(/^hsl\([0-9%,\. ]*\)$/i)||e.match(/^hsla\([0-9%,\. ]*\)$/i)||e.match(/^#[0-9a-f]{3,6}$/i)||e.match(/^[a-z]*$/i))||"text-align"===i&&("left"===e||"right"===e||"center"===e||"justify"===e)||"text-decoration"===i&&("underline"===e||"line-through"===e)||"font-weight"===i&&"bold"===e||"font-style"===i&&"italic"===e||"float"===i&&("left"===e||"right"===e||"none"===e)||"vertical-align"===i&&("baseline"===e||"sub"===e||"super"===e||"test-top"===e||"text-bottom"===e||"middle"===e||"top"===e||"bottom"===e||e.match(/[0-9]*(px|em)/)||e.match(/[0-9]+?%/))||"font-size"===i&&("xx-small"===e||"x-small"===e||"small"===e||"medium"===e||"large"===e||"x-large"===e||"xx-large"===e||"larger"===e||"smaller"===e||e.match(/[0-9]*\.?[0-9]*(px|em|rem|mm|q|cm|in|pt|pc|%)/))||("width"===i||"height"===i)&&e.match(/[0-9\.]*(px|em|rem|%)/)||"direction"===i&&e.match(/^ltr|rtl|initial|inherit$/))&&(n+=i+": "+e+";")}}),n}function c(e,t,n,r){return!("img"!==e||!t["ta-insert-video"]||"ta-insert-video"!==n&&"allowfullscreen"!==n&&"frameborder"!==n&&("contenteditable"!==n||"false"!==r))}function f(e,n){var r=!1,i=t.bind(e,e.push);return{start:function(e,o,a){e=t.lowercase(e),!r&&P[e]&&(r=e),r||!0!==R[e]||(i("<"),i(e),t.forEach(o,function(r,a){var s=t.lowercase(a),f="img"===e&&"src"===s||"background"===s;("style"===s&&""!==(r=u(r))||c(e,o,s,r)||!0===I[s]&&(!0!==O[s]||n(r,f)))&&(i(" "),i(a),i('="'),i(l(r)),i('"'))}),i(a?"/>":">"))},comment:function(e){i(e)},whitespace:function(e){i(l(e))},end:function(e){e=t.lowercase(e),r||!0!==R[e]||(i("</"),i(e),i(">")),e==r&&(r=!1)},chars:function(e){r||i(l(e))}}}var h=t.$$minErr("$sanitize"),d=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,p=/^<\/\s*([\w:-]+)[^>]*>/,g=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,m=/^</,v=/^<\//,y=/<!--(.*?)-->/g,b=/(^<!--.*?-->)/,w=/<!DOCTYPE([^>]*?)>/i,x=/<!\[CDATA\[(.*?)]]>/g,S=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$=/([^\#-~| |!])/g,C=/^(\s+)/,A=o("area,br,col,hr,img,wbr,input"),k=o("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),_=o("rp,rt"),T=t.extend({},_,k),E=t.extend({},k,o("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),M=t.extend({},_,o("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),D=o("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use"),P=o("script,style"),R=t.extend({},A,E,M,T,D),O=o("background,cite,href,longdesc,src,usemap,xlink:href"),N=o("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,id,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),L=o("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan"),I=t.extend({},O,L,N),z=document.createElement("pre"),B=/^(\s*)([\s\S]*?)(\s*)$/,F=function(){return String.prototype.trim?function(e){return t.isString(e)?e.trim():e}:function(e){return t.isString(e)?e.replace(/^\s\s*/,"").replace(/\s\s*$/,""):e}}();t.module("ngSanitize",[]).provider("$sanitize",r),t.module("ngSanitize").filter("linky",["$sanitize",function(e){return function(n,r){function o(e){e&&c.push(i(e))}if(!n)return n;for(var a,s,l,u=n,c=[];a=u.match(/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"â€â€™]/);)s=a[0],a[2]||a[4]||(s=(a[3]?"http://":"mailto:")+s),l=a.index,o(u.substr(0,l)),function(e,n){c.push("<a "),t.isDefined(r)&&c.push('target="',r,'" '),c.push('href="',e.replace(/"/g,"&quot;"),'">'),o(n),c.push("</a>")}(s,a[0].replace(/^mailto:/,"")),u=u.substring(l+a[0].length);return o(u),e(c.join(""))}}])}(window,window.angular);var taTools={};angular.module("textAngularSetup",[]).constant("taRegisterTool",registerTextAngularTool).value("taTools",taTools).value("taOptions",{forceTextAngularSanitize:!0,keyMappings:[],toolbar:[["h1","h2","h3","h4","h5","h6","p","pre","quote"],["bold","italics","underline","strikeThrough","ul","ol","redo","undo","clear"],["justifyLeft","justifyCenter","justifyRight","justifyFull","indent","outdent"],["html","insertImage","insertLink","insertVideo","wordcount","charcount"]],classes:{focussed:"focussed",toolbar:"btn-toolbar",toolbarGroup:"btn-group",toolbarButton:"btn btn-default",toolbarButtonActive:"active",disabled:"disabled",textEditor:"form-control",htmlEditor:"form-control"},defaultTagAttributes:{a:{target:""}},setup:{textEditorSetup:function(e){},htmlEditorSetup:function(e){}},defaultFileDropHandler:function(e,t){var n=new FileReader;return"image"===e.type.substring(0,5)&&(n.onload=function(){""!==n.result&&t("insertImage",n.result,!0)},n.readAsDataURL(e),!0)}}).value("taSelectableElements",["a","img"]).value("taCustomRenderers",[{selector:"img",customAttribute:"ta-insert-video",renderLogic:function(e){var t=angular.element("<iframe></iframe>"),n=e.prop("attributes");angular.forEach(n,function(e){t.attr(e.name,e.value)}),t.attr("src",t.attr("ta-insert-video")),e.replaceWith(t)}}]).value("taTranslations",{html:{tooltip:"Toggle html / Rich Text"},heading:{tooltip:"Heading "},p:{tooltip:"Paragraph"},pre:{tooltip:"Preformatted text"},ul:{tooltip:"Unordered List"},ol:{tooltip:"Ordered List"},quote:{tooltip:"Quote/unquote selection or paragraph"},undo:{tooltip:"Undo"},redo:{tooltip:"Redo"},bold:{tooltip:"Bold"},italic:{tooltip:"Italic"},underline:{tooltip:"Underline"},strikeThrough:{tooltip:"Strikethrough"},justifyLeft:{tooltip:"Align text left"},justifyRight:{tooltip:"Align text right"},justifyFull:{tooltip:"Justify text"},justifyCenter:{tooltip:"Center"},indent:{tooltip:"Increase indent"},outdent:{tooltip:"Decrease indent"},clear:{tooltip:"Clear formatting"},insertImage:{dialogPrompt:"Please enter an image URL to insert",tooltip:"Insert image",hotkey:"the - possibly language dependent hotkey ... for some future implementation"},insertVideo:{tooltip:"Insert video",dialogPrompt:"Please enter a youtube URL to embed"},insertLink:{tooltip:"Insert / edit link",dialogPrompt:"Please enter a URL to insert"},editLink:{reLinkButton:{tooltip:"Relink"},unLinkButton:{tooltip:"Unlink"},targetToggle:{buttontext:"Open in New Window"}},wordcount:{tooltip:"Display words Count"},charcount:{tooltip:"Display characters Count"}}).factory("taToolFunctions",["$window","taTranslations",function(e,t){return{imgOnSelectAction:function(e,t,n){var r=function(){n.updateTaBindtaTextElement(),n.hidePopover()};e.preventDefault(),n.displayElements.popover.css("width","375px");var i=n.displayElements.popoverContainer;i.empty();var o=angular.element('<div class="btn-group" style="padding-right: 6px;">'),a=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">100% </button>');a.on("click",function(e){e.preventDefault(),t.css({width:"100%",height:""}),r()});var s=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">50% </button>');s.on("click",function(e){e.preventDefault(),t.css({width:"50%",height:""}),r()});var l=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">25% </button>');l.on("click",function(e){e.preventDefault(),t.css({width:"25%",height:""}),r()});var u=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">Reset</button>');u.on("click",function(e){e.preventDefault(),t.css({width:"",height:""}),r()}),o.append(a),o.append(s),o.append(l),o.append(u),i.append(o),o=angular.element('<div class="btn-group" style="padding-right: 6px;">');var c=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-left"></i></button>');c.on("click",function(e){e.preventDefault(),t.css("float","left"),t.css("cssFloat","left"),t.css("styleFloat","left"),r()});var f=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-right"></i></button>');f.on("click",function(e){e.preventDefault(),t.css("float","right"),t.css("cssFloat","right"),t.css("styleFloat","right"),r()});var h=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-justify"></i></button>');h.on("click",function(e){e.preventDefault(),t.css("float",""),t.css("cssFloat",""),t.css("styleFloat",""),r()}),o.append(c),o.append(h),o.append(f),i.append(o),o=angular.element('<div class="btn-group">');var d=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-trash-o"></i></button>');d.on("click",function(e){e.preventDefault(),t.remove(),r()}),o.append(d),i.append(o),n.showPopover(t),n.showResizeOverlay(t)},aOnSelectAction:function(n,r,i){n.preventDefault(),i.displayElements.popover.css("width","436px");var o=i.displayElements.popoverContainer;o.empty(),o.css("line-height","28px");var a=angular.element('<a href="'+r.attr("href")+'" target="_blank">'+r.attr("href")+"</a>");a.css({display:"inline-block","max-width":"200px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","vertical-align":"middle"}),o.append(a);var s=angular.element('<div class="btn-group pull-right">'),l=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on" title="'+t.editLink.reLinkButton.tooltip+'"><i class="fa fa-edit icon-edit"></i></button>');l.on("click",function(n){n.preventDefault();var o=e.prompt(t.insertLink.dialogPrompt,r.attr("href"));o&&""!==o&&"http://"!==o&&(r.attr("href",o),i.updateTaBindtaTextElement()),i.hidePopover()}),s.append(l);var u=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on" title="'+t.editLink.unLinkButton.tooltip+'"><i class="fa fa-unlink icon-unlink"></i></button>');u.on("click",function(e){e.preventDefault(),r.replaceWith(r.contents()),i.updateTaBindtaTextElement(),i.hidePopover()}),s.append(u);var c=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on">'+t.editLink.targetToggle.buttontext+"</button>");"_blank"===r.attr("target")&&c.addClass("active"),c.on("click",function(e){e.preventDefault(),r.attr("target","_blank"===r.attr("target")?"":"_blank"),c.toggleClass("active"),i.updateTaBindtaTextElement()}),s.append(c),o.append(s),i.showPopover(r)},extractYoutubeVideoId:function(e){var t=e.match(/(?:youtube(?:-nocookie)?\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/i);return t&&t[1]||null}}}]).run(["taRegisterTool","$window","taTranslations","taSelection","taToolFunctions","$sanitize","taOptions","$log",function(e,t,n,r,i,o,a,s){var l={};if(o("",l),!0===a.forceTextAngularSanitize&&"taSanitize"!==l.version)throw angular.$$minErr("textAngular")("textAngularSetup","The textAngular-sanitize provider has been replaced by another -- have you included angular-sanitize by mistake?");e("html",{iconclass:"fa fa-code",tooltiptext:n.html.tooltip,action:function(){this.$editor().switchView()},activeState:function(){return this.$editor().showHtml}});var u=function(e){return function(){return this.$editor().queryFormatBlockState(e)}},c=function(){return this.$editor().wrapSelection("formatBlock","<"+this.name.toUpperCase()+">")};angular.forEach(["h1","h2","h3","h4","h5","h6"],function(t){
e(t.toLowerCase(),{buttontext:t.toUpperCase(),tooltiptext:n.heading.tooltip+t.charAt(1),action:c,activeState:u(t.toLowerCase())})}),e("p",{buttontext:"P",tooltiptext:n.p.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<P>")},activeState:function(){return this.$editor().queryFormatBlockState("p")}}),e("pre",{buttontext:"pre",tooltiptext:n.pre.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<PRE>")},activeState:function(){return this.$editor().queryFormatBlockState("pre")}}),e("ul",{iconclass:"fa fa-list-ul",tooltiptext:n.ul.tooltip,action:function(){return this.$editor().wrapSelection("insertUnorderedList",null)},activeState:function(){return this.$editor().queryCommandState("insertUnorderedList")}}),e("ol",{iconclass:"fa fa-list-ol",tooltiptext:n.ol.tooltip,action:function(){return this.$editor().wrapSelection("insertOrderedList",null)},activeState:function(){return this.$editor().queryCommandState("insertOrderedList")}}),e("quote",{iconclass:"fa fa-quote-right",tooltiptext:n.quote.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<BLOCKQUOTE>")},activeState:function(){return this.$editor().queryFormatBlockState("blockquote")}}),e("undo",{iconclass:"fa fa-undo",tooltiptext:n.undo.tooltip,action:function(){return this.$editor().wrapSelection("undo",null)}}),e("redo",{iconclass:"fa fa-repeat",tooltiptext:n.redo.tooltip,action:function(){return this.$editor().wrapSelection("redo",null)}}),e("bold",{iconclass:"fa fa-bold",tooltiptext:n.bold.tooltip,action:function(){return this.$editor().wrapSelection("bold",null)},activeState:function(){return this.$editor().queryCommandState("bold")},commandKeyCode:98}),e("justifyLeft",{iconclass:"fa fa-align-left",tooltiptext:n.justifyLeft.tooltip,action:function(){return this.$editor().wrapSelection("justifyLeft",null)},activeState:function(e){if(e&&"#document"===e.nodeName)return!1;var t=!1;if(e)try{t="left"===e.css("text-align")||"left"===e.attr("align")||"right"!==e.css("text-align")&&"center"!==e.css("text-align")&&"justify"!==e.css("text-align")&&!this.$editor().queryCommandState("justifyRight")&&!this.$editor().queryCommandState("justifyCenter")&&!this.$editor().queryCommandState("justifyFull")}catch(e){t=!1}return t=t||this.$editor().queryCommandState("justifyLeft")}}),e("justifyRight",{iconclass:"fa fa-align-right",tooltiptext:n.justifyRight.tooltip,action:function(){return this.$editor().wrapSelection("justifyRight",null)},activeState:function(e){if(e&&"#document"===e.nodeName)return!1;var t=!1;if(e)try{t="right"===e.css("text-align")}catch(e){t=!1}return t=t||this.$editor().queryCommandState("justifyRight")}}),e("justifyFull",{iconclass:"fa fa-align-justify",tooltiptext:n.justifyFull.tooltip,action:function(){return this.$editor().wrapSelection("justifyFull",null)},activeState:function(e){var t=!1;if(e)try{t="justify"===e.css("text-align")}catch(e){t=!1}return t=t||this.$editor().queryCommandState("justifyFull")}}),e("justifyCenter",{iconclass:"fa fa-align-center",tooltiptext:n.justifyCenter.tooltip,action:function(){return this.$editor().wrapSelection("justifyCenter",null)},activeState:function(e){if(e&&"#document"===e.nodeName)return!1;var t=!1;if(e)try{t="center"===e.css("text-align")}catch(e){t=!1}return t=t||this.$editor().queryCommandState("justifyCenter")}}),e("indent",{iconclass:"fa fa-indent",tooltiptext:n.indent.tooltip,action:function(){return this.$editor().wrapSelection("indent",null)},activeState:function(){return this.$editor().queryFormatBlockState("blockquote")},commandKeyCode:"TabKey"}),e("outdent",{iconclass:"fa fa-outdent",tooltiptext:n.outdent.tooltip,action:function(){return this.$editor().wrapSelection("outdent",null)},activeState:function(){return!1},commandKeyCode:"ShiftTabKey"}),e("italics",{iconclass:"fa fa-italic",tooltiptext:n.italic.tooltip,action:function(){return this.$editor().wrapSelection("italic",null)},activeState:function(){return this.$editor().queryCommandState("italic")},commandKeyCode:105}),e("underline",{iconclass:"fa fa-underline",tooltiptext:n.underline.tooltip,action:function(){return this.$editor().wrapSelection("underline",null)},activeState:function(){return this.$editor().queryCommandState("underline")},commandKeyCode:117}),e("strikeThrough",{iconclass:"fa fa-strikethrough",tooltiptext:n.strikeThrough.tooltip,action:function(){return this.$editor().wrapSelection("strikeThrough",null)},activeState:function(){return document.queryCommandState("strikeThrough")}}),e("clear",{iconclass:"fa fa-ban",tooltiptext:n.clear.tooltip,action:function(e,t){var n;this.$editor().wrapSelection("removeFormat",null);var i=angular.element(r.getSelectionElement());n=r.getAllSelectedElements();var o=function(e,t){e=angular.element(e);var n=t;return t||(n=e),angular.forEach(e.children(),function(e){if("ul"===e.tagName.toLowerCase()||"ol"===e.tagName.toLowerCase())n=o(e,n);else{var t=angular.element("<p></p>");t.html(angular.element(e).html()),n.after(t),n=t}}),e.remove(),n};angular.forEach(n,function(e){"ul"!==e.nodeName.toLowerCase()&&"ol"!==e.nodeName.toLowerCase()||o(e)}),angular.forEach(i.find("ul"),o),angular.forEach(i.find("ol"),o);var a=this.$editor(),s=function(e){e=angular.element(e),e[0]!==a.displayElements.text[0]&&e.removeAttr("class"),angular.forEach(e.children(),s)};angular.forEach(i,s),i[0]&&"li"!==i[0].tagName.toLowerCase()&&"ol"!==i[0].tagName.toLowerCase()&&"ul"!==i[0].tagName.toLowerCase()&&"true"!==i[0].getAttribute("contenteditable")&&this.$editor().wrapSelection("formatBlock","default"),t()}});var f=function(e){return-1!==e.toLowerCase().indexOf("javascript")};e("insertImage",{iconclass:"fa fa-picture-o",tooltiptext:n.insertImage.tooltip,action:function(){var e;if((e=t.prompt(n.insertImage.dialogPrompt,"http://"))&&""!==e&&"http://"!==e&&!f(e)){r.getSelectionElement().tagName&&"a"===r.getSelectionElement().tagName.toLowerCase()&&r.setSelectionAfterElement(r.getSelectionElement());var i='<img src="'+e+'">';return this.$editor().wrapSelection("insertHTML",i,!0)}},onElementSelect:{element:"img",action:i.imgOnSelectAction}}),e("insertVideo",{iconclass:"fa fa-youtube-play",tooltiptext:n.insertVideo.tooltip,action:function(){var e;if(e=t.prompt(n.insertVideo.dialogPrompt,"https://"),!f(e)&&e&&""!==e&&"https://"!==e&&(videoId=i.extractYoutubeVideoId(e),videoId)){var o="https://www.youtube.com/embed/"+videoId,a='<img class="ta-insert-video" src="https://img.youtube.com/vi/'+videoId+'/hqdefault.jpg" ta-insert-video="'+o+'" contenteditable="false" allowfullscreen="true" frameborder="0" />';return r.getSelectionElement().tagName&&"a"===r.getSelectionElement().tagName.toLowerCase()&&r.setSelectionAfterElement(r.getSelectionElement()),this.$editor().wrapSelection("insertHTML",a,!0)}},onElementSelect:{element:"img",onlyWithAttrs:["ta-insert-video"],action:i.imgOnSelectAction}}),e("insertLink",{tooltiptext:n.insertLink.tooltip,iconclass:"fa fa-link",action:function(){var e;if((e=r.getSelectionElement().tagName&&"a"===r.getSelectionElement().tagName.toLowerCase()?t.prompt(n.insertLink.dialogPrompt,r.getSelectionElement().href):t.prompt(n.insertLink.dialogPrompt,"http://"))&&""!==e&&"http://"!==e&&!f(e))return this.$editor().wrapSelection("createLink",e,!0)},activeState:function(e){return!!e&&"A"===e[0].tagName},onElementSelect:{element:"a",action:i.aOnSelectAction}}),e("wordcount",{display:'<div id="toolbarWC" style="display:block; min-width:100px;">Words: <span ng-bind="wordcount"></span></div>',disabled:!0,wordcount:0,activeState:function(){var e=this.$editor().displayElements.text,t=e[0].innerHTML||"",n=0;return""!==t.replace(/\s*<[^>]*?>\s*/g,"")&&""!==t.trim()&&(n=t.replace(/<\/?(b|i|em|strong|span|u|strikethrough|a|img|small|sub|sup|label)( [^>*?])?>/gi,"").replace(/(<[^>]*?>\s*<[^>]*?>)/gi," ").replace(/(<[^>]*?>)/gi,"").replace(/\s+/gi," ").match(/\S+/g).length),this.wordcount=n,this.$editor().wordcount=n,!1}}),e("charcount",{display:'<div id="toolbarCC" style="display:block; min-width:120px;">Characters: <span ng-bind="charcount"></span></div>',disabled:!0,charcount:0,activeState:function(){var e=this.$editor().displayElements.text,t=e[0].innerText||e[0].textContent,n=t.replace(/(\r\n|\n|\r)/gm,"").replace(/^\s+/g," ").replace(/\s+$/g," ").length;return this.charcount=n,this.$editor().charcount=n,!1}})}]);